from prisma import Prisma
import asyncio

async def seed_genres():
    prisma = Prisma()
    await prisma.connect()

    # Основные жанры и их поджанры
    genres = {
        "Детективы": [
            "Классический детектив",
            "Полицейский детектив",
            "Криминальный детектив",
            "Шпионский детектив",
            "Исторический детектив",
            "Психологический детектив",
            "Иронический детектив",
            "Политический детектив",
            "Технотриллер"
        ],
        "Фантастика": [
            "Научная фантастика",
            "Космическая фантастика",
            "Альтернативная история",
            "Антиутопия",
            "Киберпанк",
            "Постапокалипсис",
            "Социальная фантастика",
            "Технофэнтези",
            "Утопия",
            "Фантастический боевик",
            "Фантастическая проза",
            "Фантастические рассказы"
        ],
        "Фэнтези": [
            "Героическое фэнтези",
            "Городское фэнтези",
            "Детское фэнтези",
            "Историческое фэнтези",
            "Классическое фэнтези",
            "Любовное фэнтези",
            "Мистическое фэнтези",
            "Попаданцы",
            "Романтическое фэнтези",
            "Славянское фэнтези",
            "Темное фэнтези",
            "Эпическое фэнтези",
            "Юмористическое фэнтези",
            "Фэнтези про драконов"
        ],
        "Любовные романы": [
            "Исторические любовные романы",
            "Короткие любовные романы",
            "Любовно-фантастические романы",
            "Любовно-приключенческие романы",
            "Остросюжетные любовные романы",
            "Романтическая проза",
            "Современные любовные романы"
        ],
        "Эротика и секс": [
            "Эротическая литература",
            "Секс-руководства",
            "Эротические романы",
            "Эротические рассказы",
            "Эротическое фэнтези"
        ],
        "Ужасы / мистика": [
            "Мистика",
            "Ужасы"
        ],
        "Боевики, остросюжетная литература": [
            "Боевики",
            "Криминальный боевик",
            "Политический боевик",
            "Шпионский боевик",
            "Экшн"
        ],
        "Юмористическая литература": [
            "Анекдоты",
            "Сатира",
            "Юмористическая проза",
            "Юмористические рассказы"
        ],
        "Приключения": [
            "Вестерн",
            "Исторические приключения",
            "Морские приключения",
            "Приключения в современном мире",
            "Приключения про индейцев",
            "Путешествия и география",
            "Экстремальные виды спорта"
        ],
        "Классика жанра": [
            "Зарубежная классика",
            "Классическая проза",
            "Литература 18 века",
            "Литература 19 века",
            "Литература 20 века"
        ],
        "Современная проза": [
            "Современная зарубежная литература",
            "Современная русская литература",
            "Современные любовные романы",
            "Современные детективы",
            "Современная проза"
        ],
        "Классическая литература": [
            "Античная литература",
            "Древневосточная литература",
            "Древнерусская литература",
            "Литература Средних веков",
            "Литература эпохи Возрождения",
            "Русская классика",
            "Современная классика",
            "Средневековая литература",
            "Старинная литература",
            "Эпос и фольклор"
        ],
        "Биографии и мемуары": [
            "Биографии",
            "Мемуары",
            "Публицистика"
        ],
        "Об истории серьезно": [
            "Археология",
            "Исторические исследования",
            "Исторические личности",
            "История"
        ],
        "Стихи, поэзия": [
            "Зарубежная поэзия",
            "Русская поэзия",
            "Современная поэзия"
        ],
        "Пьесы, драматургия": [
            "Зарубежная драматургия",
            "Русская драматургия",
            "Современная драматургия"
        ]
    }

    # Создаем основные жанры
    for main_genre, subgenres in genres.items():
        # Создаем основной жанр (без id)
        main_genre_obj = await prisma.genre.create(
            data={
                "name": main_genre
            }
        )
        print(f"Создан жанр: {main_genre}")

        # Создаем поджанры (без id)
        for subgenre in subgenres:
            await prisma.genre.create(
                data={
                    "name": subgenre,
                    "parentId": main_genre_obj.id
                }
            )
            print(f"Создан поджанр: {subgenre}")

    await prisma.disconnect()

if __name__ == "__main__":
    asyncio.run(seed_genres()) 