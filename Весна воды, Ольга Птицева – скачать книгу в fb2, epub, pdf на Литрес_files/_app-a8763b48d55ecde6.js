!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e1395a4a-0937-4c3e-b7c9-fbe14824c5f2",e._sentryDebugIdIdentifier="sentry-dbid-e1395a4a-0937-4c3e-b7c9-fbe14824c5f2")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{77857:function(e,t,r){var n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},i=Object.create,o=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=function(e,t,r){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},m=function(e,t){for(var r in t||(t={}))p.call(t,r)&&h(e,r,t[r]);if(c)for(var n=0,i=c(t);n<i.length;n++)f.call(t,r=i[n])&&h(e,r,t[r]);return e},g=function(e,t){return a(e,u(t))},_=function(e){return o(e,"__esModule",{value:!0})},v=function(e,t,r){if(t&&"object"==typeof t||"function"==typeof t)for(var n=function(n){p.call(e,n)||"default"===n||o(e,n,{get:function(){return t[n]},enumerable:!(r=s(t,n))||r.enumerable})},i=0,a=l(t);i<a.length;i++)n(a[i]);return e},y=function(e){return v(_(o(null!=e?i(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)};_(t),function(e,t){for(var r in t)o(e,r,{get:t[r],enumerable:!0})}(t,{ApiProvider:function(){return K},createApi:function(){return J},reactHooksModule:function(){return G},reactHooksModuleName:function(){return z}});var b=y(r(84716)),x=y(r(35175)),S=y(r(44194)),w=y(r(84716)),k=y(r(91270)),E=y(r(44194));function C(e,t,r,n){var i=(0,E.useMemo)(function(){return{queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}},[e,t,r,n]),o=(0,E.useRef)(i);return(0,E.useEffect)(function(){o.current.serialized!==i.serialized&&(o.current=i)},[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var T=Symbol(),j=y(r(44194)),A=y(r(91270));function R(e){var t=(0,j.useRef)(e);return(0,j.useEffect)(function(){(0,A.shallowEqual)(t.current,e)||(t.current=e)},[e]),(0,A.shallowEqual)(t.current,e)?t.current:e}var O,P,L=y(r(35175)),I=WeakMap?new WeakMap:void 0,N=function(e){var t=e.endpointName,r=e.queryArgs,n="",i=null==I?void 0:I.get(r);if("string"==typeof i)n=i;else{var o=JSON.stringify(r,function(e,t){return(0,L.isPlainObject)(t)?Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{}):t});(0,L.isPlainObject)(r)&&(null==I||I.set(r,o)),n=o}return t+"("+n+")"},F="undefined"!=typeof window&&window.document&&window.document.createElement?S.useLayoutEffect:S.useEffect,D=function(e){return e},M=function(e){return e.isUninitialized?g(m({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:w.QueryStatus.pending}):e};function U(e){return e.replace(e[0],e[0].toUpperCase())}function q(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,n([e],t))}(P=O||(O={})).query="query",P.mutation="mutation";var B=y(r(91270)),z=Symbol(),G=function(e){var t=void 0===e?{}:e,r=t.batch,n=void 0===r?B.batch:r,i=t.useDispatch,o=void 0===i?B.useDispatch:i,a=t.useSelector,s=void 0===a?B.useSelector:a,u=t.useStore,l=void 0===u?B.useStore:u,c=t.unstable__sideEffectsInRender,d=void 0!==c&&c;return{name:z,init:function(e,t,r){var i=e,a=function(e){var t=e.api,r=e.moduleOptions,n=r.batch,i=r.useDispatch,o=r.useSelector,a=r.useStore,s=e.serializeQueryArgs,u=e.context,l=r.unstable__sideEffectsInRender?function(e){return e()}:S.useEffect;return{buildQueryHooks:function(e){var r=function(r,n){var o=void 0===n?{}:n,a=o.refetchOnReconnect,s=o.refetchOnFocus,c=o.refetchOnMountOrArgChange,d=o.skip,p=void 0!==d&&d,f=o.pollingInterval,h=void 0===f?0:f,m=t.endpoints[e].initiate,g=i(),_=C(p?w.skipToken:r,N,u.endpointDefinitions[e],e),v=R({refetchOnReconnect:a,refetchOnFocus:s,pollingInterval:h}),y=(0,S.useRef)(!1),b=(0,S.useRef)(),x=b.current||{},k=x.queryCacheKey,E=x.requestId,T=!1;k&&E&&(T=!!g(t.internalActions.internal_probeSubscription({queryCacheKey:k,requestId:E})));var j=!T&&y.current;return l(function(){y.current=T}),l(function(){j&&(b.current=void 0)},[j]),l(function(){var e,t=b.current;if(_===w.skipToken)return null==t||t.unsubscribe(),void(b.current=void 0);var r=null==(e=b.current)?void 0:e.subscriptionOptions;if(t&&t.arg===_)v!==r&&t.updateSubscriptionOptions(v);else{null==t||t.unsubscribe();var n=g(m(_,{subscriptionOptions:v,forceRefetch:c}));b.current=n}},[g,m,c,_,v,j]),(0,S.useEffect)(function(){return function(){var e;null==(e=b.current)||e.unsubscribe(),b.current=void 0}},[]),(0,S.useMemo)(function(){return{refetch:function(){var e;if(!b.current)throw Error("Cannot refetch a query that has not been started yet.");return null==(e=b.current)?void 0:e.refetch()}}},[])},d=function(r){var o=void 0===r?{}:r,a=o.refetchOnReconnect,s=o.refetchOnFocus,u=o.pollingInterval,c=void 0===u?0:u,d=t.endpoints[e].initiate,p=i(),f=(0,S.useState)(T),h=f[0],m=f[1],g=(0,S.useRef)(),_=R({refetchOnReconnect:a,refetchOnFocus:s,pollingInterval:c});l(function(){var e,t;_!==(null==(e=g.current)?void 0:e.subscriptionOptions)&&(null==(t=g.current)||t.updateSubscriptionOptions(_))},[_]);var v=(0,S.useRef)(_);l(function(){v.current=_},[_]);var y=(0,S.useCallback)(function(e,t){var r;return void 0===t&&(t=!1),n(function(){var n;null==(n=g.current)||n.unsubscribe(),g.current=r=p(d(e,{subscriptionOptions:v.current,forceRefetch:!t})),m(e)}),r},[p,d]);return(0,S.useEffect)(function(){return function(){var e;null==(e=null==g?void 0:g.current)||e.unsubscribe()}},[]),(0,S.useEffect)(function(){h===T||g.current||y(h,!0)},[h,y]),(0,S.useMemo)(function(){return[y,h]},[y,h])},p=function(r,n){var i=void 0===n?{}:n,l=i.skip,d=i.selectFromResult,p=t.endpoints[e].select,f=C(void 0!==l&&l?w.skipToken:r,s,u.endpointDefinitions[e],e),h=(0,S.useRef)(),m=(0,S.useMemo)(function(){return(0,x.createSelector)([p(f),function(e,t){return t},function(e){return f}],c)},[p,f]),g=(0,S.useMemo)(function(){return d?(0,x.createSelector)([m],d):m},[m,d]),_=o(function(e){return g(e,h.current)},k.shallowEqual),v=m(a().getState(),h.current);return F(function(){h.current=v},[v]),_};return{useQueryState:p,useQuerySubscription:r,useLazyQuerySubscription:d,useLazyQuery:function(e){var t=d(e),r=t[0],n=t[1],i=p(n,g(m({},e),{skip:n===T})),o=(0,S.useMemo)(function(){return{lastArg:n}},[n]);return(0,S.useMemo)(function(){return[r,i,o]},[r,i,o])},useQuery:function(e,t){var n=r(e,t),i=p(e,m({selectFromResult:e===w.skipToken||(null==t?void 0:t.skip)?void 0:M},t));return(0,S.useDebugValue)({data:i.data,status:i.status,isLoading:i.isLoading,isSuccess:i.isSuccess,isError:i.isError,error:i.error}),(0,S.useMemo)(function(){return m(m({},i),n)},[i,n])}}},buildMutationHook:function(e){return function(r){var a=void 0===r?{}:r,s=a.selectFromResult,u=void 0===s?D:s,l=a.fixedCacheKey,c=t.endpoints[e],d=c.select,p=c.initiate,f=i(),h=(0,S.useState)(),_=h[0],v=h[1];(0,S.useEffect)(function(){return function(){(null==_?void 0:_.arg.fixedCacheKey)||null==_||_.reset()}},[_]);var y=(0,S.useCallback)(function(e){var t=f(p(e,{fixedCacheKey:l}));return v(t),t},[f,p,l]),b=(_||{}).requestId,w=o((0,S.useMemo)(function(){return(0,x.createSelector)([d({fixedCacheKey:l,requestId:null==_?void 0:_.requestId})],u)},[d,_,u,l]),k.shallowEqual),E=null==l?null==_?void 0:_.arg.originalArgs:void 0,C=(0,S.useCallback)(function(){n(function(){_&&v(void 0),l&&f(t.internalActions.removeMutationResult({requestId:b,fixedCacheKey:l}))})},[f,l,_,b]);(0,S.useDebugValue)({endpointName:w.endpointName,data:w.data,status:w.status,isLoading:w.isLoading,isSuccess:w.isSuccess,isError:w.isError,error:w.error});var T=(0,S.useMemo)(function(){return g(m({},w),{originalArgs:E,reset:C})},[w,E,C]);return(0,S.useMemo)(function(){return[y,T]},[y,T])}},usePrefetch:function(e,r){var n=i(),o=R(r);return(0,S.useCallback)(function(r,i){return n(t.util.prefetch(e,r,m(m({},o),i)))},[e,n,o])}};function c(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var n=t.endpointName,i=u.endpointDefinitions[n];s({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:n})===s({queryArgs:r,endpointDefinition:i,endpointName:n})&&(t=void 0)}var o=e.isSuccess?e.data:null==t?void 0:t.data;void 0===o&&(o=e.data);var a=void 0!==o,l=e.isLoading,c=!a&&l,d=e.isSuccess||l&&a;return g(m({},e),{data:o,currentData:e.data,isFetching:l,isLoading:c,isSuccess:d})}}({api:e,moduleOptions:{batch:n,useDispatch:o,useSelector:s,useStore:l,unstable__sideEffectsInRender:d},serializeQueryArgs:t.serializeQueryArgs,context:r}),u=a.buildQueryHooks,c=a.buildMutationHook;return q(i,{usePrefetch:a.usePrefetch}),q(r,{batch:n}),{injectEndpoint:function(t,r){if(r.type===O.query){var n=u(t),o=n.useQuery,a=n.useLazyQuery;q(i.endpoints[t],{useQuery:o,useLazyQuery:a,useLazyQuerySubscription:n.useLazyQuerySubscription,useQueryState:n.useQueryState,useQuerySubscription:n.useQuerySubscription}),e["use"+U(t)+"Query"]=o,e["useLazy"+U(t)+"Query"]=a}else if(r.type===O.mutation){var s=c(t);q(i.endpoints[t],{useMutation:s}),e["use"+U(t)+"Mutation"]=s}}}}}};v(t,y(r(84716)));var W=y(r(35175)),$=y(r(44194)),H=y(r(44194)),V=y(r(91270)),Z=y(r(84716));function K(e){var t=H.default.useState(function(){var t;return(0,W.configureStore)({reducer:((t={})[e.api.reducerPath]=e.api.reducer,t),middleware:function(t){return t().concat(e.api.middleware)}})})[0];return(0,$.useEffect)(function(){return!1===e.setupListeners?void 0:(0,Z.setupListeners)(t.dispatch,e.setupListeners)},[e.setupListeners,t.dispatch]),H.default.createElement(V.Provider,{store:t,context:e.context},e.children)}var J=(0,b.buildCreateApi)((0,b.coreModule)(),G())},84716:function(e,t,r){"use strict";r.r(t),r.d(t,{QueryStatus:function(){return n},buildCreateApi:function(){return eb},copyWithStructuralSharing:function(){return L},coreModule:function(){return eD},coreModuleName:function(){return eF},createApi:function(){return eM},defaultSerializeQueryArgs:function(){return ey},fakeBaseQuery:function(){return ex},fetchBaseQuery:function(){return M},retry:function(){return z},setupListeners:function(){return Z},skipSelector:function(){return ef},skipToken:function(){return ep}});var n,i,o,a=r(35175),s=r(28839),u=r(90432),l=r(72624),c=r(59494);r(73656);var d=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},p=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},f=Object.defineProperty,h=Object.defineProperties,m=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,r){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},b=function(e,t){for(var r in t||(t={}))_.call(t,r)&&y(e,r,t[r]);if(g)for(var n=0,i=g(t);n<i.length;n++){var r=i[n];v.call(t,r)&&y(e,r,t[r])}return e},x=function(e,t){return h(e,m(t))},S=function(e,t){var r={};for(var n in e)_.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&g)for(var i=0,o=g(e);i<o.length;i++){var n=o[i];0>t.indexOf(n)&&v.call(e,n)&&(r[n]=e[n])}return r},w=function(e,t,r){return new Promise(function(n,i){var o=function(e){try{s(r.next(e))}catch(e){i(e)}},a=function(e){try{s(r.throw(e))}catch(e){i(e)}},s=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(o,a)};s((r=r.apply(e,t)).next())})};function k(e){return{status:e,isUninitialized:e===n.uninitialized,isLoading:e===n.pending,isSuccess:e===n.fulfilled,isError:e===n.rejected}}function E(e){return RegExp("(^|:)//").test(e)}!function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(n||(n={}));var C=function(e){return e.replace(/\/$/,"")},T=function(e){return e.replace(/^\//,"")};function j(e,t){if(!e)return t;if(!t)return e;if(E(t))return t;var r=e.endsWith("/")||!t.startsWith("?")?"/":"";return""+(e=C(e))+r+(t=T(t))}var A=function(e){return[].concat.apply([],e)};function R(){return"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}function O(){return"undefined"==typeof document||"hidden"!==document.visibilityState}var P=a.isPlainObject;function L(e,t){if(e===t||!(P(e)&&P(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var r=Object.keys(t),n=Object.keys(e),i=r.length===n.length,o=Array.isArray(t)?[]:{},a=0,s=r;a<s.length;a++){var u=s[a];o[u]=L(e[u],t[u]),i&&(i=e[u]===o[u])}return i?e:o}var I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},N=function(e){return e.status>=200&&e.status<=299},F=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function D(e){if(!(0,a.isPlainObject)(e))return e;for(var t=b({},e),r=0,n=Object.entries(t);r<n.length;r++){var i=n[r],o=i[0];void 0===i[1]&&delete t[o]}return t}function M(e){var t=this;void 0===e&&(e={});var r=e,n=r.baseUrl,i=r.prepareHeaders,o=void 0===i?function(e){return e}:i,s=r.fetchFn,u=void 0===s?I:s,l=r.paramsSerializer,c=r.isJsonContentType,p=void 0===c?F:c,f=r.jsonContentType,h=void 0===f?"application/json":f,m=r.jsonReplacer,g=r.timeout,_=r.responseHandler,v=r.validateStatus,y=S(r,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return"undefined"==typeof fetch&&u===I&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(e,r){return w(t,null,function(){var t,i,s,c,f,w,E,C,T,A,R,O,P,L,I,F,M,U,q,B,z,G,W,$,H,V,Z,K,J,Q,X,Y,ee,et,er;return d(this,function(d){switch(d.label){case 0:return t=r.signal,i=r.getState,s=r.extra,c=r.endpoint,f=r.forced,w=r.type,T=(C="string"==typeof e?{url:e}:e).url,R=void 0===(A=C.headers)?new Headers(y.headers):A,P=void 0===(O=C.params)?void 0:O,I=void 0===(L=C.responseHandler)?null!=_?_:"json":L,M=void 0===(F=C.validateStatus)?null!=v?v:N:F,q=void 0===(U=C.timeout)?g:U,B=S(C,["url","headers","params","responseHandler","validateStatus","timeout"]),z=b(x(b({},y),{signal:t}),B),R=new Headers(D(R)),G=z,[4,o(R,{getState:i,extra:s,endpoint:c,forced:f,type:w})];case 1:G.headers=d.sent()||R,W=function(e){return"object"==typeof e&&((0,a.isPlainObject)(e)||Array.isArray(e)||"function"==typeof e.toJSON)},!z.headers.has("content-type")&&W(z.body)&&z.headers.set("content-type",h),W(z.body)&&p(z.headers)&&(z.body=JSON.stringify(z.body,m)),P&&($=~T.indexOf("?")?"&":"?",H=l?l(P):new URLSearchParams(D(P)),T+=$+H),V=new Request(T=j(n,T),z),E={request:new Request(T,z)},K=!1,J=q&&setTimeout(function(){K=!0,r.abort()},q),d.label=2;case 2:return d.trys.push([2,4,5,6]),[4,u(V)];case 3:return Z=d.sent(),[3,6];case 4:return Q=d.sent(),[2,{error:{status:K?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Q)},meta:E}];case 5:return J&&clearTimeout(J),[7];case 6:X=Z.clone(),E.response=X,ee="",d.label=7;case 7:return d.trys.push([7,9,,10]),[4,Promise.all([k(Z,I).then(function(e){return Y=e},function(e){return et=e}),X.text().then(function(e){return ee=e},function(){})])];case 8:if(d.sent(),et)throw et;return[3,10];case 9:return er=d.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:Z.status,data:ee,error:String(er)},meta:E}];case 10:return[2,M(Z,Y)?{data:Y,meta:E}:{error:{status:Z.status,data:Y},meta:E}]}})})};function k(e,t){return w(this,null,function(){var r;return d(this,function(n){switch(n.label){case 0:if("function"==typeof t)return[2,t(e)];if("content-type"===t&&(t=p(e.headers)?"json":"text"),"json"!==t)return[3,2];return[4,e.text()];case 1:return[2,(r=n.sent()).length?JSON.parse(r):null];case 2:return[2,e.text()]}})})}}var U=function(){return function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t}}();function q(e,t){return void 0===e&&(e=0),void 0===t&&(t=5),w(this,null,function(){var r;return d(this,function(n){switch(n.label){case 0:return r=~~((Math.random()+.4)*(300<<Math.min(e,t))),[4,new Promise(function(e){return setTimeout(function(t){return e(t)},r)})];case 1:return n.sent(),[2]}})})}var B={},z=Object.assign(function(e,t){return function(r,n,i){return w(void 0,null,function(){var o,a,s,u,l,c;return d(this,function(d){switch(d.label){case 0:o=[5,(t||B).maxRetries,(i||B).maxRetries].filter(function(e){return void 0!==e}).slice(-1)[0],a=function(e,t,r){return r.attempt<=o},s=b(b({maxRetries:o,backoff:q,retryCondition:a},t),i),u=0,d.label=1;case 1:d.label=2;case 2:return d.trys.push([2,4,,6]),[4,e(r,n,i)];case 3:if((l=d.sent()).error)throw new U(l);return[2,l];case 4:if(c=d.sent(),u++,c.throwImmediately){if(c instanceof U)return[2,c.value];throw c}if(c instanceof U&&!s.retryCondition(c.value.error,r,{attempt:u,baseQueryApi:n,extraOptions:i}))return[2,c.value];return[4,s.backoff(u,s.maxRetries)];case 5:return d.sent(),[3,6];case 6:return[3,1];case 7:return[2]}})})}},{fail:function(e){throw Object.assign(new U({error:e}),{throwImmediately:!0})}}),G=(0,a.createAction)("__rtkq/focused"),W=(0,a.createAction)("__rtkq/unfocused"),$=(0,a.createAction)("__rtkq/online"),H=(0,a.createAction)("__rtkq/offline"),V=!1;function Z(e,t){function r(){var t=function(){return e(G())},r=function(){return e(W())},n=function(){return e($())},i=function(){return e(H())},o=function(){"visible"===window.document.visibilityState?t():r()};return!V&&"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",t,!1),window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),V=!0),function(){window.removeEventListener("focus",t),window.removeEventListener("visibilitychange",o),window.removeEventListener("online",n),window.removeEventListener("offline",i),V=!1}}return t?t(e,{onFocus:G,onFocusLost:W,onOffline:H,onOnline:$}):r()}function K(e){return e.type===i.query}function J(e){return e.type===i.mutation}function Q(e,t,r,n,i,o){return X(e)?e(t,r,n,i).map(Y).map(o):Array.isArray(e)?e.map(Y).map(o):[]}function X(e){return"function"==typeof e}function Y(e){return"string"==typeof e?{type:e}:e}function ee(e){return null!=e}!function(e){e.query="query",e.mutation="mutation"}(i||(i={}));var et=Symbol("forceQueryFn"),er=function(e){return"function"==typeof e[et]};function en(e){var t=e.serializeQueryArgs,r=e.queryThunk,n=e.mutationThunk,i=e.api,o=e.context,a=new Map,s=new Map,u=i.internalActions,l=u.unsubscribeQueryResult,c=u.removeMutationResult,f=u.updateSubscriptionOptions;return{buildInitiateQuery:b,buildInitiateMutation:x,getRunningQueryThunk:g,getRunningMutationThunk:_,getRunningQueriesThunk:v,getRunningMutationsThunk:y,getRunningOperationPromises:m,removalWarning:h};function h(){throw Error("This method had to be removed due to a conceptual bug in RTK.\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.")}function m(){var e=function(e){return Array.from(e.values()).flatMap(function(e){return e?Object.values(e):[]})};return p(p([],e(a)),e(s)).filter(ee)}function g(e,r){return function(n){var i,s=t({queryArgs:r,endpointDefinition:o.endpointDefinitions[e],endpointName:e});return null==(i=a.get(n))?void 0:i[s]}}function _(e,t){return function(e){var r;return null==(r=s.get(e))?void 0:r[t]}}function v(){return function(e){return Object.values(a.get(e)||{}).filter(ee)}}function y(){return function(e){return Object.values(s.get(e)||{}).filter(ee)}}function b(e,n){var o=function(s,u){var c=void 0===u?{}:u,p=c.subscribe,h=void 0===p||p,m=c.forceRefetch,g=c.subscriptionOptions,_=c[et];return function(u,c){var p,v,y=t({queryArgs:s,endpointDefinition:n,endpointName:e}),b=r(((p={type:"query",subscribe:h,forceRefetch:m,subscriptionOptions:g,endpointName:e,originalArgs:s,queryCacheKey:y})[et]=_,p)),x=i.endpoints[e].select(s),S=u(b),k=x(c()),E=S.requestId,C=S.abort,T=k.requestId!==E,j=null==(v=a.get(u))?void 0:v[y],A=function(){return x(c())},R=Object.assign(_?S.then(A):T&&!j?Promise.resolve(k):Promise.all([j,S]).then(A),{arg:s,requestId:E,subscriptionOptions:g,queryCacheKey:y,abort:C,unwrap:function(){return w(this,null,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,R];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}})})},refetch:function(){return u(o(s,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){h&&u(l({queryCacheKey:y,requestId:E}))},updateSubscriptionOptions:function(t){R.subscriptionOptions=t,u(f({endpointName:e,requestId:E,queryCacheKey:y,options:t}))}});if(!j&&!T&&!_){var O=a.get(u)||{};O[y]=R,a.set(u,O),R.then(function(){delete O[y],Object.keys(O).length||a.delete(u)})}return R}};return o}function x(e){return function(t,r){var i=void 0===r?{}:r,o=i.track,a=void 0===o||o,u=i.fixedCacheKey;return function(r,i){var o=r(n({type:"mutation",endpointName:e,originalArgs:t,track:a,fixedCacheKey:u})),l=o.requestId,d=o.abort,p=o.unwrap,f=o.unwrap().then(function(e){return{data:e}}).catch(function(e){return{error:e}}),h=function(){r(c({requestId:l,fixedCacheKey:u}))},m=Object.assign(f,{arg:o.arg,requestId:l,abort:d,unwrap:p,unsubscribe:h,reset:h}),g=s.get(r)||{};return s.set(r,g),g[l]=m,m.then(function(){delete g[l],Object.keys(g).length||s.delete(r)}),u&&(g[u]=m,m.then(function(){g[u]!==m||(delete g[u],Object.keys(g).length||s.delete(r))})),m}}}}function ei(e){return e}function eo(e){var t=this,r=e.reducerPath,i=e.baseQuery,o=e.context.endpointDefinitions,u=e.serializeQueryArgs,l=e.api,c=e.assertTagType,p=function(e,t,r,n){return function(i,a){var s=o[e],d=u({queryArgs:t,endpointDefinition:s,endpointName:e});if(i(l.internalActions.queryResultPatched({queryCacheKey:d,patches:r})),n){var p=l.endpoints[e].select(t)(a()),f=Q(s.providesTags,p.data,void 0,t,{},c);i(l.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:f}))}}},f=function(e,t,r,i){return void 0===i&&(i=!0),function(o,a){var u,c,d,p=l.endpoints[e].select(t)(a()),f={patches:[],inversePatches:[],undo:function(){return o(l.util.patchQueryData(e,t,f.inversePatches,i))}};if(p.status===n.uninitialized)return f;if("data"in p){if((0,s.o$)(p.data)){var h=(0,s.aS)(p.data,r),m=h[0],g=h[1],_=h[2];(u=f.patches).push.apply(u,g),(c=f.inversePatches).push.apply(c,_),d=m}else d=r(p.data),f.patches.push({op:"replace",path:[],value:d}),f.inversePatches.push({op:"replace",path:[],value:p.data})}return o(l.util.patchQueryData(e,t,f.patches,i)),f}},h=function(e,t,r){return function(n){var i;return n(l.endpoints[e].initiate(t,((i={subscribe:!1,forceRefetch:!0})[et]=function(){return{data:r}},i)))}},m=function(e,r){return w(t,[e,r],function(e,t){var r,n,s,u,l,c,p,f,h,m,_,v=t.signal,y=t.abort,b=t.rejectWithValue,x=t.fulfillWithValue,S=t.dispatch,w=t.getState,k=t.extra;return d(this,function(t){switch(t.label){case 0:r=o[e.endpointName],t.label=1;case 1:if(t.trys.push([1,8,,13]),n=ei,s=void 0,u={signal:v,abort:y,dispatch:S,getState:w,extra:k,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?g(e,w()):void 0},!(l="query"===e.type?e[et]:void 0))return[3,2];return s=l(),[3,6];case 2:if(!r.query)return[3,4];return[4,i(r.query(e.originalArgs),u,r.extraOptions)];case 3:return s=t.sent(),r.transformResponse&&(n=r.transformResponse),[3,6];case 4:return[4,r.queryFn(e.originalArgs,u,r.extraOptions,function(e){return i(e,u,r.extraOptions)})];case 5:s=t.sent(),t.label=6;case 6:if(s.error)throw new U(s.error,s.meta);return c=x,[4,n(s.data,s.meta,e.originalArgs)];case 7:return[2,c.apply(void 0,[t.sent(),((m={fulfilledTimeStamp:Date.now(),baseQueryMeta:s.meta})[a.SHOULD_AUTOBATCH]=!0,m)])];case 8:if(!((p=t.sent())instanceof U))return[3,12];f=ei,r.query&&r.transformErrorResponse&&(f=r.transformErrorResponse),t.label=9;case 9:return t.trys.push([9,11,,12]),h=b,[4,f(p.value,p.meta,e.originalArgs)];case 10:return[2,h.apply(void 0,[t.sent(),((_={baseQueryMeta:p.meta})[a.SHOULD_AUTOBATCH]=!0,_)])];case 11:return p=t.sent(),[3,12];case 12:throw console.error(p),p;case 13:return[2]}})})};function g(e,t){var n,i,o,a,s=null==(i=null==(n=t[r])?void 0:n.queries)?void 0:i[e.queryCacheKey],u=null==(o=t[r])?void 0:o.config.refetchOnMountOrArgChange,l=null==s?void 0:s.fulfilledTimeStamp,c=null!=(a=e.forceRefetch)?a:e.subscribe&&u;return!!c&&(!0===c||(Number(new Date)-Number(l))/1e3>=c)}var _=(0,a.createAsyncThunk)(r+"/executeQuery",m,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[a.SHOULD_AUTOBATCH]=!0,e},condition:function(e,t){var n,i,a,s=(0,t.getState)(),u=null==(i=null==(n=s[r])?void 0:n.queries)?void 0:i[e.queryCacheKey],l=null==u?void 0:u.fulfilledTimeStamp,c=e.originalArgs,d=null==u?void 0:u.originalArgs,p=o[e.endpointName];return!!er(e)||(null==u?void 0:u.status)!=="pending"&&(!!(g(e,s)||K(p)&&(null==(a=null==p?void 0:p.forceRefetch)?void 0:a.call(p,{currentArg:c,previousArg:d,endpointState:u,state:s})))||!l)},dispatchConditionRejection:!0}),v=(0,a.createAsyncThunk)(r+"/executeMutation",m,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[a.SHOULD_AUTOBATCH]=!0,e}}),y=function(e){return"force"in e},b=function(e){return"ifOlderThan"in e};function x(e){return function(t){var r,n;return(null==(n=null==(r=null==t?void 0:t.meta)?void 0:r.arg)?void 0:n.endpointName)===e}}return{queryThunk:_,mutationThunk:v,prefetch:function(e,t,r){return function(n,i){var o=y(r)&&r.force,a=b(r)&&r.ifOlderThan,s=function(r){return void 0===r&&(r=!0),l.endpoints[e].initiate(t,{forceRefetch:r})},u=l.endpoints[e].select(t)(i());if(o)n(s());else if(a){var c=null==u?void 0:u.fulfilledTimeStamp;if(!c){n(s());return}(Number(new Date)-Number(new Date(c)))/1e3>=a&&n(s())}else n(s(!1))}},updateQueryData:f,upsertQueryData:h,patchQueryData:p,buildMatchThunkActions:function(e,t){return{matchPending:(0,a.isAllOf)((0,a.isPending)(e),x(t)),matchFulfilled:(0,a.isAllOf)((0,a.isFulfilled)(e),x(t)),matchRejected:(0,a.isAllOf)((0,a.isRejected)(e),x(t))}}}}function ea(e,t,r,n){return Q(r[e.meta.arg.endpointName][t],(0,a.isFulfilled)(e)?e.payload:void 0,(0,a.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function es(e,t,r){var n=e[t];n&&r(n)}function eu(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function el(e,t,r){var n=e[eu(t)];n&&r(n)}var ec={};function ed(e){var t=e.reducerPath,r=e.queryThunk,i=e.mutationThunk,o=e.context,u=o.endpointDefinitions,c=o.apiUid,d=o.extractRehydrationInfo,p=o.hasRehydrationInfo,f=e.assertTagType,h=e.config,m=(0,a.createAction)(t+"/resetApiState"),g=(0,a.createSlice)({name:t+"/queries",initialState:ec,reducers:{removeQueryResult:{reducer:function(e,t){var r=t.payload.queryCacheKey;delete e[r]},prepare:(0,a.prepareAutoBatched)()},queryResultPatched:{reducer:function(e,t){var r=t.payload,n=r.queryCacheKey,i=r.patches;es(e,n,function(e){e.data=(0,s.QE)(e.data,i.concat())})},prepare:(0,a.prepareAutoBatched)()}},extraReducers:function(e){e.addCase(r.pending,function(e,t){var r,i,o=t.meta,a=t.meta.arg,s=er(a);(a.subscribe||s)&&(null!=(i=e[r=a.queryCacheKey])||(e[r]={status:n.uninitialized,endpointName:a.endpointName})),es(e,a.queryCacheKey,function(e){e.status=n.pending,e.requestId=s&&e.requestId?e.requestId:o.requestId,void 0!==a.originalArgs&&(e.originalArgs=a.originalArgs),e.startedTimeStamp=o.startedTimeStamp})}).addCase(r.fulfilled,function(e,t){var r=t.meta,i=t.payload;es(e,r.arg.queryCacheKey,function(e){if(e.requestId===r.requestId||er(r.arg)){var t,o=u[r.arg.endpointName].merge;if(e.status=n.fulfilled,o){if(void 0!==e.data){var a=r.fulfilledTimeStamp,l=r.arg,c=r.baseQueryMeta,d=r.requestId,p=(0,s.ZP)(e.data,function(e){return o(e,i,{arg:l.originalArgs,baseQueryMeta:c,fulfilledTimeStamp:a,requestId:d})});e.data=p}else e.data=i}else e.data=null==(t=u[r.arg.endpointName].structuralSharing)||t?L((0,s.mv)(e.data)?(0,s.Js)(e.data):e.data,i):i;delete e.error,e.fulfilledTimeStamp=r.fulfilledTimeStamp}})}).addCase(r.rejected,function(e,t){var r=t.meta,i=r.condition,o=r.arg,a=r.requestId,s=t.error,u=t.payload;es(e,o.queryCacheKey,function(e){if(i);else{if(e.requestId!==a)return;e.status=n.rejected,e.error=null!=u?u:s}})}).addMatcher(p,function(e,t){for(var r=d(t).queries,i=0,o=Object.entries(r);i<o.length;i++){var a=o[i],s=a[0],u=a[1];((null==u?void 0:u.status)===n.fulfilled||(null==u?void 0:u.status)===n.rejected)&&(e[s]=u)}})}}),_=(0,a.createSlice)({name:t+"/mutations",initialState:ec,reducers:{removeMutationResult:{reducer:function(e,t){var r=eu(t.payload);r in e&&delete e[r]},prepare:(0,a.prepareAutoBatched)()}},extraReducers:function(e){e.addCase(i.pending,function(e,t){var r=t.meta,i=t.meta,o=i.requestId,a=i.arg,s=i.startedTimeStamp;a.track&&(e[eu(r)]={requestId:o,status:n.pending,endpointName:a.endpointName,startedTimeStamp:s})}).addCase(i.fulfilled,function(e,t){var r=t.payload,i=t.meta;i.arg.track&&el(e,i,function(e){e.requestId===i.requestId&&(e.status=n.fulfilled,e.data=r,e.fulfilledTimeStamp=i.fulfilledTimeStamp)})}).addCase(i.rejected,function(e,t){var r=t.payload,i=t.error,o=t.meta;o.arg.track&&el(e,o,function(e){e.requestId===o.requestId&&(e.status=n.rejected,e.error=null!=r?r:i)})}).addMatcher(p,function(e,t){for(var r=d(t).mutations,i=0,o=Object.entries(r);i<o.length;i++){var a=o[i],s=a[0],u=a[1];((null==u?void 0:u.status)===n.fulfilled||(null==u?void 0:u.status)===n.rejected)&&s!==(null==u?void 0:u.requestId)&&(e[s]=u)}})}}),v=(0,a.createSlice)({name:t+"/invalidation",initialState:ec,reducers:{updateProvidedBy:{reducer:function(e,t){for(var r,n,i,o,a=t.payload,s=a.queryCacheKey,u=a.providedTags,l=0,c=Object.values(e);l<c.length;l++)for(var d=c[l],p=0,f=Object.values(d);p<f.length;p++){var h=f[p],m=h.indexOf(s);-1!==m&&h.splice(m,1)}for(var g=0,_=u;g<_.length;g++){var v=_[g],y=v.type,b=v.id,x=null!=(o=(n=null!=(r=e[y])?r:e[y]={})[i=b||"__internal_without_id"])?o:n[i]=[];x.includes(s)||x.push(s)}},prepare:(0,a.prepareAutoBatched)()}},extraReducers:function(e){e.addCase(g.actions.removeQueryResult,function(e,t){for(var r=t.payload.queryCacheKey,n=0,i=Object.values(e);n<i.length;n++)for(var o=i[n],a=0,s=Object.values(o);a<s.length;a++){var u=s[a],l=u.indexOf(r);-1!==l&&u.splice(l,1)}}).addMatcher(p,function(e,t){for(var r,n,i,o,a=d(t).provided,s=0,u=Object.entries(a);s<u.length;s++)for(var l=u[s],c=l[0],p=l[1],f=0,h=Object.entries(p);f<h.length;f++)for(var m=h[f],g=m[0],_=m[1],v=null!=(o=(n=null!=(r=e[c])?r:e[c]={})[i=g||"__internal_without_id"])?o:n[i]=[],y=0,b=_;y<b.length;y++){var x=b[y];v.includes(x)||v.push(x)}}).addMatcher((0,a.isAnyOf)((0,a.isFulfilled)(r),(0,a.isRejectedWithValue)(r)),function(e,t){var r=ea(t,"providesTags",u,f),n=t.meta.arg.queryCacheKey;v.caseReducers.updateProvidedBy(e,v.actions.updateProvidedBy({queryCacheKey:n,providedTags:r}))})}}),y=(0,a.createSlice)({name:t+"/subscriptions",initialState:ec,reducers:{updateSubscriptionOptions:function(e,t){},unsubscribeQueryResult:function(e,t){},internal_probeSubscription:function(e,t){}}}),S=(0,a.createSlice)({name:t+"/internalSubscriptions",initialState:ec,reducers:{subscriptionsUpdated:{reducer:function(e,t){return(0,s.QE)(e,t.payload)},prepare:(0,a.prepareAutoBatched)()}}}),w=(0,a.createSlice)({name:t+"/config",initialState:b({online:R(),focused:O(),middlewareRegistered:!1},h),reducers:{middlewareRegistered:function(e,t){var r=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&c===r||"conflict"}},extraReducers:function(e){e.addCase($,function(e){e.online=!0}).addCase(H,function(e){e.online=!1}).addCase(G,function(e){e.focused=!0}).addCase(W,function(e){e.focused=!1}).addMatcher(p,function(e){return b({},e)})}}),k=(0,l.UY)({queries:g.reducer,mutations:_.reducer,provided:v.reducer,subscriptions:S.reducer,config:w.reducer});return{reducer:function(e,t){return k(m.match(t)?void 0:e,t)},actions:x(b(b(b(b(b(b({},w.actions),g.actions),y.actions),S.actions),_.actions),v.actions),{unsubscribeMutationResult:_.actions.removeMutationResult,resetApiState:m})}}var ep=Symbol.for("RTKQ/skipToken"),ef=ep,eh={status:n.uninitialized},em=(0,s.ZP)(eh,function(){}),eg=(0,s.ZP)(eh,function(){});function e_(e){var t=e.serializeQueryArgs,r=e.reducerPath,n=function(e){return em},i=function(e){return eg};return{buildQuerySelector:s,buildMutationSelector:l,selectInvalidatedBy:c};function o(e){return b(b({},e),k(e.status))}function a(e){return e[r]}function s(e,r){return function(i){var s=t({queryArgs:i,endpointDefinition:r,endpointName:e}),l=function(e){var t,r,n;return null!=(n=null==(r=null==(t=a(e))?void 0:t.queries)?void 0:r[s])?n:em},c=i===ep?n:l;return(0,u.P1)(c,o)}}function l(){return function(e){r="object"==typeof e?null!=(t=eu(e))?t:ep:e;var t,r,n=function(e){var t,n,i;return null!=(i=null==(n=null==(t=a(e))?void 0:t.mutations)?void 0:n[r])?i:eg},s=r===ep?i:n;return(0,u.P1)(s,o)}}function c(e,t){for(var n,i=e[r],o=new Set,a=0,s=t.map(Y);a<s.length;a++){var u=s[a],l=i.provided[u.type];if(l)for(var c=null!=(n=void 0!==u.id?l[u.id]:A(Object.values(l)))?n:[],d=0,p=c;d<p.length;d++){var f=p[d];o.add(f)}}return A(Array.from(o.values()).map(function(e){var t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))}}var ev=WeakMap?new WeakMap:void 0,ey=function(e){var t=e.endpointName,r=e.queryArgs,n="",i=null==ev?void 0:ev.get(r);if("string"==typeof i)n=i;else{var o=JSON.stringify(r,function(e,t){return(0,a.isPlainObject)(t)?Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{}):t});(0,a.isPlainObject)(r)&&(null==ev||ev.set(r,o)),n=o}return t+"("+n+")"};function eb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r=(0,c.PW)(function(e){var r,n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:null!=(r=t.reducerPath)?r:"api"})}),n=x(b({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:r,serializeQueryArgs:function(e){var r=ey;if("serializeQueryArgs"in e.endpointDefinition){var n=e.endpointDefinition.serializeQueryArgs;r=function(e){var t=n(e);return"string"==typeof t?t:ey(x(b({},e),{queryArgs:t}))}}else t.serializeQueryArgs&&(r=t.serializeQueryArgs);return r(e)},tagTypes:p([],t.tagTypes||[])}),o={endpointDefinitions:{},batch:function(e){e()},apiUid:(0,a.nanoid)(),extractRehydrationInfo:r,hasRehydrationInfo:(0,c.PW)(function(e){return null!=r(e)})},s={injectEndpoints:l,enhanceEndpoints:function(e){var t=e.addTagTypes,r=e.endpoints;if(t)for(var i=0,a=t;i<a.length;i++){var u=a[i];n.tagTypes.includes(u)||n.tagTypes.push(u)}if(r)for(var l=0,c=Object.entries(r);l<c.length;l++){var d=c[l],p=d[0],f=d[1];"function"==typeof f?f(o.endpointDefinitions[p]):Object.assign(o.endpointDefinitions[p]||{},f)}return s}},u=e.map(function(e){return e.init(s,n,o)});function l(e){for(var t=e.endpoints({query:function(e){return x(b({},e),{type:i.query})},mutation:function(e){return x(b({},e),{type:i.mutation})}}),r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],l=a[0],c=a[1];if(e.overrideExisting||!(l in o.endpointDefinitions)){o.endpointDefinitions[l]=c;for(var d=0,p=u;d<p.length;d++)p[d].injectEndpoint(l,c)}}return s}return s.injectEndpoints({endpoints:t.endpoints})}}function ex(){return function(){throw Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")}}function eS(e){for(var t in e)return!1;return!0}var ew=2147482.647,ek=function(e){var t=e.reducerPath,r=e.api,n=e.context,i=e.internalState,o=r.internalActions,a=o.removeQueryResult,s=o.unsubscribeQueryResult;function u(e){var t=i.currentSubscriptions[e];return!!t&&!eS(t)}var l={};function c(e,t,r,i){var o,s=n.endpointDefinitions[t],c=null!=(o=null==s?void 0:s.keepUnusedDataFor)?o:i.keepUnusedDataFor;if(c!==1/0){var d=Math.max(0,Math.min(c,ew));if(!u(e)){var p=l[e];p&&clearTimeout(p),l[e]=setTimeout(function(){u(e)||r.dispatch(a({queryCacheKey:e})),delete l[e]},1e3*d)}}}return function(e,i,o){var a;if(s.match(e)){var u=i.getState()[t],d=e.payload.queryCacheKey;c(d,null==(a=u.queries[d])?void 0:a.endpointName,i,u.config)}if(r.util.resetApiState.match(e))for(var p=0,f=Object.entries(l);p<f.length;p++){var h=f[p],m=h[0],g=h[1];g&&clearTimeout(g),delete l[m]}if(n.hasRehydrationInfo(e))for(var u=i.getState()[t],_=n.extractRehydrationInfo(e).queries,v=0,y=Object.entries(_);v<y.length;v++){var b=y[v],d=b[0],x=b[1];c(d,null==x?void 0:x.endpointName,i,u.config)}}},eE=function(e){var t=e.reducerPath,r=e.context,i=e.context.endpointDefinitions,o=e.mutationThunk,s=e.api,u=e.assertTagType,l=e.refetchQuery,c=s.internalActions.removeQueryResult,d=(0,a.isAnyOf)((0,a.isFulfilled)(o),(0,a.isRejectedWithValue)(o));function p(e,i){var o=i.getState(),a=o[t],u=s.util.selectInvalidatedBy(o,e);r.batch(function(){for(var e,t=Array.from(u.values()),r=0,o=t;r<o.length;r++){var s=o[r].queryCacheKey,d=a.queries[s],p=null!=(e=a.subscriptions[s])?e:{};d&&(0===Object.keys(p).length?i.dispatch(c({queryCacheKey:s})):d.status!==n.uninitialized&&i.dispatch(l(d,s)))}})}return function(e,t){d(e)&&p(ea(e,"invalidatesTags",i,u),t),s.util.invalidateTags.match(e)&&p(Q(e.payload,void 0,void 0,void 0,void 0,u),t)}},eC=function(e){var t=e.reducerPath,r=e.queryThunk,i=e.api,o=e.refetchQuery,a=e.internalState,s={};function u(e,r){var i=e.queryCacheKey,u=r.getState()[t].queries[i],l=a.currentSubscriptions[i];if(u&&u.status!==n.uninitialized){var c=p(l);if(Number.isFinite(c)){var d=s[i];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);var f=Date.now()+c,h=s[i]={nextPollTimestamp:f,pollingInterval:c,timeout:setTimeout(function(){h.timeout=void 0,r.dispatch(o(u,i))},c)}}}}function l(e,r){var i=e.queryCacheKey,o=r.getState()[t].queries[i],l=a.currentSubscriptions[i];if(o&&o.status!==n.uninitialized){var d=p(l);if(!Number.isFinite(d)){c(i);return}var f=s[i],h=Date.now()+d;(!f||h<f.nextPollTimestamp)&&u({queryCacheKey:i},r)}}function c(e){var t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}function d(){for(var e=0,t=Object.keys(s);e<t.length;e++)c(t[e])}function p(e){void 0===e&&(e={});var t=Number.POSITIVE_INFINITY;for(var r in e)e[r].pollingInterval&&(t=Math.min(e[r].pollingInterval,t));return t}return function(e,t){(i.internalActions.updateSubscriptionOptions.match(e)||i.internalActions.unsubscribeQueryResult.match(e))&&l(e.payload,t),(r.pending.match(e)||r.rejected.match(e)&&e.meta.condition)&&l(e.meta.arg,t),(r.fulfilled.match(e)||r.rejected.match(e)&&!e.meta.condition)&&u(e.meta.arg,t),i.util.resetApiState.match(e)&&d()}},eT=function(e){var t=e.reducerPath,r=e.context,i=e.api,o=e.refetchQuery,a=e.internalState,s=i.internalActions.removeQueryResult;function u(e,i){var u=e.getState()[t],l=u.queries,c=a.currentSubscriptions;r.batch(function(){for(var t=0,r=Object.keys(c);t<r.length;t++){var a=r[t],d=l[a],p=c[a];if(p&&d){var f=Object.values(p).some(function(e){return!0===e[i]})||Object.values(p).every(function(e){return void 0===e[i]})&&u.config[i];f&&(0===Object.keys(p).length?e.dispatch(s({queryCacheKey:a})):d.status!==n.uninitialized&&e.dispatch(o(d,a)))}}})}return function(e,t){G.match(e)&&u(t,"refetchOnFocus"),$.match(e)&&u(t,"refetchOnReconnect")}},ej=Error("Promise never resolved before cacheEntryRemoved."),eA=function(e){var t=e.api,r=e.reducerPath,n=e.context,o=e.queryThunk,s=e.mutationThunk;e.internalState;var u=(0,a.isAsyncThunkAction)(o),l=(0,a.isAsyncThunkAction)(s),c=(0,a.isFulfilled)(o,s),d={};function p(e){return u(e)?e.meta.arg.queryCacheKey:l(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?eu(e.payload):""}function f(e,r,o,a,s){var u=n.endpointDefinitions[e],l=null==u?void 0:u.onCacheEntryAdded;if(l){var c={},p=new Promise(function(e){c.cacheEntryRemoved=e}),f=Promise.race([new Promise(function(e){c.valueResolved=e}),p.then(function(){throw ej})]);f.catch(function(){}),d[o]=c;var h=t.endpoints[e].select(u.type===i.query?r:o),m=a.dispatch(function(e,t,r){return r}),g=x(b({},a),{getCacheEntry:function(){return h(a.getState())},requestId:s,extra:m,updateCachedData:u.type===i.query?function(n){return a.dispatch(t.util.updateQueryData(e,r,n))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:p}),_=l(r,g);Promise.resolve(_).catch(function(e){if(e!==ej)throw e})}}return function(e,n,i){var a=p(e);if(o.pending.match(e)){var u=i[r].queries[a],l=n.getState()[r].queries[a];!u&&l&&f(e.meta.arg.endpointName,e.meta.arg.originalArgs,a,n,e.meta.requestId)}else if(s.pending.match(e)){var l=n.getState()[r].mutations[a];l&&f(e.meta.arg.endpointName,e.meta.arg.originalArgs,a,n,e.meta.requestId)}else if(c(e)){var h=d[a];(null==h?void 0:h.valueResolved)&&(h.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete h.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){var h=d[a];h&&(delete d[a],h.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(var m=0,g=Object.entries(d);m<g.length;m++){var _=g[m],v=_[0],h=_[1];delete d[v],h.cacheEntryRemoved()}}},eR=function(e){var t=e.api,r=e.context,n=e.queryThunk,o=e.mutationThunk,s=(0,a.isPending)(n,o),u=(0,a.isRejected)(n,o),l=(0,a.isFulfilled)(n,o),c={};return function(e,n){var o,a,d;if(s(e)){var p=e.meta,f=p.requestId,h=p.arg,m=h.endpointName,g=h.originalArgs,_=r.endpointDefinitions[m],v=null==_?void 0:_.onQueryStarted;if(v){var y={},S=new Promise(function(e,t){y.resolve=e,y.reject=t});S.catch(function(){}),c[f]=y;var w=t.endpoints[m].select(_.type===i.query?g:f),k=n.dispatch(function(e,t,r){return r}),E=x(b({},n),{getCacheEntry:function(){return w(n.getState())},requestId:f,extra:k,updateCachedData:_.type===i.query?function(e){return n.dispatch(t.util.updateQueryData(m,g,e))}:void 0,queryFulfilled:S});v(g,E)}}else if(l(e)){var C=e.meta,f=C.requestId,T=C.baseQueryMeta;null==(o=c[f])||o.resolve({data:e.payload,meta:T}),delete c[f]}else if(u(e)){var j=e.meta,f=j.requestId,A=j.rejectedWithValue,T=j.baseQueryMeta;null==(d=c[f])||d.reject({error:null!=(a=e.payload)?a:e.error,isUnhandledError:!A,meta:T}),delete c[f]}}},eO=function(e){var t=e.api,r=e.context.apiUid;return e.reducerPath,function(e,n){t.util.resetApiState.match(e)&&n.dispatch(t.internalActions.middlewareRegistered(r))}},eP="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==r.g?r.g:globalThis):function(e){return(o||(o=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},eL=function(e){var t=e.api,r=e.queryThunk,n=e.internalState,i=t.reducerPath+"/subscriptions",o=null,a=!1,u=t.internalActions,l=u.updateSubscriptionOptions,c=u.unsubscribeQueryResult,d=function(e,n){var i,o,a,s,u,d,p,f,h;if(l.match(n)){var m=n.payload,g=m.queryCacheKey,_=m.requestId,v=m.options;return(null==(i=null==e?void 0:e[g])?void 0:i[_])&&(e[g][_]=v),!0}if(c.match(n)){var y=n.payload,g=y.queryCacheKey,_=y.requestId;return e[g]&&delete e[g][_],!0}if(t.internalActions.removeQueryResult.match(n))return delete e[n.payload.queryCacheKey],!0;if(r.pending.match(n)){var b=n.meta,x=b.arg,_=b.requestId;if(x.subscribe){var S=null!=(a=e[o=x.queryCacheKey])?a:e[o]={};return S[_]=null!=(u=null!=(s=x.subscriptionOptions)?s:S[_])?u:{},!0}}if(r.rejected.match(n)){var w=n.meta,k=w.condition,x=w.arg,_=w.requestId;if(k&&x.subscribe){var S=null!=(p=e[d=x.queryCacheKey])?p:e[d]={};return S[_]=null!=(h=null!=(f=x.subscriptionOptions)?f:S[_])?h:{},!0}}return!1};return function(e,u){if(o||(o=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(e))return o=n.currentSubscriptions={},[!0,!1];if(t.internalActions.internal_probeSubscription.match(e)){var l,c,p=e.payload,f=p.queryCacheKey,h=p.requestId;return[!1,!!(null==(l=n.currentSubscriptions[f])?void 0:l[h])]}if(d(n.currentSubscriptions,e)){a||(eP(function(){var e=JSON.parse(JSON.stringify(n.currentSubscriptions)),r=(0,s.aS)(o,function(){return e})[1];u.next(t.internalActions.subscriptionsUpdated(r)),o=e,a=!1}),a=!0);var m=!!(null==(c=e.type)?void 0:c.startsWith(i)),g=r.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;return[!m&&!g,!1]}return[!0,!1]}};function eI(e){var t=e.reducerPath,r=e.queryThunk,n=e.api,i=e.context,o=i.apiUid,s={invalidateTags:(0,a.createAction)(t+"/invalidateTags")},u=function(e){return!!e&&"string"==typeof e.type&&e.type.startsWith(t+"/")},l=[eO,ek,eE,eC,eA,eR];return{middleware:function(r){var a=!1,s={currentSubscriptions:{}},d=x(b({},e),{internalState:s,refetchQuery:c}),p=l.map(function(e){return e(d)}),f=eL(d),h=eT(d);return function(e){return function(s){a||(a=!0,r.dispatch(n.internalActions.middlewareRegistered(o)));var l,c=x(b({},r),{next:e}),d=r.getState(),m=f(s,c,d),g=m[0],_=m[1];if(l=g?e(s):_,r.getState()[t]&&(h(s,c,d),u(s)||i.hasRehydrationInfo(s)))for(var v=0,y=p;v<y.length;v++)(0,y[v])(s,c,d);return l}}},actions:s};function c(e,t,n){return void 0===n&&(n={}),r(b({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},n))}}function eN(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,p([e],t))}var eF=Symbol(),eD=function(){return{name:eF,init:function(e,t,r){var n=t.baseQuery,i=(t.tagTypes,t.reducerPath),o=t.serializeQueryArgs,a=t.keepUnusedDataFor,u=t.refetchOnMountOrArgChange,l=t.refetchOnFocus,c=t.refetchOnReconnect;(0,s.vI)();var d=function(e){return e};Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:$,onOffline:H,onFocus:G,onFocusLost:W},util:{}});var p=eo({baseQuery:n,reducerPath:i,context:r,api:e,serializeQueryArgs:o,assertTagType:d}),f=p.queryThunk,h=p.mutationThunk,m=p.patchQueryData,g=p.updateQueryData,_=p.upsertQueryData,v=p.prefetch,y=p.buildMatchThunkActions,b=ed({context:r,queryThunk:f,mutationThunk:h,reducerPath:i,assertTagType:d,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:u,keepUnusedDataFor:a,reducerPath:i}}),x=b.reducer,S=b.actions;eN(e.util,{patchQueryData:m,updateQueryData:g,upsertQueryData:_,prefetch:v,resetApiState:S.resetApiState}),eN(e.internalActions,S);var w=eI({reducerPath:i,context:r,queryThunk:f,mutationThunk:h,api:e,assertTagType:d}),k=w.middleware,E=w.actions;eN(e.util,E),eN(e,{reducer:x,middleware:k});var C=e_({serializeQueryArgs:o,reducerPath:i}),T=C.buildQuerySelector,j=C.buildMutationSelector,A=C.selectInvalidatedBy;eN(e.util,{selectInvalidatedBy:A});var R=en({queryThunk:f,mutationThunk:h,api:e,serializeQueryArgs:o,context:r}),O=R.buildInitiateQuery,P=R.buildInitiateMutation,L=R.getRunningMutationThunk,I=R.getRunningMutationsThunk,N=R.getRunningQueriesThunk,F=R.getRunningQueryThunk,D=R.getRunningOperationPromises,M=R.removalWarning;return eN(e.util,{getRunningOperationPromises:D,getRunningOperationPromise:M,getRunningMutationThunk:L,getRunningMutationsThunk:I,getRunningQueryThunk:F,getRunningQueriesThunk:N}),{name:eF,injectEndpoint:function(t,r){var n,i,o=e;null!=(i=(n=o.endpoints)[t])||(n[t]={}),K(r)?eN(o.endpoints[t],{name:t,select:T(t,r),initiate:O(t,r)},y(f,t)):J(r)&&eN(o.endpoints[t],{name:t,select:j(),initiate:P(t)},y(h,t))}}}}},eM=eb(eD())},35175:function(e,t,r){"use strict";r.r(t),r.d(t,{EnhancerArray:function(){return N},MiddlewareArray:function(){return I},SHOULD_AUTOBATCH:function(){return e7},TaskAbortError:function(){return ez},__DO_NOT_USE__ActionTypes:function(){return o.Kf},addListener:function(){return e4},applyMiddleware:function(){return o.md},autoBatchEnhancer:function(){return ti},bindActionCreators:function(){return o.DE},clearAllListeners:function(){return e3},combineReducers:function(){return o.UY},compose:function(){return o.qC},configureStore:function(){return V},createAction:function(){return T},createActionCreatorInvariantMiddleware:function(){return L},createAsyncThunk:function(){return eg},createDraftSafeSelector:function(){return w},createEntityAdapter:function(){return el},createImmutableStateInvariantMiddleware:function(){return M},createListenerMiddleware:function(){return e9},createNextState:function(){return i.ZP},createReducer:function(){return J},createSelector:function(){return a.P1},createSerializableStateInvariantMiddleware:function(){return z},createSlice:function(){return X},createStore:function(){return o.MT},current:function(){return i.Vk},findNonSerializableValue:function(){return q},freeze:function(){return i.vV},getDefaultMiddleware:function(){return $},getType:function(){return P},isAction:function(){return j},isActionCreator:function(){return A},isAllOf:function(){return ex},isAnyOf:function(){return eb},isAsyncThunkAction:function(){return ej},isDraft:function(){return i.mv},isFluxStandardAction:function(){return R},isFulfilled:function(){return eT},isImmutableDefault:function(){return D},isPending:function(){return ek},isPlain:function(){return U},isPlainObject:function(){return E},isRejected:function(){return eE},isRejectedWithValue:function(){return eC},legacy_createStore:function(){return o.jB},miniSerializeError:function(){return em},nanoid:function(){return ed},original:function(){return i.Js},prepareAutoBatched:function(){return te},removeListener:function(){return e8},unwrapResult:function(){return e_}});var n,i=r(28839),o=r(72624),a=r(90432);function s(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var u=s();u.withExtraArgument=s;var l=u;r(73656);var c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),d=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},p=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},f=Object.defineProperty,h=Object.defineProperties,m=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,r){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},b=function(e,t){for(var r in t||(t={}))_.call(t,r)&&y(e,r,t[r]);if(g)for(var n=0,i=g(t);n<i.length;n++){var r=i[n];v.call(t,r)&&y(e,r,t[r])}return e},x=function(e,t){return h(e,m(t))},S=function(e,t,r){return new Promise(function(n,i){var o=function(e){try{s(r.next(e))}catch(e){i(e)}},a=function(e){try{s(r.throw(e))}catch(e){i(e)}},s=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(o,a)};s((r=r.apply(e,t)).next())})},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.P1.apply(void 0,e);return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.apply(void 0,p([(0,i.mv)(e)?(0,i.Vk)(e):e],t))}},k="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?o.qC:o.qC.apply(null,arguments)};function E(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var C=function(e){return e&&"function"==typeof e.match};function T(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var i=t.apply(void 0,r);if(!i)throw Error("prepareAction did not return an object");return b(b({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function j(e){return E(e)&&"type"in e}function A(e){return"function"==typeof e&&"type"in e&&C(e)}function R(e){return j(e)&&"string"==typeof e.type&&Object.keys(e).every(O)}function O(e){return["type","payload","error","meta"].indexOf(e)>-1}function P(e){return""+e}function L(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}var I=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return c(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,p([void 0],e[0].concat(this)))):new(t.bind.apply(t,p([void 0],e.concat(this))))},t}(Array),N=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return c(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,p([void 0],e[0].concat(this)))):new(t.bind.apply(t,p([void 0],e.concat(this))))},t}(Array);function F(e){return(0,i.o$)(e)?(0,i.ZP)(e,function(){}):e}function D(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function M(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function U(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||E(e)}function q(e,t,r,n,i,o){if(void 0===t&&(t=""),void 0===r&&(r=U),void 0===i&&(i=[]),!r(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e||(null==o?void 0:o.has(e)))return!1;for(var a,s=null!=n?n(e):Object.entries(e),u=i.length>0,l=function(e,s){var l=t?t+"."+e:e;return u&&i.some(function(e){return e instanceof RegExp?e.test(l):l===e})?"continue":r(s)?"object"==typeof s&&(a=q(s,l,r,n,i,o))?{value:a}:void 0:{value:{keyPath:l,value:s}}},c=0,d=s;c<d.length;c++){var p=d[c],f=l(p[0],p[1]);if("object"==typeof f)return f.value}return o&&B(e)&&o.add(e),!1}function B(e){if(!Object.isFrozen(e))return!1;for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if("object"==typeof n&&null!==n&&!B(n))return!1}return!0}function z(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function G(e){return"boolean"==typeof e}function W(){return function(e){return $(e)}}function $(e){void 0===e&&(e={});var t=e.thunk,r=void 0===t||t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var n=new I;return r&&(G(r)?n.push(l):n.push(l.withExtraArgument(r.extraArgument))),n}var H=!0;function V(e){var t,r=W(),n=e||{},i=n.reducer,a=void 0===i?void 0:i,s=n.middleware,u=void 0===s?r():s,l=n.devTools,c=void 0===l||l,d=n.preloadedState,f=void 0===d?void 0:d,h=n.enhancers,m=void 0===h?void 0:h;if("function"==typeof a)t=a;else if(E(a))t=(0,o.UY)(a);else throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=u;if("function"==typeof g&&(g=g(r),!H&&!Array.isArray(g)))throw Error("when using a middleware builder function, an array of middleware must be returned");if(!H&&g.some(function(e){return"function"!=typeof e}))throw Error("each middleware provided to configureStore must be a function");var _=o.md.apply(void 0,g),v=o.qC;c&&(v=k(b({trace:!H},"object"==typeof c&&c)));var y=new N(_),x=y;Array.isArray(m)?x=p([_],m):"function"==typeof m&&(x=m(y));var S=v.apply(void 0,x);return(0,o.MT)(t,f,S)}function Z(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(!n)throw Error("`builder.addCase` cannot be called with an empty action type");if(n in r)throw Error("`builder.addCase` cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}function K(e){return"function"==typeof e}function J(e,t,r,n){void 0===r&&(r=[]);var o,a="function"==typeof t?Z(t):[t,r,n],s=a[0],u=a[1],l=a[2];if(K(e))o=function(){return F(e())};else{var c=F(e);o=function(){return c}}function d(e,t){void 0===e&&(e=o());var r=p([s[t.type]],u.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===r.filter(function(e){return!!e}).length&&(r=[l]),r.reduce(function(e,r){if(r){if((0,i.mv)(e)){var n=r(e,t);return void 0===n?e:n}if((0,i.o$)(e))return(0,i.ZP)(e,function(e){return r(e,t)});var n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return d.getInitialState=o,d}function Q(e,t){return e+"/"+t}function X(e){var t,r=e.name;if(!r)throw Error("`name` is a required option for createSlice");var n="function"==typeof e.initialState?e.initialState:F(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function l(){var t="function"==typeof e.extraReducers?Z(e.extraReducers):[e.extraReducers],r=t[0],i=void 0===r?{}:r,o=t[1],a=void 0===o?[]:o,u=t[2],l=void 0===u?void 0:u,c=b(b({},i),s);return J(n,function(e){for(var t in c)e.addCase(t,c[t]);for(var r=0,n=a;r<n.length;r++){var i=n[r];e.addMatcher(i.matcher,i.reducer)}l&&e.addDefaultCase(l)})}return o.forEach(function(e){var t,n,o=i[e],l=Q(r,e);"reducer"in o?(t=o.reducer,n=o.prepare):t=o,a[e]=t,s[l]=t,u[e]=n?T(l,n):T(l)}),{name:r,reducer:function(e,r){return t||(t=l()),t(e,r)},actions:u,caseReducers:a,getInitialState:function(){return t||(t=l()),t.getInitialState()}}}function Y(){return{ids:[],entities:{}}}function ee(){return{getInitialState:function(e){return void 0===e&&(e={}),Object.assign(Y(),e)}}}function et(){return{getSelectors:function(e){var t=function(e){return e.ids},r=function(e){return e.entities},n=w(t,r,function(e,t){return e.map(function(e){return t[e]})}),i=function(e,t){return t},o=function(e,t){return e[t]},a=w(t,function(e){return e.length});if(!e)return{selectIds:t,selectEntities:r,selectAll:n,selectTotal:a,selectById:w(r,i,o)};var s=w(e,r);return{selectIds:w(e,t),selectEntities:s,selectAll:w(e,n),selectTotal:w(e,a),selectById:w(s,i,o)}}}}function er(e){var t=en(function(t,r){return e(r)});return function(e){return t(e,void 0)}}function en(e){return function(t,r){function n(e){return R(e)}var o=function(t){n(r)?e(r.payload,t):e(r,t)};return(0,i.mv)(t)?(o(t),t):(0,i.ZP)(t,o)}}function ei(e,t){return t(e)}function eo(e){return Array.isArray(e)||(e=Object.values(e)),e}function ea(e,t,r){e=eo(e);for(var n=[],i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=ei(s,t);u in r.entities?i.push({id:u,changes:s}):n.push(s)}return[n,i]}function es(e){function t(t,r){var n=ei(t,e);n in r.entities||(r.ids.push(n),r.entities[n]=t)}function r(e,r){e=eo(e);for(var n=0,i=e;n<i.length;n++)t(i[n],r)}function n(t,r){var n=ei(t,e);n in r.entities||r.ids.push(n),r.entities[n]=t}function i(e,t){e=eo(e);for(var r=0,i=e;r<i.length;r++)n(i[r],t)}function o(e,t){e=eo(e),t.ids=[],t.entities={},r(e,t)}function a(e,t){return s([e],t)}function s(e,t){var r=!1;e.forEach(function(e){e in t.entities&&(delete t.entities[e],r=!0)}),r&&(t.ids=t.ids.filter(function(e){return e in t.entities}))}function u(t,r,n){var i=Object.assign({},n.entities[r.id],r.changes),o=ei(i,e),a=o!==r.id;return a&&(t[r.id]=o,delete n.entities[r.id]),n.entities[o]=i,a}function l(e,t){return c([e],t)}function c(e,t){var r={},n={};e.forEach(function(e){e.id in t.entities&&(n[e.id]={id:e.id,changes:b(b({},n[e.id]?n[e.id].changes:null),e.changes)})}),(e=Object.values(n)).length>0&&e.filter(function(e){return u(r,e,t)}).length>0&&(t.ids=Object.keys(t.entities))}function d(e,t){return p([e],t)}function p(t,n){var i=ea(t,e,n),o=i[0];c(i[1],n),r(o,n)}return{removeAll:er(function(e){Object.assign(e,{ids:[],entities:{}})}),addOne:en(t),addMany:en(r),setOne:en(n),setMany:en(i),setAll:en(o),updateOne:en(l),updateMany:en(c),upsertOne:en(d),upsertMany:en(p),removeOne:en(a),removeMany:en(s)}}function eu(e,t){var r=es(e);function n(e,t){return i([e],t)}function i(t,r){var n=(t=eo(t)).filter(function(t){return!(ei(t,e) in r.entities)});0!==n.length&&f(n,r)}function o(e,t){return a([e],t)}function a(e,t){0!==(e=eo(e)).length&&f(e,t)}function s(e,t){e=eo(e),t.entities={},t.ids=[],i(e,t)}function u(e,t){return l([e],t)}function l(t,r){for(var n=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=r.entities[a.id];if(s){n=!0,Object.assign(s,a.changes);var u=e(s);a.id!==u&&(delete r.entities[a.id],r.entities[u]=s)}}n&&h(r)}function c(e,t){return d([e],t)}function d(t,r){var n=ea(t,e,r),o=n[0];l(n[1],r),i(o,r)}function p(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(e[r]!==t[r])return!1;return!0}function f(t,r){t.forEach(function(t){r.entities[e(t)]=t}),h(r)}function h(r){var n=Object.values(r.entities);n.sort(t);var i=n.map(e);p(r.ids,i)||(r.ids=i)}return{removeOne:r.removeOne,removeMany:r.removeMany,removeAll:r.removeAll,addOne:en(n),updateOne:en(u),upsertOne:en(c),setOne:en(o),setMany:en(a),setAll:en(s),addMany:en(i),updateMany:en(l),upsertMany:en(d)}}function el(e){void 0===e&&(e={});var t=b({sortComparer:!1,selectId:function(e){return e.id}},e),r=t.selectId,n=t.sortComparer,i=ee(),o=et(),a=n?eu(r,n):es(r);return b(b(b({selectId:r,sortComparer:n},i),o),a)}var ec="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ed=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+=ec[64*Math.random()|0];return t},ep=["name","message","stack","code"],ef=function(){return function(e,t){this.payload=e,this.meta=t}}(),eh=function(){return function(e,t){this.payload=e,this.meta=t}}(),em=function(e){if("object"==typeof e&&null!==e){for(var t={},r=0,n=ep;r<n.length;r++){var i=n[r];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},eg=function(){function e(e,t,r){var n=T(e+"/fulfilled",function(e,t,r,n){return{payload:e,meta:x(b({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}}),i=T(e+"/pending",function(e,t,r){return{payload:void 0,meta:x(b({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),o=T(e+"/rejected",function(e,t,n,i,o){return{payload:i,error:(r&&r.serializeError||em)(e||"Rejected"),meta:x(b({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}}),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign(function(e){return function(s,u,l){var c,p=(null==r?void 0:r.idGenerator)?r.idGenerator(e):ed(),f=new a;function h(e){c=e,f.abort()}var m=function(){return S(this,null,function(){var a,m,g,_,v,y;return d(this,function(d){switch(d.label){case 0:if(d.trys.push([0,4,,5]),!ev(_=null==(a=null==r?void 0:r.condition)?void 0:a.call(r,e,{getState:u,extra:l})))return[3,2];return[4,_];case 1:_=d.sent(),d.label=2;case 2:if(!1===_||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise(function(e,t){return f.signal.addEventListener("abort",function(){return t({name:"AbortError",message:c||"Aborted"})})}),s(i(p,e,null==(m=null==r?void 0:r.getPendingMeta)?void 0:m.call(r,{requestId:p,arg:e},{getState:u,extra:l}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:p,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new ef(e,t)},fulfillWithValue:function(e,t){return new eh(e,t)}})).then(function(t){if(t instanceof ef)throw t;return t instanceof eh?n(t.payload,p,e,t.meta):n(t,p,e)})])];case 3:return g=d.sent(),[3,5];case 4:return g=(y=d.sent())instanceof ef?o(null,p,e,y.payload,y.meta):o(y,p,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}})})}();return Object.assign(m,{abort:h,requestId:p,arg:e,unwrap:function(){return m.then(e_)}})}},{pending:i,rejected:o,fulfilled:n,typePrefix:e})}return e.withTypes=function(){return e},e}();function e_(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ev(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}var ey=function(e,t){return C(e)?e.match(t):e(t)};function eb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some(function(e){return ey(e,t)})}}function ex(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every(function(e){return ey(e,t)})}}function eS(e,t){if(!e||!e.meta)return!1;var r="string"==typeof e.meta.requestId,n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function ew(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function ek(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return eS(e,["pending"])}:ew(e)?function(t){var r=e.map(function(e){return e.pending});return eb.apply(void 0,r)(t)}:ek()(e[0])}function eE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return eS(e,["rejected"])}:ew(e)?function(t){var r=e.map(function(e){return e.rejected});return eb.apply(void 0,r)(t)}:eE()(e[0])}function eC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length?function(t){return ex(eE.apply(void 0,e),r)(t)}:ew(e)?function(t){return ex(eE.apply(void 0,e),r)(t)}:eC()(e[0])}function eT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return eS(e,["fulfilled"])}:ew(e)?function(t){var r=e.map(function(e){return e.fulfilled});return eb.apply(void 0,r)(t)}:eT()(e[0])}function ej(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return eS(e,["pending","fulfilled","rejected"])}:ew(e)?function(t){for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];r.push(o.pending,o.rejected,o.fulfilled)}return eb.apply(void 0,r)(t)}:ej()(e[0])}var eA=function(e,t){if("function"!=typeof e)throw TypeError(t+" is not a function")},eR=function(){},eO=function(e,t){return void 0===t&&(t=eR),e.catch(t),e},eP=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},eL=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},eI="task",eN="listener",eF="completed",eD="cancelled",eM="task-"+eD,eU="task-"+eF,eq=eN+"-"+eD,eB=eN+"-"+eF,ez=function(){return function(e){this.code=e,this.name="TaskAbortError",this.message=eI+" "+eD+" (reason: "+e+")"}}(),eG=function(e){if(e.aborted)throw new ez(e.reason)};function eW(e,t){var r=eR;return new Promise(function(n,i){var o=function(){return i(new ez(e.reason))};if(e.aborted){o();return}r=eP(e,o),t.finally(function(){return r()}).then(n,i)}).finally(function(){r=eR})}var e$=function(e,t){return S(void 0,null,function(){var r;return d(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return n.sent(),[4,e()];case 2:return[2,{status:"ok",value:n.sent()}];case 3:return[2,{status:(r=n.sent())instanceof ez?"cancelled":"rejected",error:r}];case 4:return null==t||t(),[7];case 5:return[2]}})})},eH=function(e){return function(t){return eO(eW(e,t).then(function(t){return eG(e),t}))}},eV=function(e){var t=eH(e);return function(e){return t(new Promise(function(t){return setTimeout(t,e)}))}},eZ=Object.assign,eK={},eJ="listenerMiddleware",eQ=function(e,t){var r=function(t){return eP(e,function(){return eL(t,e.reason)})};return function(n,i){eA(n,"taskExecutor");var o=new AbortController;r(o);var a=e$(function(){return S(void 0,null,function(){var t;return d(this,function(r){switch(r.label){case 0:return eG(e),eG(o.signal),[4,n({pause:eH(o.signal),delay:eV(o.signal),signal:o.signal})];case 1:return t=r.sent(),eG(o.signal),[2,t]}})})},function(){return eL(o,eU)});return(null==i?void 0:i.autoJoin)&&t.push(a),{result:eH(e)(a),cancel:function(){eL(o,eM)}}}},eX=function(e,t){var r=function(r,n){return S(void 0,null,function(){var i,o,a;return d(this,function(s){switch(s.label){case 0:eG(t),i=function(){},o=[new Promise(function(t,n){var o=e({predicate:r,effect:function(e,r){r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});i=function(){o(),n()}})],null!=n&&o.push(new Promise(function(e){return setTimeout(e,n,null)})),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,eW(t,Promise.race(o))];case 2:return a=s.sent(),eG(t),[2,a];case 3:return i(),[7];case 4:return[2]}})})};return function(e,t){return eO(r(e,t))}},eY=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,o=e.effect;if(t)i=T(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error("Creating or removing a listener requires one of the known fields for matching an action");return eA(o,"options.listener"),{predicate:i,type:t,effect:o}},e0=function(e){var t=eY(e),r=t.type,n=t.predicate,i=t.effect;return{id:ed(),effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw Error("Unsubscribe not initialized")}}},e1=function(e){e.pending.forEach(function(e){eL(e,eq)})},e2=function(e){return function(){e.forEach(e1),e.clear()}},e5=function(e,t,r){try{e(t,r)}catch(e){setTimeout(function(){throw e},0)}},e4=T(eJ+"/add"),e3=T(eJ+"/removeAll"),e8=T(eJ+"/remove"),e6=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,p([eJ+"/error"],e))};function e9(e){var t=this;void 0===e&&(e={});var r=new Map,n=e.extra,i=e.onError,o=void 0===i?e6:i;eA(o,"onError");var a=function(e){return e.unsubscribe=function(){return r.delete(e.id)},r.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&e1(e)}},s=function(e){for(var t=0,n=Array.from(r.values());t<n.length;t++){var i=n[t];if(e(i))return i}},u=function(e){var t=s(function(t){return t.effect===e.effect});return t||(t=e0(e)),a(t)},l=function(e){var t=eY(e),r=t.type,n=t.effect,i=t.predicate,o=s(function(e){return("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n});return o&&(o.unsubscribe(),e.cancelActive&&e1(o)),!!o},c=function(e,i,a,s){return S(t,null,function(){var t,l,c,p;return d(this,function(d){switch(d.label){case 0:l=eX(u,(t=new AbortController).signal),c=[],d.label=1;case 1:return d.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(i,eZ({},a,{getOriginalState:s,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:eV(t.signal),pause:eH(t.signal),extra:n,signal:t.signal,fork:eQ(t.signal,c),unsubscribe:e.unsubscribe,subscribe:function(){r.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach(function(e,r,n){e!==t&&(eL(e,eq),n.delete(e))})}})))];case 2:return d.sent(),[3,6];case 3:return(p=d.sent())instanceof ez||e5(o,p,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(c)];case 5:return d.sent(),eL(t,eB),e.pending.delete(t),[7];case 6:return[2]}})})},p=e2(r);return{middleware:function(e){return function(t){return function(n){if(!j(n))return t(n);if(e4.match(n))return u(n.payload);if(e3.match(n)){p();return}if(e8.match(n))return l(n.payload);var i,a=e.getState(),s=function(){if(a===eK)throw Error(eJ+": getOriginalState can only be called synchronously");return a};try{if(i=t(n),r.size>0)for(var d=e.getState(),f=Array.from(r.values()),h=0,m=f;h<m.length;h++){var g=m[h],_=!1;try{_=g.predicate(n,d,a)}catch(e){_=!1,e5(o,e,{raisedBy:"predicate"})}_&&c(g,n,e,s)}}finally{a=eK}return i}}},startListening:u,stopListening:l,clearListeners:p}}var e7="RTK_autoBatch",te=function(){return function(e){var t;return{payload:e,meta:((t={})[e7]=!0,t)}}},tt="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==r.g?r.g:globalThis):function(e){return(n||(n=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},tr=function(e){return function(t){setTimeout(t,e)}},tn="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:tr(10),ti=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(void 0,r),o=!0,a=!1,s=!1,u=new Set,l="tick"===e.type?tt:"raf"===e.type?tn:"callback"===e.type?e.queueNotification:tr(e.timeout),c=function(){s=!1,a&&(a=!1,u.forEach(function(e){return e()}))};return Object.assign({},i,{subscribe:function(e){var t=function(){return o&&e()},r=i.subscribe(t);return u.add(e),function(){r(),u.delete(e)}},dispatch:function(e){var t;try{return(a=!(o=!(null==(t=null==e?void 0:e.meta)?void 0:t[e7])))&&!s&&(s=!0,l(c)),i.dispatch(e)}finally{o=!0}}})}}};(0,i.pV)()},26446:function(e,t){"use strict";t.byteLength=l,t.toByteArray=d,t.fromByteArray=h;for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n}function c(e,t,r){return(t+r)*3/4-r}function d(e){var t,r,o=u(e),a=o[0],s=o[1],l=new i(c(e,a,s)),d=0,p=s>0?a-4:a;for(r=0;r<p;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[d++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function f(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(p((e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function h(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(f(e,s,s+a>u?u:s+a));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},15313:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(26446),i=r(47164),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;let a=2147483647;function s(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function u(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return h(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ea(e,ArrayBuffer)||e&&ea(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ea(e,SharedArrayBuffer)||e&&ea(e.buffer,SharedArrayBuffer)))return _(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);let i=v(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function p(e,t,r){return(d(e),e<=0)?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}function f(e){return d(e),u(e<0?0:0|y(e))}function h(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!l.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|x(e,t),n=u(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function m(e){let t=e.length<0?0:0|y(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e){if(ea(e,Uint8Array)){let t=new Uint8Array(e);return _(t.buffer,t.byteOffset,t.byteLength)}return m(e)}function _(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),l.prototype),n}function v(e){if(l.isBuffer(e)){let t=0|y(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||es(e.length)?u(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}function y(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),l.alloc(+e)}function x(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ea(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ei(e).length;default:if(i)return n?-1:et(e).length;t=(""+t).toLowerCase(),i=!0}}function S(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function k(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),es(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function C(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(es(n))break;e[r+i]=n}return i}function T(e,t,r,n){return eo(et(t,e.length-r),e,r,n)}function j(e,t,r,n){return eo(er(t),e,r,n)}function A(e,t,r,n){return eo(ei(t),e,r,n)}function R(e,t,r,n){return eo(en(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return I(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return p(e,t,r)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(ea(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),ea(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(ea(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(l.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},l.byteLength=x,l.prototype._isBuffer=!0,l.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},l.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},l.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},l.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?P(this,0,e):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(ea(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return k(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return k(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return C(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return j(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let L=4096;function I(e){let t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=L));return r}function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function F(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=eu[e[n]];return i}function M(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function U(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function q(e,t,r,n,i,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function B(e,t,r,n,i){J(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function z(e,t,r,n,i){J(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function G(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function W(e,t,r,n,o){return t=+t,r>>>=0,o||G(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,o){return t=+t,r>>>=0,o||G(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=el(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=el(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(e>>>=0,t||U(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=el(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),l.prototype.readBigInt64BE=el(function(e){Q(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;q(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;q(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=el(function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=el(function(e,t=0){return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);q(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);q(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=el(function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=el(function(e,t=0){return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=l.isBuffer(e)?e:l.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let H={};function V(e,t,r){H[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Z(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r){Q(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&X(t,e.length-(r+1))}function J(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new H.ERR_OUT_OF_RANGE("value",n,e)}K(n,i,o)}function Q(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw Q(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),V("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=Z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let Y=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function en(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}function ei(e){return n.toByteArray(ee(e))}function eo(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function ea(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function es(e){return e!=e}let eu=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function el(e){return"undefined"==typeof BigInt?ec:e}function ec(){throw Error("BigInt not supported")}},65140:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r)||[];return e}}function a(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var i=o(r[0]);i!==r[0]&&(t[r[0]]=i)}r=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];e=e.replace(RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},26919:function(e,t){"use strict";var r;function n(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style}Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(r=t.ElementType||(t.ElementType={})),t.isTag=n,t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},11756:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=r(26919),a=r(61711);i(r(61711),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},u=function(){function e(e,t,r){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(r=t,t=s),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:s,this.elementCB=null!=r?r:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var r=this.options.xmlMode?o.ElementType.Tag:void 0,n=new a.Element(e,t,void 0,r);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var r=new a.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=e;return}var t=new a.Comment(e);this.addNode(t),this.lastNode=t},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new a.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=u,t.default=u},61711:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=r(26919),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),S(this,e)},e}();t.Node=a;var s=function(e){function t(t){var r=e.call(this)||this;return r.data=t,r}return n(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=s;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=u;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=l;var c=function(e){function t(t,r){var n=e.call(this,r)||this;return n.name=t,n.type=o.ElementType.Directive,n}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=c;var d=function(e){function t(t){var r=e.call(this)||this;return r.children=t,r}return n(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var h=function(e){function t(t,r,n,i){void 0===n&&(n=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,n)||this;return a.name=t,a.attribs=r,a.type=i,a}return n(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(t){var r,n;return{name:t,value:e.attribs[t],namespace:null===(r=e["x-attribsNamespace"])||void 0===r?void 0:r[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}})},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function _(e){return e.type===o.ElementType.Text}function v(e){return e.type===o.ElementType.Comment}function y(e){return e.type===o.ElementType.Directive}function b(e){return e.type===o.ElementType.Root}function x(e){return Object.prototype.hasOwnProperty.call(e,"children")}function S(e,t){if(void 0===t&&(t=!1),_(e))r=new u(e.data);else if(v(e))r=new l(e.data);else if(m(e)){var r,n=t?w(e.children):[],o=new h(e.name,i({},e.attribs),n);n.forEach(function(e){return e.parent=o}),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),r=o}else if(g(e)){var n=t?w(e.children):[],a=new p(n);n.forEach(function(e){return e.parent=a}),r=a}else if(b(e)){var n=t?w(e.children):[],s=new f(n);n.forEach(function(e){return e.parent=s}),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else if(y(e)){var d=new c(e.name,e.data);null!=e["x-name"]&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),r=d}else throw Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function w(e){for(var t=e.map(function(e){return S(e,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}t.Element=h,t.isTag=m,t.isCDATA=g,t.isText=_,t.isComment=v,t.isDirective=y,t.isDocument=b,t.hasChildren=x,t.cloneNode=S},22475:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},10063:function(e,t,r){"use strict";var n=r(87101),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return n.isMemo(e)?s:u[e.$$typeof]||i}u[n.ForwardRef]=a,u[n.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function g(e,t,r){if("string"!=typeof t){if(m){var n=h(t);n&&n!==m&&g(e,n,r)}var i=d(t);p&&(i=i.concat(p(t)));for(var a=l(e),s=l(t),u=0;u<i.length;++u){var _=i[u];if(!o[_]&&!(r&&r[_])&&!(s&&s[_])&&!(a&&a[_])){var v=f(t,_);try{c(e,_,v)}catch(e){}}}}return e}e.exports=g},17296:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,t){return e[t.toLowerCase()]=t,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")},16881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n,i=r(89441),o="html",a="head",s="body",u=/<([a-zA-Z]+[0-9]?)/,l=/<head[^]*>/i,c=/<body[^]*>/i,d=function(e,t){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},p=function(e,t){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},f="object"==typeof window&&window.DOMParser;if("function"==typeof f){var h=new f,m="text/html";d=p=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),h.parseFromString(e,m)}}if("object"==typeof document&&document.implementation){var g=document.implementation.createHTMLDocument();d=function(e,t){if(t){var r=g.documentElement.querySelector(t);return r&&(r.innerHTML=e),g}return g.documentElement.innerHTML=e,g}}var _="object"==typeof document&&document.createElement("template");function v(e){var t,r,f=(e=(0,i.escapeSpecialCharacters)(e)).match(u),h=f&&f[1]?f[1].toLowerCase():"";switch(h){case o:var m=p(e);if(!l.test(e)){var g=m.querySelector(a);null===(t=null==g?void 0:g.parentNode)||void 0===t||t.removeChild(g)}if(!c.test(e)){var g=m.querySelector(s);null===(r=null==g?void 0:g.parentNode)||void 0===r||r.removeChild(g)}return m.querySelectorAll(o);case a:case s:var _=d(e).querySelectorAll(h);if(c.test(e)&&l.test(e))return _[0].parentNode.childNodes;return _;default:if(n)return n(e);var g=d(e,s).querySelector(s);return g.childNodes}}_&&_.content&&(n=function(e){return _.innerHTML=e,_.content.childNodes})},49752:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n(r(16881)),o=r(89441),a=/<(![a-zA-Z\s]+)>/;function s(e){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];var t=e.match(a),r=t?t[1]:void 0;return(0,o.formatDOM)((0,i.default)(e),null,r)}},89441:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatAttributes=a,t.escapeSpecialCharacters=u,t.revertEscapedCharacters=l,t.formatDOM=c;var n=r(11756),i=r(17296);function o(e){return i.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function a(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r];t[i.name]=i.value}return t}function s(e){return o(e=e.toLowerCase())||e}function u(e){return e.replace(i.CARRIAGE_RETURN_REGEX,i.CARRIAGE_RETURN_PLACEHOLDER)}function l(e){return e.replace(i.CARRIAGE_RETURN_PLACEHOLDER_REGEX,i.CARRIAGE_RETURN)}function c(e,t,r){void 0===t&&(t=null);for(var i,o=[],u=0,d=e.length;u<d;u++){var p=e[u];switch(p.nodeType){case 1:var f=s(p.nodeName);(i=new n.Element(f,a(p.attributes))).children=c("template"===f?p.content.childNodes:p.childNodes,i);break;case 3:i=new n.Text(l(p.nodeValue));break;case 8:i=new n.Comment(p.nodeValue);break;default:continue}var h=o[u-1]||null;h&&(h.next=i),i.parent=t,i.prev=h,i.next=null,o.push(i)}return r&&((i=new n.ProcessingInstruction(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=o[0]||null,i.parent=t,o.unshift(i),o[1]&&(o[1].prev=o[0])),o}},52867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(88854),i=r(64574),o=["checked","value"],a=["input","select","textarea"],s={reset:!0,submit:!0};function u(e,t){void 0===e&&(e={});var r={},u=!!(e.type&&s[e.type]);for(var c in e){var d=e[c];if((0,n.isCustomAttribute)(c)){r[c]=d;continue}var p=c.toLowerCase(),f=l(p);if(f){var h=(0,n.getPropertyInfo)(f);switch(o.includes(f)&&a.includes(t)&&!u&&(f=l("default"+p)),r[f]=d,h&&h.type){case n.BOOLEAN:r[f]=!0;break;case n.OVERLOADED_BOOLEAN:""===d&&(r[f]=!0)}continue}i.PRESERVE_CUSTOM_ATTRIBUTES&&(r[c]=d)}return(0,i.setStyleProp)(e.style,r),r}function l(e){return n.possibleStandardNames[e]}},29179:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=r(44194),o=n(r(52867)),a=r(64574),s={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function u(e,t){void 0===t&&(t={});for(var r=[],n="function"==typeof t.replace,i=t.transform||a.returnFirstArg,c=t.library||s,d=c.cloneElement,p=c.createElement,f=c.isValidElement,h=e.length,m=0;m<h;m++){var g=e[m];if(n){var _=t.replace(g,m);if(f(_)){h>1&&(_=d(_,{key:_.key||m})),r.push(i(_,g,m));continue}}if("text"===g.type){var v=!g.data.trim().length;if(v&&g.parent&&!(0,a.canTextBeChildOfNode)(g.parent)||t.trim&&v)continue;r.push(i(g.data,g,m));continue}var y=g,b={};l(y)?((0,a.setStyleProp)(y.attribs.style,y.attribs),b=y.attribs):y.attribs&&(b=(0,o.default)(y.attribs,y.name));var x=void 0;switch(g.type){case"script":case"style":g.children[0]&&(b.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?b.defaultValue=g.children[0].data:g.children&&g.children.length&&(x=u(g.children,t));break;default:continue}h>1&&(b.key=m),r.push(i(p(g.name,b,x),g,m))}return 1===r.length?r[0]:r}function l(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,a.isCustomComponent)(e.name,e.attribs)}},70532:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=l;var i=n(r(49752));t.htmlToDOM=i.default;var o=n(r(52867));t.attributesToProps=o.default;var a=n(r(29179));t.domToReact=a.default;var s=r(11756);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var u={lowerCaseAttributeNames:!1};function l(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");return e?(0,a.default)((0,i.default)(e,(null==t?void 0:t.htmlparser2)||u),t):[]}},64574:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=s,t.setStyleProp=l;var i=r(44194),o=n(r(38853)),a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(e,t){return e.includes("-")?!a.has(e):!!(t&&"string"==typeof t.is)}var u={reactCompat:!0};function l(e,t){if("string"==typeof e){if(!e.trim()){t.style={};return}try{t.style=(0,o.default)(e,u)}catch(e){t.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.canTextBeChildOfNode=c;var d=function(e){return e};t.returnFirstArg=d},47164:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,p=23===i?5960464477539062e-23:0,f=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=p/u:t+=p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*m}},74847:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,l="\n",c="/",d="*",p="",f="comment",h="declaration";function m(e){return e?e.replace(u,p):p}e.exports=function(e,u){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];u=u||{};var g=1,_=1;function v(e){var t=e.match(r);t&&(g+=t.length);var n=e.lastIndexOf(l);_=~n?e.length-n:_+e.length}function y(){var e={line:g,column:_};return function(t){return t.position=new b(e),k(),t}}function b(e){this.start=e,this.end={line:g,column:_},this.source=u.source}b.prototype.content=e;var x=[];function S(t){var r=Error(u.source+":"+g+":"+_+": "+t);if(r.reason=t,r.filename=u.source,r.line=g,r.column=_,r.source=e,u.silent)x.push(r);else throw r}function w(t){var r=t.exec(e);if(r){var n=r[0];return v(n),e=e.slice(n.length),r}}function k(){w(n)}function E(e){var t;for(e=e||[];t=C();)!1!==t&&e.push(t);return e}function C(){var t=y();if(c==e.charAt(0)&&d==e.charAt(1)){for(var r=2;p!=e.charAt(r)&&(d!=e.charAt(r)||c!=e.charAt(r+1));)++r;if(r+=2,p===e.charAt(r-1))return S("End of comment missing");var n=e.slice(2,r-2);return _+=2,v(n),e=e.slice(r),_+=2,t({type:f,comment:n})}}function T(){var e=y(),r=w(i);if(r){if(C(),!w(o))return S("property missing ':'");var n=w(a),u=e({type:h,property:m(r[0].replace(t,p)),value:n?m(n[0].replace(t,p)):p});return w(s),u}}function j(){var e,t=[];for(E(t);e=T();)!1!==e&&(t.push(e),E(t));return t}return k(),j()}},23356:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,process=__webpack_require__(73656);!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var o,a=[],s=e.length,u=0;for(n=0;n<s;++n)(o=e.charCodeAt(n))<128?a[u++]=o:(o<2048?a[u++]=192|o>>6:(o<55296||o>=57344?a[u++]=224|o>>12:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),a[u++]=240|o>>18,a[u++]=128|o>>12&63),a[u++]=128|o>>6&63),a[u++]=128|63&o);e=a}else if("object"===i){if(null===e)throw Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw Error(ERROR)}else throw Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],c=[];for(n=0;n<64;++n){var d=e[n]||0;l[n]=92^d,c[n]=54^d}Sha256.call(this,t,r),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw Error(ERROR)}else throw Error(ERROR);t=!0}for(var n,i,o=0,a=e.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(n=e.charCodeAt(o))<128?s[i>>2]|=n<<SHIFT[3&i++]:(n<2048?s[i>>2]|=(192|n>>6)<<SHIFT[3&i++]:(n<55296||n>=57344?s[i>>2]|=(224|n>>12)<<SHIFT[3&i++]:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[i>>2]|=(240|n>>18)<<SHIFT[3&i++],s[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++]),s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++]),s[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,o,a,s,u,l,c,d=this.h0,p=this.h1,f=this.h2,h=this.h3,m=this.h4,g=this.h5,_=this.h6,v=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+r<<0;for(e=0,c=p&f;e<64;e+=4)this.first?(this.is224?(s=300032,v=(i=y[0]-1413257819)-150054599<<0,h=i+24177077<<0):(s=704751109,v=(i=y[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),n=(s=d&p)^d&f^c,i=v+r+(a=m&g^~m&_)+K[e]+y[e],o=t+n,v=h+i<<0,h=i+o<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),n=(u=h&d)^h&p^s,i=_+r+(a=v&m^~v&g)+K[e+1]+y[e+1],o=t+n,_=f+i<<0,t=((f=i+o<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7),n=(l=f&h)^f&d^u,i=g+r+(a=_&v^~_&m)+K[e+2]+y[e+2],o=t+n,g=p+i<<0,t=((p=i+o<<0)>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),n=(c=p&f)^p&h^l,i=m+r+(a=g&_^~g&v)+K[e+3]+y[e+3],o=t+n,m=d+i<<0,d=i+o<<0;this.h0=this.h0+d<<0,this.h1=this.h1+p<<0,this.h2=this.h2+f<<0,this.h3=this.h3+h<<0,this.h4=this.h4+m<<0,this.h5=this.h5+g<<0,this.h6=this.h6+_<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(u+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||u.push(s>>24&255,s>>16&255,s>>8&255,255&s),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},94466:function(e,t,r){var n=r(65234)(r(83250),"DataView");e.exports=n},85208:function(e,t,r){var n=r(34440),i=r(84108),o=r(61085),a=r(77706),s=r(8636);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},81998:function(e,t,r){var n=r(90266),i=r(42875),o=r(45828),a=r(24115),s=r(67690);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},72887:function(e,t,r){var n=r(65234)(r(83250),"Map");e.exports=n},95678:function(e,t,r){var n=r(39016),i=r(62363),o=r(64348),a=r(53062),s=r(30262);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},95747:function(e,t,r){var n=r(65234)(r(83250),"Promise");e.exports=n},56616:function(e,t,r){var n=r(65234)(r(83250),"Set");e.exports=n},84546:function(e,t,r){var n=r(95678),i=r(83937),o=r(15009);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},19549:function(e,t,r){var n=r(81998),i=r(93210),o=r(48603),a=r(38947),s=r(70885),u=r(98938);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},70861:function(e,t,r){var n=r(83250).Symbol;e.exports=n},3526:function(e,t,r){var n=r(83250).Uint8Array;e.exports=n},98001:function(e,t,r){var n=r(65234)(r(83250),"WeakMap");e.exports=n},82274:function(e){function t(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=t},84004:function(e){function t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}e.exports=t},82493:function(e){function t(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}e.exports=t},75825:function(e,t,r){var n=r(18509),i=r(79312),o=r(55589),a=r(85778),s=r(5023),u=r(50922),l=Object.prototype.hasOwnProperty;function c(e,t){var r=o(e),c=!r&&i(e),d=!r&&!c&&a(e),p=!r&&!c&&!d&&u(e),f=r||c||d||p,h=f?n(e.length,String):[],m=h.length;for(var g in e)(t||l.call(e,g))&&!(f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m)))&&h.push(g);return h}e.exports=c},29233:function(e){function t(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}e.exports=t},10111:function(e){function t(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}e.exports=t},85115:function(e){function t(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}e.exports=t},1831:function(e){function t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=t},59512:function(e){function t(e){return e.split("")}e.exports=t},96026:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r(e){return e.match(t)||[]}e.exports=r},93192:function(e,t,r){var n=r(87500),i=r(58260),o=Object.prototype.hasOwnProperty;function a(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}e.exports=a},18498:function(e,t,r){var n=r(58260);function i(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}e.exports=i},44265:function(e,t,r){var n=r(78618),i=r(62096);function o(e,t){return e&&n(t,i(t),e)}e.exports=o},31629:function(e,t,r){var n=r(78618),i=r(9882);function o(e,t){return e&&n(t,i(t),e)}e.exports=o},87500:function(e,t,r){var n=r(25595);function i(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}e.exports=i},18361:function(e,t,r){var n=r(19549),i=r(84004),o=r(93192),a=r(44265),s=r(31629),u=r(46502),l=r(32166),c=r(67272),d=r(52066),p=r(54357),f=r(55713),h=r(87493),m=r(82865),g=r(11908),_=r(84046),v=r(55589),y=r(85778),b=r(37613),x=r(93702),S=r(60693),w=r(62096),k=r(9882),E=1,C=2,T=4,j="[object Arguments]",A="[object Array]",R="[object Boolean]",O="[object Date]",P="[object Error]",L="[object Function]",I="[object GeneratorFunction]",N="[object Map]",F="[object Number]",D="[object Object]",M="[object RegExp]",U="[object Set]",q="[object String]",B="[object Symbol]",z="[object WeakMap]",G="[object ArrayBuffer]",W="[object DataView]",$="[object Float32Array]",H="[object Float64Array]",V="[object Int8Array]",Z="[object Int16Array]",K="[object Int32Array]",J="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",Y="[object Uint32Array]",ee={};function et(e,t,r,A,R,O){var P,N=t&E,F=t&C,M=t&T;if(r&&(P=R?r(e,A,R,O):r(e)),void 0!==P)return P;if(!x(e))return e;var U=v(e);if(U){if(P=m(e),!N)return l(e,P)}else{var q=h(e),B=q==L||q==I;if(y(e))return u(e,N);if(q==D||q==j||B&&!R){if(P=F||B?{}:_(e),!N)return F?d(e,s(P,e)):c(e,a(P,e))}else{if(!ee[q])return R?e:{};P=g(e,q,N)}}O||(O=new n);var z=O.get(e);if(z)return z;O.set(e,P),S(e)?e.forEach(function(n){P.add(et(n,t,r,n,e,O))}):b(e)&&e.forEach(function(n,i){P.set(i,et(n,t,r,i,e,O))});var G=M?F?f:p:F?k:w,W=U?void 0:G(e);return i(W||e,function(n,i){W&&(n=e[i=n]),o(P,i,et(n,t,r,i,e,O))}),P}ee[j]=ee[A]=ee[G]=ee[W]=ee[R]=ee[O]=ee[$]=ee[H]=ee[V]=ee[Z]=ee[K]=ee[N]=ee[F]=ee[D]=ee[M]=ee[U]=ee[q]=ee[B]=ee[J]=ee[Q]=ee[X]=ee[Y]=!0,ee[P]=ee[L]=ee[z]=!1,e.exports=et},57890:function(e,t,r){var n=r(93702),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},22825:function(e,t,r){var n=r(10111),i=r(67123);function o(e,t,r,a,s){var u=-1,l=e.length;for(r||(r=i),s||(s=[]);++u<l;){var c=e[u];t>0&&r(c)?t>1?o(c,t-1,r,a,s):n(s,c):a||(s[s.length]=c)}return s}e.exports=o},39943:function(e,t,r){var n=r(72545)();e.exports=n},44003:function(e,t,r){var n=r(39943),i=r(62096);function o(e,t){return e&&n(e,t,i)}e.exports=o},40548:function(e,t,r){var n=r(24007),i=r(86040);function o(e,t){t=n(t,e);for(var r=0,o=t.length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}e.exports=o},4468:function(e,t,r){var n=r(10111),i=r(55589);function o(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}e.exports=o},69823:function(e,t,r){var n=r(70861),i=r(91339),o=r(25151),a="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;function l(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}e.exports=l},32586:function(e){var t=Object.prototype.hasOwnProperty;function r(e,r){return null!=e&&t.call(e,r)}e.exports=r},62902:function(e){function t(e,t){return null!=e&&t in Object(e)}e.exports=t},33016:function(e,t,r){var n=r(69823),i=r(50440),o="[object Arguments]";function a(e){return i(e)&&n(e)==o}e.exports=a},71808:function(e,t,r){var n=r(69823),i=r(50440),o="[object Date]";function a(e){return i(e)&&n(e)==o}e.exports=a},34662:function(e,t,r){var n=r(88968),i=r(50440);function o(e,t,r,a,s){return e===t||(null!=e&&null!=t&&(i(e)||i(t))?n(e,t,r,a,o,s):e!=e&&t!=t)}e.exports=o},88968:function(e,t,r){var n=r(19549),i=r(14952),o=r(21080),a=r(86524),s=r(87493),u=r(55589),l=r(85778),c=r(50922),d=1,p="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;function g(e,t,r,g,_,v){var y=u(e),b=u(t),x=y?f:s(e),S=b?f:s(t);x=x==p?h:x,S=S==p?h:S;var w=x==h,k=S==h,E=x==S;if(E&&l(e)){if(!l(t))return!1;y=!0,w=!1}if(E&&!w)return v||(v=new n),y||c(e)?i(e,t,r,g,_,v):o(e,t,x,r,g,_,v);if(!(r&d)){var C=w&&m.call(e,"__wrapped__"),T=k&&m.call(t,"__wrapped__");if(C||T){var j=C?e.value():e,A=T?t.value():t;return v||(v=new n),_(j,A,r,g,v)}}return!!E&&(v||(v=new n),a(e,t,r,g,_,v))}e.exports=g},52275:function(e,t,r){var n=r(87493),i=r(50440),o="[object Map]";function a(e){return i(e)&&n(e)==o}e.exports=a},2972:function(e,t,r){var n=r(19549),i=r(34662),o=1,a=2;function s(e,t,r,s){var u=r.length,l=u,c=!s;if(null==e)return!l;for(e=Object(e);u--;){var d=r[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<l;){var p=(d=r[u])[0],f=e[p],h=d[1];if(c&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new n;if(s)var g=s(f,h,p,e,t,m);if(!(void 0===g?i(h,f,o|a,s,m):g))return!1}}return!0}e.exports=s},99817:function(e,t,r){var n=r(45563),i=r(28597),o=r(93702),a=r(55784),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,d=l.hasOwnProperty,p=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){return!(!o(e)||i(e))&&(n(e)?p:u).test(a(e))}e.exports=f},7170:function(e,t,r){var n=r(87493),i=r(50440),o="[object Set]";function a(e){return i(e)&&n(e)==o}e.exports=a},42448:function(e,t,r){var n=r(69823),i=r(66052),o=r(50440),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",_="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]",A={};function R(e){return o(e)&&i(e.length)&&!!A[n(e)]}A["[object Float32Array]"]=A[x]=A[S]=A[w]=A[k]=A[E]=A[C]=A[T]=A[j]=!0,A[a]=A[s]=A[y]=A[u]=A[b]=A[l]=A[c]=A[d]=A[p]=A[f]=A[h]=A[m]=A[g]=A[_]=A[v]=!1,e.exports=R},55833:function(e,t,r){var n=r(15640),i=r(9906),o=r(80229),a=r(55589),s=r(94437);function u(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}e.exports=u},41351:function(e,t,r){var n=r(32840),i=r(82825),o=Object.prototype.hasOwnProperty;function a(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=a},71309:function(e,t,r){var n=r(93702),i=r(32840),o=r(84866),a=Object.prototype.hasOwnProperty;function s(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||r.push(s);return r}e.exports=s},15640:function(e,t,r){var n=r(2972),i=r(72198),o=r(94656);function a(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}e.exports=a},9906:function(e,t,r){var n=r(34662),i=r(13546),o=r(56708),a=r(5130),s=r(18802),u=r(94656),l=r(86040),c=1,d=2;function p(e,t){return a(e)&&s(t)?u(l(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,c|d)}}e.exports=p},86174:function(e){function t(e){return function(t){return null==t?void 0:t[e]}}e.exports=t},3293:function(e,t,r){var n=r(40548);function i(e){return function(t){return n(t,e)}}e.exports=i},61642:function(e){function t(e){return function(t){return null==e?void 0:e[t]}}e.exports=t},46739:function(e,t,r){var n=r(89203),i=r(25595),o=r(80229),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},77379:function(e){function t(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}e.exports=t},18509:function(e){function t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=t},86245:function(e,t,r){var n=r(70861),i=r(29233),o=r(55589),a=r(52624),s=1/0,u=n?n.prototype:void 0,l=u?u.toString:void 0;function c(e){if("string"==typeof e)return e;if(o(e))return i(e,c)+"";if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},21656:function(e,t,r){var n=r(62438),i=/^\s+/;function o(e){return e?e.slice(0,n(e)+1).replace(i,""):e}e.exports=o},31525:function(e){function t(e){return function(t){return e(t)}}e.exports=t},11928:function(e,t,r){var n=r(24007),i=r(77875),o=r(83744),a=r(86040);function s(e,t){return t=n(t,e),null==(e=o(e,t))||delete e[a(i(t))]}e.exports=s},77026:function(e){function t(e,t){return e.has(t)}e.exports=t},24007:function(e,t,r){var n=r(55589),i=r(5130),o=r(44041),a=r(99835);function s(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}e.exports=s},3237:function(e,t,r){var n=r(77379);function i(e,t,r){var i=e.length;return r=void 0===r?i:r,!t&&r>=i?e:n(e,t,r)}e.exports=i},72962:function(e,t,r){var n=r(3526);function i(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}e.exports=i},46502:function(e,t,r){e=r.nmd(e);var n=r(83250),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}e.exports=u},97037:function(e,t,r){var n=r(72962);function i(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}e.exports=i},3429:function(e){var t=/\w*$/;function r(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}e.exports=r},99349:function(e,t,r){var n=r(70861),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;function a(e){return o?Object(o.call(e)):{}}e.exports=a},21327:function(e,t,r){var n=r(72962);function i(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}e.exports=i},32166:function(e){function t(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=t},78618:function(e,t,r){var n=r(93192),i=r(87500);function o(e,t,r,o){var a=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),a?i(r,l,c):n(r,l,c)}return r}e.exports=o},67272:function(e,t,r){var n=r(78618),i=r(44450);function o(e,t){return n(e,i(e),t)}e.exports=o},52066:function(e,t,r){var n=r(78618),i=r(94969);function o(e,t){return n(e,i(e),t)}e.exports=o},1622:function(e,t,r){var n=r(83250)["__core-js_shared__"];e.exports=n},72545:function(e){function t(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}e.exports=t},41254:function(e,t,r){var n=r(3237),i=r(63932),o=r(15233),a=r(99835);function s(e){return function(t){var r=i(t=a(t))?o(t):void 0,s=r?r[0]:t.charAt(0),u=r?n(r,1).join(""):t.slice(1);return s[e]()+u}}e.exports=s},25048:function(e,t,r){var n=r(85115),i=r(8820),o=r(12170),a=RegExp("['’]","g");function s(e){return function(t){return n(o(i(t).replace(a,"")),e,"")}}e.exports=s},70492:function(e,t,r){var n=r(54256);function i(e){return n(e)?void 0:e}e.exports=i},33729:function(e,t,r){var n=r(61642)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=n},25595:function(e,t,r){var n=r(65234),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},14952:function(e,t,r){var n=r(84546),i=r(1831),o=r(77026),a=1,s=2;function u(e,t,r,u,l,c){var d=r&a,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=c.get(e),m=c.get(t);if(h&&m)return h==t&&m==e;var g=-1,_=!0,v=r&s?new n:void 0;for(c.set(e,t),c.set(t,e);++g<p;){var y=e[g],b=t[g];if(u)var x=d?u(b,y,g,t,e,c):u(y,b,g,e,t,c);if(void 0!==x){if(x)continue;_=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||l(y,e,r,u,c)))return v.push(t)})){_=!1;break}}else if(!(y===b||l(y,b,r,u,c))){_=!1;break}}return c.delete(e),c.delete(t),_}e.exports=u},21080:function(e,t,r){var n=r(70861),i=r(3526),o=r(58260),a=r(14952),s=r(81140),u=r(77969),l=1,c=2,d="[object Boolean]",p="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",_="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S=n?n.prototype:void 0,w=S?S.valueOf:void 0;function k(e,t,r,n,S,k,E){switch(r){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case b:if(e.byteLength!=t.byteLength||!k(new i(e),new i(t)))break;return!0;case d:case p:case m:return o(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case h:var C=s;case _:var T=n&l;if(C||(C=u),e.size!=t.size&&!T)break;var j=E.get(e);if(j)return j==t;n|=c,E.set(e,t);var A=a(C(e),C(t),n,S,k,E);return E.delete(e),A;case y:if(w)return w.call(e)==w.call(t)}return!1}e.exports=k},86524:function(e,t,r){var n=r(54357),i=1,o=Object.prototype.hasOwnProperty;function a(e,t,r,a,s,u){var l=r&i,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var p=d;p--;){var f=c[p];if(!(l?f in t:o.call(t,f)))return!1}var h=u.get(e),m=u.get(t);if(h&&m)return h==t&&m==e;var g=!0;u.set(e,t),u.set(t,e);for(var _=l;++p<d;){var v=e[f=c[p]],y=t[f];if(a)var b=l?a(y,v,f,t,e,u):a(v,y,f,e,t,u);if(!(void 0===b?v===y||s(v,y,r,a,u):b)){g=!1;break}_||(_="constructor"==f)}if(g&&!_){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S)&&(g=!1)}return u.delete(e),u.delete(t),g}e.exports=a},33273:function(e,t,r){var n=r(62923),i=r(20340),o=r(4173);function a(e){return o(i(e,void 0,n),e+"")}e.exports=a},20302:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},54357:function(e,t,r){var n=r(4468),i=r(44450),o=r(62096);function a(e){return n(e,o,i)}e.exports=a},55713:function(e,t,r){var n=r(4468),i=r(94969),o=r(9882);function a(e){return n(e,o,i)}e.exports=a},77570:function(e,t,r){var n=r(58949);function i(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=i},72198:function(e,t,r){var n=r(18802),i=r(62096);function o(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}e.exports=o},65234:function(e,t,r){var n=r(99817),i=r(67736);function o(e,t){var r=i(e,t);return n(r)?r:void 0}e.exports=o},18490:function(e,t,r){var n=r(33540)(Object.getPrototypeOf,Object);e.exports=n},91339:function(e,t,r){var n=r(70861),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;function u(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}e.exports=u},44450:function(e,t,r){var n=r(82493),i=r(84506),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:n(a(e=Object(e)),function(t){return o.call(e,t)})}:i;e.exports=s},94969:function(e,t,r){var n=r(10111),i=r(18490),o=r(44450),a=r(84506),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},87493:function(e,t,r){var n=r(94466),i=r(72887),o=r(95747),a=r(56616),s=r(98001),u=r(69823),l=r(55784),c="[object Map]",d="[object Object]",p="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",g=l(n),_=l(i),v=l(o),y=l(a),b=l(s),x=u;(n&&x(new n(new ArrayBuffer(1)))!=m||i&&x(new i)!=c||o&&x(o.resolve())!=p||a&&x(new a)!=f||s&&x(new s)!=h)&&(x=function(e){var t=u(e),r=t==d?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case g:return m;case _:return c;case v:return p;case y:return f;case b:return h}return t}),e.exports=x},67736:function(e){function t(e,t){return null==e?void 0:e[t]}e.exports=t},13544:function(e,t,r){var n=r(24007),i=r(79312),o=r(55589),a=r(5023),s=r(66052),u=r(86040);function l(e,t,r){t=n(t,e);for(var l=-1,c=t.length,d=!1;++l<c;){var p=u(t[l]);if(!(d=null!=e&&r(e,p)))break;e=e[p]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(o(e)||i(e))}e.exports=l},63932:function(e){var t=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function r(e){return t.test(e)}e.exports=r},70605:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r(e){return t.test(e)}e.exports=r},34440:function(e,t,r){var n=r(24545);function i(){this.__data__=n?n(null):{},this.size=0}e.exports=i},84108:function(e){function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},61085:function(e,t,r){var n=r(24545),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;function a(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return o.call(t,e)?t[e]:void 0}e.exports=a},77706:function(e,t,r){var n=r(24545),i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}e.exports=o},8636:function(e,t,r){var n=r(24545),i="__lodash_hash_undefined__";function o(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}e.exports=o},82865:function(e){var t=Object.prototype.hasOwnProperty;function r(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=r},11908:function(e,t,r){var n=r(72962),i=r(97037),o=r(3429),a=r(99349),s=r(21327),u="[object Boolean]",l="[object Date]",c="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",_="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",k="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]";function T(e,t,r){var T=e.constructor;switch(t){case g:return n(e);case u:case l:return new T(+e);case _:return i(e,r);case v:case y:case b:case x:case S:case w:case k:case E:case C:return s(e,r);case c:return new T;case d:case h:return new T(e);case p:return o(e);case f:return new T;case m:return a(e)}}e.exports=T},84046:function(e,t,r){var n=r(57890),i=r(18490),o=r(32840);function a(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}e.exports=a},67123:function(e,t,r){var n=r(70861),i=r(79312),o=r(55589),a=n?n.isConcatSpreadable:void 0;function s(e){return o(e)||i(e)||!!(a&&e&&e[a])}e.exports=s},5023:function(e){var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(e,n){var i=typeof e;return!!(n=null==n?t:n)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<n}e.exports=n},5130:function(e,t,r){var n=r(55589),i=r(52624),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}e.exports=s},58949:function(e){function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},28597:function(e,t,r){var n=r(1622),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},32840:function(e){var t=Object.prototype;function r(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}e.exports=r},18802:function(e,t,r){var n=r(93702);function i(e){return e==e&&!n(e)}e.exports=i},90266:function(e){function t(){this.__data__=[],this.size=0}e.exports=t},42875:function(e,t,r){var n=r(18498),i=Array.prototype.splice;function o(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}e.exports=o},45828:function(e,t,r){var n=r(18498);function i(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}e.exports=i},24115:function(e,t,r){var n=r(18498);function i(e){return n(this.__data__,e)>-1}e.exports=i},67690:function(e,t,r){var n=r(18498);function i(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}e.exports=i},39016:function(e,t,r){var n=r(85208),i=r(81998),o=r(72887);function a(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}e.exports=a},62363:function(e,t,r){var n=r(77570);function i(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}e.exports=i},64348:function(e,t,r){var n=r(77570);function i(e){return n(this,e).get(e)}e.exports=i},53062:function(e,t,r){var n=r(77570);function i(e){return n(this,e).has(e)}e.exports=i},30262:function(e,t,r){var n=r(77570);function i(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}e.exports=i},81140:function(e){function t(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=t},94656:function(e){function t(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}e.exports=t},32924:function(e,t,r){var n=r(67997),i=500;function o(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}e.exports=o},24545:function(e,t,r){var n=r(65234)(Object,"create");e.exports=n},82825:function(e,t,r){var n=r(33540)(Object.keys,Object);e.exports=n},84866:function(e){function t(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=t},8690:function(e,t,r){e=r.nmd(e);var n=r(20302),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},25151:function(e){var t=Object.prototype.toString;function r(e){return t.call(e)}e.exports=r},33540:function(e){function t(e,t){return function(r){return e(t(r))}}e.exports=t},20340:function(e,t,r){var n=r(82274),i=Math.max;function o(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=r(u),n(e,this,l)}}e.exports=o},83744:function(e,t,r){var n=r(40548),i=r(77379);function o(e,t){return t.length<2?e:n(e,i(t,0,-1))}e.exports=o},83250:function(e,t,r){var n=r(20302),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},83937:function(e){var t="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,t),this}e.exports=r},15009:function(e){function t(e){return this.__data__.has(e)}e.exports=t},77969:function(e){function t(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=t},4173:function(e,t,r){var n=r(46739),i=r(37357)(n);e.exports=i},37357:function(e){var t=800,r=16,n=Date.now;function i(e){var i=0,o=0;return function(){var a=n(),s=r-(a-o);if(o=a,s>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}e.exports=i},93210:function(e,t,r){var n=r(81998);function i(){this.__data__=new n,this.size=0}e.exports=i},48603:function(e){function t(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=t},38947:function(e){function t(e){return this.__data__.get(e)}e.exports=t},70885:function(e){function t(e){return this.__data__.has(e)}e.exports=t},98938:function(e,t,r){var n=r(81998),i=r(72887),o=r(95678),a=200;function s(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}e.exports=s},15233:function(e,t,r){var n=r(59512),i=r(63932),o=r(32205);function a(e){return i(e)?o(e):n(e)}e.exports=a},44041:function(e,t,r){var n=r(32924),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t});e.exports=a},86040:function(e,t,r){var n=r(52624),i=1/0;function o(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=o},55784:function(e){var t=Function.prototype.toString;function r(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=r},62438:function(e){var t=/\s/;function r(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}e.exports=r},32205:function(e){var t="\ud800-\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\ud83c[\udffb-\udfff]",o="[^"+t+"]",a="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",c="(?:\\u200d(?:"+[o,a,s].join("|")+")"+l+u+")*",d=l+u+c,p=RegExp(i+"(?="+i+")|(?:"+[o+n+"?",n,a,s,r].join("|")+")"+d,"g");function f(e){return e.match(p)||[]}e.exports=f},76061:function(e){var t="\ud800-\udfff",r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['’]",s="["+o+"]",u="\\d+",l="["+r+"]",c="["+n+"]",d="[^"+t+o+u+r+n+i+"]",p="(?:\ud83c[\udde6-\uddff]){2}",f="[\ud800-\udbff][\udc00-\udfff]",h="["+i+"]",m="(?:"+c+"|"+d+")",g="(?:"+h+"|"+d+")",_="(?:"+a+"(?:d|ll|m|re|s|t|ve))?",v="(?:"+a+"(?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",b="[\\ufe0e\\ufe0f]?",x="(?:\\u200d(?:"+["[^"+t+"]",p,f].join("|")+")"+b+y+")*",S="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",w="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",k=b+y+x,E="(?:"+[l,p,f].join("|")+")"+k,C=RegExp([h+"?"+c+"+"+_+"(?="+[s,h,"$"].join("|")+")",g+"+"+v+"(?="+[s,h+m,"$"].join("|")+")",h+"?"+m+"+"+_,h+"+"+v,w,S,u,E].join("|"),"g");function T(e){return e.match(C)||[]}e.exports=T},89309:function(e,t,r){var n=r(60844),i=r(25048)(function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)});e.exports=i},60844:function(e,t,r){var n=r(99835),i=r(51309);function o(e){return i(n(e).toLowerCase())}e.exports=o},89203:function(e){function t(e){return function(){return e}}e.exports=t},77837:function(e,t,r){var n=r(93702),i=r(80231),o=r(29153),a="Expected a function",s=Math.max,u=Math.min;function l(e,t,r){var l,c,d,p,f,h,m=0,g=!1,_=!1,v=!0;if("function"!=typeof e)throw TypeError(a);function y(t){var r=l,n=c;return l=c=void 0,m=t,p=e.apply(n,r)}function b(e){return m=e,f=setTimeout(w,t),g?y(e):p}function x(e){var r=e-h,n=e-m,i=t-r;return _?u(i,d-n):i}function S(e){var r=e-h,n=e-m;return void 0===h||r>=t||r<0||_&&n>=d}function w(){var e=i();if(S(e))return k(e);f=setTimeout(w,x(e))}function k(e){return(f=void 0,v&&l)?y(e):(l=c=void 0,p)}function E(){void 0!==f&&clearTimeout(f),m=0,l=h=c=f=void 0}function C(){return void 0===f?p:k(i())}function T(){var e=i(),r=S(e);if(l=arguments,c=this,h=e,r){if(void 0===f)return b(h);if(_)return clearTimeout(f),f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),p}return t=o(t)||0,n(r)&&(g=!!r.leading,d=(_="maxWait"in r)?s(o(r.maxWait)||0,t):d,v="trailing"in r?!!r.trailing:v),T.cancel=E,T.flush=C,T}e.exports=l},8820:function(e,t,r){var n=r(33729),i=r(99835),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function s(e){return(e=i(e))&&e.replace(o,n).replace(a,"")}e.exports=s},58260:function(e){function t(e,t){return e===t||e!=e&&t!=t}e.exports=t},98936:function(e,t,r){e.exports=r(95718)},62923:function(e,t,r){var n=r(22825);function i(e){return(null==e?0:e.length)?n(e,1):[]}e.exports=i},13546:function(e,t,r){var n=r(40548);function i(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}e.exports=i},45346:function(e,t,r){var n=r(32586),i=r(13544);function o(e,t){return null!=e&&i(e,t,n)}e.exports=o},56708:function(e,t,r){var n=r(62902),i=r(13544);function o(e,t){return null!=e&&i(e,t,n)}e.exports=o},95718:function(e){function t(e){return e&&e.length?e[0]:void 0}e.exports=t},80229:function(e){function t(e){return e}e.exports=t},79312:function(e,t,r){var n=r(33016),i=r(50440),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},55589:function(e){var t=Array.isArray;e.exports=t},30568:function(e,t,r){var n=r(45563),i=r(66052);function o(e){return null!=e&&i(e.length)&&!n(e)}e.exports=o},85778:function(e,t,r){e=r.nmd(e);var n=r(83250),i=r(37999),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},19553:function(e,t,r){var n=r(71808),i=r(31525),o=r(8690),a=o&&o.isDate,s=a?i(a):n;e.exports=s},29787:function(e,t,r){var n=r(41351),i=r(87493),o=r(79312),a=r(55589),s=r(30568),u=r(85778),l=r(32840),c=r(50922),d="[object Map]",p="[object Set]",f=Object.prototype.hasOwnProperty;function h(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||o(e)))return!e.length;var t=i(e);if(t==d||t==p)return!e.size;if(l(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}e.exports=h},85466:function(e,t,r){var n=r(34662);function i(e,t){return n(e,t)}e.exports=i},79409:function(e,t,r){var n=r(69823),i=r(50440),o=r(54256),a="[object DOMException]",s="[object Error]";function u(e){if(!i(e))return!1;var t=n(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}e.exports=u},45563:function(e,t,r){var n=r(69823),i=r(93702),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function l(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==u}e.exports=l},66052:function(e){var t=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=r},37613:function(e,t,r){var n=r(52275),i=r(31525),o=r(8690),a=o&&o.isMap,s=a?i(a):n;e.exports=s},14698:function(e){function t(e){return null==e}e.exports=t},93702:function(e){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},50440:function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},54256:function(e,t,r){var n=r(69823),i=r(18490),o=r(50440),a="[object Object]",s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,c=u.call(Object);function d(e){if(!o(e)||n(e)!=a)return!1;var t=i(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==c}e.exports=d},60693:function(e,t,r){var n=r(7170),i=r(31525),o=r(8690),a=o&&o.isSet,s=a?i(a):n;e.exports=s},76705:function(e,t,r){var n=r(69823),i=r(55589),o=r(50440),a="[object String]";function s(e){return"string"==typeof e||!i(e)&&o(e)&&n(e)==a}e.exports=s},52624:function(e,t,r){var n=r(69823),i=r(50440),o="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&n(e)==o}e.exports=a},50922:function(e,t,r){var n=r(42448),i=r(31525),o=r(8690),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},86474:function(e){function t(e){return void 0===e}e.exports=t},62096:function(e,t,r){var n=r(75825),i=r(41351),o=r(30568);function a(e){return o(e)?n(e):i(e)}e.exports=a},9882:function(e,t,r){var n=r(75825),i=r(71309),o=r(30568);function a(e){return o(e)?n(e,!0):i(e)}e.exports=a},77875:function(e){function t(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=t},52930:function(e,t,r){var n=r(87500),i=r(44003),o=r(55833);function a(e,t){var r={};return t=o(t,3),i(e,function(e,i,o){n(r,t(e,i,o),e)}),r}e.exports=a},61230:function(e,t,r){var n=r(87500),i=r(44003),o=r(55833);function a(e,t){var r={};return t=o(t,3),i(e,function(e,i,o){n(r,i,t(e,i,o))}),r}e.exports=a},67997:function(e,t,r){var n=r(95678),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},71607:function(e){function t(){}e.exports=t},80231:function(e,t,r){var n=r(83250),i=function(){return n.Date.now()};e.exports=i},73352:function(e,t,r){var n=r(29233),i=r(18361),o=r(11928),a=r(24007),s=r(78618),u=r(70492),l=r(33273),c=r(55713),d=1,p=2,f=4,h=l(function(e,t){var r={};if(null==e)return r;var l=!1;t=n(t,function(t){return t=a(t,e),l||(l=t.length>1),t}),s(e,c(e),r),l&&(r=i(r,d|p|f,u));for(var h=t.length;h--;)o(r,t[h]);return r});e.exports=h},94437:function(e,t,r){var n=r(86174),i=r(3293),o=r(5130),a=r(86040);function s(e){return o(e)?n(a(e)):i(e)}e.exports=s},97687:function(e,t,r){var n=r(25048)(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});e.exports=n},84506:function(e){function t(){return[]}e.exports=t},37999:function(e){function t(){return!1}e.exports=t},29153:function(e,t,r){var n=r(21656),i=r(93702),o=r(52624),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=u.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}e.exports=d},99835:function(e,t,r){var n=r(86245);function i(e){return null==e?"":n(e)}e.exports=i},51309:function(e,t,r){var n=r(41254)("toUpperCase");e.exports=n},12170:function(e,t,r){var n=r(96026),i=r(70605),o=r(99835),a=r(76061);function s(e,t,r){return(e=o(e),void 0===(t=r?void 0:t))?i(e)?a(e):n(e):e.match(t)||[]}e.exports=s},48592:function(e,t,r){"use strict";let n;r.d(t,{cC:function(){return G},Jc:function(){return tp},ag:function(){return tc},$G:function(){return V}});var i=r(44194),o=r(63229),a=r.n(o),s=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function u(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(a()[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var i=new RegExp(s),o=null;null!==(o=i.exec(e));)if(o[0].trim()){if(o[1]){var u=o[1].trim(),l=[u,""];u.indexOf("=")>-1&&(l=u.split("=")),t.attrs[l[0]]=l[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1))}return t}var l=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,c=/^\s*$/,d=Object.create(null);function p(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(p,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var f={parse:function(e,t){t||(t={}),t.components||(t.components=d);var r,n=[],i=[],o=-1,a=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");n.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(l,function(s,l){if(a){if(s!=="</"+r.name+">")return;a=!1}var d,p="/"!==s.charAt(1),f=s.startsWith("<!--"),h=l+s.length,m=e.charAt(h);if(f){var g=u(s);return o<0?n.push(g):(d=i[o]).children.push(g),n}if(p&&(o++,"tag"===(r=u(s)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!m||"<"===m||r.children.push({type:"text",content:e.slice(h,e.indexOf("<",h))}),0===o&&n.push(r),(d=i[o-1])&&d.children.push(r),i[o]=r),(!p||r.voidElement)&&(o>-1&&(r.voidElement||r.name===s.slice(2,-1))&&(r=-1==--o?n:i[o]),!a&&"<"!==m&&m)){d=-1===o?n:i[o].children;var _=e.indexOf("<",h),v=e.slice(h,-1===_?void 0:_);c.test(v)&&(v=" "),(_>-1&&o+d.length>=0||" "!==v)&&d.push({type:"text",content:v})}}),n}};let h=(e,t,r,n)=>{let i=[r,{code:t,...n||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);x(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},m={},g=(e,t,r,n)=>{x(r)&&m[r]||(x(r)&&(m[r]=new Date),h(e,t,r,n))},_=(e,t)=>()=>{if(e.isInitialized)t();else{let r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},v=(e,t,r)=>{e.loadNamespaces(t,_(e,r))},y=(e,t,r,n)=>{if(x(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return v(e,r,n);r.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,_(e,n))},b=(e,t,r={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,n)=>{if(r.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):(g(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0),x=e=>"string"==typeof e,S=e=>"object"==typeof e&&null!==e,w=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,k={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},E=e=>k[e],C={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(w,E)},T=()=>C,j=()=>n,A=(e,t)=>{if(!e)return!1;let r=e.props?.children??e.children;return t?r.length>0:!!r},R=e=>{if(!e)return[];let t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?P(t):t},O=e=>Array.isArray(e)&&e.every(i.isValidElement),P=e=>Array.isArray(e)?e:[e],L=(e,t)=>{let r={...t};return r.props=Object.assign(e.props,t.props),r},I=(e,t,r,n)=>{if(!e)return"";let o="",a=P(e),s=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((e,a)=>{if(x(e)){o+=`${e}`;return}if((0,i.isValidElement)(e)){let{props:i,type:u}=e,l=Object.keys(i).length,c=s.indexOf(u)>-1,d=i.children;if(!d&&c&&!l){o+=`<${u}/>`;return}if(!d&&(!c||l)||i.i18nIsDynamicList){o+=`<${a}></${a}>`;return}if(c&&1===l&&x(d)){o+=`<${u}>${d}</${u}>`;return}let p=I(d,t,r,n);o+=`<${a}>${p}</${a}>`;return}if(null===e){h(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(S(e)){let{format:t,...i}=e,a=Object.keys(i);if(1===a.length){let e=t?`${a[0]}, ${t}`:a[0];o+=`{{${e}}}`;return}h(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:e});return}h(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:e})}),o},N=(e,t,r,n,o,a)=>{if(""===t)return[];let s=n.transKeepBasicHtmlNodesFor||[],u=t&&new RegExp(s.map(e=>`<${e}`).join("|")).test(t);if(!e&&!u&&!a)return[t];let l={},c=e=>{P(e).forEach(e=>{x(e)||(A(e)?c(R(e)):S(e)&&!(0,i.isValidElement)(e)&&Object.assign(l,e))})};c(e);let d=f.parse(`<0>${t}</0>`),p={...l,...o},h=(e,t,r)=>{let n=R(e),i=g(n,t.children,r);return O(n)&&0===i.length||e.props?.i18nIsDynamicList?n:i},m=(e,t,r,n,o)=>{e.dummy?(e.children=t,r.push((0,i.cloneElement)(e,{key:n},o?void 0:t))):r.push(...i.Children.map([e],e=>{let r={...e.props};return delete r.i18nIsDynamicList,(0,i.createElement)(e.type,{...r,key:n,ref:e.ref},o?null:t)}))},g=(t,o,l)=>{let c=P(t);return P(o).reduce((t,o,d)=>{let f=o.children?.[0]?.content&&r.services.interpolator.interpolate(o.children[0].content,p,r.language);if("tag"===o.type){let a=c[parseInt(o.name,10)];1!==l.length||a||(a=l[0][o.name]),a||(a={});let _=0!==Object.keys(o.attrs).length?L({props:o.attrs},a):a,v=(0,i.isValidElement)(_),y=v&&A(o,!0)&&!o.voidElement,b=u&&S(_)&&_.dummy&&!v,w=S(e)&&Object.hasOwnProperty.call(e,o.name);if(x(_)){let e=r.services.interpolator.interpolate(_,p,r.language);t.push(e)}else if(A(_)||y){let e=h(_,o,l);m(_,e,t,d)}else if(b)m(_,g(c,o.children,l),t,d);else if(Number.isNaN(parseFloat(o.name))){if(w){let e=h(_,o,l);m(_,e,t,d,o.voidElement)}else if(n.transSupportBasicHtmlNodes&&s.indexOf(o.name)>-1){if(o.voidElement)t.push((0,i.createElement)(o.name,{key:`${o.name}-${d}`}));else{let e=g(c,o.children,l);t.push((0,i.createElement)(o.name,{key:`${o.name}-${d}`},e))}}else if(o.voidElement)t.push(`<${o.name} />`);else{let e=g(c,o.children,l);t.push(`<${o.name}>${e}</${o.name}>`)}}else if(S(_)&&!v){let e=o.children[0]?f:null;e&&t.push(e)}else m(_,f,t,d,1!==o.children.length||!f)}else if("text"===o.type){let e=n.transWrapTextNodes,s=a?n.unescape(r.services.interpolator.interpolate(o.content,p,r.language)):r.services.interpolator.interpolate(o.content,p,r.language);e?t.push((0,i.createElement)(e,{key:`${o.name}-${d}`},s)):t.push(s)}return t},[])};return R(g([{dummy:!0,children:e||[]}],d,P(e||[]))[0])},F=(e,t,r)=>{let n=e.key||t,o=(0,i.cloneElement)(e,{key:n});if(!o.props||!o.props.children||0>r.indexOf(`${t}/>`)&&0>r.indexOf(`${t} />`))return o;function a(){return(0,i.createElement)(i.Fragment,null,o)}return(0,i.createElement)(a,{key:n})},D=(e,t)=>e.map((e,r)=>F(e,r,t)),M=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:F(e[n],n,t)})}),r},U=(e,t,r,n)=>e?Array.isArray(e)?D(e,t):S(e)?M(e,t):(g(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null;function q({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:s,defaults:u,components:l,ns:c,i18n:d,t:p,shouldUnescape:f,...h}){let m=d||j();if(!m)return g(m,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;let _=p||m.t.bind(m)||(e=>e),v={...T(),...m.options?.react},y=c||_.ns||m.options?.defaultNS;y=x(y)?[y]:y||["translation"];let b=I(e,v,m,n),S=u||b||v.transEmptyNodeValue||n,{hashTransKey:w}=v,k=n||(w?w(b||S):b||S);m.options?.interpolation?.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});let E=!s&&(void 0===t||m.options?.interpolation?.alwaysFormat)&&e?{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}}:a.interpolation,C={...a,context:o||a.context,count:t,...s,...E,defaultValue:S,ns:y},A=k?_(k,C):S,R=N(U(l,A,m,n)||e,A,m,v,C,f),O=r??v.defaultTransParent;return O?(0,i.createElement)(O,h,R):R}let B=(0,i.createContext)();class z{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function G({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a={},values:s,defaults:u,components:l,ns:c,i18n:d,t:p,shouldUnescape:f,...h}){let{i18n:m,defaultNS:g}=(0,i.useContext)(B)||{},_=d||m||j(),v=p||_?.t.bind(_);return q({children:e,count:t,parent:r,i18nKey:n,context:o,tOptions:a,values:s,defaults:u,components:l,ns:c||v?.ns||g||_?.options?.defaultNS,i18n:_,t:p,shouldUnescape:f,...h})}let W=(e,t)=>{let r=(0,i.useRef)();return(0,i.useEffect)(()=>{r.current=t?r.current:e},[e,t]),r.current},$=(e,t,r,n)=>e.getFixedT(t,r,n),H=(e,t,r,n)=>(0,i.useCallback)($(e,t,r,n),[e,t,r,n]),V=(e,t={})=>{let{i18n:r}=t,{i18n:n,defaultNS:o}=(0,i.useContext)(B)||{},a=r||n||j();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new z),!a){g(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>x(t)?t:S(t)&&x(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&g(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let s={...T(),...a.options.react,...t},{useSuspense:u,keyPrefix:l}=s,c=e||o||a.options?.defaultNS;c=x(c)?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces?.(c);let d=(a.isInitialized||a.initializedStoreOnce)&&c.every(e=>b(e,a,s)),p=H(a,t.lng||null,"fallback"===s.nsMode?c:c[0],l),f=()=>p,h=()=>$(a,t.lng||null,"fallback"===s.nsMode?c:c[0],l),[m,_]=(0,i.useState)(f),w=c.join();t.lng&&(w=`${t.lng}${w}`);let k=W(w),E=(0,i.useRef)(!0);(0,i.useEffect)(()=>{let{bindI18n:e,bindI18nStore:r}=s;E.current=!0,d||u||(t.lng?y(a,t.lng,c,()=>{E.current&&_(h)}):v(a,c,()=>{E.current&&_(h)})),d&&k&&k!==w&&E.current&&_(h);let n=()=>{E.current&&_(h)};return e&&a?.on(e,n),r&&a?.store.on(r,n),()=>{E.current=!1,a&&e?.split(" ").forEach(e=>a.off(e,n)),r&&a&&r.split(" ").forEach(e=>a.store.off(e,n))}},[a,w]),(0,i.useEffect)(()=>{E.current&&d&&_(f)},[a,l,d]);let C=[m,a,d];if(C.t=m,C.i18n=a,C.ready=d,d||!d&&!u)return C;throw new Promise(e=>{t.lng?y(a,t.lng,c,()=>e()):v(a,c,()=>e())})};function Z({i18n:e,defaultNS:t,children:r}){let n=(0,i.useMemo)(()=>({i18n:e,defaultNS:t}),[e,t]);return(0,i.createElement)(B.Provider,{value:n},r)}var K=r(95051),J=r(25059),Q=r(10063),X=r.n(Q);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ee(e){if(Array.isArray(e))return Y(e)}function et(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function er(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function en(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ei(e){return ee(e)||et(e)||er(e)||en()}var eo=r(20686);function ea(e){if(Array.isArray(e))return e}function es(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function eu(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function el(e,t){return ea(e)||es(e,t)||er(e,t)||eu()}var ec=r(48900);function ed(e,t){if(null==e)return{};var r,n,i=(0,ec.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ep={defaultNS:"common",errorStackTraceLimit:0,i18n:{defaultLocale:"en",locales:["en"]},get initImmediate(){return"undefined"!=typeof window},get initAsync(){return"undefined"!=typeof window},interpolation:{escapeValue:!1},load:"currentOnly",localeExtension:"json",localePath:"./public/locales",localeStructure:"{{lng}}/{{ns}}",react:{useSuspense:!1},reloadOnPrerender:!1,serializeConfig:!0,use:[]},ef=function(e){return Array.from(new Set(e))},eh="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,em=["i18n"],eg=["i18n"];function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){(0,J.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ey=["backend","detection"],eb=function(e){if("string"!=typeof(null==e?void 0:e.lng))throw Error("config.lng was not passed into createConfig");var t,r,n,i=e.i18n,o=ed(e,em),a=ep.i18n,s=ev(ev(ev(ev({},ed(ep,eg)),o),a),i),u=s.defaultNS,l=s.lng,c=s.localeExtension,d=s.localePath,p=s.nonExplicitSupportedLngs,f=s.locales.filter(function(e){return"default"!==e});if("cimode"===l)return s;if(void 0===s.fallbackLng&&(s.fallbackLng=s.defaultLocale,"default"===s.fallbackLng)){var h=el(f,1);s.fallbackLng=h[0]}var m=null==e||null===(t=e.interpolation)||void 0===t?void 0:t.prefix,g=null==e||null===(r=e.interpolation)||void 0===r?void 0:r.suffix,_=null!=m?m:"{{",v=null!=g?g:"}}";"string"!=typeof(null==e?void 0:e.localeStructure)&&(m||g)&&(s.localeStructure="".concat(_,"lng").concat(v,"/").concat(_,"ns").concat(v));var y=s.fallbackLng,b=s.localeStructure;if(p){var x=function(e,t){var r=el(t.split("-"),1)[0];return e[t]=[r],e};if("string"==typeof y)s.fallbackLng=s.locales.filter(function(e){return e.includes("-")}).reduce(x,{default:[y]});else if(Array.isArray(y))s.fallbackLng=s.locales.filter(function(e){return e.includes("-")}).reduce(x,{default:y});else if("object"===(0,eo.Z)(y))s.fallbackLng=Object.entries(s.fallbackLng).reduce(function(e,t){var r=el(t,2),n=r[0],i=r[1];return e[n]=n.includes("-")?ef([n.split("-")[0]].concat(ei(i))):i,e},y);else if("function"==typeof y)throw Error("If nonExplicitSupportedLngs is true, no functions are allowed for fallbackLng")}return(null==e||null===(n=e.use)||void 0===n?void 0:n.some(function(e){return"backend"===e.type}))||("string"==typeof d?s.backend={addPath:"".concat(d,"/").concat(b,".missing.").concat(c),loadPath:"".concat(d,"/").concat(b,".").concat(c)}:"function"!=typeof d||(s.backend={addPath:function(e,t){return d(e,t,!0)},loadPath:function(e,t){return d(e,t,!1)}})),"string"==typeof s.ns||Array.isArray(s.ns)||(s.ns=[u]),ey.forEach(function(t){e[t]&&(s[t]=ev(ev({},s[t]),e[t]))}),s};let ex=e=>"string"==typeof e,eS=()=>{let e,t;let r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},ew=e=>null==e?"":""+e,ek=(e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})},eE=/###/g,eC=e=>e&&e.indexOf("###")>-1?e.replace(eE,"."):e,eT=e=>!e||ex(e),ej=(e,t,r)=>{let n=ex(t)?t.split("."):t,i=0;for(;i<n.length-1;){if(eT(e))return{};let t=eC(n[i]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return eT(e)?{}:{obj:e,k:eC(n[i])}},eA=(e,t,r)=>{let{obj:n,k:i}=ej(e,t,Object);if(void 0!==n||1===t.length){n[i]=r;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=ej(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,s=ej(e,a=a.slice(0,a.length-1),Object),s?.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r},eR=(e,t,r,n)=>{let{obj:i,k:o}=ej(e,t,Object);i[o]=i[o]||[],i[o].push(r)},eO=(e,t)=>{let{obj:r,k:n}=ej(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},eP=(e,t,r)=>{let n=eO(e,r);return void 0!==n?n:eO(t,r)},eL=(e,t,r)=>{for(let n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?ex(e[n])||e[n]instanceof String||ex(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):eL(e[n],t[n],r):e[n]=t[n]);return e},eI=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var eN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let eF=e=>ex(e)?e.replace(/[&<>"'\/]/g,e=>eN[e]):e;class eD{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}let eM=[" ",",","?","!",";"],eU=new eD(20),eq=(e,t,r)=>{t=t||"",r=r||"";let n=eM.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===n.length)return!0;let i=eU.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),o=!i.test(e);if(!o){let t=e.indexOf(r);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o},eB=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let n=t.split(r),i=e;for(let e=0;e<n.length;){let t;if(!i||"object"!=typeof i)return;let o="";for(let a=e;a<n.length;++a)if(a!==e&&(o+=r),o+=n[a],void 0!==(t=i[o])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}i=t}return i},ez=e=>e?.replace("_","-"),eG={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class eW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||eG,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(ex(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new eW(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new eW(this.logger,e)}}var e$=new eW;class eH{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,i]=t;for(let t=0;t<i;t++)n.apply(n,[e,...r])})}}class eV extends eH{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],r&&(Array.isArray(r)?n.push(...r):ex(r)&&o?n.push(...r.split(o)):n.push(r)));let s=eO(this.data,n);return(!s&&!t&&!r&&e.indexOf(".")>-1&&(e=n[0],t=n[1],r=n.slice(2).join(".")),!s&&a&&ex(r))?eB(this.data?.[e]?.[t],r,o):s}addResource(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),eA(this.data,a,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let n in r)(ex(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let s=eO(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?eL(s,r,i):s={...s,...r},eA(this.data,a,s),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var eZ={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(e=>{t=this.processors[e]?.process(t,r,n,i)??t}),t}};let eK={},eJ=e=>!ex(e)&&"boolean"!=typeof e&&"number"!=typeof e;class eQ extends eH{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),ek(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=e$.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r={...t};if(null==e)return!1;let n=this.resolve(e,r);return n?.res!==void 0}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!eq(e,r,n);if(o&&!a){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:ex(i)?[i]:i};let o=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(n)}return{key:e,namespaces:ex(i)?[i]:i}}translate(e,t,r){let n="object"==typeof t?{...t}:t;if("object"!=typeof n&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(n={...n}),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],n),u=s[s.length-1],l=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l?.toLowerCase()==="cimode"){if(c){let e=n.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:a}let d=this.resolve(e,n),p=d?.res,f=d?.usedKey||a,h=d?.exactUsedKey||a,m=["[object Number]","[object Function]","[object RegExp]"],g=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,v=void 0!==n.count&&!ex(n.count),y=eQ.hasDefaultValue(n),b=v?this.pluralResolver.getSuffix(l,n.count,n):"",x=n.ordinal&&v?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",S=v&&!n.ordinal&&0===n.count,w=S&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${b}`]||n[`defaultValue${x}`]||n.defaultValue,k=p;_&&!p&&y&&(k=w);let E=eJ(k),C=Object.prototype.toString.apply(k);if(_&&k&&E&&0>m.indexOf(C)&&!(ex(g)&&Array.isArray(k))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,k,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=e,d.usedParams=this.getUsedParamsDetails(n),d):e}if(o){let e=Array.isArray(k),t=e?[]:{},r=e?h:f;for(let e in k)if(Object.prototype.hasOwnProperty.call(k,e)){let i=`${r}${o}${e}`;y&&!p?t[e]=this.translate(i,{...n,defaultValue:eJ(w)?w[e]:void 0,joinArrays:!1,ns:s}):t[e]=this.translate(i,{...n,joinArrays:!1,ns:s}),t[e]===i&&(t[e]=k[e])}p=t}}else if(_&&ex(g)&&Array.isArray(p))(p=p.join(g))&&(p=this.extendTranslation(p,e,n,r));else{let t=!1,i=!1;!this.isValidLookup(p)&&y&&(t=!0,p=w),this.isValidLookup(p)||(i=!0,p=a);let s=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:p,c=y&&w!==p&&this.options.updateMissing;if(i||t||c){if(this.logger.log(c?"updateKey":"missingKey",l,u,a,c?w:p),o){let e=this.resolve(a,{...n,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(n.lng||this.language):e.push(n.lng||this.language);let r=(e,t,r)=>{let i=y&&r!==p?r:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,u,t,i,c,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,u,t,i,c,n),this.emit("missingKey",e,u,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?e.forEach(e=>{let t=this.pluralResolver.getSuffixes(e,n);S&&n[`defaultValue${this.options.pluralSeparator}zero`]&&0>t.indexOf(`${this.options.pluralSeparator}zero`)&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{r([e],a+t,n[`defaultValue${t}`]||w)})}):r(e,a,w))}p=this.extendTranslation(p,e,n,d,r),i&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${u}:${a}`),(i||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,t?p:void 0,n))}return i?(d.res=p,d.usedParams=this.getUsedParamsDetails(n),d):p}extendTranslation(e,t,r,n,i){var o=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){let a;r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let s=ex(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){let t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let u=r.replace&&!ex(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||n.usedLng,r),s){let t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return i?.[0]!==n[0]||r.context?o.translate(...n,t):(o.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null)},r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,s=ex(a)?[a]:a;return null!=e&&s?.length&&!1!==r.applyPostProcessor&&(e=eZ.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ex(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let s=this.extractFromKey(e,a),u=s.key;r=u;let l=s.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));let c=void 0!==a.count&&!ex(a.count),d=c&&!a.ordinal&&0===a.count,p=void 0!==a.context&&(ex(a.context)||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);l.forEach(e=>{this.isValidLookup(t)||(o=e,!eK[`${f[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(eK[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(r=>{let o;if(this.isValidLookup(t))return;i=r;let s=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(s,u,r,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(r,a.count,a));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(s.push(u+e),a.ordinal&&0===e.indexOf(n)&&s.push(u+e.replace(n,this.options.pluralSeparator)),d&&s.push(u+t)),p){let r=`${u}${this.options.contextSeparator}${a.context}`;s.push(r),c&&(s.push(r+e),a.ordinal&&0===e.indexOf(n)&&s.push(r+e.replace(n,this.options.pluralSeparator)),d&&s.push(r+t))}}for(;o=s.pop();)this.isValidLookup(t)||(n=o,t=this.getResource(r,e,o,a))}))})}),{res:t,usedKey:r,exactUsedKey:n,usedLng:i,usedNS:o}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ex(e.replace),n=r?e.replace:e;if(r&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r)for(let e of(n={...n},t))delete n[e];return n}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}class eX{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=e$.create("languageUtils")}getScriptPartFromCode(e){if(!(e=ez(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=ez(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ex(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&(e.indexOf("-")>0&&0>n.indexOf("-")&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),ex(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],i=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return ex(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):ex(e)&&i(this.formatLanguageCode(e)),r.forEach(e=>{0>n.indexOf(e)&&i(this.formatLanguageCode(e))}),n}}let eY={zero:0,one:1,two:2,few:3,many:4,other:5},e0={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class e1{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=e$.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ez("dev"===e?"en":e),i=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];try{t=new Intl.PluralRules(n,{type:i})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),e0;if(!e.match(/-|_/))return e0;let n=this.languageUtils.getLanguagePartFromCode(e);t=this.getRule(n,r)}return this.pluralRulesCache[o]=t,t}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return(r||(r=this.getRule("dev",t)),r)?r.resolvedOptions().pluralCategories.sort((e,t)=>eY[e]-eY[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}let e2=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=eP(e,t,r);return!o&&i&&ex(r)&&void 0===(o=eB(e,r,n))&&(o=eB(t,r,n)),o},e5=e=>e.replace(/\$/g,"$$$$");class e4{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=e$.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:u,unescapeSuffix:l,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:_}=e.interpolation;this.escape=void 0!==t?t:eF,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=i?eI(i):o||"{{",this.suffix=a?eI(a):s||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?eI(d):p||eI("$t("),this.nestingSuffix=f?eI(f):h||eI(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==_&&_,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let i,o,a;let s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(0>e.indexOf(this.formatSeparator)){let i=e2(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,r,{...n,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),o=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(e2(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...n,...t,interpolationkey:o})};this.resetRegExp();let l=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>e5(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?e5(this.escape(e)):e5(e)}].forEach(t=>{for(a=0;i=t.regex.exec(e);){let r=i[1].trim();if(void 0===(o=u(r))){if("function"==typeof l){let t=l(e,i,n);o=ex(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))o="";else if(c){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),o=""}else ex(o)||this.useRawValueToEscape||(o=ew(o));let s=t.safeValue(o);if(e=e.replace(i[0],s),c?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=this.maxReplaces)break}}),e}nest(e,t){let r,n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(e,t)=>{let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let n=e.split(RegExp(`${r}[ ]*{`)),o=`{${n[1]}`;e=n[0];let a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);((a?.length??0)%2!=0||s)&&s.length%2==0||(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let s=[];(i=(i={...o}).replace&&!ex(i.replace)?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),s=e,u=!0}if((n=t(a.call(this,r[1].trim(),i),i))&&r[0]===e&&!ex(n))return n;ex(n)||(n=ew(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),u&&(n=s.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:r[1].trim()}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}let e3=e=>{let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);"currency"===t&&0>i.indexOf(":")?r.currency||(r.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?r.range||(r.range=i.trim()):i.split(";").forEach(e=>{if(e){let[t,...n]=e.split(":"),i=n.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();r[o]||(r[o]=i),"false"===i&&(r[o]=!1),"true"===i&&(r[o]=!0),isNaN(i)||(r[o]=parseInt(i,10))}})}return{formatName:t,formatOptions:r}},e8=e=>{let t={};return(r,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});let a=n+JSON.stringify(o),s=t[a];return s||(s=e(ez(n),i),t[a]=s),s(r)}};class e6{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=e$.create("formatter"),this.options=e,this.formats={number:e8((e,t)=>{let r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:e8((e,t)=>{let r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:e8((e,t)=>{let r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:e8((e,t)=>{let r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:e8((e,t)=>{let r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=e8(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&0>i[0].indexOf(")")&&i.find(e=>e.indexOf(")")>-1)){let e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{let{formatName:i,formatOptions:o}=e3(t);if(this.formats[i]){let t=e;try{let a=n?.formatParams?.[n.interpolationkey]||{},s=a.locale||a.lng||n.locale||n.lng||r;t=this.formats[i](e,s,{...o,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}let e9=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class e7 extends eH{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=e$.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){let i={},o={},a={},s={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,n=!1,void 0===o[a]&&(o[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))}),n||(a[e]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){let n=e.split("|"),i=n[0],o=n[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let a={};this.queue.forEach(r=>{eR(r.loaded,[i],o),e9(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:o});return}this.readingCalls++;let a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(a&&s&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*i,o)},i);return}o(a,s)},s=this.backend[r].bind(this.backend);if(2===s.length){try{let r=s(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}return}return s(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();ex(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ex(t)&&(t=[t]);let i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(r,o)=>{r&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,r),!r&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,o),this.loaded(e,r,o)})}saveMissing(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=r&&""!==r){if(this.backend?.create){let s={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let i;(i=5===u.length?u(e,t,r,n,s):u(e,t,r,n))&&"function"==typeof i.then?i.then(e=>a(null,e)).catch(a):a(null,i)}catch(e){a(e)}else u(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}let te=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),ex(e[1])&&(t.defaultValue=e[1]),ex(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),tt=e=>(ex(e.ns)&&(e.ns=[e.ns]),ex(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ex(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),tr=()=>{},tn=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class ti extends eH{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=tt(e),this.services={},this.logger=e$,this.modules={external:[]},tn(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),null==t.defaultNS&&t.ns&&(ex(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=te();this.options={...n,...this.options,...tt(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?e$.init(i(this.modules.logger),this.options):e$.init(null,this.options),t=this.modules.formatter?this.modules.formatter:e6;let r=new eX(this.options);this.store=new eV(this.options.resources,this.options);let o=this.services;o.logger=e$,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new e1(r,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new e4(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new e7(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new eQ(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=tr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let o=eS(),a=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),r(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr,r=t,n=ex(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let n=eS();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=tr),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&eZ.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&0>this.languages.indexOf(e)&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;let n=eS();this.emit("languageChanging",e);let i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(o,a)=>{a?this.isLanguageChangingTo===e&&(i(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve(function(){return r.t(...arguments)}),t&&t(o,function(){return r.t(...arguments)})},a=t=>{e||t||!this.services.languageDetector||(t=[]);let r=ex(t)?t:t&&t[0],n=this.store.hasLanguageSomeTranslations(r)?r:this.services.languageUtils.getBestMatchFromCodes(ex(t)?[t]:t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,e=>{o(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;let i=function(e,t){let o,a;if("object"!=typeof t){for(var s=arguments.length,u=Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];o=n.options.overloadTranslationOptionHandler([e,t].concat(u))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||r||i.keyPrefix);let c=n.options.keySeparator||".";return a=o.keyPrefix&&Array.isArray(e)?e.map(e=>`${o.keyPrefix}${c}${e}`):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,n.t(a,o)};return ex(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let o=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||0===r||2===r};if(t.precheck){let e=t.precheck(this,o);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!n||o(i,e)))}loadNamespaces(e,t){let r=eS();return this.options.ns?(ex(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=eS();ex(e)&&(e=[e]);let n=this.options.preload||[],i=e.filter(e=>0>n.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=n.concat(i),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services?.languageUtils||new eX(te())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ti(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr,r=e.forkResourceStore;r&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},i=new ti(n);if((void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){let e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((r,n)=>(r[n]={...e[t][n]},r),e[t]),e),{});i.store=new eV(e,n),i.services.resourceStore=i.store}return i.translator=new eQ(i.services,n),i.translator.on("*",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.emit(e,...r)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let to=ti.createInstance();to.createInstance=ti.createInstance,to.createInstance,to.dir,to.init,to.loadResources,to.reloadResources,to.use,to.changeLanguage,to.getFixedT,to.t,to.exists,to.setDefaultNamespace,to.hasLoadedNamespace,to.loadNamespaces,to.loadLanguages;var ta=function(e){void 0===e.ns&&(e.ns=[]);var t,r,n=to.createInstance(e);return n.isInitialized?t=Promise.resolve(to.t):(null==e||null===(r=e.use)||void 0===r||r.forEach(function(e){return n.use(e)}),"function"==typeof e.onPreInitI18next&&e.onPreInitI18next(n),t=n.init(e)),{i18n:n,initPromise:t}},ts=i.createElement;function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(r),!0).forEach(function(t){(0,J.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tc=null,td=function(e,t){if(t&&e.isInitialized)for(var r=0,n=Object.keys(t);r<n.length;r++)for(var i=n[r],o=0,a=Object.keys(t[i]);o<a.length;o++){var s,u=a[o];null!=e&&null!==(s=e.store)&&void 0!==s&&s.data&&e.store.data[i]&&e.store.data[i][u]||e.addResourceBundle(i,u,t[i][u],!0,!0)}},tp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=function(r){var n,o,a=(r.pageProps||{})._nextI18Next,s=null!==(n=null==a?void 0:a.initialLocale)&&void 0!==n?n:null==r||null===(o=r.router)||void 0===o?void 0:o.locale,u=null==a?void 0:a.ns,l=(0,i.useRef)(null),c=(0,i.useMemo)(function(){if(!a&&!t)return null;var e,r=null!=t?t:null==a?void 0:a.userConfig;if(!r)throw Error("appWithTranslation was called without a next-i18next config");if(!(null!=r&&r.i18n))throw Error("appWithTranslation was called without config.i18n");if(!(null!=r&&null!==(e=r.i18n)&&void 0!==e&&e.defaultLocale))throw Error("config.i18n does not include a defaultLocale property");var n=(a||{}).initialI18nStore,i=null!=t&&t.resources?t.resources:n;s||(s=r.i18n.defaultLocale);var o=l.current;return o?td(o,i):(td(o=ta(tl(tl(tl({},eb(tl(tl({},r),{},{lng:s}))),{},{lng:s},u&&{ns:u}),{},{resources:i})).i18n,i),tc=o,l.current=o),o},[a,s,u]);return eh(function(){c&&s&&c.changeLanguage(s)},[c,s]),null!==c?ts(Z,{i18n:c},ts(e,r)):ts(e,(0,K.Z)({key:s},r))};return X()(r,e)}},51135:function(e,t,r){e.exports=r(61917)},6913:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(14049)}])},62940:function(e){"use strict";e.exports={i18n:{defaultLocale:"ru-RU",locales:["de-DE","en-US","es-ES","et-EE","pl-PL","ru-RU","uk-UA","az-AZ","uz-UZ","tr-TR"]},interpolation:{escapeValue:!1,prefix:"{",suffix:"}",skipOnVariables:!1},localeDetection:!1,localeStructure:"{lng}/{ns}",localePath:"/.next/static/locales/",defaultNS:"translation",lng:"ru-RU",returnEmptyString:!1,lowerCaseLng:!1,cleanCode:!1,nsSeparator:"->",debug:!1,returnNull:!1,supportedLngs:["de-DE","en-US","es-ES","et-EE","pl-PL","ru-RU","uk-UA","az-AZ","uz-UZ","tr-TR"],saveMissing:!1,addPath:"/locales/{{lng}}/{{lng}}.missing.json",react:{useSuspense:!1},reloadOnPrerender:!1}},24310:function(e,t,r){"use strict";r.d(t,{j:function(){return g}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(61794),u=r(48592),l=r(66450),c=r(4438),d=r(34257),p=r(89798),f=r(59838),h=r(8365),m=r.n(h);let g=e=>{let{marking:t,forBanner:r,className:o,popoverPlacement:h,popoverOffset:g,link:_,hasIcon:v}=e,[y,b]=(0,i.useState)(!1),{t:x}=(0,u.$G)(),S=(0,s.CG)(e=>e.browser.pda),w=e=>{b(e)},k=e=>{e.stopPropagation(),b(!0)},E=e=>{null==e||e.stopPropagation(),b(!1)},C=e=>{if(e.stopPropagation(),_){if(r)window.navigator.clipboard.writeText(_);else{var t;let e=null===(t=window)||void 0===t?void 0:t.location.origin;window.navigator.clipboard.writeText(e+_)}}else(0,f.RY)("No link provided for copying in AdvertisingMarking component")},T=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:m().content,children:[(0,n.jsx)("p",{className:m().content__text,children:t}),_&&(0,n.jsx)(p.L,{className:m().copyLink,onClick:C,children:x("Скопировать ссылку")})]}),!S&&(0,n.jsx)(c.uQ,{name:"close",className:a()(m().icon,m().icon__close),onClick:E,size:16})]});return S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:a()(m().container,o),onClick:k,children:[(0,n.jsx)("p",{className:m().title,children:x("Реклама")}),v&&(0,n.jsx)(c.uQ,{name:"infoFilled",size:16,className:m().icon})]}),(0,n.jsx)(l.R,{open:y,onClose:E,children:(0,n.jsx)(T,{})})]}):(0,n.jsx)(d.J,{content:(0,n.jsx)(T,{}),contentClassName:m().tooltip,baseClassName:a()(m().tooltip__anchor,o),visible:y,onVisibleChange:w,customCloseTriggers:["lostIntersect"],trigger:"click",placement:h||"bottom",strategy:"absolute",offset:g||[10,r?-52:63],disableArrow:!0,children:(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsx)("p",{className:m().title,children:x("Реклама")}),v&&(0,n.jsx)(c.uQ,{name:"infoFilled",size:16,className:m().icon})]})})}},39490:function(e,t,r){"use strict";r.d(t,{D:function(){return p},q:function(){return d}});var n=r(31549);r(44194);var i=r(48592),o=r(21138),a=r.n(o),s=r(59838),u=r(61794),l=r(80930),c=r(28259);let d=()=>{let e=(0,u.CG)(e=>e.browser.clientHost),t=(0,l.HU)(),r=(0,c.V)(t),o=(0,s.vo)(e),d=(0,s.Af)(e),p=(0,s.f0)(e),f=(0,u.CG)(e=>e.face.language||"ru"),h=(0,u.CG)(e=>e.browser.pda),{t:m}=(0,i.$G)(),{data:g}=u.w7.useGetBannersQuery((0,s.qg)({isPDA:h,faceLanguage:f}),{skip:o||d||p}),_=null==g?void 0:g[0];return(0,n.jsxs)(a(),{children:[(0,n.jsx)("link",{rel:"shortcut icon",href:"https://cdn.litres.ru/static/litres/favicon.svg",type:"image/svg+xml"}),(0,n.jsx)("link",{rel:"shortcut icon",href:"https://cdn.litres.ru/static/litres/favicon.ico",type:"image/x-icon"}),(0,n.jsx)("link",{title:m("Новые книги на Литрес"),rel:"alternate",type:"application/rss+xml",href:"/rss/"}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:"https://cdn.litres.ru/static/litres/i/social/seo/icon_114x114.png?caf381"}),(0,n.jsx)("link",{rel:"yandex-tableau-widget",href:r.yandexTableauWidget}),(0,n.jsx)("link",{rel:"manifest",href:r.manifest}),(0,n.jsx)("meta",{content:f,httpEquiv:"content-language"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),_&&(0,n.jsx)("link",{rel:"preload",href:(0,s.zi)(_.image_url),as:"image",fetchpriority:"high"}),(0,n.jsx)("link",{rel:"preload",as:"font",fetchpriority:"high",href:"https://cdn.litres.ru/static/litres/fonts/ALSSirius-Regular.woff2",type:"font/woff2",crossOrigin:"anonymous"}),(0,n.jsx)("link",{rel:"preload",as:"font",fetchpriority:"high",href:"https://cdn.litres.ru/static/litres/fonts/ALSSirius-Medium.woff2",type:"font/woff2",crossOrigin:"anonymous"}),(0,n.jsx)("link",{rel:"preload",as:"font",fetchpriority:"high",href:"https://cdn.litres.ru/static/litres/fonts/ALSSirius-Bold.woff2",type:"font/woff2",crossOrigin:"anonymous"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://api.litres.ru"}),(0,n.jsx)("link",{rel:"dns-prefetch",href:"https://affiliate.litres.ru"}),(0,n.jsx)("link",{rel:"dns-prefetch",href:"https://www.google.ru"}),(0,n.jsx)("link",{rel:"dns-prefetch",href:"https://counter.yadro.ru"}),(0,n.jsx)("link",{rel:"dns-prefetch",href:"https://statad.ru"})]})},p=()=>{let{t:e}=(0,i.$G)(),t=(0,u.CG)(e=>e.browser.pda),r=(0,l.HU)(),o=e("Литрес – сервис электронных и аудиокниг, скачать в fb2 и mp3, читать и слушать онлайн на Litres"),s=e("Литрес – цифровой сервис электронных и аудиокниг, а также другого контента: подкасты, спектакли, интервью – скачивай, читай и слушай на любых устройствах. На Litres вы найдете рейтинги лучших книг, отзывы, рецензии, рекомендации, популярные авторы и многое другое.");return(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:o}),(0,n.jsx)("meta",{name:"description",content:s}),(0,n.jsx)("meta",{name:"robots",content:"noodp"}),(0,n.jsx)("link",{rel:"canonical",href:r}),(0,n.jsx)("meta",{property:"og:title",content:o}),(0,n.jsx)("meta",{property:"og:description",content:s}),(0,n.jsx)("meta",{property:"og:type",content:"books.book"}),(0,n.jsx)("meta",{property:"og:url",content:r}),(0,n.jsx)("meta",{property:"og:image",content:"".concat(l.Uq)}),(0,n.jsx)("meta",{property:"og:site_name",content:"Литрес"}),(0,n.jsx)("meta",{name:"Petal-Search-site-verification",content:"3115d14220"}),(0,n.jsx)("meta",{name:"google-site-verification",content:"oSdf0cvUDuAGs7spWwaQoYKYsKjBRS1Z7kqHo1p9p6Q"}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("link",{rel:"preconnect",href:"https://websdk.appsflyer.com"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://banner.appsflyer.com"})]})]})}},28259:function(e,t,r){"use strict";r.d(t,{J:function(){return o},V:function(){return i}});var n=r(52535);let i=e=>({yandexTableauWidget:"".concat(e,"/static/litres/inc/seo/yandex-tableau-manifest.json"),manifest:"".concat(e,"/static/manifest.json")}),o=(e,t)=>{if(e.includes("https://"))return e;let r=e,i="";switch(t){case"x-default":i="https://www.litres.ru";break;case"ru":i="https://www.litres."+n.lp[t];break;case"tr":i="https://litres-tr.com";break;default:i="https://litres."+n.lp[t]}return i+r}},53523:function(e,t,r){"use strict";r.d(t,{w:function(){return s}});var n=r(31549);r(44194);var i=r(21535),o=r.n(i),a=r(52805);let s=e=>{var t,r;let{clientHost:i,foundationUser:s}=e,l={dataLayer:{userID:(null==s?void 0:s.id)||0,email:null==s?void 0:null===(t=s.profile)||void 0===t?void 0:t.email,phone:null==s?void 0:null===(r=s.profile)||void 0===r?void 0:r.phone_number,fullName:(0,a.Js)({firstName:null==s?void 0:s.profile.first_name,lastName:null==s?void 0:s.profile.last_name,middleName:null==s?void 0:s.profile.middle_name})}};return(0,n.jsxs)("div",{id:"Tracking-Container",children:[(0,n.jsxs)("div",{id:"Tracking-NoJS-Container",children:[(0,n.jsx)("noscript",{children:(0,n.jsx)("img",{src:"https://www.tns-counter.ru/V13a****litres_ru/ru/UTF-8/tmsec=litres_total/",width:"1",height:"1",alt:""})}),(0,n.jsx)("noscript",{children:(0,n.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(u(i)),height:"0",width:"0",style:{display:"none",visibility:"hidden"},title:"googletagmanager"})}),(0,n.jsx)("noscript",{children:(0,n.jsx)("img",{src:"https://vk.com/rtrg?p=VK-RTRG-280711-d3F84",style:{position:"fixed",left:"-999px"},alt:""})})]}),(0,n.jsx)(o(),{id:"litresDataLayer",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n            window.LitresDataLayer = ".concat(JSON.stringify(l),"\n        ")}}),(0,n.jsx)(o(),{id:"Tracking-Fallbacks",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n          window.dataLayer = window.dataLayer || [];\n          window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;\n          function gtag() {\n            window.dataLayer.push(arguments);\n          }\n          gtag('js', new Date());\n\n          // Мейл.ру счетчик - переменная сбора данных\n          window._tmr = window._tmr || [];\n\n          // Сбер счетчик - переменная сбора данных\n          window.iapSDK = window.iapSDK || (window.iapSDK = []);\n          \n          // Flocktory\n          window.flocktory = window.flocktory || [];\n\n          // Yandex Metrika\n          window.ym=window.ym||function(){(window.ym.a=window.ym.a||[]).push(arguments)};\n      "}}),(0,n.jsx)(o(),{id:"GoogleTagManager",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n          })(window,document,'script','dataLayer','".concat(u(i),"');\n        ")}})]})};function u(e){switch(e){case"litres-tr.com":return"GTM-N7B827GX";case"litres.az":return"GTM-PQ3HX2PZ";case"litres.uz":return"GTM-587CXJ2J";case"litres.com":return"GTM-KJTPNDFQ";case"litres.ee":return"GTM-M4ST58WR";case"litres.pl":return"GTM-KHLBCGSM";case"litres.de":return"GTM-K7CWZC4Z";case"litres.es":return"GTM-NSKN7WSM";case"litres.ua":return"GTM-WZNR34QM";default:return"GTM-NM9VW6D"}}},1590:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});let n=e=>{var t;return null!==(t=({ParamValidationError:"Неверный формат промокода. Попробуйте еще раз",PromocodeAlreadyRedeemedAPIError:"Вы уже активировали этот промокод",AccountDepositRequiredAPIError:"Этот купон вы можете использовать только после пополнения счёта на сумму от ста рублей и выше",PromocodeNotFoundAPIError:"Неверный код промокода",PromocodeExpiredAPIError:"Время действия промокода истекло",PromocodeSeriesRedeemLimitExceededAPIError:"Вы уже активировали этот промокод",PromocodeSeriesRedeemLimitPerUserExceededAPIError:"Достигнут лимит активации этого промокода",PromocodeRedeemAvailableToNewUsersOnlyAPIError:"Промокод только для новых пользователей",PromocodeRedeemAvailableOnlyToUsersWithRebillAPIError:"Для активации промокода необходимо привязать банковую карту в разделе Профиль -> Мои способы оплаты",PromocodeRedeemAvailableToNewSubscribersOnlyAPIError:"Купон предназначен только для новых подписчиков"})[e])&&void 0!==t?t:"Техническая ошибка. Попробуйте ещё или обратитесь в поддержку"}},78265:function(e,t,r){"use strict";r.d(t,{D:function(){return l},z:function(){return c}});var n=r(44194),i=r(62094),o=r(61794),a=r(59838),s=r(1590);let u=r(25868).uc.feature("PromocodeActivationError"),l="promocode",c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isFixedPromocode:!1,isPromocodeWithRedirectUrl:!1},r=(0,o.CG)(e=>e.foundationUser.id),[c,d]=(0,n.useState)(""),[p,f,h]=(0,i.Dz)(l,null),[m,{isUninitialized:g,isLoading:_,reset:v,isSuccess:y,error:b}]=o.hK.useRedeemMutation(),x=(0,o.TL)();(0,n.useEffect)(()=>{let e=()=>{let e=(0,a.ej)(l);e&&f(JSON.parse(e))};return window.addEventListener("promocodeUpdate",e),()=>{window.removeEventListener("promocodeUpdate",e)}},[f]);let S=(e,t)=>{(0,a.d8)(l,JSON.stringify(e),t),f(e,t);let r=new Event("promocodeUpdate");window.dispatchEvent(r)},w=e=>{let{promocode:n}=e;return d(""),m({code:n}).unwrap().then(e=>{var i,s;let{redeemed:u}=e.payload.data;return f({path:window.location.pathname,promocode:n,userId:r,isActivated:!0,isRedeemed:r>0&&!u,isFixedPromocode:null!==(i=t.isFixedPromocode)&&void 0!==i&&i,isPromocodeWithRedirectUrl:null!==(s=t.isPromocodeWithRedirectUrl)&&void 0!==s&&s},{expires:0}),u&&((0,a.d8)("redeemed_promocode_jwt",u,{maxAge:86400}),x(o.hi.browser.setHeader(["Anonymous-Discount",u]))),e}).catch(e=>{var t,r;throw(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.error.type)&&d((0,s.L)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.error.type)),u("BackendInteractionError","Failed to redeem promocode",{originalError:e})})};function k(){h();let e=new Event("promocodeUpdate");window.dispatchEvent(e)}let E=(0,n.useMemo)(()=>p&&p.isActivated&&(p.path===window.location.pathname||!window.location.pathname.includes("/landing/"))&&(0===p.userId||p.userId===r)?p.promocode:null,[JSON.stringify(p),r]);return(0,n.useEffect)(()=>{if(e&&!p&&!E){var n,i;S({path:window.location.pathname,promocode:e,userId:r,isActivated:!1,isFixedPromocode:null!==(n=t.isFixedPromocode)&&void 0!==n&&n,isPromocodeWithRedirectUrl:null!==(i=t.isPromocodeWithRedirectUrl)&&void 0!==i&&i},{expires:0})}},[e,E,r,p,t.isFixedPromocode,t.isPromocodeWithRedirectUrl]),[{activatedPromocode:E,persistedPromocode:p,backendErrorMessage:c,isLoading:_,isSuccess:y,isUninitialized:g,error:b},{redeemPromocode:w,resetRedeemPromocode:k,setBackendErrorMessage:d,setPersistedPromocode:S,resetRedeemPromocodeRequest:v}]}},57785:function(e,t,r){"use strict";r.d(t,{F:function(){return p}});var n=r(31549),i=r(34270),o=r(44194),a=r(59838),s=r(61794),u=r(26249),l=r(78265),c=r(32176),d=r.n(c);function p(e){let{onActivationSuccess:t=a.ZT}=e,r=(0,u.useRouter)(),[c,p]=(0,o.useState)(null),[{activatedPromocode:f,persistedPromocode:h},{redeemPromocode:m,setPersistedPromocode:g,resetRedeemPromocode:_}]=(0,l.z)(),v=(0,s.CG)(e=>e.foundationUser.id),y=(e,t)=>{p({type:e,message:t})};return((0,o.useEffect)(()=>{let e=(0,a.ej)("firstUpdatedPageAfterAuth");if(e&&h&&h.isFixedPromocode&&h.isPromocodeWithRedirectUrl){_();return}e&&h&&!(h.isFixedPromocode&&h.isPromocodeWithRedirectUrl)&&m({promocode:h.promocode}).then(e=>{if(200!==e.status)throw Error();g({...h,isRedeemed:!0,userId:v}),y("success","Промокод успешно применен"),t(h.promocode),window.location.reload()}).catch(()=>{y("error","Промокод недоступен"),_()})},[h,f,v,r.pathname]),c)?(0,n.jsx)(i.P,{time:1e4,isOpen:!0,className:d().promocodeActivationAfter,mode:c.type,title:c.message,message:"",showIcon:!0,verticalAlign:"top",horizontalAlign:"right"}):null}},97439:function(e,t,r){"use strict";var n,i,o,a,s,u,l,c,d,p;r.d(t,{AI:function(){return a},DI:function(){return d},Kp:function(){return s},SI:function(){return o},VX:function(){return p},XL:function(){return n},XS:function(){return _},bl:function(){return g},f9:function(){return l},hB:function(){return m},ik:function(){return h},mW:function(){return u},nv:function(){return f},pi:function(){return i}}),function(e){e.book="book",e.audiobook="audiobook",e.podcast="podcast",e.webtoon="webtoon"}(n||(n={})),function(e){e.buy_now_reg="buy_now_reg",e.buy_now="buy_now",e.read_unreg="read_unreg"}(i||(i={})),function(e){e.drm="drm",e.autospeech="autospeech",e.draft="draft",e.is_gift="is_gift",e.is_audio="is_audio",e.is_podcast_draft="is_podcast_draft"}(o||(o={})),function(e){e.fb3="fb3",e.fb2="fb2.zip",e.epub="epub",e.txtZip="txt.zip",e.rtf="rtf.zip",e.a4pdf="a4.pdf",e.html="html",e.htmlZip="html.zip",e.iosEpub="ios.epub",e.mobi="mobi.prc",e.a6pdf="a6.pdf",e.lrf="lrf",e.txt="txt",e.azw3="azw3"}(a||(a={})),function(e){e.PDF=".pdf",e.EPUB=".epub",e.MOBI=".mobi",e.AZW=".azw",e.AZW3=".azw3",e.FB2=".fb2",e.DJVU=".djvu",e.TXT=".txt",e.HTML=".html",e.RTF=".rtf",e.CBZ=".cbz",e.CBR=".cbr",e.ZIP=".zip",e.RAR=".rar",e.BIN=".bin",e.FB3="fb3",e.LRF="lrf"}(s||(s={}));let f=["mobile_version_mp4","mobile_version_mp4_16_kbps","mobile_version_mp4_32_kbps","standard_quality_mp3","standard_quality_mp3_64kbps","standard_quality_mp3_128kbps","zip_with_mp3"],h=["zip_with_mp3","mobile_version_mp4"],m=["pdf_book"],g=["epub_book"],_=["epub"];(function(e){e.readOnlineRu="chitat-onlayn",e.readOnlineGlobal="read",e.reviewsRu="otzivi",e.reviewsGlobal="reviews",e.quoteList="quotes",e.quoteRu="citata",e.similarRu="similar"})(u||(u={})),function(e){e.INSTANT="Взять в библиотеке",e.REQUESTED="Отменить запрос",e.DELAYED="Запросить у библиотекаря"}(l||(l={})),function(e){e[e.bookPage=5]="bookPage",e[e.reviewsPage=10]="reviewsPage"}(c||(c={})),function(e){e.TEXT="?art_types=text_book",e.AUDIO="?art_types=audiobook",e.PODCAST="?art_types=podcast"}(d||(d={})),function(e){e.BOOK="BOOK",e.AUDIO="AUDIO",e.PODCAST="PODCAST"}(p||(p={}))},76103:function(e,t,r){"use strict";r.d(t,{TG:function(){return o}});var n=r(97439);let i={[n.AI.fb3]:"fb3",[n.AI.fb2]:"fb2",[n.AI.epub]:"epub",[n.AI.txtZip]:"txt",[n.AI.rtf]:"rtf",[n.AI.a4pdf]:"pdf",[n.AI.html]:"html",[n.AI.htmlZip]:"html",[n.AI.iosEpub]:"ios.epub",[n.AI.mobi]:"mobi",[n.AI.azw3]:"azw3",[n.AI.a6pdf]:"pdf",[n.AI.lrf]:"lrf",[n.AI.txt]:"txt",pdf:"pdf",mp3:"mp3",m4b:"m4b",zip:"zip"},o=e=>{var t;if(e.extension===n.AI.fb2)return i[n.AI.fb2];if(a(e))return i.zip;if(e.extension&&i.hasOwnProperty(e.extension))return i[e.extension];if(e.filename.endsWith("pdf")||(null===(t=e.mime)||void 0===t?void 0:t.includes("pdf")))return i.pdf;if(e.encoding_type)switch(e.encoding_type){case"mobile_version_mp4":case"mobile_version_mp4_16_kbps":case"mobile_version_mp4_32_kbps":return i.m4b;case"additional_materials_mp3":case"standard_quality_mp3":case"standard_quality_mp3_128kbps":case"standard_quality_mp3_64kbps":return i.mp3}},a=e=>{var t;return(null===(t=e.extension)||void 0===t?void 0:t.endsWith("zip"))||"zip_with_mp3"===e.encoding_type||!e.extension&&e.filename.endsWith("zip")}},70608:function(e,t,r){"use strict";r.d(t,{$K:function(){return eQ},AH:function(){return eS},Bw:function(){return W},D:function(){return e0},DK:function(){return V},Eb:function(){return eU},F0:function(){return E},FM:function(){return eA},GD:function(){return eP},GN:function(){return Y},Gs:function(){return C},HX:function(){return eT},KX:function(){return e2},Kg:function(){return j},Kh:function(){return em},Kx:function(){return B},Ln:function(){return ei},Lr:function(){return K},Lx:function(){return N},M4:function(){return eR},MD:function(){return _},N$:function(){return ee},N9:function(){return eC},NO:function(){return eI},O3:function(){return G},P$:function(){return eg},P7:function(){return O},R4:function(){return M},Rb:function(){return eb},S2:function(){return eL},SN:function(){return eJ},T4:function(){return J},TT:function(){return ej},TX:function(){return m},Th:function(){return z},Ux:function(){return eH},Vc:function(){return eK},Yg:function(){return U},Yx:function(){return eN},ZI:function(){return es},Z_:function(){return e7},bf:function(){return eO},bu:function(){return eq},c4:function(){return R},cV:function(){return e4},c_:function(){return eh},cn:function(){return I},dV:function(){return eu},eL:function(){return ed},eU:function(){return Q},g9:function(){return eM},i$:function(){return ex},jL:function(){return ey},jT:function(){return eV},js:function(){return e9},k2:function(){return eE},kC:function(){return e$},kE:function(){return g},kR:function(){return e1},kW:function(){return q},kk:function(){return P},nf:function(){return eB},pH:function(){return eG},qb:function(){return eF},s$:function(){return eX},s2:function(){return D},t7:function(){return te},tL:function(){return L},td:function(){return eW},u:function(){return eZ},uT:function(){return X},uU:function(){return ez},uV:function(){return ev},v8:function(){return e_},w0:function(){return F},wp:function(){return k},xF:function(){return e3},yo:function(){return ep},zt:function(){return ew}});var n=r(86474),i=r.n(n),o=r(14698),a=r.n(o),s=r(18370),u=r(59838);r(48592);var l=r(97439),c=r(52805),d=r(79583),p=r(80930),f=r(73758),h=r(76103);let m=700,g=/(<([^>]+)>)/gi,_=10,v=[s.lG.audio,s.lG.ozonAudio,s.lG.olesiejukAudio,s.lG.podcast,s.lG.podcastEpisode];s.lG.text,s.lG.pdf,s.lG.gift,s.lG.gardner,s.lG.read,s.lG.ozonText,s.lG.olesiejukText,s.lG.epub;let y=[s.lG.read,s.lG.ozonText,s.lG.olesiejukText],b=[l.mW.readOnlineRu,l.mW.readOnlineGlobal],x=[l.mW.reviewsRu,l.mW.reviewsGlobal],S=[l.mW.quoteList],w=[l.mW.quoteRu],k=[...b,...x,...S,...w],E=e=>v.includes(e.art_type),C=e=>!v.includes(e.art_type),T=e=>!!e.podcast_episodes_count,j=e=>R(e)&&!T(e),A=e=>y.includes(e.art_type),R=e=>e.art_type===s.lG.podcast,O=e=>e.art_type===s.lG.podcastEpisode,P=e=>e.art_type===s.lG.podcast||e.art_type===s.lG.podcastEpisode,L=e=>6===Number(e.availability)||2===Number(e.availability),I=e=>e.art_type===s.lG.pdf,N=e=>e.art_type===s.lG.webtoon,F=e=>!e.is_draft&&(e.is_drm||e.is_auto_speech_gift||e.is_auto_speech||eR(e)),D=e=>{let t=new Set;return e.forEach(e=>{let r=(0,h.TG)(e);r&&t.add(r)}),[...t.keys()].sort((e,t)=>e<t?-1:e>t?1:0)},M=e=>!!e.is_draft,U=e=>e.is_free||e.is_draft_full_free||e.my_art_status>0,q=e=>"in_cart"===e.in_user_cart_status,B=e=>{let{art:t,user:r}=e;return 1!==t.my_art_status||!r.id||t.is_drm||t.is_draft||eu({art:t,user:r})||ey(t)},z=e=>{let{art:t,user:r}=e;return!r.id||1!==t.my_art_status||t.is_drm},G=e=>Number(e.in_gifts)>0,W=e=>!!e.is_fourth_art_gift,$=e=>!!e.is_exclusive_abonement,H=e=>!!e.my_art_status||!!e.is_subscription_art,V=e=>2===e.my_art_status,Z=e=>!H(e)&&(1>Number(e.availability)||A(e)),K=e=>2===e.availability,J=e=>!H(e)&&e.is_prohibited_for_sale,Q=(e,t)=>Z(e)||6===e.availability&&!t,X=e=>C(e)&&(U(e)||ey(e)),Y=e=>E(e)&&(U(e)||ey(e)),ee=e=>6!==Number(e.availability)&&2!==Number(e.availability)||!!e.available_from&&!!e.can_be_preordered,et=e=>{let{art:t,user:r}=e;return!U(t)&&r.partner_subscriptions.has_active&&"active_subscription"===t.art_subscription_status_for_user&&er({art:t,user:r})},er=e=>{let{art:t,user:r}=e,{activeSubscriptions:n}=ea({art:t,user:r});return n.length>0},en=e=>!!(e.subscription.is_active&&e.subscription.grace_period_start),ei=e=>e.partner_subscriptions.subscriptions.some(e=>e.is_in_grace_period),eo=e=>{let{art:t,user:r}=e;return!U(t)&&t.is_available_with_subscription&&r.subscription.is_active&&"active_subscription"===t.art_subscription_status_for_user},ea=e=>{let{art:t,user:r}=e;if(0===t.availability_with_partner_subscriptions.length)return{activeSubscriptions:[],inactiveSubscriptions:[]};let n=new Set(r.partner_subscriptions.subscriptions.filter(e=>e.is_active).map(e=>e.sub_id));return{activeSubscriptions:t.availability_with_partner_subscriptions.filter(e=>n.has(e.id)),inactiveSubscriptions:t.availability_with_partner_subscriptions.filter(e=>!n.has(e.id))}},es=e=>{let{art:t,user:r}=e,{activeSubscriptions:n,inactiveSubscriptions:i}=ea({art:t,user:r});return!(eo({art:t,user:r})||n.length>0)&&i.length>0},eu=e=>{let t=eo(e)||et(e);if(et(e))return!0;if(!t)return!1;if(!en(e.user)||et(e))return!0;let r=e.user.subscription.is_active&&e.user.subscription.grace_period_start;return!!eo(e)&&!r||!!e.art.is_subscription_art},el=e=>{let{art:t,user:r}=e;return!(U(t)||ed(r))&&!t.is_auto_speech_gift&&!!r.abonement.is_active&&!t.is_abonement_forbidden&&t.is_available_with_abonement},ec=e=>{let{art:t,user:r}=e;return!U(t)&&!!t.is_available_with_subscription&&!eu({art:t,user:r})&&!en(r)&&!$(t)&&!G(t)&&!W(t)&&!el({art:t,user:r})},ed=e=>!!(e.library_info.is_school_user||e.library_info.is_school_domain),ep=e=>!!eu(e)||!ed(e.user)&&ec(e),ef=e=>{let{art:t,user:r}=e;return!U(t)&&!r.abonement.is_active&&t.is_abonement_art&&!t.is_auto_speech_gift&&!ep({art:t,user:r})},eh=e=>{var t;let{art:r,user:n}=e;return!(G(r)||W(r)||Number(null===(t=r.prices)||void 0===t?void 0:t.final_price)>m||ed(n))&&(el({art:r,user:n})||ef({art:r,user:n}))},em=e=>{let{art:t,user:r}=e;return!U(t)&&!t.is_prohibited_for_sale&&!ed(r)&&!G(t)&&!W(t)&&!t.is_auto_speech_gift&&(!$(t)||$(t)&&r.abonement.is_active&&!t.is_available_with_abonement&&t.is_abonement_art)},eg=e=>{let{art:t,user:r}=e;return(ed(r)||!U(t))&&!W(t)&&!$(t)&&!G(t)&&!eu({art:t,user:r})&&!!r.library_info.is_library_user&&!!t.library_information&&"received"!==t.library_information.biblio_selfservice&&"impossible"!==t.library_information.biblio_selfservice&&!R(t)},e_=e=>M(e)||L(e)||R(e),ev=e=>(e.is_prohibited_for_sale||0>=Number(e.availability))&&!!e.library_information&&("delayed"===e.library_information.biblio_selfservice||"instant"===e.library_information.biblio_selfservice||"requested"===e.library_information.biblio_selfservice),ey=e=>{var t;return(null===(t=e.library_information)||void 0===t?void 0:t.biblio_selfservice)==="received"},eb=e=>e.is_referrable&&!e.is_draft_full_free,ex=e=>["ru"].some(t=>t===e),eS=e=>["ru","pl"].some(t=>t===e),ew=e=>{let{art:t,user:r}=e;return"not_available_to_add"!==t.in_user_cart_status&&(1===t.availability||6===t.availability&&t.can_be_preordered)&&!A(t)&&!U(t)&&(!$(t)||$(t)&&r.abonement.is_active&&!t.is_available_with_abonement&&t.is_abonement_art)&&!t.is_auto_speech_gift&&!R(t)},ek=e=>{let{art:t,user:r,isDisabledCheckSchoolUser:n=!1}=e;return!U(t)&&!j(t)&&(n||!r.library_info.is_school_user)&&!eu({art:t,user:r})&&!t.is_prohibited_for_sale&&(i()(t.availability)||a()(t.availability)||![-1,0,2].includes(t.availability)||!!t.is_preorder_show_fragment)&&(!Q(t,!1)||!!t.is_preorder_show_fragment)},eE=e=>{let{art:t,user:r}=e;return E(t)&&ek({art:t,user:r,isDisabledCheckSchoolUser:!0})},eC=e=>{let{art:t,user:r}=e;return C(t)&&ek({art:t,user:r})},eT=e=>{let t=e.art_type;return t===s.lG.podcast||t===s.lG.podcastEpisode?l.XL.podcast:E(e)?l.XL.audiobook:l.XL.book},ej=e=>{var t;return Number(null===(t=e.split("/").slice(-1)[0].match(/\d+/g))||void 0===t?void 0:t[0])},eA=e=>{var t;let r=null===(t=e.match(/(\d{6,})/g))||void 0===t?void 0:t.slice(-1)[0];return r?Number(r):void 0},eR=e=>e.art_type===Number(s.lG.podcast)&&!e.is_podcast_complete,eO=e=>{if(e>999){let t=(Math.round(e/100)/10).toString().replace(".",",");return"".concat(t,"K")}return"".concat(e)},eP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return new Date(e).toLocaleDateString("ru-Ru",{year:"numeric",month:"long",day:"numeric"}).slice(0,-3).replace(/\sг\./,"").replace(eV(e),t(eV(e)))},eL=e=>{let t=(0,c.P0)(e),r=Number(t.hours)>0?"".concat(Number(t.hours)," ч."):"";return"".concat(r," ").concat(t.minutes," мин.").trim()},eI=e=>"standard_quality_mp3_128kbps"===e.encoding_type||"standard_quality_mp3"===e.encoding_type||"standard_quality_mp3_64kbps"===e.encoding_type,eN=(e,t)=>e.filename<t.filename?-1:e.filename===t.filename?0:1,eF=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=["байт","КБ","МБ","ГБ","ТБ","ПБ"],i=0,o=e||0;for(;o>=1024&&++i;)o/=1024;let a=n[i];switch(t){case void 0:case"upper":a=a.toUpperCase();break;case"lower":a=a.toLowerCase();break;case"firstLetterUpper":a=(0,u.kC)(a.toLowerCase())}return"".concat(o.toFixed(o<10&&i>0?1:0)).concat(r?" ":"").concat(a)},eD=e=>{let{duration:t,hasSeconds:r=!1,t:n=e=>e}=e,{hours:i,minutes:o,seconds:a}=t?(0,c.P0)(t):{hours:0,minutes:0,seconds:0},s="";return Number(i)?s="".concat(Number(i)," ").concat(n("ч.")," ").concat(o," ").concat(n("мин.")):Number(o)&&(s="".concat(o," ").concat(n("мин."))),s&&r&&(s+=" "),r&&(s+="".concat(a," ").concat(n("сек."))),s},eM=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e,n=arguments.length>3?arguments[3]:void 0;if(E(e)){let n=e.additional_info.current_pages_or_seconds||0,i=e.additional_info.expected_pages_or_seconds;if((!n||isNaN(n))&&!M(e))return null;let o=eD({duration:n,hasSeconds:t,t:r});return M(e)&&i&&(o="".concat(o," ").concat(r("из")," ~").concat(eD({duration:i,hasSeconds:t,t:r}))),o}let i=e.additional_info.current_pages_or_seconds||0,o=e.additional_info.expected_pages_or_seconds;if(!i&&!M(e))return null;let a="".concat((0,c.bj)(i));return M(e)&&o&&(a=n?(0,c.bj)(o):"".concat(a," ").concat(r("из")," ~").concat((0,c.bj)(o))),"".concat(a)},eU=e=>{var t;let{art:r,extra:n}=e;return{id:r.id,available:null!==(t=r.availability)&&void 0!==t?t:void 0,format:r.art_type,is_next:!0,is_draft:r.is_draft,is_draft_full_free:r.is_draft_full_free,is_auto_speech:r.is_auto_speech,is_auto_speech_gift:r.is_auto_speech_gift,my_art_status:r.my_art_status,is_free:r.is_free,is_subscription_art:"active_subscription"===r.art_subscription_status_for_user,is_drm:r.is_drm,is_available_with_subscription:r.is_available_with_subscription,is_abonement_art:r.is_abonement_art,is_prohibited_for_sale:r.is_prohibited_for_sale,ref_url:r.url||"",art_label:(0,f.wn)(r),...n}},eq=e=>eX(e)?"book_card_read_online":e1(e)?"book_card_sep_quote":eQ(e)?"book_card_reviews":e2(e)?"book_card_sep_review":e0(e)?"book_card_quotes":"book_card",eB=e=>e1(e)?d.l.quotePage:e2(e)?d.l.reviewPage:e0(e)?d.l.quotesListPage:e5(e)?d.l.reviewsListPage:eX(e)?d.l.readOnline:eY()?d.l.trialFragment:d.l.bookCard,ez=e=>{let{slug:t,subpage:r,subpageParams:n}=e.split("/").filter(Boolean).reduce((e,t)=>{if(e.subpage){let r=t.match(/page=(\d{1,4})/);return(null==r?void 0:r[1])&&(e.subpageParams.page=parseInt(null==r?void 0:r[1])),e}return k.includes(t)?e.subpage=t:"nextenv"===t||(e.slug=e.slug+"/"+t),e},{slug:"",subpage:"",subpageParams:{page:1}});return{slug:t,subpage:r,subpageParams:n}},eG=e=>{let t=e;for(let e=0;e<=t.length-1;e++)if("/"!==t[e]){t=t.slice(e);break}for(let e=t.length-1;e>=0;e--)if("/"!==t[e]){t=t.slice(0,e+1);break}return t},eW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return"0 Б";let r=1024,n=t<0?0:t,i=["Б","КБ","МБ","ГБ","ТБ","ПБ","ЭБ","ЗБ","ЙБ"],o=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(r,o)).toFixed(n))," ").concat(i[o])},e$=e=>{var t;return(10*((null===(t=e.prices)||void 0===t?void 0:t.full_price)||0)+.5)/100},eH=e=>{let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e),i=new Date(r.getFullYear(),n.getMonth(),n.getDate()),o=r.getFullYear()-n.getFullYear();return r<i&&(o-=1),o},eV=e=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][new Date(e).getMonth()],eZ=e=>null===e?0:+e,eK=(e,t)=>"string"==typeof e?new URLSearchParams(e).get(t):null,eJ=(e,t)=>e.persons?e.persons.filter(e=>t.includes(e.role)):[],eQ=e=>x.some(t=>t===e),eX=e=>b.some(t=>t===e),eY=()=>{let e=u.Ym&&(document.referrer||window.customReferrer);return e?e.includes("/static/or4/view/or.html")&&e.includes("&trials=1")||e.includes("/static/or3/view/or.html")&&e.includes("&trial=1"):""},e0=e=>S.some(t=>t===e),e1=e=>w.some(t=>t===e),e2=e=>"review_page"===e,e5=e=>x.some(t=>t===e),e4=(e,t)=>{var r;return!!e&&parseInt((null==e?void 0:null===(r=e.split("/"))||void 0===r?void 0:r[3])||"")===t},e3=e=>(null==e?void 0:e.find(e=>"author"===e.role&&!!e.url))||(null==e?void 0:e.find(e=>!!e.url)),e8=e=>E(e)&&!R(e),e6=e=>R(e)&&T(e)&&!O(e),e9=e=>e8(e)?l.VX.AUDIO:e6(e)?l.VX.PODCAST:l.VX.BOOK,e7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isDisabledRemoveLinkText:r=!1}=t;try{let t=/https?:\/\/[^\s<"']*/gm,n=/(<img[^>]*>)|(<a[^>]*>(.*?)<\/a>)|(https?:\/\/[^\s<"']*)/gm,i=(e,n,i,o,a)=>n?e:i?i.indexOf(p.m4)>=0?e:o?o.replace(t,""):"":a&&!r?a.indexOf(p.m4)>=0?e:"":e;return e.replace(n,i)}catch(t){return e}},te=function(e){var t,r,n,i,o,a,s,u;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!l&&(null==e?void 0:null===(t=e.meta_tags)||void 0===t?void 0:t.root)?null==e?void 0:null===(o=e.meta_tags)||void 0===o?void 0:o.root:e0(l)&&(null==e?void 0:null===(r=e.meta_tags)||void 0===r?void 0:r.quotes)?null==e?void 0:null===(a=e.meta_tags)||void 0===a?void 0:a.quotes:e5(l)&&(null==e?void 0:null===(n=e.meta_tags)||void 0===n?void 0:n.reviews)?null==e?void 0:null===(s=e.meta_tags)||void 0===s?void 0:s.reviews:eX(l)&&(null==e?void 0:null===(i=e.meta_tags)||void 0===i?void 0:i.readonline)?null==e?void 0:null===(u=e.meta_tags)||void 0===u?void 0:u.readonline:{title:"",description:""}}},70397:function(e,t,r){"use strict";r.d(t,{Eq:function(){return m},zO:function(){return p}});var n=r(31549),i=r(44194),o=r(61794),a=r(36921),s=r(62094),u=r(59838),l=r(52535);let c=null,d=!1,p=e=>{let{isEnabledOnPage:t,children:r,isDesktop:i}=e;return h(t,i),(0,n.jsx)(n.Fragment,{children:r})};function f(e){let t=30,[r,n]=(0,i.useState)(t),a=(0,s.uH)()&&(0,u.ej)(l.gc.cookieAgreement),c=(0,o.CG)(e=>e.browser.pda),{interface:{stickyPlayer:{isOpen:d},checkoutBox:{isOpen:p,height:f}}}=(0,o.CG)(e=>e.global);function h(){let r=t;return e||(r+=50),d&&(r+=e?70:40),p&&(r+=f||0),a&&(r+=20,c&&(r+=10)),r}return(0,i.useEffect)(()=>{let e=h();e!==r&&n(e)},[d,e,p,f,a]),r?"".concat(r,"px"):null}function h(e,t){let r=(0,o.CG)(e=>e.foundationUser),n=(0,o.CG)(e=>e.face.language),s=f(t),[u,l]=(0,i.useState)(!1);async function p(e){if(c){c.show();return}if(!d){d=!0;let t=await _();if(d=!1,l(!0),!t)return;(c=new t({user:e})).init()}}let h=()=>{a.Z.unsubscribeAll("helpdeskeddy-hide-widget"),a.Z.unsubscribeAll("helpdeskeddy-show-widget");try{e&&"ru"==n?(p(r),a.Z.subscribe("helpdeskeddy-hide-widget",g),a.Z.subscribe("helpdeskeddy-show-widget",()=>p(r))):g()}catch(e){console.error("Switching visibility state of Help Desk Widget:",e)}};(0,i.useEffect)(()=>{let e;return u||(e=setTimeout(h,5e3)),window.addEventListener("load",h),()=>{clearTimeout(e),window.removeEventListener("load",h)}},[r,s]),(0,i.useEffect)(()=>{c&&u&&s&&c.changeStyles({bottom:s,"z-index":5e3})},[s,u]);let m=(0,i.useCallback)(()=>{var e;null===(e=document.getElementById("hde-chat-init-btn-3"))||void 0===e||e.click()},[]);(0,i.useEffect)(()=>{let e=a.Z.subscribe("helpdeskeddy-fake-chat-button-click",m);return()=>{a.Z.unsubscribe("helpdeskeddy-fake-chat-button-click",e)}},[]),(0,i.useEffect)(()=>{c&&h()},[e])}function m(){if(!c){console.error("Showing Help Desk Widget Chat Form: Widget was not initialized on the page");return}c.showСhatForm()}function g(){c&&c.hide()}async function _(){try{let{WidgetManager:e}=await r.e(666).then(r.bind(r,40666));return e}catch(e){window.navigator.onLine&&console.error("Loading Help Desk Widget Manager:",e)}}},52931:function(e,t,r){"use strict";r.d(t,{R:function(){return n},e:function(){return i}});let n="winkModalShown",i="is-wink-enabled"},46883:function(e,t,r){"use strict";r.d(t,{K:function(){return s},j:function(){return n}});var n,i=r(7956),o=r(25868),a=r(39595);!function(e){e.FRONTEND_TIMEOUT_PAYMENT="FRONTEND_TIMEOUT_PAYMENT",e.FRONTEND_TIMEOUT_ISSUANCE="FRONTEND_TIMEOUT_ISSUANCE",e.ISSUANCE_ERROR="ISSUANCE_ERROR",e.ORDER_SAVING_ERROR="ORDER_SAVING_ERROR"}(n||(n={}));class s{get hasId(){return this.id>0}setId(e){this.id=e}clearId(){this.id=0}actualizeStateData(e){this.stateInfo=e}setErrorInfo(e){this.errorInfo=e}setReceiptEmail(e){this.receiptEmail=e}validateReceiptEmail(){return s.validateEmail(this.receiptEmail)}static validateEmail(e){return!e||(0,i.Z_)().email().isValidSync(e)}reset(){this.clearId(),this.stateInfo={issuance:{status:"notStarted"},payment:{status:"notStarted"}}}static isOrderErrorInfo(e){return!!e&&"object"==typeof e&&void 0!==e.code}static isOrderBackendErrorInfo(e){return s.isOrderErrorInfo(e)&&!this.isOrderFrontendErrorInfo(e)}static isOrderFrontendErrorInfo(e){return s.isOrderErrorInfo(e)&&void 0!==n[e.code]}static isOrderSavingNetworkError(e){return s.isOrderFrontendErrorInfo(e)&&"ORDER_SAVING_ERROR"===e.code&&(0,a.Z7)(e.error)&&(0,o.p3)(e.error.originalError)}setPriceOnBackend(e){this.priceFromBackend=e}setBonuses(e){this.bonuses=e}getBonuses(){return this.bonuses}getTotalPriceWithBonusesProgramUsage(){if(!this.bonuses)throw(0,a.EL)("FrontendLogicError","Getting price with bonuses program usage","There is no bonuses info");return this.bonuses.shouldSpendBonuses?this.bonuses.spendBonusesOn.price:this.bonuses.spendBonusesOff.price}toggleBonuses(){this.bonuses&&(this.bonuses={...this.bonuses,shouldSpendBonuses:!this.bonuses.shouldSpendBonuses})}checkIfCompleted(){var e,t;return this.shouldWaitForIssuanceAfterPayment?(null===(t=this.stateInfo.issuance)||void 0===t?void 0:t.status)==="issued":(null===(e=this.stateInfo.payment)||void 0===e?void 0:e.status)==="paid"}checkIfDeclined(){var e,t,r;return this.shouldWaitForIssuanceAfterPayment?(null===(t=this.stateInfo.payment)||void 0===t?void 0:t.status)==="unpaid"||(null===(r=this.stateInfo.issuance)||void 0===r?void 0:r.status)==="unissued":(null===(e=this.stateInfo.payment)||void 0===e?void 0:e.status)==="unpaid"}checkIfWaitingForIssuance(){return this.shouldWaitForIssuanceAfterPayment&&"paid"===this.stateInfo.payment.status}constructor(e){this.id=e.id,this.currency=e.currency,this.stateInfo=e.stateInfo,this.priceFromBackend=e.priceFromBackend,this.bonuses=e.bonuses,this.receiptEmail=e.receiptEmail,this.label=e.label,this.faceLanguage=e.faceLanguage,this.persistedBonusAdd=e.persistedBonusAdd,this.persistedBonusOfferAmount=e.persistedBonusOfferAmount}}},40368:function(e,t,r){"use strict";r.d(t,{D:function(){return a}});var n=r(59838),i=r(39595),o=r(40111);class a extends o.P{getStandardFlowTotalPrice(){return this.selectedTariff.prices.totalPrice}async refreshProductInfoUntilActive(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=await e.userAbonementInfoRefreshing.refresh();if(!r.isActive&&t<=this.refreshingMaxAttempts)return await (0,n._v)(this.refreshingRetryIntervalMs),this.refreshProductInfoUntilActive(e,t+1);r.isActive||(this.userAbonement.activateOptimisticallyOnClientSide(),(0,i.EL)("BackendInteractionError","Refreshing user abonement info","after ".concat(this.refreshingRetryIntervalMs*this.refreshingMaxAttempts,"ms abonement is still not activated!")).emit({logLevel:"debug"})),this.userAbonement=r}constructor(e){super(e),this.shouldWaitForIssuanceAfterPayment=!1,this.selectedTariff=e.selectedTariff,this.userAbonement=e.userAbonement}}},14563:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(59838),i=r(39595),o=r(40111);class a extends o.P{getStandardFlowTotalPrice(){return this.subscriptionClass.prices.totalPrice}async refreshProductInfoUntilActive(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=await e.userSubscriptionInfoRefreshing.refresh(this.userSubscription);if(!r.isActive&&t<=this.refreshingMaxAttempts)return await (0,n._v)(this.refreshingRetryIntervalMs),this.refreshProductInfoUntilActive(e,t+1);r.isActive||(this.userSubscription.activateOptimisticallyOnClientSide(),(0,i.EL)("BackendInteractionError","Refreshing user subscription info","after ".concat(this.refreshingRetryIntervalMs*this.refreshingMaxAttempts,"ms subscription is still not activated!")).emit({logLevel:"debug"})),this.userSubscription=r}constructor(e){super(e),this.shouldWaitForIssuanceAfterPayment=!1,this.subscriptionClass=e.subscriptionClass,this.userSubscription=e.userSubscription}}},40111:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var n=r(46883);class i extends n.K{constructor(...e){super(...e),this.refreshingRetryIntervalMs=2e3,this.refreshingMaxAttempts=8}}},57306:function(e,t,r){"use strict";r.d(t,{LQ:function(){return u},kq:function(){return a},uK:function(){return s}});var n=r(25868),i=r(39595),o=r(19554);function a(e){let t=u()||{};if((0,i.Z7)(e))e.emit(t);else{let r=e instanceof Error?e:Error("Error with unexpected format");(0,i.EL)("FrontendLogicError","Error boundary errors catching","Unhandled error",{originalError:r}).emit({...t,fromErrorBoundary:!0})}}function s(e,t){let r={error:null,tags:null};try{if(!(t.includes("/payment/")||t.includes("/purchase/"))||(0,i.Z7)(e))return r;if((0,n.HA)(e))return r.tags={...e.extendedParams,from_payment_frame:!0},r;let o=(0,i.EL)("FrontendLogicError","Sentry beforeSend","Unexpected error",{originalError:e});r.error=o;let a=u();r.tags={...a,projectName:"litres-frontend",subdomain:"Monetization"}}catch(e){console.error("sentry event modifying",e)}return r}function u(){return(0,o.g)(window.exposedPaymentConfig,window.exposedPaymentProcessStateMachine)}},19554:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(14563),i=r(40368);function o(e,t){if(!e)return null;let r={operationName:e.operationName,paymentMethodType:e.selectedPaymentMethod.type,paymentMethodId:e.selectedPaymentMethod.id,paymentSystemName:e.selectedPaymentMethod.selectedPaymentSystem.name,paymentIntegrationId:e.selectedIntegration.id,purchaseTraceId:e.purchaseTraceId,orderId:e.order.id,cameFromSource:e.cameFromSource,userId:e.userId};return e.order instanceof n.c?(r.subscrClassId=e.order.subscriptionClass.classId,null!==e.order.subscriptionClass.appliedCoupon&&(r.subscrClassCouponType=e.order.subscriptionClass.appliedCoupon.discountType,r.subscrClassCouponFreeMonths=e.order.subscriptionClass.appliedCoupon.freeMonthsCount.value,r.subscrClassCouponCoeff=e.order.subscriptionClass.appliedCoupon.discountCoefficient)):e.order instanceof i.D&&(r.tariff=e.order.selectedTariff.id),{paymentProcessState:null==t?void 0:t.state,previousPaymentProcessState:null==t?void 0:t.previousState,...r}}},39595:function(e,t,r){"use strict";r.d(t,{EL:function(){return o},FK:function(){return a},Z7:function(){return s}});var n=r(25868);let i=r(45675).b1.feature("PaymentFrame"),o=(e,t,r,n)=>i(e,"".concat(t,": ").concat(r),n),a=(e,t)=>s(e)?e:e instanceof Error?o("FrontendLogicError",t,"Unhandled Error",{originalError:e}):o("FrontendLogicError",t,"Unhandled error with unexpected format"),s=e=>(0,n.HA)(e)&&e.message.includes("/PaymentFrame:")},45675:function(e,t,r){"use strict";r.d(t,{Rg:function(){return c},TV:function(){return i},Wz:function(){return s},Z1:function(){return a},b1:function(){return o},fs:function(){return d},pW:function(){return u}});var n=r(25868);let i=5,o=n.Om.subcontext("Payment"),a=o.feature("PaymentBackendApi"),s=o.feature("PaymentEntity"),u=o.feature("PaymentValueObject"),l=o.feature("PaymentUnknown"),c=e=>(0,n.HA)(e)&&e.contextsChunk.includes("/Payment"),d=(e,t)=>c(e)?e:e instanceof Error?l("FrontendLogicError","Unhandled Error in ".concat(t),{originalError:e}):l("FrontendLogicError","Unhandled Error of unexpected format in ".concat(t))},38573:function(e,t,r){"use strict";r.d(t,{Jm:function(){return o},sP:function(){return a}});let n=864e5,i=6048e5;function o(e){return"weekly"===e?i:n}let a=2e3},13520:function(e,t,r){"use strict";r.d(t,{Hp:function(){return i},Z2:function(){return o},iT:function(){return n}});let n="subscription_fail_prolongation_shown",i="abonement_fail_prolongation_shown",o="daily"},62321:function(e,t,r){"use strict";r.d(t,{JZ:function(){return n},l1:function(){return o},zP:function(){return i}});let n="subscription_rebill_changing_shown",i="abonement_rebill_changing_shown",o="weekly"},79583:function(e,t,r){"use strict";var n;r.d(t,{l:function(){return n}}),function(e){e.subscriptionLanding="subscription_landing",e.bookCard="book_card",e.failProlongationBanner="fail_prolongation_banner",e.rebillChangingBanner="rebill_changing_banner",e.external="external",e.promocodeLanding="promocode_landing",e.cart="cart",e.series="series",e.quotePage="book_card_sep_quote",e.quotesListPage="book_card_quotes",e.reviewPage="review_page",e.reviewsListPage="book_card_reviews",e.userProfile="user_profile",e.userProfileSubscription="user_profile_subscription",e.userProfileAbonement="user_profile_abonement",e.abonementLanding="abonement_landing",e.readOnline="book_card_read_online",e.trialFragment="trial_fragment"}(n||(n={}))},1114:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(61794);let i=()=>{let e=(0,n.CG)(e=>!!e.foundationUser.id);return n.r7.useGetMonetizationDetailsQuery(void 0,{skip:!e})}},15381:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var n=r(61794);let i=()=>!!(0,n.CG)(e=>e.foundationUser).id},59425:function(e,t,r){"use strict";r.d(t,{H:function(){return o}});var n=r(26249),i=r(44194);let o=()=>{let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=(e,t)=>{(null==t?void 0:t.shallow)||r(!0)},n=()=>{r(!1)};return e.events.on("routeChangeStart",t),e.events.on("routeChangeComplete",n),()=>{e.events.off("routeChangeStart",t),e.events.off("routeChangeComplete",n)}},[]),t}},94903:function(e,t,r){"use strict";r.d(t,{h4:function(){return iF},rX:function(){return iI},Yd:function(){return iN}});var n,i,o,a,s,u,l,c,d,p,f,h,m,g,_,v,y,b,x,S=r(31549),w=r(44194),k=r(59838),E=r(61794),C=r(59497);let T=()=>{let e=(0,E.TL)(),t=(0,E.CG)(e=>!e.foundationUser.id),r=t=>{let{cookie:r,oldCookie:n}=t,i=A("BSK",r)||"",o=A("BSK",n)||"",a=A("LKS",r)||"",s=A("LKS",n)||"";if((i!==o||a!==s)&&(e(E.hi.foundationUser.setCustomCookieValue({BSK:i.split(","),LKS:a.split(",")})),e(E.hi.browser.setHeader(["Basket",i])),e(E.hi.browser.setHeader(["Wishlist",a])),i!==o)){var u;e(null===(u=E.UY.util)||void 0===u?void 0:u.invalidateTags(["Cart","Offer"]))}};(0,w.useEffect)(()=>{let e;return t&&(e=j(r)),()=>{e&&clearInterval(e)}},[t])};function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(!k.Ym)return;let r=document.cookie;return setInterval(()=>{let t=document.cookie;if(t!==r)try{e({oldCookie:r,cookie:t})}finally{r=t}},t)}function A(e,t){let r=e+"=",n=decodeURIComponent(t).split(";");for(let e=0;e<n.length;e++){let t=n[e];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(r))return t.substring(r.length,t.length)}}var R=r(51865),O=r.n(R),P=r(91270),L=r(48592),I=r(9524),N=r(38112),F=r(62094),D=r(73758),M=r(1114),U=r(26249),q=r(20239),B=r(34253),z=r(81766),G=r(73965),W=r.n(G);let $=()=>{var e,t,r,n;let{t:i,i18n:o}=(0,L.$G)(),a=(0,E.CG)(e=>e.browser.headers["client-host"]),{data:s}=E.c.useGetBrandIdentityQuery(void 0,{skip:"www.litres.ru"===a||!((0,k._r)(a)||(0,k.f0)(a))}),u=(0,z.V)(),l=(0,w.useMemo)(()=>{if(!u||0===u.length)return;let e=a.replace("www.","").replace("pda","");return"litres.ru"===e?u[0]:u.find(t=>t.host===e)},[a,u]);if(!(null==l?void 0:l.short_name)&&!(null==s?void 0:s.short_name))return(0,S.jsx)(B.z,{});let c=null!==(t=null!==(e=null==l?void 0:l.primary_color)&&void 0!==e?e:null==s?void 0:s.primary_color)&&void 0!==t?t:void 0,d="ru-RU"===o.language?null!==(r=null==l?void 0:l.short_name_ru)&&void 0!==r?r:null==s?void 0:s.short_name_ru:null!==(n=null==l?void 0:l.short_name)&&void 0!==n?n:null==s?void 0:s.short_name;return(0,S.jsxs)("div",{className:W().logoWrapper,children:[(0,S.jsx)(B.z,{}),(0,S.jsxs)("div",{className:W().operator,children:[i("Подписка"),(0,S.jsx)("span",{className:W().operator__name,style:{color:c},children:d})]})]})};var H=r(26163),V=r.n(H);let Z=()=>{let{t:e}=(0,L.$G)(),t=(0,E.CG)(e=>!e.browser.pda),r=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{asPath:n}=(0,U.useRouter)(),i=(0,w.useMemo)(()=>(0,k.Af)(r)||(0,k.vo)(r)?(0,S.jsx)("img",{src:"https://cdn.litres.ru/static/litres/logo/logo_library.svg",width:t?196:100,height:40,alt:e("Логотип Литрес:Библиотеки")}):t&&(0,k.f0)(r)?(0,S.jsx)($,{}):(0,S.jsx)(B.z,{}),[r]);return(0,S.jsx)(q.I,{className:O()(V().wrapper),"data-testid":"header--logo",style:{cursor:"/"===n?"auto":"pointer"},href:"/"===n?void 0:"/","aria-label":e("Главная страница Литрес"),tabIndex:0,children:i})};var K=r(77837),J=r.n(K),Q=r(11139),X=r(1818),Y=r(34257);let ee=e=>{let{className:t}=e;return(0,S.jsx)("svg",{className:t,width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",children:(0,S.jsx)("g",{id:"PDA_Search_author_Spotlite",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-227.000000, -57.000000)",children:(0,S.jsx)("g",{id:"Search",transform:"translate(10.000000, 51.000000)",children:(0,S.jsx)("g",{id:"Imput",transform:"translate(1.000000, 0.000000)",children:(0,S.jsxs)("g",{id:"icon_Clear",transform:"translate(216.000000, 6.000000)",children:[(0,S.jsx)("circle",{id:"Oval",fill:"#D8D8D8",cx:"8",cy:"8",r:"8"}),(0,S.jsxs)("g",{id:"Group-4",transform:"translate(8.000000, 8.000000) rotate(-315.000000) translate(-8.000000, -8.000000) translate(4.000000, 4.000000)",stroke:"#FFFFFF",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,S.jsx)("path",{d:"M4,0.4 L4,7.6",id:"Line"}),(0,S.jsx)("path",{d:"M7.6,4 L0.4,4",id:"Line"})]})]})})})})})};var et=r(40013),er=r.n(et);!function(e){e.small="Книга, серия, автор",e.normal="Книга, серия, автор, жанр, тег",e.large="Книга, серия, автор, жанр, тег, издательство"}(n||(n={}));let en=e=>{var t;let{onChange:r,onSubmit:n,onFocus:i,onClick:o,handleClear:a,inputRef:s,searchValue:u="",placeholder:l}=e,[c,d]=(0,w.useState)(""),[p,f]=(0,w.useState)(!1),[h,m]=(0,w.useState)(l||""),{t:g}=(0,L.$G)(),_=(0,w.useRef)(null),v=c||u,y=()=>{if(!l&&_.current){let e=_.current.clientWidth;switch(!0){case e<300:m("Книга, серия, автор");break;case e>=300&&e<=400:m("Книга, серия, автор, жанр, тег");break;case e>400:m("Книга, серия, автор, жанр, тег, издательство")}}};(0,w.useLayoutEffect)(()=>{var e;(null===(e=_.current)||void 0===e?void 0:e.clientWidth)&&y()},[null===(t=_.current)||void 0===t?void 0:t.clientWidth]);let b=e=>{let{target:t}=e;d(t.value)},x=()=>{d(""),null==a||a()},k=e=>{n?n(e):E(e)},E=e=>{if(e.preventDefault(),c.length>=3){let e=encodeURIComponent(c);window.location.href="/search/?q=".concat(e)}else f(!0)};return(0,w.useEffect)(()=>{p&&f(!1),null==r||r(c)},[c]),(0,S.jsx)("form",{action:"/search/",method:"get",autoComplete:"off",onSubmit:k,"data-testid":"simple-search__form",children:(0,S.jsx)("div",{ref:_,className:er().wrapper,children:(0,S.jsxs)("div",{className:er().inputContainer,children:[(0,S.jsx)("input",{ref:s,className:er().input,type:"text",placeholder:h&&g(h),maxLength:150,onChange:b,value:v,autoComplete:"off",onFocus:i,onClick:o,"data-testid":"search__input"}),p&&(0,S.jsx)("span",{className:er().error,children:g("Пожалуйста, введите три или более символа")}),v.length>0&&(0,S.jsx)("button",{type:"button",onClick:x,className:er().clearButton,"data-testid":"deleteTextIcon--mobile",children:(0,S.jsx)(ee,{})}),(0,S.jsx)("button",{className:er().search_button,type:"submit","data-testid":"search__button",children:g("Найти")})]})})})};var ei=r(18370),eo=r(30134),ea=r(39319),es=r(44731);(function(e){e.Author="author",e.Collection="collection",e.Tag="tag",e.Art="art",e.Publishing="copyright_page",e.Genre="genre",e.Series="serie"})(i||(i={})),function(e){e.Enter="Enter",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown"}(o||(o={})),function(e){e.ShortValue="Пожалуйста, введите три или более символа"}(a||(a={})),function(e){e.Text="text_book",e.Audio="audiobook",e.Podcast="podcast",e.PodcastPart="podcast_episode"}(s||(s={}));let eu={text_book:"Электронная книга",audiobook:"Аудиокнига",podcast:"Подкаст",podcast_episode:"Выпуск подкаста"},el=e=>{switch(e){case ei.ui.person:return"Автор";case ei.ui.collection:return"Коллекция";case ei.ui.tag:return"Тег";case ei.ui.publisher:return"Издательство";case ei.ui.genre:return"Жанр";case ei.ui.series:return"Серия";default:return"Ошибка"}},ec=(e,t,r)=>{if(!e)return null;let n=e.filter(e=>"author"===e.role).map(e=>e.full_name);return n.length?n.length>3?"".concat(r("Авторы"),": ").concat(n.slice(0,3).join(", ")," ").concat(r("и еще")," ").concat(n.length-3," / ").concat(r(eu[t])):"".concat(r(n.length>1?"Авторы":"Автор"),": ").concat(n.join(", ")," / ").concat(r(eu[t])):"".concat(r(eu[t]))},ed=e=>/[.][0]{2}/g.test(e.toString())?"".concat(e.toString().slice(0,e.toString().search(/\./g))):"".concat(e.toString().replace(/[.]/g,",")),ep=(e,t)=>{if(null===e)return"";let r=t("Найти"),n=t("Книга"),i=t("серия"),o=t("автор"),a=t("жанр"),s=t("тег"),u=t("издательство");return e>502?[n,i,o,a,u].join(", "):e>394&&e<503?[n,i,o,a,s].join(", "):e>354&&e<395?[n,i,o,a].join(", "):e>297&&e<355?[n,i,o].join(", "):e>228&&e<298?[n,i].join(", "):e>176&&e<229?n:e<177?r:""},ef=(e,t)=>t.replace(RegExp(e,"gi"),e=>"<strong>".concat(e,"</strong>")),eh=(e,t)=>{if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[],n=0;for(;n<=t.length;n++)r[n]=[n];let i=0;for(;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)==e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]},em=(e,t)=>{let r=0,n=[[]],i=e.length,o=t.length,a=0,s=0;for(a=0;a<=i;a++)for(s=0,n[a]=[];s<=o;s++)n[a][s]=0;let u=0,l=0;for(u=0;u<i;u++)for(l=0;l<o;l++)e[u]===t[l]?(0===n[u][l]?n[u+1][l+1]=1:n[u+1][l+1]=n[u][l]+1,n[u+1][l+1]>r&&(r=n[u+1][l+1])):n[u+1][l+1]=0;return r},eg=()=>{let e=(0,k.fp)("last_search");return e&&Array.isArray(e)?e:[]},e_=e=>{(0,k.m8)({last_search:e})},ev=e=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_input",params:{source_internal:e}})},ey=(e,t,r,n)=>{t.preventDefault();let i=t.target.closest(".buttonWrapper");if((null==i?void 0:i.className)!=="buttonWrapper"){let t=n?{...e,id:n}:e;es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_spotlight_item",params:{...t}})}k.Ym&&(window.location.href=r||"#")},eb=(e,t)=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_spotlight_button",params:{search_id:e.search_id,query:e.query,row_number:e.row_number,book_id:e.id,is_purchase_flag:t}})},ex=e=>{let t="".concat("000000000000".substr(0,10-e.toString().length)).concat(e);return"https://cdn.litres.ru/pub/authors/1".concat(t.substr(0,2),"/").concat(t.substr(2,2),"/").concat(t.substr(4,2),"/").concat(t.substr(6,2),"/").concat("00000000".substr(0,8-e.toString().length)).concat(e,"_100.jpg")},eS=e=>"https://cdn.litres.ru/pub/c/cover_30/".concat(e,".jpg"),ew=e=>"https://litres.ru".concat(e);var ek=r(83363),eE=r.p+"static/media/noCoverIcon.780d942c.svg",eC=r(73505),eT=r.n(eC);let ej=e=>{let{externalRef:t,id:r,url:n,title:i,persons:o,mem:a,price:u,currency:l,promoPrice:c,free:d,availableByPromo:p,freebie:f,libraryServiceType:h,owned:m,percent:g,coverRatio:_,searchQuery:v,setLoading:y,saveSearchQuery:b,eventData:x,isDesktop:w=!0,item:C}=e,{t:T,i18n:j}=(0,L.$G)(),A=(0,E.CG)(e=>e.foundationUser),R=0===A.id,P=(0,E.CG)(e=>e.browser.headers["client-host"]),I=(0,E.CG)(e=>e.face.language||"ru"),N=!!(Number(u)-Number(c)),F=!0,D=(0===Number(u)||!!d||!!f||p)&&!m,M=e=>Number("".concat(e.toString().slice(0,e.toString().search(/\./g)))),U=e=>{let t=(0,k.aS)(e,null!=l?l:void 0,j.language),r=((null==t?void 0:t.match(/[^0-9.,\s]+/g))||[])[0];if(r&&t){let e=(0,S.jsx)("span",{className:eT().litresRuble,children:r}),n=t.replace(r,"");return(null==t?void 0:t.startsWith(r))?(0,S.jsxs)(S.Fragment,{children:[e,n]}):(0,S.jsxs)(S.Fragment,{children:[n,e]})}return t},B=a===s.Text?"Читать":"Слушать",z=()=>{y(!0),!R&&v&&b(v)},G="instant"===h,W="delayed"===h,$=a===s.Podcast,H=()=>(0,k.qZ)({art:C,user:A,isLibrary:(0,k.Af)(P||""),lang:I}),V=()=>{let e=D&&!m&&!$,t=!!m&&!$;return!w&&(t||e)?H():n||"#"};return(0,S.jsx)("li",{className:O()(eT().wrapper,{[eT().mobileWrapper]:!w}),tabIndex:0,ref:t,onClick:e=>{z(),ey(x,e,V())},children:(0,S.jsxs)(q.I,{href:V(),className:eT().item,children:[(0,S.jsx)("div",{className:eT().coverContainer,children:(0,S.jsx)("span",{className:eT().coverWrapper,children:(0,S.jsx)(ek.E,{src:eS(Number(r)),alt:i,style:{width:30,height:Math.round(30/Number(_))},fallbackSrc:eE})})}),(0,S.jsxs)("div",{className:eT().details,children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:eT().authors,children:o?ec(o,a,T):T(eu[a])})}),(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:O()(eT().title,{[eT().ownedArt]:m}),children:v&&i&&(0,eo.ZP)(ef(v,i))})})]}),w&&(0,S.jsxs)("div",{className:"buttonWrapper",children:[G&&!m&&!$&&n&&(0,S.jsx)(ea.z,{mode:"secondary",size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!1),window.location.href="".concat(n,"#take_youself")},text:T("Взять себе")}),D&&!m&&!$&&(0,S.jsx)(ea.z,{mode:"secondary",size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!1),window.location.href=H()},text:T(B)}),!!m&&!g&&!$&&(0,S.jsx)(ea.z,{mode:"secondary",size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!1),window.location.href=H()},text:T(B)}),!!m&&!!g&&!$&&(0,S.jsx)(ea.z,{mode:"secondary",size:"small",className:O()(eT().button,eT().longButton),onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!1),window.location.href=H()},text:T(a===s.Text?"Продолжить чтение с {percent}%":"Продолжить с {percent}%",{percent:g})}),W&&!m&&!$&&!F&&n&&(0,S.jsx)(ea.z,{size:"small",mode:"secondary",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!1),window.location.href="".concat(n,"#take_youself")},text:T("Запросить")}),N&&!m&&!G&&!D&&!W&&!$&&!F&&n&&u&&c&&(0,S.jsx)(ea.z,{mode:"secondary",size:"medium",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!0),window.location.href=R?"".concat(n,"#buy_now_noreg"):"".concat(n,"#buy_now_reg")},secondaryText:(0,S.jsx)("div",{className:eT().buttonOldPrice,children:U(M(u||100))}),text:(0,S.jsx)("div",{className:eT().buttonNewPrice,children:U(c||200)})}),!N&&!W&&!m&&!G&&!D&&!$&&!F&&n&&u&&(0,S.jsx)(ea.z,{mode:"secondary",size:"small",onClick:e=>{e.stopPropagation(),e.preventDefault(),eb(x,!0),window.location.href=R?"".concat(n,"#buy_now_noreg"):"".concat(n,"#buy_now_reg")},text:(0,S.jsxs)(S.Fragment,{children:[ed(u)," ",(0,S.jsx)("span",{className:eT().litresRuble,children:"₽"})]})})]})]})},n)},eA=()=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34px",height:"34px",viewBox:"0 0 34 34",version:"1.1",children:[(0,S.jsx)("title",{children:"Shape"}),(0,S.jsx)("desc",{children:"Created with Sketch."}),(0,S.jsx)("defs",{}),(0,S.jsx)("g",{id:"Самое-актуальное-",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,S.jsx)("g",{id:"Web_Search_author_Spotlite-",transform:"translate(-198.000000, -426.000000)",fillRule:"nonzero",fill:"#9BCACE",children:(0,S.jsx)("g",{id:"Group-17",transform:"translate(170.000000, 25.000000)",children:(0,S.jsx)("g",{id:"Avatar-(no-photo)",transform:"translate(20.000000, 392.000000)",children:(0,S.jsx)("path",{d:"M39.9482759,18.1326815 L35.8078966,18.1326815 L37.2546552,11.6984242 C37.5114138,10.5564525 36.8560345,9.40721863 35.763931,9.0852637 C34.5921034,8.7397068 33.378069,9.47741933 33.1025517,10.7029057 L31.4324483,18.1326815 L21.8485517,18.1326815 L23.2953103,11.6984242 C23.552069,10.5564525 22.8966897,9.40721863 21.8045862,9.0852637 C20.6327586,8.7397068 19.4187241,9.47741933 19.1432069,10.7029057 L17.4731034,18.1326815 L12.6896552,18.1326815 C11.5565172,18.1326815 10.637931,19.0809962 10.637931,20.2508061 C10.637931,21.4206161 11.5565172,22.3689307 12.6896552,22.3689307 L16.5205172,22.3689307 L14.8873448,29.6310721 L10.0517241,29.6310721 C8.91858621,29.6310721 8,30.5793868 8,31.7491967 C8,32.9190066 8.91858621,33.8673213 10.0517241,33.8673213 L13.9347586,33.8673213 L12.488,40.3015786 C12.2312414,41.4435503 12.8866207,42.5927842 13.9787241,42.9147391 C15.1505517,43.260296 16.3645862,42.5225835 16.6401034,41.296492 L18.3102069,33.8673213 L27.8941034,33.8673213 L26.4473448,40.3015786 C26.1905862,41.4435503 26.8459655,42.5927842 27.938069,42.9147391 C29.1098966,43.260296 30.323931,42.5225835 30.5994483,41.296492 L32.2695517,33.8673213 L37.0172414,33.8673213 C38.1503793,33.8673213 39.0689655,32.9190066 39.0689655,31.7491967 C39.0689655,30.5793868 38.1503793,29.6310721 37.0172414,29.6310721 L33.2221379,29.6310721 L34.8553103,22.3689307 L39.9482759,22.3689307 C41.0814138,22.3689307 42,21.4206161 42,20.2508061 C42,19.0809962 41.0814138,18.1326815 39.9482759,18.1326815 Z M28.8466897,29.6310721 L19.2627931,29.6310721 L20.8959655,22.3689307 L30.4798621,22.3689307 L28.8466897,29.6310721 Z",id:"Shape"})})})})})]}),eR=()=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 60 60",version:"1.1",id:"svg_resize",children:[(0,S.jsx)("title",{children:"Shape"}),(0,S.jsx)("desc",{children:"Created with Sketch."}),(0,S.jsx)("defs",{}),(0,S.jsx)("g",{id:"Самое-актуальное-",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,S.jsx)("g",{id:"Web_Search_genre-Stars",transform:"translate(-102.000000, -284.000000)",fillRule:"nonzero",fill:"#98D8A6",children:(0,S.jsx)("g",{id:"Group-5",transform:"translate(42.000000, 192.000000)",children:(0,S.jsx)("g",{id:"Жанр",transform:"translate(0.000000, 62.000000)",children:(0,S.jsx)("path",{d:"M82.4280197,64.2650799 C82.4280197,64.2650799 94.339653,57.1183914 101.045967,59.9414062 C102.436056,57.8230798 103.805511,55.5412531 105.146258,53.2117668 C98.5856136,51.6044628 89.9039515,53.0509579 89.9039515,53.0509579 C89.9039515,53.0509579 101.013559,46.3855747 107.815192,48.4719413 C109.178928,46.0125968 110.505097,43.5867822 111.784279,41.328617 C106.365669,40.9624796 101.118073,41.8369481 101.118073,41.8369481 C101.118073,41.8369481 108.077152,37.6616358 114.351726,36.9542561 C116.325616,33.7501892 118.157986,31.237466 119.808015,30 C87.0421361,30 67.4760439,67.3799954 60,89.8080151 L63.7379659,89.8080151 L74.9519757,71.1180734 C74.9519757,71.1180734 78.6899416,74.8560393 89.9039515,71.1180734 C92.5598775,70.2326152 95.2159158,67.7741678 97.8221638,64.4635679 C91.2449228,62.7958203 82.4280197,64.2650799 82.4280197,64.2650799 Z",id:"Shape"})})})})})]});var eO=r.p+"static/media/author.d6ccb94e.svg";let eP=()=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 52 52",fill:"none",children:[(0,S.jsx)("path",{d:"M25.9999 32.6636V12.8334C25.4377 12.8854 24.8819 12.9731 24.3165 12.9991H8.12597C7.22902 12.9991 6.50107 13.7271 6.50107 14.624V16.2489H1.62637C0.72942 16.2489 0.00146484 16.9769 0.00146484 17.8738V27.6232C0.00146484 28.5201 0.72942 29.2481 1.62637 29.2481H6.50107V30.873C6.50107 31.7699 7.22902 32.4979 8.12597 32.4979H9.11066L15.6428 49.9103C16.0425 50.9535 16.9362 51.7107 18.0346 51.9317C18.2523 51.9772 18.4701 51.9999 18.6846 51.9999C19.5523 51.9999 20.3777 51.6555 20.9692 51.038L24.8722 47.1675C25.8699 46.1698 26.1071 44.6131 25.4701 43.4075L20.017 32.4979H24.3327C24.8917 32.5239 25.4442 32.6116 25.9999 32.6636Z",fill:"#AF99BF"}),(0,S.jsx)("path",{d:"M51.7316 0.786451C51.6991 0.731204 51.6699 0.685707 51.6276 0.63371C51.4489 0.406225 51.2246 0.220986 50.9484 0.113743C50.9387 0.110493 50.9322 0.0974939 50.9224 0.0942441C50.8899 0.0844947 50.8607 0.100744 50.8282 0.0909943C50.6819 0.048747 50.5357 0 50.3732 0C50.2627 0 50.1652 0.0422474 50.058 0.0649959C49.9962 0.0779951 49.9377 0.0812449 49.876 0.100744C49.5965 0.191738 49.356 0.347728 49.1643 0.562215C49.1513 0.575214 49.1318 0.578464 49.1188 0.591463C44.0523 6.74333 36.9873 10.8576 29.2495 12.3655V33.1349C36.9873 34.6428 44.0523 38.7538 49.1188 44.9057C49.1318 44.9219 49.1545 44.9284 49.1708 44.9479C49.2845 45.0747 49.4242 45.1754 49.5737 45.2599C49.6225 45.2892 49.6615 45.3314 49.7102 45.3542C49.915 45.4419 50.136 45.4972 50.3732 45.4972C50.5584 45.4972 50.7404 45.4647 50.9224 45.4029C50.9322 45.3997 50.9387 45.3867 50.9484 45.3834C51.2246 45.2762 51.4489 45.0942 51.6276 44.8634C51.6666 44.8115 51.6959 44.766 51.7316 44.7107C51.8876 44.4605 51.9981 44.1842 51.9981 43.8723V1.6249C51.9981 1.31292 51.8876 1.03669 51.7316 0.786451Z",fill:"#AF99BF"})]});var eL=r(6191),eI=r.n(eL);let eN=e=>{let{url:t,itemType:r,role:n,title:i,id:o,arts:a,isUserAnonymous:s,externalRef:u,searchQuery:l,setLoading:c,smallLogo:d,saveSearchQuery:p,eventData:f,isDesktop:h=!0}=e,{t:m}=(0,L.$G)(),g=r===ei.ui.collection||r===ei.ui.tag||r===ei.ui.genre||r===ei.ui.series||r===ei.ui.publisher&&!d,_=()=>{c(!0),!s&&l&&p(l)},v=()=>r===ei.ui.person?ex(Number(o)):d?ew(d):"";return(0,S.jsx)("li",{className:O()(eI().wrapper,{[eI().mobileWrapper]:!h}),tabIndex:0,onClick:e=>{_(),ey(f,e,t)},ref:u,children:(0,S.jsxs)(q.I,{className:eI().item,href:t,children:[(0,S.jsxs)("div",{className:O()(eI().coverWrapper,{[eI().tripleCoverWrapper]:g}),children:[g&&(0,S.jsxs)("span",{className:eI().multipleCover,children:[r===ei.ui.tag&&!a&&(0,S.jsx)(eA,{}),r===ei.ui.genre&&(0,S.jsx)(eR,{}),r===ei.ui.publisher&&!a&&(0,S.jsx)(eP,{}),r!==ei.ui.genre&&(null==a?void 0:a.slice(0,3).map((e,t)=>{let{cover_ratio:r,id:n}=e;return(0,S.jsx)("span",{className:O()(eI().childCover,{[eI().firstCover]:0===t&&(null==a?void 0:a.length)>1,[eI().secondCover]:1===t&&(null==a?void 0:a.length)>1||0===t&&(null==a?void 0:a.length)===1,[eI().thirdCover]:2===t}),children:(0,S.jsx)("img",{src:eS(n),style:{width:30,height:Math.round(30/Number(r))},alt:i})},n)}))]}),!g&&(0,S.jsx)(ek.E,{src:v(),className:r===ei.ui.publisher?eI().publishingCover:eI().cover,fallbackSrc:eO,alt:i})]}),(0,S.jsxs)("div",{className:eI().details,children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:eI().type,children:m(n?(0,k.J2)(n):el(r))})}),(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:eI().title,children:l&&i&&(0,eo.ZP)(ef(l,i))})})]})]})},t)},eF=e=>e.type===ei.ui.text_book||e.type===ei.ui.audiobook||e.type===ei.ui.podcast||e.type===ei.ui.podcast_episode,eD=e=>e.type===ei.ui.person,eM=e=>e.type===ei.ui.publisher;var eU=r(48071),eq=r.n(eU),eB=e=>{let{searchResults:t,searchString:r,resultsListRef:n,isUserAnonymous:i,setLoading:o,saveSearchQuery:a,searchID:s,isDesktop:u=!0,onClose:l}=e,[c,d]=(0,w.useState)(9),{t:p}=(0,L.$G)(),{height:f}=(0,F.dz)(),[h,m]=(0,w.useState)(!1),{safeModeStatus:g}=(0,X.v)(),_=(0,E.CG)(e=>e.browser.pda),v=!_&&(g!==X.nT.undefined||h);(0,w.useEffect)(()=>{t&&t.length>0&&m(t.some(e=>e.instance.is_adult_content)||!1)},[t]);let y=null==r?void 0:r.replace(/[\s\\\/~#$%^&*(),._!@"№;:?=«»'`\[\]{}+\-<>]/g,""),b=[];(0,w.useEffect)(()=>{t&&t.length>b.length&&d(9)},[t]);let x=Array(9).fill((0,w.useCallback)(e=>{null!==e&&b.push(e.getBoundingClientRect().height)},[c,t]));(0,w.useEffect)(()=>{let e=Math.round(f-f/4-65),t=0;for(let r of b)if(e-r>0)e-=r,t++;else break;t!==c&&d(t)},[f,t,c]);let k=()=>{o(!0)};return(0,S.jsxs)("ul",{className:O()(eq().list,{[eq().mobileList]:!u}),ref:n,"data-testid":"header__search-result-list",children:[(0,S.jsx)(X.$W,{isVisible:!!v,analyticsData:{internalSource:"search"},customClass:O()({[eq().safemodeContainerMobile]:_})}),null==t?void 0:t.map((e,t)=>{let n={search_id:s,query:r||"",row_number:t,type:e.type,id:e.instance.id};if(t<c&&eF(e)){let{id:r,url:s,title:l,persons:c,prices:d,is_free:p,my_art_status:f,uuid:h,read_percent:m,cover_url:g,cover_ratio:_,library_information:v,is_available_with_subscription:b,release_file_id:w}=e.instance;return(0,S.jsx)(ej,{item:e.instance,id:r,url:s||"/",title:l,persons:c,mem:e.type,price:(null==d?void 0:d.final_price)||null,currency:(null==d?void 0:d.currency)||null,promoPrice:(null==d?void 0:d.discount_price)||null,isUserAnonymous:i,free:p,libraryServiceType:null==v?void 0:v.biblio_selfservice,availableByPromo:b,owned:f,uuid:h,percent:m,coverRatio:_||1,type:e.type,cover:g,externalRef:x[t],searchQuery:y,setLoading:o,saveSearchQuery:a,eventData:n,releaseFile:w,fileId:r,fileType:null,isDesktop:u},r)}if(t<c&&eD(e)){let{id:r,full_name:s,url:l,role:c}=e.instance;return(0,S.jsx)(eN,{url:l,itemType:e.type,role:c,title:s,id:r,isUserAnonymous:i,externalRef:x[t],searchQuery:y,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u},r)}if(t<c&&eM(e)){let{url:r,title:s,id:l,small_cover_url:c}=e.instance;return(0,S.jsx)(eN,{externalRef:x[t],url:r,itemType:e.type,title:s,id:l,isUserAnonymous:i,searchQuery:y,smallLogo:c,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u},l)}if(t<c&&!eD(e)&&!eF(e)){let{id:r,url:s,name:l,top_arts:c}=e.instance;return(0,S.jsx)(eN,{url:s,itemType:e.type||ei.ui.collection||ei.ui.series||ei.ui.publisher||ei.ui.genre,arts:c,title:l,id:r,isUserAnonymous:i,externalRef:x[t],searchQuery:y,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u},r)}}),(0,S.jsxs)("div",{className:eq().buttons,children:[t&&t.length>6&&r&&(0,S.jsx)("li",{tabIndex:0,className:eq().showAll,onClick:k,children:(0,S.jsx)(q.I,{href:"/search/?q=".concat(r),children:(0,S.jsx)("span",{children:p(u?"Показать все результаты":"Показать все")})})}),!u&&(0,S.jsx)("li",{tabIndex:0,className:eq().close,onClick:l,children:p("Закрыть")})]})]})},ez=r(16050),eG=r.n(ez),eW=e=>{let{history:t,searchHistoryListRef:r,setLoading:n,isDesktop:i=!0,onClose:o}=e,{t:a}=(0,L.$G)(),s=t.slice(0,10).reverse(),u=e=>{n(!0),k.Ym&&window.location.assign("/search/?q=".concat(encodeURIComponent(e)))};return(0,S.jsxs)("ul",{className:O()(eG().list,{[eG().mobileList]:!i}),ref:r,"data-testid":"header__search-history",children:[(0,S.jsx)("div",{className:eG().info,children:(0,S.jsx)("p",{className:eG().previousSearches,children:a("Ранее вы искали")})}),s.map(e=>{let{value:t}=e;return(0,S.jsx)("li",{className:eG().item,tabIndex:0,onClick:()=>{u(t)},children:t},t)}),!i&&(0,S.jsx)("li",{className:eG().close,tabIndex:0,onClick:o,children:a("Закрыть")})]})},e$=r(27683),eH=r.n(e$);let eV=()=>(0,S.jsx)("div",{className:eH().wrapper,children:(0,S.jsx)("div",{className:eH().bar})}),eZ=()=>(0,S.jsxs)("svg",{width:20,height:20,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M14 14l4 4",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M16 9A7 7 0 112 9a7 7 0 0114 0z",stroke:"#fff",strokeWidth:2})]});var eK=r(70210),eJ=r.n(eK);let eQ=e=>{let{isLoading:t,isError:r,onFocus:n,onChange:i,onClick:o,onSubmit:a,inputRef:s,value:u,placeholder:l}=e;return(0,S.jsx)("form",{action:"/search/",method:"get",autoComplete:"off",onSubmit:a,"data-testid":"header__search-form--desktop",children:(0,S.jsxs)("div",{className:eJ().wrapper,children:[(0,S.jsx)("input",{className:O()(eJ().input,{[eJ().error]:r}),maxLength:150,placeholder:l,onChange:e=>{let{target:{value:t}}=e;i(t)},onClick:o,onFocus:n,ref:s,name:"q",value:u,"data-testid":"search__input"}),(0,S.jsx)("button",{className:O()(eJ().button,{[eJ().errorButton]:r,[eJ().loader]:t}),type:"submit","data-testid":"search__button",children:t?(0,S.jsx)(eV,{}):(0,S.jsx)(eZ,{})})]})})},eX=e=>null!==e&&e===document.activeElement,eY=ei.ui.all,e0=()=>{let e=(0,P.useDispatch)();return{getSearchData:t=>{e(E.Ue.endpoints.getSearch.initiate({q:t,types:[eY]}))},getSearchHistory:e=>{},saveSearchQuery:e=>{},refreshSearchResults:()=>{e(E.hi.global.search.refreshSearchResults())},showNotificationsPopup:t=>{e(E.hi.global.interfaceRequests.setSpamTicketsConfig({isOpen:t}))}}},e1=function(){let[e,t]=(0,w.useState)(null);return[e,(0,w.useCallback)(e=>{e&&t(e)},[])]};var e2=r(87540),e5=r.n(e2);let e4=w.useLayoutEffect,e3=e=>{let{isDesktop:t=!0}=e,{t:r}=(0,L.$G)(),{search:n}=(0,F.TH)(),i=new URLSearchParams(null==n?void 0:n.substr(1)),[s,u]=(0,w.useState)(""),[l,c]=(0,w.useState)(null),[d,p]=(0,w.useState)(!1),[f,h]=(0,w.useState)(!1),[m,g]=(0,w.useState)(!1),[_,v]=(0,w.useState)(!1),[y,b]=(0,w.useState)(eg()),[x,E]=(0,w.useState)(!!(k.Ym&&(0,k.fp)("last_search"))),[C,T]=(0,w.useState)(""),{searchResults:j,query:A}=(0,P.useSelector)(e=>e.global.search),R=(0,P.useSelector)(e=>0===e.foundationUser.id),{getSearchData:I,saveSearchQuery:N,refreshSearchResults:D}=e0(),{width:M,height:U}=(0,F.dz)(),[q,B]=e1(),[z,G]=e1(),{query:W,appliedCorrection:$}=(0,P.useSelector)(e=>e.global.searchPage),{safeModeStatus:H,isSafeModeEnabled:V}=(0,X.v)();(0,w.useEffect)(()=>{V&&el(s)},[H]),(0,w.useEffect)(()=>{ed(s)||D()},[s]),(0,w.useEffect)(()=>{u($?$.to_query:W)},[W,$]),(0,w.useEffect)(()=>{if(u(i.get("q")||""),R||x&&!eo())return},[]),(0,w.useEffect)(()=>{y.length>0&&(e_(y),er(),E(!0))},[y]),(0,w.useEffect)(()=>{f&&Z()},[f]);let Z=()=>{k.Ym&&((0,k.bZ)("last_search"),(0,k.kT)("last_search"),E(!1))},K=(e,t)=>e===t||5>=eh(e,t)&&em(e,t)>=3,ee=e=>{let t=et(e);if(-1===t)return;let r=y.slice();r[t].source="server",b(r)},et=e=>y.map(e=>e.value).indexOf(e),er=()=>{(0,k.d8)("last_search",String(+new Date),{expires:1800})},ei=(e,t)=>{er();let r=y.slice();if(-1!==et(e))return;let n={value:e,source:"client"};t?r[t]=n:r.push(n),r.length>9&&r.shift(),b(r)},eo=()=>{let e=(0,k.ej)("last_search");return!(e&&(Number(new Date)-Number(e))/6e4<20)},ea=e=>{u(e),eu(e)},es=()=>{u("")},eu=(0,w.useCallback)(J()(e=>{el(e)},400),[]),el=e=>{if(ed(e)){I(e),h(!1),T((0,Q.Z)());for(let t=0;t<y.length;t++)if(K(e,y[t].value)){ei(e,t);return}ei(e)}},ec=()=>{t&&g(!0),ev(window.location.href)};e4(()=>{ey.current&&c(ey.current.offsetWidth)},[]),(0,w.useEffect)(()=>{ey.current&&c(ey.current.offsetWidth)},[M]),(0,w.useEffect)(()=>{(0===s.length||ed(s))&&p(!1)},[s,p,d]);let ed=e=>e&&e.replace(/[\s\\\/~#$%^&*(),._!@"№;:?=«»'`\[\]{}+\-<>]/g,"").length>0||/^\d+$/.test(e),ef=(0,w.useRef)(null),ey=(0,w.useRef)(null);(0,w.useEffect)(()=>{g(!1)},[M,U]);let eb=(0,w.useCallback)(e=>{if(e.preventDefault(),g(!1),""===s&&ey.current){ey.current.focus(),ey.current.setSelectionRange(0,0);return}if(R||ee(s),ed(s)&&k.Ym){v(!0),(0,k.d8)("next_search","1",{expires:864e3}),window.location.assign("/search/?q=".concat(encodeURIComponent(s))),R||ee(s);return}p(!0)},[s,p,R,v,g]),ex=()=>{g(!0)},eS=(0,w.useMemo)(()=>q?Array.from(q.children):z?Array.from(z.children).filter((e,t)=>t>0):[],[q,z]),ew=e=>{let{key:t}=e;(t===o.ArrowUp||t===o.ArrowDown)&&e.preventDefault();let r=0,n=eS.length-1;if(eS.some(eX)&&t===o.Enter){if(q){let e=eS[eS.findIndex(eX)].firstElementChild.href;v(!0),window.location.assign(e);return}let e=eS[eS.findIndex(eX)].textContent||"";v(!0),window.location.assign("/search/?q=".concat(encodeURIComponent(e)));return}if(ey.current&&eX(ey.current)&&t===o.ArrowDown){eS[r].focus();return}if(eS.some(eX)){let e=eS.findIndex(eX),i=eX(eS[r])?n:e-1,a=eX(eS[n])?r:e+1;ey.current&&0===e&&t===o.ArrowUp&&(ey.current.focus(),ey.current.setSelectionRange(s.length,s.length)),t===o.ArrowDown&&eS[a].focus(),t===o.ArrowUp&&0!==e&&eS[i].focus()}};(0,F.OR)("keydown",ew);let ek=e=>{ef.current&&(e.target===ef.current||ef.current.contains(e.target))||g(!1)};return(0,F.OR)("click",ek),(0,S.jsxs)("div",{className:O()(e5().search,{[e5().mobileSearch]:!t}),ref:ef,children:[(0,S.jsx)(Y.J,{placement:"bottom-start",content:ed(s)&&(null==j?void 0:j.length)?(0,S.jsx)(eB,{searchResults:j,searchString:A,resultsListRef:B,isUserAnonymous:R,setLoading:v,saveSearchQuery:N,searchID:C,isDesktop:t,onClose:()=>{g(!1)}}):x&&(0,S.jsx)(eW,{history:y,setHistoryRefreshed:h,searchHistoryListRef:G,isUserAnonymous:R,setLoading:v,isDesktop:t,onClose:()=>{g(!1)}}),trigger:["focus"],contentClassName:e5().popoverContent,disableArrow:!0,offset:[0,0],visible:m,onVisibleChange:g,portal:!1,children:(0,S.jsxs)(S.Fragment,{children:[t&&(0,S.jsx)(eQ,{isLoading:_,isError:d,onFocus:ex,onChange:ea,onClick:ec,onSubmit:eb,inputRef:ey,value:s,placeholder:ep(l,r)}),!t&&(0,S.jsx)(en,{onFocus:ex,onChange:ea,onClick:ec,onSubmit:eb,handleClear:es,inputRef:ey,searchValue:s})]})}),(0,S.jsx)("div",{className:e5().errorText,children:d&&r(a.ShortValue)})]})};var e8=r(64009),e6=r(29787),e9=r.n(e6);let e7=(e,t)=>{if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[],n=0;for(;n<=t.length;n++)r[n]=[n];let i=0;for(;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)==e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]},te=(e,t)=>{let r=0,n=[[]],i=e.length,o=t.length,a=0,s=0;for(a=0;a<=i;a++)for(s=0,n[a]=[];s<=o;s++)n[a][s]=0;let u=0,l=0;for(u=0;u<i;u++)for(l=0;l<o;l++)e[u]===t[l]?(0===n[u][l]?n[u+1][l+1]=1:n[u+1][l+1]=n[u][l]+1,n[u+1][l+1]>r&&(r=n[u+1][l+1])):n[u+1][l+1]=0;return r},tt=()=>{let e=(0,k.fp)("last_search");return e&&Array.isArray(e)?tr(e):[]},tr=e=>e.length>5?e.slice(-5):e,tn=e=>{(0,k.m8)({last_search:e})},ti=e=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_input",params:{source_internal:e}})};function to(e,t,r){let n=[];return(e9()(e)&&(n=null==t?void 0:t.map(e=>({...e,timestamp:(null==e?void 0:e.timestamp)===void 0?0:e.timestamp})).sort((e,t)=>t.timestamp-e.timestamp).slice(0,5).map(e=>({type:"history",value:e.value}))),e&&!r.length)?[{type:"suggestion",value:e}]:n=[...n,...r.map(e=>({type:"suggestion",value:e.text}))]}let ta=e=>e&&e.replace(/[\s\\\/~#$%^&*(),._!@"№;:?=«»'`\[\]{}+\-<>]/g,"").length>0||/^\d+$/.test(e),ts=()=>{let e=(0,k.ej)("last_search");return!(e&&(Number(new Date)-Number(e))/6e4<20)},tu=()=>{(0,k.d8)("last_search",String(+new Date),{expires:1800})},tl=(e,t)=>t.map(e=>e.value).indexOf(e),tc=(e,t)=>e===t||5>=e7(e,t)&&te(e,t)>=3;var td=r(30453);(function(e){e.Author="author",e.Collection="collection",e.Tag="tag",e.Art="art",e.Publishing="copyright_page",e.Genre="genre",e.Series="serie"})(u||(u={})),function(e){e.Enter="Enter",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown"}(l||(l={})),function(e){e.ShortValue="Пожалуйста, введите три или более символа"}(c||(c={})),function(e){e.Text="text_book",e.Audio="audiobook",e.Podcast="podcast",e.PodcastPart="podcast_episode"}(d||(d={}));var tp=r(72224),tf=r.n(tp);let th=e=>{let{items:t,onItemDeleteClick:r,onItemClick:n=k.ZT,isDesktop:i=!0,inputRef:o}=e,{t:a}=(0,L.$G)(),[s,u]=e1(),c=(e,t)=>{n(e,t),window.location.assign("/search/?q=".concat(encodeURIComponent(e.value)))},d=e=>{if(!s)return;let{key:r}=e,n=s?Array.from(s.children):[];if(r===l.Enter&&n.some(eX)){c(t[n.findIndex(eX)],n.findIndex(eX));return}let i=0,a=n.length-1,u=n.findIndex(eX),d=eX(n[i])?a:u-1,p=eX(n[a])?i:u+1;r===l.ArrowDown&&n[-1===u?i:p].focus(),r===l.ArrowUp&&((null==o?void 0:o.current)&&(-1===u||d===a)?o.current.focus():n[-1===u?a:d].focus())},p=e=>t=>{t.stopPropagation(),t.preventDefault(),r(e)},f=()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return(0,F.OR)("keydown",d),(0,S.jsx)("ul",{className:O()(tf().searchResultList,{[tf().mobileList]:!i}),ref:u,onTouchStart:f,"data-testid":"header__search-result",role:"listbox","aria-label":a("Подсказки поиска"),id:"suggestionsSearchResult",children:t.map((e,t)=>(0,S.jsxs)("li",{role:"option",className:O()(tf().item,{[tf().item_mobile]:!i}),tabIndex:0,onClick:()=>{c(e,t)},onKeyDown:r=>{"Enter"===r.key&&c(e,t)},"data-testid":"suggestion"===e.type?"search__saggestion--wrapper":"search__history--wrapper",children:[(0,S.jsx)("span",{className:tf().itemText,children:e.value}),"history"===e.type&&(0,S.jsx)("button",{tabIndex:0,"aria-label":a("Убрать из истории поиска"),className:tf().closeIcon,onClick:p(e.value),onKeyDown:t=>{"Enter"===t.key&&(t.stopPropagation(),t.preventDefault(),r(e.value))},children:(0,S.jsx)(td.T,{})})]},"".concat(e.value).concat(e.type)))})};var tm=r(53142),tg=r.n(tm);let t_=()=>(0,S.jsx)("div",{className:tg().wrapper,children:(0,S.jsx)("div",{className:tg().bar})});var tv=r(58683),ty=r.n(tv);let tb=()=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none","data-testid":"deleteTextIcon",children:(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM4.75402 12C4.34023 12 4 11.6506 4 11.2276C4 11.0253 4.08276 10.8414 4.22069 10.6943L6.91494 8L4.22069 5.30575C4.08276 5.15862 4 4.97471 4 4.77241C4 4.34943 4.34023 4.01839 4.75402 4.01839C4.97471 4.01839 5.14943 4.09195 5.28736 4.23908L7.9908 6.93333L10.7218 4.22989C10.8782 4.07356 11.0437 4 11.246 4C11.6598 4 12 4.34023 12 4.75402C12 4.96552 11.9356 5.13103 11.7793 5.29655L9.07586 8L11.7701 10.6851C11.9172 10.8414 11.9908 11.0161 11.9908 11.2276C11.9908 11.6506 11.6506 12 11.2276 12C11.0161 12 10.8322 11.908 10.6851 11.7701L7.9908 9.07586L5.31494 11.7701C5.16782 11.9172 4.97471 12 4.75402 12Z",fill:"#D9D9D9"})}),tx=e=>{let{isLoading:t,onFocus:r,onChange:n,onClick:i,onSubmit:o,inputRef:a,value:s,placeholder:u,isSearchFocused:l,setPopoverVisibility:c}=e,{t:d}=(0,L.$G)(),p=(0,w.useRef)(null),f=e=>{e.stopPropagation(),e.preventDefault(),n(""),(null==a?void 0:a.current)&&a.current.focus()};return(0,S.jsx)("form",{action:"/search/",method:"get",autoComplete:"off",onSubmit:o,"data-testid":"header__search-form--desktop",role:"search","aria-label":u,ref:p,children:(0,S.jsxs)("div",{className:O()(ty().searchFormWrapperAB,{[ty().focused]:l}),children:[(0,S.jsx)("input",{className:ty().input,maxLength:150,placeholder:u,onChange:e=>{let{target:{value:t}}=e;n(t)},onClick:i,onFocus:r,onKeyDown:e=>{if("Enter"===e.key){var t;c(!l),null===(t=p.current)||void 0===t||t.submit()}},ref:a,name:"q",value:s,"data-testid":"search__input",role:"combobox","aria-controls":"suggestionsSearchResult","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":l}),!!s&&(0,S.jsx)("button",{onClick:f,className:O()(ty().clear,{[ty().focused]:l}),"aria-label":d("Очистить строку поиска"),children:(0,S.jsx)(tb,{})}),(0,S.jsx)("button",{className:O()(ty().btn,{[ty().loader]:t,[ty().focused]:l}),onClick:()=>{c(!1)},onFocus:()=>{c(!1)},type:"submit","data-testid":"search__button","aria-label":d("Найти {q}",{q:s}),"aria-description":d("Результаты поиска появятся на странице"),children:t?(0,S.jsx)(t_,{}):d("Найти")})]})})};var tS=r(82372),tw=r.n(tS);let tk=e=>{let{searchValue:t,searchResultItems:r,onSearchChange:n,onItemClick:i,onItemDeleteClick:o,onSearch:a}=e,{t:s}=(0,L.$G)(),[u,l]=(0,w.useState)(!1),[c,d]=(0,w.useState)(!1),{width:p,height:f}=(0,F.dz)(),h=(0,w.useRef)(null),m=(0,w.useRef)(null),g=()=>{l(!0),ti(k.Ym?window.location.href:"")},_=(e,t)=>{m.current&&m.current.focus(),d(!0),i(e,t)},v=(0,w.useCallback)(e=>{if(e.preventDefault(),l(!1),""===t&&m.current){m.current.focus(),m.current.setSelectionRange(0,0);return}a(t)},[a,t]),y=()=>{l(!0)},b=e=>{h.current&&(e.target===h.current||h.current.contains(e.target))||l(!1)};return(0,F.OR)("click",b),(0,w.useEffect)(()=>(document.body.style.overflow=u?"hidden":"",()=>{document.body.style.overflow=""}),[u]),(0,w.useEffect)(()=>{l(!1)},[p,f]),(0,S.jsx)("div",{className:O()(tw().searchAB,{[tw().mobileSearch]:!1}),ref:h,children:(0,S.jsx)(Y.J,{placement:"bottom-start",content:(0,S.jsx)(th,{items:r,isDesktop:!0,isUserAnonymous:!0,onItemClick:_,onItemDeleteClick:o}),trigger:["none"],contentClassName:tw().popoverContent,disableArrow:!0,offset:[0,0],hasMask:!0,visible:u,onVisibleChange:l,customCloseTriggers:["lostIntersect","focusLost","esc"],portal:!1,visuallyHiddenDismiss:!0,children:(0,S.jsx)(tx,{isLoading:c,isSearchFocused:u,setPopoverVisibility:l,onFocus:y,onChange:n,onClick:g,onSubmit:v,inputRef:m,value:t,placeholder:s("Искать на Литрес")})})})};var tE=r(67167),tC=r(92400),tT=r(11214),tj=r.n(tT);let tA=e=>{let{value:t,onChange:r,onSearchClick:n=k.ZT,onClearClick:i=k.ZT}=e,o=(0,w.useRef)(null),[a,s]=(0,w.useState)(t||"");(0,w.useEffect)(()=>{o.current&&o.current.focus()},[o]);let u=e=>{s(e.target.value),r(e.target.value)},l=e=>{e.preventDefault(),n()},c=()=>{s(""),i()};return(0,S.jsxs)("form",{className:tj().mobileSearchForm,"data-testid":"search__form--mobile",action:"/search/",method:"get",autoComplete:"off",onSubmit:l,children:[(0,S.jsx)(tC.I,{className:tj().mobileSearchForm__searchInput,placeholder:"Искать на Литрес",onChange:u,value:a,e2eId:"search__suggestions--input",ref:o}),!!a&&(0,S.jsx)("span",{className:O()(tj().mobileSearchForm__clear),onClick:c,children:(0,S.jsx)(tb,{})}),(0,S.jsx)(ea.z,{className:tj().mobileSearchForm__searchButton,size:"small",mode:"primary",text:"Найти",onClick:n,type:"submit",e2eId:"search__suggestions--button"})]})};var tR=r(76667),tO=r.n(tR);let tP=e=>{let{searchValue:t,searchResultItems:r,onSearchChange:n,onItemClick:i,onItemDeleteClick:o,onSearch:a,onClearClick:s=k.ZT}=e,[u,l]=(0,w.useState)(!1),c=()=>{l(!0),ti(k.Ym?window.location.href:"")},d=(e,t)=>{l(!1),i(e,t)},p=e=>{e.preventDefault(),l(!0)},f=()=>{l(!1)};return(0,S.jsxs)("div",{className:O()(tO().search,{[tO().mobileSearch]:!0}),children:[(0,S.jsx)(en,{onClick:c,onSubmit:p,searchValue:t,placeholder:"Искать на Литрес",handleClear:s}),(0,S.jsx)(tE.o,{visible:u,head:(0,S.jsx)(tA,{onChange:n,onSearchClick:()=>{a(t)},value:t,onClearClick:s}),content:(0,S.jsx)(th,{items:r,isDesktop:!1,isUserAnonymous:!1,onItemClick:d,onItemDeleteClick:o}),onBackClick:f,className:tO().mobileSuggestionsSearch,contentClassName:tO().mobileSuggestionsSearch__modalContent})]})},tL=(e,t)=>{let{query:r,rowNumber:n}=t;es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"suggestion_click",params:{query:r,suggestion_text:e.value,suggestion_row_number:n}})},tI=e=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"suggestion_history_click",params:{query:e.value}})},tN=e=>{let{platform:t=F.NX.desktop}=e,{search:r}=(0,F.TH)(),n=new URLSearchParams(null==r?void 0:r.substr(1)),[i,o]=(0,w.useState)(!1),[a,s]=(0,w.useState)(!1),[u,l]=(0,w.useState)(""),c=(0,e8.Nr)(u,400),[d,{data:p}]=E.Ue.useLazyGetSuggestionsQuery(),[f,h]=(0,w.useState)(tt()),{query:m,appliedCorrection:g}=(0,E.CG)(e=>e.global.searchPage),_=(0,E.CG)(e=>0===e.foundationUser.id),[v,y]=(0,w.useState)(!!(k.Ym&&(0,k.fp)("last_search"))),{refreshSearchResults:b}=e0(),x=(0,w.useMemo)(()=>to(u,f,p||[]),[u,f,p]),C=()=>{k.Ym&&((0,k.bZ)("last_search"),h([]),(0,k.kT)("last_search"),y(!1))},T=e=>{h(t=>t.slice().filter(t=>t.value!==e))},j=(0,w.useCallback)((e,t)=>{"suggestion"===e.type&&(tL(e,{query:u,rowNumber:"number"==typeof t?t+1:0}),R(e.value)),"history"===e.type&&tI(e),l(e.value)},[u]),A=()=>{l("")},R=(e,t)=>{if(tu(),-1!==tl(e,f))return;let r={value:e,source:"client",timestamp:Date.now()};h(e=>{let n=e.slice();return t||0===t?n[t]=r:n.push(r),n.length>5&&n.shift(),n})};(0,w.useEffect)(()=>{let e=c.toLowerCase();if(ta(e)){d({q:e}),s(!1);for(let t=0;t<f.length;t++)if(tc(e,f[t].value)){R(e,t);return}e.length>2&&R(e)}},[c]),(0,w.useEffect)(()=>{0===u.length&&d({})},[u]);let O=e=>{l(e)},P=e=>{let t=tl(e,f);-1!==t&&h(e=>{let r=e.slice();return r[t].source="server",r})},L=e=>{ta(e)&&(_||P(u),o(!0),(0,k.d8)("next_search","1",{expires:864e3}),window.location.assign("/search/?q=".concat(encodeURIComponent(e))),_||P(e))};return((0,w.useEffect)(()=>{ta(u)||b()},[u]),(0,w.useEffect)(()=>{l(g?g.to_query:m)},[m,g]),(0,w.useEffect)(()=>{if(l(n.get("q")||""),_||v&&!ts())return},[]),(0,w.useEffect)(()=>{tn(f),tu(),f.length>0&&y(!0)},[f]),(0,w.useEffect)(()=>{a&&C()},[a]),t===F.NX.mobile)?(0,S.jsx)(tP,{searchValue:u,searchResultItems:x,onSearchChange:O,onItemClick:j,onItemDeleteClick:T,onSearch:L,onClearClick:A}):(0,S.jsx)(tk,{searchValue:u,searchResultItems:x,onSearchChange:O,onItemClick:j,onItemDeleteClick:T,onSearch:L,onClearClick:A})};var tF=r.p+"static/media/empty-avatar.543fe5b6.svg",tD=r(24529),tM=r.n(tD);let tU="https://cdn.litres.ru",tq=[30,40,50,500],tB=e=>{let{hasAvatar:t,id:r,size:n,className:i,isGradient:o=!1,imgClassName:a,imageURL:s,onClick:u,hash:l="",href:c,isPDA:d=!1}=e,{t:p}=(0,L.$G)(),f=(0,P.useSelector)(e=>e.foundationUser.settings.profile_privacy),h=t&&"closed"!==f,[m,g]=(0,w.useState)(tF);(0,F.LI)(()=>{s?g(tU+s.replace(String(r),String(r)+"_".concat(_()))):h?g(y()):g(tF)},[s,t]);let _=()=>tq.includes(n)?n:tq.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e),v=()=>b(r,_()),y=()=>l?"".concat(v(),"?v=").concat(l):v(),b=(e,t)=>{let r="".concat("000000000000".substr(0,12-e.toString().length)).concat(e);return"".concat(tU,"/pub/avatar/100/").concat(r.substr(0,2),"/").concat(r.substr(2,2),"/").concat(r.substr(4,2),"/").concat(r.substr(6,2),"/").concat(r.substr(8,2),"/").concat(r.substr(10,2),"/").concat(e,"_").concat(t,".jpg")},x=()=>(0,S.jsx)("div",{className:O()(tM().profileButton__logo_container,{[tM().profileButton__logo_container_gradient]:o}),children:(0,S.jsx)("img",{className:O()(a,tM().profileButton__logo),src:m,onError:()=>{g(tF)},alt:"profile photo"})});return(0,S.jsxs)(q.I,{href:c,className:O()(tM().profileButton,i,{[tM().profileButton_mobile]:d}),onClick:u,"data-testid":"header__profile-button",children:[x(),(0,S.jsx)("div",{className:O()(tM().profileButton__title,i),children:p("Профиль")})]})},tz=()=>(0,S.jsx)("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M17.1748 2.2002C18.7214 3.74684 18.7807 6.23557 17.3093 7.85403L9.93699 15.9629L2.56562 7.854C1.09429 6.23554 1.15355 3.74679 2.70019 2.20015C4.42711 0.473229 7.27122 0.631031 8.79687 2.53809L9.9375 3.96335L11.0771 2.53793C12.6028 0.630869 15.4479 0.473284 17.1748 2.2002Z",stroke:"#020305",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),tG=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"basketTabIcon",children:[(0,S.jsx)("path",{d:"M18.9243 9H5.07573C4.41135 9 3.93169 9.63591 4.11421 10.2747L5.92111 16.5989C6.41174 18.3161 7.98128 19.5 9.76721 19.5H14.2328C16.0187 19.5 17.5883 18.3161 18.0789 16.5989L19.8858 10.2747C20.0683 9.6359 19.5886 9 18.9243 9Z",stroke:"#020305",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M15.7395 9H8.26051C7.54417 9 7.06016 8.2689 7.33993 7.60945L7.62487 6.9378C8.25188 5.45986 9.70176 4.5 11.3072 4.5H12.6928C14.2982 4.5 15.7481 5.45986 16.3751 6.9378L16.6601 7.60945C16.9398 8.2689 16.4558 9 15.7395 9Z",stroke:"#020305",strokeWidth:"1.5",strokeLinejoin:"round"})]}),tW=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M11.5203 8.4566L12 8.8557L12.4797 8.45659C14.071 7.1326 16.179 6.44532 17.9438 6.09571C18.8178 5.92257 19.5885 5.83593 20.1392 5.7927C20.1772 5.78972 20.2142 5.78694 20.25 5.78436V16.4503C20.2116 16.4537 20.172 16.4573 20.131 16.4612C19.6036 16.5116 18.8664 16.612 18.0166 16.8124C16.3246 17.2114 14.1419 18.0175 12.2909 19.6576C12.1308 19.7995 11.8692 19.7995 11.7091 19.6576C9.85805 18.0175 7.67537 17.2114 5.9834 16.8124C5.13358 16.612 4.39636 16.5116 3.86895 16.4612C3.82805 16.4573 3.78838 16.4537 3.75 16.4503V5.78437C3.78583 5.78695 3.82277 5.78972 3.86078 5.79271C4.41153 5.83594 5.18216 5.92258 6.05618 6.09572C7.82102 6.44534 9.929 7.13261 11.5203 8.4566Z",stroke:"#020305",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M12 8V14.5V19",stroke:"#020305",strokeWidth:"1.5"})]}),t$=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M18 11C19.1046 11 20 9.88071 20 8.5C20 7.11929 19.1046 6 18 6",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M3 6H18M18.0002 11H3",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M3 11C4.10457 11 5 9.88071 5 8.5C5 7.11929 4.10457 6 3 6",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M18 20C19.1046 20 20 18.8807 20 17.5C20 16.1193 19.1046 15 18 15",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M3 15H18M18.0002 20H3",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M3 20C4.10457 20 5 18.8807 5 17.5C5 16.1193 4.10457 15 3 15",stroke:"black",strokeWidth:"1.5"})]}),tH=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsxs)("g",{clipPath:"url(#clip0_9533_42790)",children:[(0,S.jsx)("circle",{cx:"14.5042",cy:"8.50416",r:"5.49618",transform:"rotate(-29.8939 14.5042 8.50416)",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M17.2432 13.2686L20.8955 19.6218",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("line",{x1:"2",y1:"8.25",x2:"6",y2:"8.25",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M2 13.25H8",stroke:"black",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M2 18.25H12.5",stroke:"black",strokeWidth:"1.5"})]}),(0,S.jsx)("defs",{children:(0,S.jsx)("clipPath",{id:"clip0_9533_42790",children:(0,S.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}),tV=()=>(0,S.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("circle",{cx:"12",cy:"11",r:"3.25",stroke:"#020305",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M6.5 19.318C7.84208 18.0095 9.50575 17 12 17C14.4943 17 16.1579 18.0095 17.5 19.318",stroke:"#020305",strokeWidth:"1.5"}),(0,S.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"9",stroke:"#020305",strokeWidth:"1.5"})]}),tZ=()=>(0,S.jsx)("svg",{fill:"none",viewBox:"0 0 20 20",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"m15.293 15.293c2.7757-1.2553 4.707-4.0486 4.707-7.293 0-4.4183-3.5817-8-8-8-3.2444 0-6.0377 1.9313-7.293 4.707-2.7757 1.2553-4.707 4.0486-4.707 7.293 0 4.4182 3.5817 8 8 8 3.2444 0 6.0377-1.9314 7.293-4.707zm0.6189-2.1015c1.572-1.1864 2.5881-3.0703 2.5881-5.1915 0-3.5898-2.9101-6.5-6.5-6.5-2.1212 0-4.0051 1.0161-5.1915 2.5881 0.38874-0.05805 0.78662-0.08813 1.1915-0.08813 4.4183 0 8 3.5817 8 8 0 0.4049-0.0301 0.8028-0.0881 1.1915zm-1.4119-1.1915c0 3.5898-2.9101 6.5-6.5 6.5-3.5898 0-6.5-2.9102-6.5-6.5 0-3.5899 2.9102-6.5 6.5-6.5 3.5899 0 6.5 2.9102 6.5 6.5zm-9.4999-1.0165-6e-5 0.0164c-0.00275 0.7461 6.5e-4 2.608 0.00255 3.5047 5.9e-4 0.2757 0.22368 0.4983 0.49935 0.4983h3.4981c1.0002 0 3 0 3-2.003 0-2.5-3-2.0001-3-2.0001s0.5-3-2-2.9999c-1.9891 1e-5 -1.9963 1.9784-1.9999 2.9836z",clipRule:"evenodd",fill:"#9013FE",fillRule:"evenodd"})});(function(e){e.CART="/my-books/cart/",e.CAMPAIGNS="/my-books/campaigns/",e.LIBRARY="/my-books/library/",e.LIKED="/my-books/liked/",e.PURCHASED="/my-books/purchased/",e.READ_AND_LISTEN="/my-books/read-and-listen/",e.FOLDERS="/my-books/shelfs/"})(p||(p={})),function(e){e[e.Default=0]="Default",e[e.Notifications=1]="Notifications",e[e.MyBooks=2]="MyBooks",e[e.User=3]="User",e[e.Genres=4]="Genres",e[e.MoreMenu=5]="MoreMenu"}(f||(f={})),function(e){e.drafts="cookieChernovikPoint",e.giftCards="cookieGiftPoint",e.podcasts="cookiePodcastPoint",e.loyaltyProgram="cookieLoyaltyProgramPoint"}(h||(h={})),function(e){e.purple="purple",e.orange="orange",e.default="default"}(m||(m={}));let tK={main:{title:"Главная",label:"main",href:"/",icon:t$()},catalog:{title:"Каталог",label:"catalog",href:"/pages/new_genres/",icon:tH()},bonus:{title:"Бонусы",label:"bonus",href:"/me/bonuses/",icon:tZ()},basket:{title:"Корзина",label:"basket",href:p.CART,icon:tG()},favorite:{title:"Отложенные",label:"favorite",href:p.LIKED,icon:tz()},myBooks:{title:"Мои книги",label:"myBooks",href:"/my-books/",icon:tW()},login:{title:"Войти",label:"login",href:"/auth/login",icon:tV()}};var tJ=r(72233),tQ=r.n(tJ);let tX=e=>{let{children:t=0}=e;return 0!==t&&t?(0,S.jsx)("p",{className:tQ().counter,"data-testid":"header__cart--counter",role:"status","aria-live":"polite",children:t>99?"99+":t}):null};var tY=r(17485),t0=r.n(tY);let t1=e=>{let{type:t,theme:r="default",count:n,classNames:i=[],isActive:o=!1,numberTitle:a,onClick:s}=e,{t:u}=(0,L.$G)(),l=(0,E.CG)(e=>e.browser.pda),[c,d]=(0,w.useState)(tK[t].href),f="tab",h="default"===r?"":"_".concat(r),m=(e,t)=>t0()["".concat(f).concat(h).concat(e?"__".concat(e):"").concat(t?"_".concat(t):"")],g=(e,t)=>{if(o)return e.preventDefault(),!1;(0,D.GH)(t,k.Ym?window.location.href:""),s&&s(e)};return(0,w.useEffect)(()=>{"myBooks"!==t||l?d(tK[t].href):d(p.PURCHASED)},[t,l]),(0,S.jsx)("div",{className:O()(m(),...i),"data-testid":"tab-".concat(tK[t].label),id:"tab-".concat(tK[t].label),children:(0,S.jsxs)(q.I,{onClick:e=>{g(e,tK[t].title)},href:c,className:O()(m("link"),{[m("link","active")]:o}),"data-testid":"tab__link",children:[(0,S.jsxs)("div",{className:m("wrapper"),children:["number"==typeof a&&(0,S.jsx)("span",{className:m("wrapper__number"),children:a}),(0,S.jsxs)("div",{className:O()(m("wrapper__logo"),{[m("wrapper__logo","small")]:!!a}),children:[tK[t].icon,(0,S.jsx)(tX,{children:n})]})]}),(0,S.jsx)("p",{className:m("title"),children:u(tK[t].title)})]})})},t2=(0,w.forwardRef)((e,t)=>{let{className:r=""}=e,n=e=>{e.preventDefault(),(0,D.GH)("Войти",k.Ym?window.location.href:"")};return(0,S.jsx)("div",{ref:t,"data-testid":"header__login-button--desktop",children:(0,S.jsx)(t1,{type:"login",classNames:[r],onClick:n})})});t2.displayName="Login";var t5=t2;let t4=()=>(0,S.jsxs)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M8.52031 3.4566L9 3.8557L9.47969 3.45659C11.8482 1.48592 15.3363 0.941615 17.0657 0.798626C17.1164 0.794433 17.1557 0.810372 17.1876 0.841191C17.2219 0.874195 17.25 0.928153 17.25 1V11.16C17.25 11.2941 17.1284 11.46 16.923 11.4826C15.2865 11.6629 11.9444 12.3065 9.29087 14.6576C9.13079 14.7995 8.86921 14.7995 8.70913 14.6576C6.05562 12.3065 2.71347 11.6629 1.07704 11.4826C0.871628 11.46 0.75 11.2941 0.75 11.16V1.00001C0.75 0.928159 0.778148 0.874201 0.81236 0.841197C0.844308 0.810377 0.883591 0.794438 0.9343 0.798631C2.6637 0.941629 6.15176 1.48594 8.52031 3.4566Z",stroke:"#212121",strokeWidth:"1.5"}),(0,S.jsx)("path",{d:"M9 3V9.5V14",stroke:"#212121",strokeWidth:"1.5"})]});var t3=r(76791),t8=r(50249),t6=r(24310),t9=r(39156),t7=r.n(t9);let re=()=>{let{t:e}=(0,L.$G)(),t=(0,E.TL)(),r=(0,E.CG)(e=>e.global.interface.headerHeight),n=(0,E.CG)(e=>e.browser.pda),i=(0,E.CG)(e=>e.face.language||"ru"),o=(0,k.qg)({isPDA:n,faceLanguage:i}),{data:a,isLoading:s}=E.w7.useGetBannersQuery(o),u=null==a?void 0:a[0],l=e=>({...e.event_data,block_type:"banners",block_title:e.banner_title,block_name:e.event_data.place_slug,ad_campaign_id:e.event_data.campaign_id}),c=(0,w.useMemo)(()=>{if(u){if(u.transition_link.includes("book")||u.transition_link.includes("collections")||u.transition_link.includes("series")){let e=u.transition_link.includes("?")?"&":"?",t={source:"banners",...u.banner_title&&{banner_title:u.banner_title},place_slug:u.event_data.place_slug,campaign_id:u.event_data.campaign_id,banner_id:u.event_data.banner_id};return u.transition_link+e+(0,t8.stringify)(t)}return u.transition_link}return""},[u]);(0,w.useEffect)(()=>{u&&!s?es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"adv_banner_view",params:l(u)}):t(E.hi.global.interfaceRequests.setHeaderHeight(r-50))},[u,s]);let d=()=>{u&&es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"adv_banner_click",params:l(u)})};return s?(0,S.jsx)("div",{className:t7().wrapper,role:"none",children:(0,S.jsx)(N.qM,{width:"100%",height:"100%"})}):u?(0,S.jsxs)("div",{className:t7().wrapper,role:"presentation","aria-label":e("Реклама"),children:[(0,S.jsx)(q.I,{className:t7().banner,href:c,"data-testid":"mainPromoBanner--desktop",onClick:d,target:"_blank",rel:"noreferrer","aria-label":u.banner_title,children:(0,S.jsxs)("picture",{children:[(0,S.jsx)("source",{srcSet:(0,k.zi)(u.image_url),type:"image/webp"}),(0,S.jsx)("source",{srcSet:u.image_url}),(0,S.jsx)("img",{className:t7().banner,src:u.image_url,alt:u.banner_title,decoding:"sync"})]})}),u.advertising_marking&&(0,S.jsx)("div",{className:t7().advertising,children:(0,S.jsx)(t6.j,{link:u.transition_link,marking:u.advertising_marking,forBanner:!0})})]}):null};!function(e){e.MAIN_PROMO="MainPromo",e.SCHOOL="School"}(g||(g={}));let rt="/abonement/",rr="is_phone_asked",rn=604800,ri={[p.READ_AND_LISTEN]:{name:"Читаю и слушаю"},[p.PURCHASED]:{name:"Мои",counterKey:"received"},[p.LIKED]:{name:"Отложено",counterKey:"wishlist"},[p.LIBRARY]:{name:"Библиотечные"},[p.FOLDERS]:{name:"Списки"},[p.CART]:{name:"Корзина",counterKey:"in_cart"},[p.CAMPAIGNS]:{name:"Мои акции"}},ro=[{id:"en",value:"ENG",content:{title:"English",flag:"gb",domain:"litres.com"}},{id:"az",value:"AZ",content:{title:"Azərbaycan",flag:"az",domain:"litres.az"}},{id:"uz",value:"UZ",content:{title:"O'zbek",flag:"uz",domain:"litres.uz"}},{id:"tr",value:"TR",content:{title:"T\xfcrk\xe7e",flag:"tr",domain:"litres-tr.com"}},{id:"de",value:"DE",content:{title:"Deutsch",flag:"de",domain:"litres.de"}},{id:"pl",value:"PL",content:{title:"Polski",flag:"pl",domain:"litres.pl"}},{id:"es",value:"ES",content:{title:"Espa\xf1ol",flag:"es",domain:"litres.es"}},{id:"et",value:"ET",content:{title:"Eesti keel",flag:"ee",domain:"litres.ee"}}],ra=()=>{let{pathname:e}=(0,F.TH)(),t=(0,F.uH)(),r=(0,E.CG)(e=>e.face.language||"ru"),n=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),i=(0,k.vo)(n),o=(0,k.Af)(n),a=(0,k.f0)(n);return t&&(e===rt||"/litres_subscription/"===e)||a||o?null:i?g.SCHOOL:"ru"===r||"az"===r||"uz"===r?g.MAIN_PROMO:null};var rs=r(88806),ru=r.n(rs);let rl=(0,w.lazy)(()=>Promise.all([r.e(3210),r.e(8764)]).then(r.bind(r,28764))),rc=e=>{let{isVisible:t=!0}=e,r=(0,E.CG)(e=>e.user.offers).offersList.filter(e=>8===e.campaign&&3===e.class)[0],[n,i]=(0,w.useState)(!1);(0,w.useEffect)(()=>{i(void 0!==(null==r?void 0:r.discount)&&!(0,k.ej)("hide_countdown_banner")&&!!r.validTillTimestamp)},[r]);let o=e=>{i(e)};return(0,S.jsxs)("div",{className:t?void 0:ru().hidden,children:[n&&(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{height:"100%",width:"100%"}),children:(0,S.jsx)(rl,{offer:r,onChangeIsShow:o})}),(0,S.jsx)(rd,{})]})},rd=()=>{let e=ra(),t=(0,t3.bi)("banner_header_pda","false"),r=(0,t3.bi)("banner_header_www","false");return t||r||e!==g.MAIN_PROMO?null:(0,S.jsx)(re,{})},rp=["/my-books/","/my_books_all/","/my_books_fresh/","/my_views/","/my_settings/","/by_subscription/","/new_liked/","/new_basket/","/my_folders_list/","/personal_cabinet","/put_money_on_account/","/promocode/","/abonement-v-podarok/","/abonement/","/litres_subscription/","/reader/","/selfpub/","/selfpublishing/","/drafts/","/app/","/company-menu/","/ux-research-now/","/become-an-author/","/subscription/","/journal/","/me/credentials/","/me/","/otzyv/","/promocode/","/pages/receipt/","/pages/2024-year-in-review/","/pages/2024-year-in-review/share/"],rf=e=>"/"===e||!rp.some(t=>e.includes(t)),rh=()=>{let[e,t]=(0,w.useState)(!1),{partner_subscriptions:r}=(0,E.CG)(e=>e.foundationUser),n=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{asPath:i}=(0,U.useRouter)(),o=(0,w.useMemo)(()=>!((0,k.vo)(n)||(0,k.Af)(n)||(0,k.Sg)(n)),[n]);return(0,w.useEffect)(()=>{t(rf(i)&&o&&r.has_active)},[o,i]),e};var rm=r(56321);let rg=["/pages/put_money_on_account/"],r_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!rg.includes(e)};var rv=r(95607),ry=r.n(rv);let rb=()=>{var e,t;let{t:r}=(0,L.$G)(),n=(0,F.uH)(),i=(0,F.TH)(),o=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{id:a,LKS:s,BSK:u,library_info:{is_school_user:l}}=(0,E.CG)(e=>e.foundationUser),{data:c}=(0,M.B)(),d=0===a,[p,f]=(0,w.useState)("");(0,w.useEffect)(()=>{f((null==i?void 0:i.pathname)||"")},[null==i?void 0:i.pathname]);let h=r_(p),m=[{type:"main",count:null},{type:"catalog",count:null},{type:"favorite",count:d?s.length:null==c?void 0:null===(e=c.cart_stats)||void 0===e?void 0:e.deferred_count},{type:"basket",count:d?u.length:null==c?void 0:null===(t=c.cart_stats)||void 0===t?void 0:t.items_count},{type:"myBooks",count:null==c?void 0:c.bought_collections.length}];((0,k.vo)(o)||l||(0,k.Af)(o))&&(m=m.filter(e=>{let{type:t}=e;return"basket"!==t}));let g=100/m.length;return h?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("nav",{className:ry().navBarMobile,style:{gridTemplateColumns:"repeat(".concat(m.length,",").concat(g,"%)")},"aria-label":r("Пользовательские разделы меню"),children:m.map(e=>{let{type:t,count:r}=e;return(0,S.jsx)(t1,{type:t,theme:"orange",isActive:p===tK[t].href,count:r},t)})}),n&&(0,rm.createPortal)((0,S.jsx)("div",{className:ry().navBarMobile__safeArea}),document.body)]}):null};!function(e){e.catalog="catalog",e.newBooks="newBooks",e.popular="popular",e.audiobooks="audiobooks",e.selfpub="selfpub",e.subscription="subscription",e.promoCodes="promoCodes",e.more="more",e.company="company",e.compilations="compilations",e.drafts="drafts",e.podcasts="podcasts",e.comics="comics",e.fanfics="fanfics",e.lectures="lectures",e.journal="journal",e.certificatePresent="certificatePresent",e.litresSubscription="litresSubscription",e.litresAbonement="litresAbonement",e.corporateLibrary="corporateLibrary",e.litresReader="litresReader",e.publishYourBook="publishYourBook",e.mobileApps="mobileApps",e.becomeAnAuthor="becomeAnAuthor",e.detskieKnigi="detskieKnigi",e.litresLandingTrOnly="litresLandingTrOnly"}(_||(_={}));let rx=[{id:"subscription",title:"Подписка за 0 ₽",href:"/litres_subscription/",isOrange:!0,isMainDomainOnly:!0},{id:"promoCodes",title:"Промокод",href:"/promocode/",isOrange:!0},{id:"newBooks",title:"Новинки",href:"/new/"},{id:"popular",title:"Популярное",href:"/popular/"},{id:"compilations",title:"Подборки",href:"/collections/"},{id:"audiobooks",title:"Аудиокниги",href:"/audiobooks/"},{id:"selfpub",title:"Эксклюзивы",href:"/selfpublishing/",isMainDomainOnly:!0},{id:"drafts",title:"Черновики",href:"/drafts/",isMainDomainOnly:!0},{id:"podcasts",title:"Подкасты",href:"/podcasts/",isMainDomainOnly:!0},{id:"comics",title:"Комиксы",href:"/showroom/komiksy-i-manga-274060/"},{id:"journal",title:"Журнал",href:"/journal/",isMainDomainOnly:!0},{id:"certificatePresent",title:"Сертификаты",href:"/certificate-present/",isMainDomainOnly:!0},{id:"becomeAnAuthor",title:"Стать автором",href:"https://selfpub.ru/?utm_source=litres&utm_medium=header&utm_campaign=top"},{id:"company",title:"О компании",href:""},{id:"litresLandingTrOnly",title:"Kitabınızı Yayımlayın",href:"https://landing.selfpub.ru/turkey/"}],rS=[{id:"detskieKnigi",title:"Детская литература",href:"/showroom/detskie-knigi-5007/",isMainDomainOnly:!0},{id:"fanfics",title:"Фанфики",href:"/showroom/fanfic/",isMainDomainOnly:!0},{id:"litresSubscription",title:"Литрес Подписка",href:"/litres_subscription/",isMainDomainOnly:!0},{id:"litresAbonement",title:"Литрес Абонемент",href:"/abonement/",isMainDomainOnly:!0},{id:"lectures",title:"Лекции",href:"/showroom/lectures/",isMainDomainOnly:!0},{id:"corporateLibrary",title:"Корпоративная библиотека",href:"/cms/corp-library/",isMainDomainOnly:!0},{id:"litresReader",title:"Литрес Чтец",href:"/cms/7330/",isMainDomainOnly:!0},{id:"publishYourBook",title:"Издать свою книгу",href:"/selfpub/",isMainDomainOnly:!0},{id:"mobileApps",title:"Мобильные приложения",href:"/app/"}],rw=(e,t,r)=>{(0,D.GH)(e,k.Ym?window.location.href:"")},rk=()=>(0,S.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M1 1L6 6L11 1",stroke:"#212121",strokeWidth:"1.5",strokeLinecap:"round"})});var rE=r(8536),rC=r.n(rE),rT=r(14549);let rj=e=>{let{items:t,moreButtonRef:r}=e,n=(0,E.CG)(e=>e.foundationUser.id),{t:i}=(0,L.$G)(),o=0===n,[a,s]=e1(),u=(e,t)=>{rw(e,t,o)},c=e=>{if(!a)return;let{key:t}=e,n=a?Array.from(a.children):[],i=0,o=n.length-1,s=n.findIndex(eX),u=eX(n[i])?o:s-1,c=eX(n[o])?i:s+1;t===l.ArrowDown&&n[-1===s?i:c].focus(),t===l.ArrowUp&&((null==r?void 0:r.current)&&(-1===s||u===o)?r.current.focus():n[-1===s?o:u].focus())};return(0,F.OR)("keydown",c),(0,S.jsx)("div",{"data-testid":"lowerMenu_moreItems",ref:s,children:t.map(e=>{let{title:t,href:r,id:n}=e;return(0,S.jsx)(rT.Zo,{onClick:u.bind(null,t,n),asLink:!0,href:r,text:i(t),"data-testid":"lowerMenu_moreItem"},n)})})},rA=e=>{let t=(0,F.uH)(),{openedPopup:r,setOpenedPopup:n,onClick:i,items:o}=e,{t:a}=(0,L.$G)(),[s,u]=(0,w.useState)(!1);(0,w.useEffect)(()=>(s&&r!==f.MoreMenu&&u(!1),document.body.style.overflow=s?"hidden":"",()=>{document.body.style.overflow=""}),[r,s]);let l=e=>{e&&n&&n(f.MoreMenu),u(e)},c=()=>{i("Еще",_.more)};return(0,S.jsx)(Y.J,{placement:"bottom",trigger:"click",customCloseTriggers:["esc","focusLost"],disableArrow:!0,visible:s,offset:[0,0],portal:!1,content:(0,S.jsx)(rj,{items:o}),onVisibleChange:l,contentClassName:rC().popoverContent,baseClassName:rC().popoverContentWrap,needForSEO:!t,children:(0,S.jsxs)("div",{className:O()(rC().moreButton,{[rC().moreButton_active]:s}),onClick:c,"data-testid":"lower-menu__more-button",tabIndex:0,children:[(0,S.jsx)(q.I,{tabIndex:-1,children:a("Ещё")}),(0,S.jsx)(rk,{})]})})};var rR=e=>{let t="lower-menu-horizontal-scroll";(0,w.useEffect)(()=>{let r=parseFloat((0,k.ej)(t)||"");!isNaN(r)&&e.current&&(e.current.scrollLeft=r)},[t]);let r=J()(()=>{if(e.current){let r=e.current.scrollLeft;(0,k.d8)(t,"".concat(r))}},300);return{scrollContainerRef:e,handleScroll:r}};let rO=e=>{let t=(0,E.CG)(e=>e.foundationUser.subscription.is_active),r=(0,E.CG)(e=>e.browser.headers["client-host"])||(e?iN:iI),n=(0,E.CG)(e=>e.foundationUser.library_info.is_school_user)||(0,k.vo)(r),i=(0,E.CG)(e=>e.face.language);return(0,w.useMemo)(()=>{let o=e=>e.filter(e=>{let{isMainDomainOnly:o,id:a}=e;if(!(r!==iI&&r!==iN&&o||t&&a===_.subscription||n&&[_.compilations,_.selfpub,_.subscription,_.promoCodes].includes(a)||(0,k.Af)(r)&&[_.subscription].includes(a)||"ru"!==i&&[_.selfpub,_.subscription,_.company,_.compilations,_.becomeAnAuthor].includes(a)||(0,k.Ov)(r)&&[_.comics,_.compilations].includes(a)||!((0,k.Ok)(r)||(0,k.p6)(r)||(0,k.qT)(r))&&_.comics===a||!(0,k.Ov)(r)&&[_.company,_.litresLandingTrOnly].includes(a)))return!0}),a=o(e?[...rx,...rS]:[...rx]),s=o(rS);return"ru"===i&&a.forEach(e=>{e.id===_.comics&&(e.title="Комиксы и вебтуны")}),{menuItems:a,defaultMoreItems:s}},[e,t,n,i,r])};var rP=r(90960),rL=r.n(rP);let rI=e=>{let{openedPopup:t,setOpenedPopup:r,isPDA:n=!1,isNarrowHeader:i}=e,{t:o}=(0,L.$G)(),a=0===(0,E.CG)(e=>e.foundationUser.id),{menuItems:s,defaultMoreItems:u}=rO(n),[l,c]=(0,w.useState)([]),d=(0,w.useRef)(null),p=(0,w.useRef)(null),{handleScroll:f}=rR(p),h=(0,w.useCallback)(()=>{if(d.current&&p.current){let e=d.current.getBoundingClientRect();if(0===e.width)return;let t=p.current.children,r=[];for(let n=0;n<t.length-1;n++){let i=t[n].getBoundingClientRect(),o=k.Ym&&window.innerWidth>=1583?e.left-12:e.left,a=k.Ym&&window.innerWidth>=1583?e.right-66:e.right-78;(i.left<o||i.right>a)&&r.push(s[n])}c(r)}},[s]);(0,w.useEffect)(()=>{i||n||h()},[i]),(0,w.useEffect)(()=>{if(!n){let e=J()(h,300);window.addEventListener("resize",e);let t=setTimeout(h,200);return()=>{clearTimeout(t),window.removeEventListener("resize",e)}}},[h]);let m=(e,t)=>{rw(e,t,a)},g=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)return e.preventDefault(),!1;m(t,r)},v=e=>l.some(t=>{let{id:r}=t;return r===e});return(0,S.jsx)("nav",{ref:d,className:O()(rL().lowerMenu,{[rL().lowerMenu_pda]:n}),"aria-label":o("Основное меню"),children:(0,S.jsxs)("div",{ref:p,className:O()(rL().lowerMenu__inner,rL().wrapper,{[rL().lowerMenu__inner_pda]:n}),onScroll:f,"data-testid":"lowerMenu_items",children:[s.map(e=>{let{title:t,href:r,id:i,isOrange:a=!1}=e,u=v(i),l=i===_.promoCodes&&!s.some(e=>e.id===_.subscription);return(0,S.jsx)(q.I,{className:O()(rL().lowerMenu__item,{[rL().lowerMenu__item_orange]:a||l,[rL().lowerMenu__item_disabled]:u,[rL().lowerMenu__item_pda]:n}),href:r,"data-testid":"lowerMenu__item--".concat(i),tabIndex:u?-1:0,"aria-hidden":u,onClick:e=>g(e,t,i,u),children:o(t)},i)}),!n&&(0,S.jsx)("div",{className:rL().lowerMenu__moreButtonWrap,"data-testid":"lowerMenu_moreButtonWrap",children:(0,S.jsx)(rA,{onClick:m,openedPopup:t,setOpenedPopup:r,items:[...l,...u]})})]})})};var rN=r(83019),rF=r.n(rN),rD=r(94733),rM=r.n(rD);let rU=e=>{let{isMobile:t}=e,{t:r}=(0,L.$G)(),{is_loyalty_user:n,bonuses_info:i}=(0,E.CG)(e=>e.foundationUser.loyalty),o=null==i?void 0:i.current_available_bonuses;return t?(0,S.jsx)("div",{className:rM().control,"data-testid":"tab-bonus",children:(0,S.jsxs)(q.Z,{type:"button",className:O()(rM().bonusButton,{[rM().bonusButton_purple]:n}),href:"/me/bonuses/",children:[(0,S.jsx)("div",{children:n?o:r("Бонусы")}),(0,S.jsx)("div",{className:rM().icon,children:(0,S.jsx)(tZ,{})})]})}):(0,S.jsx)(t1,{type:"bonus",theme:"purple",numberTitle:n?o:void 0})},rq=(0,w.lazy)(()=>Promise.resolve().then(r.bind(r,98877))),rB=(0,w.lazy)(()=>Promise.all([r.e(4643),r.e(4710)]).then(r.bind(r,6308))),rz=()=>{var e,t,r,n,i,o,a;let{t:s}=(0,L.$G)(),u=(0,P.useDispatch)(),l=rh(),{id:c,profile:{email:d,avatar_url:p,registered_at:f,phone_number:h},library_info:m,socials:g,subscription:{is_active:_},BSK:v,LKS:y}=(0,E.CG)(e=>e.foundationUser),b=(0,E.CG)(e=>e.browser.headers["client-host"]||iN),{data:x}=(0,M.B)(),C=!(0,k.Sg)(b)&&!(0,k.vo)(b),{isOpen:T,errorText:j,uiOptions:A}=null!==(n=(0,P.useSelector)(e=>e.global.interface.loginPopupError))&&void 0!==n?n:{isOpen:!1,errorText:""},{isAuthPopupVisible:R}=(0,E.CG)(e=>e.global.header.auth),U=0===c,q=[h,d,g[0]||void 0].filter(Boolean).length<=1,B=m.is_library_user||m.is_school_domain||m.is_librarian,z=!U&&q&&!B&&!!(0,k.ej)("popup_asking")||!!(0,k.ej)("popup_after_auth"),G=U?v.length+y.length:Number(null!==(i=null==x?void 0:null===(e=x.cart_stats)||void 0===e?void 0:e.deferred_count)&&void 0!==i?i:0)+Number(null!==(o=null==x?void 0:null===(t=x.cart_stats)||void 0===t?void 0:t.items_count)&&void 0!==o?o:0)+Number(null!==(a=null==x?void 0:null===(r=x.cart_stats)||void 0===r?void 0:r.purchased_count)&&void 0!==a?a:0)+((null==x?void 0:x.bought_collections.length)||0),W=G>9?"9+":G,$=(0,k.vo)(b)||(0,k.Af)(b),H=()=>{u(E.hi.global.interfaceRequests.setLoginPopupError({isOpen:!1,errorText:""}))};(0,w.useEffect)(()=>{let e=new URLSearchParams(window.location.search).has("block-phone-asking");T&&!e&&V()},[T]);let V=()=>{u(E.hi.global.header.auth.setAuthPopupVisibility(!0))},K=()=>{U||(0,k.d8)(rr,"1",{"max-age":rn}),u(E.hi.global.auth.setRateLimitError(!1)),u(E.hi.global.header.auth.setAuthPopupVisibility(!1)),T&&H(),z&&(0,k.kT)("popup_asking")},J=e=>{U&&(e.preventDefault(),(0,D.GH)("Войти",k.Ym?window.location.href:""),V())};(0,w.useEffect)(()=>{(0,k.ej)("checkOldUserReminder")&&f&&(0,k.kT)("checkOldUserReminder")},[]);let Q=(e,t,r)=>{e.preventDefault(),(0,D.GH)(t,k.Ym?window.location.href:""),k.Ym&&(window.location.href=r)};return(0,S.jsxs)("header",{className:O()(rF().wrapper),"data-testid":"header",role:"banner",children:[(0,S.jsx)(rb,{}),(0,S.jsx)(rc,{}),(0,S.jsx)(I.ZA,{isOpen:R,onClose:K,isMobile:!0,closeOnClickOutside:!(null==A?void 0:A.noCancel)&&!(null==A?void 0:A.fullScreen),isFullScreenMode:null==A?void 0:A.fullScreen,isCloseButtonShown:!(null==A?void 0:A.noCancel),children:(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{height:"100%",width:"100%"}),children:(0,S.jsx)(rq,{isMobile:!0,hidePopup:K,errorTitle:null!=j?j:"",isLibrary:$,uiOptions:A})})}),(0,S.jsxs)("div",{className:rF().container,children:[(0,S.jsxs)("div",{className:rF().panel,children:[(0,S.jsx)("div",{className:rF().logo,children:(0,S.jsx)(Z,{})}),C&&(0,S.jsx)(rU,{isMobile:!0}),(0,S.jsx)("div",{onClick:J,children:U?(0,S.jsx)("div",{"data-testid":"header__login-button--mobile",children:(0,S.jsx)(t5,{className:rF().tabWrap})}):(0,S.jsx)("div",{"data-testid":"header__login-button--mobile",children:(0,S.jsx)(tB,{className:rF().tabWrap,id:Number(c),href:"/me/profile/",size:50,hasAvatar:!!p,isGradient:!!_,isPDA:!0})})}),!C&&(0,S.jsx)("div",{className:rF().control,"data-testid":"my-books__button",children:(0,S.jsxs)("button",{type:"button",className:rF().booksButton,onClick:e=>{Q(e,"Мои книги","/my-books")},children:[(0,S.jsx)("div",{className:O()(rF().icon,{[rF().icon__twoDigitCounter]:G>9}),"data-counter":G>0?W:null,children:(0,S.jsx)(t4,{})}),(0,S.jsx)("div",{children:s("Мои книги")})]})})]}),(0,S.jsx)("div",{className:rF().searchContainer,children:(0,k.Sg)(b)?(0,S.jsx)(e3,{isDesktop:!1}):(0,S.jsx)(tN,{platform:F.NX.mobile})})]}),(0,S.jsx)(rI,{isPDA:!0}),l&&(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{width:"100%",height:50}),children:(0,S.jsx)(rB,{})})]})};var rG=r(14688),rW=r(4438),r$=r(55714),rH=r(66510),rV=r(58657),rZ=r.n(rV);let rK=e=>{let{genre:t}=e,{t:r}=(0,L.$G)(),{url:n="",subgenres:i,arts_count:o,name:a}=t,s=()=>{let e=o?+o:0,t=(null==i?void 0:i.length)?"".concat(r("{count} поджанр",{count:i.length}),", "):"";return"".concat(t," ").concat(r("{count} книга",{count:e}))};return(0,S.jsx)("li",{className:rZ()["item-wrapper"],children:(0,S.jsx)(r$.Fg,{className:rZ().item,href:n,title:s(),"data-arts-count":o,children:(0,rH.f)(r(a))})})};var rJ=r(34678),rQ=r.n(rJ);let rX=e=>{let{genre:t,showPreview:r}=e,n=(0,P.useDispatch)(),i=(0,P.useSelector)(e=>e.global.genres.popup.history),o=(0,P.useSelector)(e=>e.user.credentials.isAnon),{t:a}=(0,L.$G)(),{subgenres:s,url:u=""}=t,l=s&&s.length>5,c=()=>{setTimeout(()=>{n(E.hi.global.genres.setCurrentGenre(t)),n(E.hi.global.genres.setHistory([...i,t])),r(!0)},0)};return(0,S.jsxs)("div",{className:rQ().column,children:[(0,S.jsx)(r$.Fg,{className:rQ().title,href:u,children:(0,rH.f)(a(t.name))}),s&&(0,S.jsxs)("ul",{className:rQ().list,children:[s.map((e,t)=>{if(t<5){let{id:t,name:r}=e;return(0,S.jsx)(rK,{genre:e,isUserAnonymous:o},t.toString()+r)}}),l&&(0,S.jsx)("li",{className:rQ()["more-genres"],children:(0,S.jsxs)(q.I,{onClick:c,children:[a("Все")," ",s.length]})})]})]})};var rY=r(99762),r0=r.n(rY);let r1=e=>{let{genres:t,isLoading:r,isOpen:n,isPreview:i,showPreview:o}=e,a=(0,P.useDispatch)(),s=(0,w.useRef)(null),u=(0,E.CG)(e=>e.browser.headers["client-host"]),l=(0,w.useCallback)(()=>{i&&o(!1),a(E.hi.global.genres.setOpenPopup(!1)),a(E.hi.global.genres.setCurrentGenre(null)),a(E.hi.global.genres.setHistory([]))},[i]);return((0,w.useEffect)(()=>{s.current&&(s.current.scrollTop=0)},[n]),t)?(0,S.jsxs)("div",{className:r0()["genres-wrapper"],ref:s,children:[(0,S.jsx)(q.I,{className:r0()["close-icon"],onClick:l,children:(0,S.jsx)(rW.uQ,{name:"close",size:24})}),r&&(0,S.jsx)("span",{className:r0().genresLoadingIcon}),(0,S.jsxs)("div",{className:O()(r0()["genres-container"],r&&r0().isLoading),children:[t.map((e,t)=>{let{id:r}=e;return t>13?null:(0,S.jsx)(rX,{genre:e,showPreview:o},r)}),(0,S.jsx)(rX,{genre:{url:"/selfpublishing/",id:6334,name:"Эксклюзивы"},showPreview:o}),(0,S.jsx)(rX,{genre:{url:"/drafts/",id:223845,name:"Черновики"},showPreview:o}),"www.litres.ru"===u&&(0,S.jsx)(rX,{genre:{url:"/showroom/fanfic/",id:126859,name:"Фанфики"},showPreview:o}),(0,S.jsx)(rX,{genre:{url:"/collections/besplatnie-knigi/",id:-3,name:"Бесплатные книги"},showPreview:o})]})]}):(0,S.jsx)(S.Fragment,{})},r2=[{id:201583,uuid:"8974ae57-db67-11e7-8020-0cc47a545a1e",name:"легкое чтение",url:"/legkoe-chtenie/",arts_count:252420,subgenres:[{id:5018,uuid:"ed160368-f034-11e5-a511-0cc47a5454c6",name:"фэнтези",url:"/knigi-fentezi/",arts_count:59462},{id:5022,uuid:"ed1606a8-f034-11e5-a511-0cc47a5454c6",name:"детективы",url:"/knigi-detektivy/",arts_count:50155},{id:5014,uuid:"ed15ffbd-f034-11e5-a511-0cc47a5454c6",name:"боевики, остросюжетная литература",url:"/knigi-boeviki-ostrosugetnaya/",arts_count:34908},{id:5004,uuid:"ed15f5d9-f034-11e5-a511-0cc47a5454c6",name:"фантастика",url:"/knigi-fantastika/",arts_count:69692},{id:5005,uuid:"ed15f6c1-f034-11e5-a511-0cc47a5454c6",name:"любовные романы",url:"/knigi-lubovnye-romany/",arts_count:87780},{id:5006,uuid:"ed15f789-f034-11e5-a511-0cc47a5454c6",name:"приключения",url:"/knigi-priklucheniya/",arts_count:38984},{id:5029,uuid:"ed160d1e-f034-11e5-a511-0cc47a5454c6",name:"эротика и секс",url:"/erotika-seks/",arts_count:33244},{id:5013,uuid:"ed15fe5a-f034-11e5-a511-0cc47a5454c6",name:"юмористическая литература",url:"/knigi-umor/",arts_count:14838},{id:201671,uuid:"8977df6e-db67-11e7-8020-0cc47a545a1e",name:"классика жанра",url:"/legkoe-chtenie/klassika-zhanra/",arts_count:5364},{id:201926,uuid:"03c4a247-df19-11e7-b9d3-0cc47a5453d6",name:"легкая проза",url:"/legkoe-chtenie/legkaya_proza/",arts_count:2631},{id:5017,uuid:"ed16029c-f034-11e5-a511-0cc47a5454c6",name:"ужасы / мистика",url:"/knigi-uzhasy-mistika/",arts_count:22159},{id:5001,uuid:"ed15f322-f034-11e5-a511-0cc47a5454c6",name:"комиксы / манга",url:"/komiksy-manga/",arts_count:1756}]},{id:201591,uuid:"89750dad-db67-11e7-8020-0cc47a545a1e",name:"серьезное чтение",url:"/sereznoe-chtenie/",arts_count:273583,subgenres:[{id:5015,uuid:"ed1600a4-f034-11e5-a511-0cc47a5454c6",name:"современная проза",url:"/knigi-sovremennaya-proza/",arts_count:133267},{id:5028,uuid:"ed160c02-f034-11e5-a511-0cc47a5454c6",name:"классическая литература",url:"/klassicheskaya-literatura/",arts_count:68759},{id:201719,uuid:"8979faaa-db67-11e7-8020-0cc47a545a1e",name:"об истории серьезно",url:"/sereznoe-chtenie/ob-istorii-serezno/",arts_count:55203},{id:5169,uuid:"ed16ef1c-f034-11e5-a511-0cc47a5454c6",name:"биографии и мемуары",url:"/knigi-publicistika/biografii-memuary/",arts_count:23e3},{id:201711,uuid:"89799776-db67-11e7-8020-0cc47a545a1e",name:"cтихи, поэзия",url:"/sereznoe-chtenie/stihi-poeziya/",arts_count:27600},{id:201695,uuid:"8978f8c0-db67-11e7-8020-0cc47a545a1e",name:"пьесы, драматургия",url:"/sereznoe-chtenie/pesy-dramaturgiya/",arts_count:5981}]},{id:201599,uuid:"897551b1-db67-11e7-8020-0cc47a545a1e",name:"история",url:"/istoriya/",arts_count:102102,subgenres:[{id:201727,uuid:"897a5397-db67-11e7-8020-0cc47a545a1e",name:"популярно об истории",url:"/populyarno-ob-istorii/",arts_count:8601,subgenres:[]},{id:5094,uuid:"ed167260-f034-11e5-a511-0cc47a5454c6",name:"книги о путешествиях",url:"/knigi-priklucheniya/puteshestviyah/",arts_count:10014,subgenres:[]},{id:5169,uuid:"ed16ef1c-f034-11e5-a511-0cc47a5454c6",name:"биографии и мемуары",url:"/knigi-publicistika/biografii-memuary/",arts_count:23e3,subgenres:[]},{id:5258,uuid:"ed177264-f034-11e5-a511-0cc47a5454c6",name:"исторические детективы",url:"/knigi-detektivy/istoricheskie/",arts_count:2413,subgenres:[]},{id:5209,uuid:"ed173a66-f034-11e5-a511-0cc47a5454c6",name:"историческая литература",url:"/knigi-sovremennaya-proza/istoricheskaya-literatura/",arts_count:16306,subgenres:[]},{id:5095,uuid:"ed167372-f034-11e5-a511-0cc47a5454c6",name:"исторические приключения",url:"/knigi-priklucheniya/istoricheskie/",arts_count:6653,subgenres:[]},{id:5071,uuid:"ed163cdf-f034-11e5-a511-0cc47a5454c6",name:"историческая фантастика",url:"/knigi-fantastika/istoricheskaya/",arts_count:6347,subgenres:[]},{id:5227,uuid:"ed174fb3-f034-11e5-a511-0cc47a5454c6",name:"историческое фэнтези",url:"/knigi-fentezi/istoricheskoe/",arts_count:3602,subgenres:[]},{id:5170,uuid:"ed16f080-f034-11e5-a511-0cc47a5454c6",name:"документальная литература",url:"/knigi-publicistika/dokumentalnaya-literatura/",arts_count:33939,subgenres:[]},{id:5205,uuid:"ed1736eb-f034-11e5-a511-0cc47a5454c6",name:"книги о войне",url:"/knigi-sovremennaya-proza/knigi_o_voyne/",arts_count:4443,subgenres:[]},{id:5092,uuid:"ed16678b-f034-11e5-a511-0cc47a5454c6",name:"морские приключения",url:"/knigi-priklucheniya/morskie/",arts_count:1695,subgenres:[]},{id:5087,uuid:"ed165894-f034-11e5-a511-0cc47a5454c6",name:"исторические любовные романы",url:"/knigi-lubovnye-romany/istoricheskiye/",arts_count:7979,subgenres:[]}]},{id:5003,uuid:"ed15f4ee-f034-11e5-a511-0cc47a5454c6",name:"бизнес-книги",url:"/znaniya-navyki/biznes/",arts_count:64109,subgenres:[{id:5064,uuid:"ed162e62-f034-11e5-a511-0cc47a5454c6",name:"личная эффективность",url:"/biznes-knigi/lichnaya-effektivnost/",arts_count:4996,subgenres:[]},{id:5070,uuid:"ed163bfc-f034-11e5-a511-0cc47a5454c6",name:"менеджмент",url:"/biznes-knigi/menedzhment/",arts_count:9563},{id:5058,uuid:"ed1628c6-f034-11e5-a511-0cc47a5454c6",name:"о бизнесе популярно",url:"/biznes-knigi/o-biznese-populyarno/",arts_count:11950},{id:5061,uuid:"ed162b99-f034-11e5-a511-0cc47a5454c6",name:"зарубежная деловая литература",url:"/biznes-knigi/zarubezhnaya-delovaya-literatura/",arts_count:12737,subgenres:[]},{id:5065,uuid:"ed162f28-f034-11e5-a511-0cc47a5454c6",name:"тайм-менеджмент",url:"/biznes-knigi/taym-menedzhment/",arts_count:511,subgenres:[]},{id:5052,uuid:"ed162353-f034-11e5-a511-0cc47a5454c6",name:"экономика",url:"/knigi-nauka-obrazovanie/ekonomika/",arts_count:20718},{id:5047,uuid:"ed161eb5-f034-11e5-a511-0cc47a5454c6",name:"кадровый менеджмент",url:"/biznes-knigi/kadrovyj_menedzhment/",arts_count:3535},{id:5050,uuid:"ed16217b-f034-11e5-a511-0cc47a5454c6",name:"ценные бумаги / инвестиции",url:"/biznes-knigi/cennye-bumagi-investicii/",arts_count:2403,subgenres:[]},{id:5068,uuid:"ed1639ac-f034-11e5-a511-0cc47a5454c6",name:"стартапы и создание бизнеса",url:"/biznes-knigi/startapy/",arts_count:4148,subgenres:[]},{id:5054,uuid:"ed162508-f034-11e5-a511-0cc47a5454c6",name:"отраслевые издания",url:"/biznes-knigi/otraslevye-izdaniya/",arts_count:3389,subgenres:[]},{id:5053,uuid:"ed16242c-f034-11e5-a511-0cc47a5454c6",name:"финансы",url:"/biznes-knigi/finansy/",arts_count:3089},{id:5056,uuid:"ed162716-f034-11e5-a511-0cc47a5454c6",name:"личные финансы",url:"/biznes-knigi/lichnye-finansy/",arts_count:2858,subgenres:[]},{id:5048,uuid:"ed161f90-f034-11e5-a511-0cc47a5454c6",name:"маркетинг, PR, реклама",url:"/biznes-knigi/marketing-pr-reklama/",arts_count:3849},{id:5062,uuid:"ed162cc8-f034-11e5-a511-0cc47a5454c6",name:"интернет-бизнес",url:"/biznes-knigi/internet/",arts_count:2124,subgenres:[]},{id:6462,uuid:"ed1b282e-f034-11e5-a511-0cc47a5454c6",name:"менеджмент и кадры",url:"/biznes-knigi/management_kadry_old/",arts_count:2874,subgenres:[]},{id:5063,uuid:"ed162d99-f034-11e5-a511-0cc47a5454c6",name:"продажи",url:"/biznes-knigi/prodazhi/",arts_count:1243},{id:5059,uuid:"ed1629b0-f034-11e5-a511-0cc47a5454c6",name:"малый и средний бизнес",url:"/biznes-knigi/malyy-biznes/",arts_count:3170,subgenres:[]},{id:5066,uuid:"ed162ffa-f034-11e5-a511-0cc47a5454c6",name:"ораторское искусство / риторика",url:"/biznes-knigi/oratorskoye-iskusstvo/",arts_count:577,subgenres:[]},{id:5055,uuid:"ed162603-f034-11e5-a511-0cc47a5454c6",name:"корпоративная культура",url:"/biznes-knigi/korporativnaya-kultura/",arts_count:610,subgenres:[]},{id:5067,uuid:"ed1630c2-f034-11e5-a511-0cc47a5454c6",name:"переговоры",url:"/biznes-knigi/peregovory/",arts_count:686,subgenres:[]},{id:5069,uuid:"ed163b06-f034-11e5-a511-0cc47a5454c6",name:"работа с клиентами",url:"/biznes-knigi/kliyenty/",arts_count:362,subgenres:[]},{id:6784,uuid:"ed1b9334-f034-11e5-a511-0cc47a5454c6",name:"государственное и муниципальное управление",url:"/biznes-knigi/gosudarstvennoe-i-munitsipalnoe-upravlenie/",arts_count:1189,subgenres:[]},{id:5046,uuid:"ed161dcc-f034-11e5-a511-0cc47a5454c6",name:"поиск работы / карьера",url:"/biznes-knigi/poisk-raboty-karera/",arts_count:2166,subgenres:[]},{id:201413,uuid:"e8aacf76-d8e2-11e7-af8e-0cc47a1952f2",name:"краткое содержание",url:"/biznes-knigi/kratkoe-soderzhanie/",arts_count:1636},{id:5051,uuid:"ed162257-f034-11e5-a511-0cc47a5454c6",name:"бухучет / налогообложение / аудит",url:"/biznes-knigi/buhuchet-nalogooblozhenie-audit/",arts_count:2430,subgenres:[]},{id:210646,uuid:"c2595510-802e-11e8-afe9-0cc47a5453d6",name:"бизнес-справочники",url:"/spravochniki-slovari/spravochniki/business-spravochniki/",arts_count:30,subgenres:[]},{id:5049,uuid:"ed162096-f034-11e5-a511-0cc47a5454c6",name:"банковское дело",url:"/biznes-knigi/bankovskoe-delo/",arts_count:1121,subgenres:[]},{id:5060,uuid:"ed162a83-f034-11e5-a511-0cc47a5454c6",name:"делопроизводство",url:"/biznes-knigi/deloproizvodstvo/",arts_count:285,subgenres:[]},{id:5057,uuid:"ed1627f4-f034-11e5-a511-0cc47a5454c6",name:"недвижимость",url:"/biznes-knigi/nedvizhimost/",arts_count:1944,subgenres:[]},{id:5375,uuid:"ed181956-f034-11e5-a511-0cc47a5454c6",name:"логистика",url:"/biznes-knigi/logistika/",arts_count:793,subgenres:[]},{id:6810,uuid:"ed1b9cfa-f034-11e5-a511-0cc47a5454c6",name:"политическое управление",url:"/biznes-knigi/piliticheskoe-upravlenie/",arts_count:742,subgenres:[]}]},{id:201623,uuid:"8976184d-db67-11e7-8020-0cc47a545a1e",name:"знания и навыки",url:"/znaniya-navyki/",arts_count:383432,subgenres:[{id:5253,uuid:"ed176dc5-f034-11e5-a511-0cc47a5454c6",name:"саморазвитие / личностный рост",url:"/knigi-psihologiya/samorazvitiye-lichnostnyy-rost/",arts_count:22002,subgenres:[]},{id:5031,uuid:"ed160f04-f034-11e5-a511-0cc47a5454c6",name:"научно-популярная литература",url:"/knigi-nauka-obrazovanie/nauchno-populyarnaya-literatura/",arts_count:16781,subgenres:[]},{id:5030,uuid:"ed160e36-f034-11e5-a511-0cc47a5454c6",name:"учебная и научная литература",url:"/znaniya-navyki/uchebnaya-nauchnaya-literatura/",arts_count:298809},{id:5003,uuid:"ed15f4ee-f034-11e5-a511-0cc47a5454c6",name:"бизнес-книги",url:"/znaniya-navyki/biznes/",arts_count:64109},{id:53055,uuid:"612793ba-5b5b-11e4-96e2-0025905a06ea",name:"истории из жизни",url:"/psihologiya-motivaciya/istorii-iz-zhizni/",arts_count:9652,subgenres:[]},{id:5011,uuid:"ed15fc8e-f034-11e5-a511-0cc47a5454c6",name:"эзотерика",url:"/knigi-ezoterika/",arts_count:17207},{id:5009,uuid:"ed15fa46-f034-11e5-a511-0cc47a5454c6",name:"словари, справочники",url:"/spravochniki-slovari/",arts_count:25323},{id:201639,uuid:"8976bba3-db67-11e7-8020-0cc47a545a1e",name:"хобби, досуг",url:"/hobbi-dosug/",arts_count:65491},{id:5024,uuid:"ed16087a-f034-11e5-a511-0cc47a5454c6",name:"компьютерная литература",url:"/kompyuternaya-literatura/",arts_count:12578},{id:5020,uuid:"ed160503-f034-11e5-a511-0cc47a5454c6",name:"культура и искусство",url:"/knigi-iskusstvo/",arts_count:47222},{id:6356,uuid:"ed1af4aa-f034-11e5-a511-0cc47a5454c6",name:"изучение языков",url:"/znaniya-navyki/uchebnaya-nauchnaya-literatura/gumanitarnye-obschestvennye-nauki/izuchenie-yazykov/",arts_count:9503},{id:5163,uuid:"ed16b8ef-f034-11e5-a511-0cc47a5454c6",name:"путеводители",url:"/spravochniki-slovari/putevoditeli/",arts_count:2939,subgenres:[]}]},{id:201631,uuid:"89765633-db67-11e7-8020-0cc47a545a1e",name:"психология, мотивация",url:"/psihologiya-motivaciya/",arts_count:137110,subgenres:[{id:5021,uuid:"ed1605d0-f034-11e5-a511-0cc47a5454c6",name:"книги по психологии",url:"/knigi-psihologiya/",arts_count:43084},{id:5253,uuid:"ed176dc5-f034-11e5-a511-0cc47a5454c6",name:"саморазвитие / личностный рост",url:"/knigi-psihologiya/samorazvitiye-lichnostnyy-rost/",arts_count:22002,subgenres:[]},{id:5012,uuid:"ed15fd62-f034-11e5-a511-0cc47a5454c6",name:"религия и духовная литература",url:"/psihologiya-motivaciya/religiya-duhovnaya-literatura/",arts_count:15439},{id:5169,uuid:"ed16ef1c-f034-11e5-a511-0cc47a5454c6",name:"биографии и мемуары",url:"/knigi-publicistika/biografii-memuary/",arts_count:23e3,subgenres:[]},{id:53055,uuid:"612793ba-5b5b-11e4-96e2-0025905a06ea",name:"истории из жизни",url:"/psihologiya-motivaciya/istorii-iz-zhizni/",arts_count:9652,subgenres:[]},{id:5011,uuid:"ed15fc8e-f034-11e5-a511-0cc47a5454c6",name:"эзотерика",url:"/knigi-ezoterika/",arts_count:17207},{id:5020,uuid:"ed160503-f034-11e5-a511-0cc47a5454c6",name:"культура и искусство",url:"/knigi-iskusstvo/",arts_count:47222}]},{id:201615,uuid:"8975d10c-db67-11e7-8020-0cc47a545a1e",name:"спорт, здоровье, красота",url:"/sport-zdorove-krasota/",arts_count:26786,subgenres:[{id:201743,uuid:"897aff02-db67-11e7-8020-0cc47a545a1e",name:"медицина и здоровье",url:"/sport-zdorove-krasota/medicina-i-zdorove/",arts_count:18307},{id:201759,uuid:"897b914e-db67-11e7-8020-0cc47a545a1e",name:"спорт",url:"/sport-zdorove-krasota/sport/",arts_count:6898},{id:5310,uuid:"ed17c045-f034-11e5-a511-0cc47a5454c6",name:"секс / секс-руководства",url:"/erotika-seks/seksualnyye-rukovodstva/",arts_count:1534,subgenres:[]},{id:201767,uuid:"897bdcc0-db67-11e7-8020-0cc47a545a1e",name:"красота",url:"/sport-zdorove-krasota/krasota/",arts_count:2111}]},{id:201639,uuid:"8976bba3-db67-11e7-8020-0cc47a545a1e",name:"хобби, досуг",url:"/hobbi-dosug/",arts_count:65491,subgenres:[{id:5179,uuid:"ed16ff73-f034-11e5-a511-0cc47a5454c6",name:"йога",url:"/knigi-ezoterika/yoga/",arts_count:1025,subgenres:[]},{id:5275,uuid:"ed1782c4-f034-11e5-a511-0cc47a5454c6",name:"кулинария",url:"/knigi-dom-semya/kulinariya/",arts_count:6088,subgenres:[]},{id:5287,uuid:"ed1790c9-f034-11e5-a511-0cc47a5454c6",name:"хобби / увлечения",url:"/knigi-dom-semya/hobbi_uvlecheniya/",arts_count:7750,subgenres:[]},{id:5236,uuid:"ed175b58-f034-11e5-a511-0cc47a5454c6",name:"изобразительное искусство",url:"/knigi-iskusstvo/izobrazitelnoe-iskusstvo/",arts_count:12005,subgenres:[]},{id:5280,uuid:"ed17899d-f034-11e5-a511-0cc47a5454c6",name:"рукоделие и ремесла",url:"/knigi-dom-semya/rukodeliye-remesla/",arts_count:7689,subgenres:[]},{id:5278,uuid:"ed178550-f034-11e5-a511-0cc47a5454c6",name:"спорт / фитнес",url:"/knigi-krasota-zdorove/sport-fitnes/",arts_count:6497,subgenres:[]},{id:5285,uuid:"ed178ea0-f034-11e5-a511-0cc47a5454c6",name:"мода и стиль",url:"/knigi-dom-semya/moda-stil/",arts_count:2017,subgenres:[]},{id:5276,uuid:"ed1783a5-f034-11e5-a511-0cc47a5454c6",name:"сделай сам",url:"/knigi-dom-semya/sdelay-sam/",arts_count:17983,subgenres:[]},{id:5216,uuid:"ed17418b-f034-11e5-a511-0cc47a5454c6",name:"прикладная литература",url:"/knigi-dom-semya/prikladnaya-literatura/",arts_count:4130,subgenres:[]},{id:5282,uuid:"ed178c0e-f034-11e5-a511-0cc47a5454c6",name:"сад и огород",url:"/knigi-dom-semya/sad-ogorod/",arts_count:2278,subgenres:[]},{id:5274,uuid:"ed1781d3-f034-11e5-a511-0cc47a5454c6",name:"природа и животные",url:"/knigi-dom-semya/priroda_i_zhivotnye/",arts_count:2843,subgenres:[]},{id:5289,uuid:"ed17998c-f034-11e5-a511-0cc47a5454c6",name:"отдых / туризм",url:"/knigi-dom-semya/otdykh-turizm/",arts_count:2418,subgenres:[]},{id:5237,uuid:"ed175c77-f034-11e5-a511-0cc47a5454c6",name:"искусство фотографии",url:"/knigi-iskusstvo/fotografiya/",arts_count:299,subgenres:[]},{id:209790,uuid:"defb0258-77b8-11e8-b0db-0cc47a52085c",name:"интеллектуальные игры",url:"/intellektualnye-igry/",arts_count:262,subgenres:[]},{id:5163,uuid:"ed16b8ef-f034-11e5-a511-0cc47a5454c6",name:"путеводители",url:"/spravochniki-slovari/putevoditeli/",arts_count:2939,subgenres:[]},{id:5281,uuid:"ed178b06-f034-11e5-a511-0cc47a5454c6",name:"развлечения",url:"/knigi-dom-semya/razvlecheniya/",arts_count:9594,subgenres:[]},{id:5283,uuid:"ed178cff-f034-11e5-a511-0cc47a5454c6",name:"автомобили и ПДД",url:"/knigi-dom-semya/pdd-koap-shtrafy/",arts_count:6449,subgenres:[]},{id:6825,uuid:"ed1ba2ce-f034-11e5-a511-0cc47a5454c6",name:"рыбалка",url:"/knigi-dom-semya/rybalka/",arts_count:173,subgenres:[]},{id:5286,uuid:"ed178f99-f034-11e5-a511-0cc47a5454c6",name:"охота",url:"/knigi-dom-semya/ohota/",arts_count:158,subgenres:[]}]},{id:201647,uuid:"8976fd1b-db67-11e7-8020-0cc47a545a1e",name:"дом, дача",url:"/dom-dacha/",arts_count:39672,subgenres:[{id:5275,uuid:"ed1782c4-f034-11e5-a511-0cc47a5454c6",name:"кулинария",url:"/knigi-dom-semya/kulinariya/",arts_count:6088,subgenres:[]},{id:5287,uuid:"ed1790c9-f034-11e5-a511-0cc47a5454c6",name:"хобби / увлечения",url:"/knigi-dom-semya/hobbi_uvlecheniya/",arts_count:7750,subgenres:[]},{id:201807,uuid:"897ef962-db67-11e7-8020-0cc47a545a1e",name:"домашнее хозяйство",url:"/dom-dacha/domashnee-hozyaystvo/",arts_count:820,subgenres:[]},{id:5280,uuid:"ed17899d-f034-11e5-a511-0cc47a5454c6",name:"рукоделие и ремесла",url:"/knigi-dom-semya/rukodeliye-remesla/",arts_count:7689,subgenres:[]},{id:5279,uuid:"ed178633-f034-11e5-a511-0cc47a5454c6",name:"домашние животные",url:"/knigi-dom-semya/domashnie-zhivotnye/",arts_count:1335,subgenres:[]},{id:5276,uuid:"ed1783a5-f034-11e5-a511-0cc47a5454c6",name:"сделай сам",url:"/knigi-dom-semya/sdelay-sam/",arts_count:17983,subgenres:[]},{id:5282,uuid:"ed178c0e-f034-11e5-a511-0cc47a5454c6",name:"сад и огород",url:"/knigi-dom-semya/sad-ogorod/",arts_count:2278,subgenres:[]},{id:5274,uuid:"ed1781d3-f034-11e5-a511-0cc47a5454c6",name:"природа и животные",url:"/knigi-dom-semya/priroda_i_zhivotnye/",arts_count:2843,subgenres:[]},{id:5288,uuid:"ed179191-f034-11e5-a511-0cc47a5454c6",name:"интерьеры",url:"/knigi-dom-semya/interyery/",arts_count:476,subgenres:[]},{id:5289,uuid:"ed17998c-f034-11e5-a511-0cc47a5454c6",name:"отдых / туризм",url:"/knigi-dom-semya/otdykh-turizm/",arts_count:2418,subgenres:[]},{id:5187,uuid:"ed170d0e-f034-11e5-a511-0cc47a5454c6",name:"фэншуй / фэн-шуй",url:"/knigi-ezoterika/fen-shuy/",arts_count:201,subgenres:[]},{id:5283,uuid:"ed178cff-f034-11e5-a511-0cc47a5454c6",name:"автомобили и ПДД",url:"/knigi-dom-semya/pdd-koap-shtrafy/",arts_count:6449,subgenres:[]},{id:201815,uuid:"897f3f86-db67-11e7-8020-0cc47a545a1e",name:"ремонт в квартире",url:"/dom-dacha/remont-v-kvartire/",arts_count:301,subgenres:[]},{id:201799,uuid:"897e6587-db67-11e7-8020-0cc47a545a1e",name:"комнатные растения",url:"/dom-dacha/komnatnye-rasteniya/",arts_count:51,subgenres:[]},{id:6825,uuid:"ed1ba2ce-f034-11e5-a511-0cc47a5454c6",name:"рыбалка",url:"/knigi-dom-semya/rybalka/",arts_count:173,subgenres:[]},{id:5286,uuid:"ed178f99-f034-11e5-a511-0cc47a5454c6",name:"охота",url:"/knigi-dom-semya/ohota/",arts_count:158,subgenres:[]}]},{id:5007,uuid:"ed15f858-f034-11e5-a511-0cc47a5454c6",name:"детские книги",url:"/detskie-knigi/",arts_count:75358,subgenres:[{id:5111,uuid:"ed167d94-f034-11e5-a511-0cc47a5454c6",name:"зарубежные детские книги",url:"/detskie-knigi/zarubezhnye/",arts_count:7060,subgenres:[]},{id:5106,uuid:"ed1678fc-f034-11e5-a511-0cc47a5454c6",name:"сказки",url:"/detskie-knigi/skazki/",arts_count:14943,subgenres:[]},{id:6517,uuid:"ed1b4896-f034-11e5-a511-0cc47a5454c6",name:"книги для детей",url:"/detskie-knigi/children/",arts_count:12213,subgenres:[]},{id:6610,uuid:"ed1b688b-f034-11e5-a511-0cc47a5454c6",name:"книги для дошкольников",url:"/detskie-knigi/knigi_doshkolniki/",arts_count:3021,subgenres:[]},{id:5105,uuid:"ed167830-f034-11e5-a511-0cc47a5454c6",name:"книги для подростков",url:"/detskie-knigi/dlya-podrostkov/",arts_count:5338,subgenres:[]},{id:5104,uuid:"ed167748-f034-11e5-a511-0cc47a5454c6",name:"детская проза",url:"/detskie-knigi/proza/",arts_count:8396,subgenres:[]},{id:5108,uuid:"ed167b0e-f034-11e5-a511-0cc47a5454c6",name:"детская фантастика",url:"/detskie-knigi/fantastika/",arts_count:4536,subgenres:[]},{id:5107,uuid:"ed167a17-f034-11e5-a511-0cc47a5454c6",name:"детские приключения",url:"/detskie-knigi/priklucheniya/",arts_count:7938,subgenres:[]},{id:5008,uuid:"ed15f952-f034-11e5-a511-0cc47a5454c6",name:"школьные учебники",url:"/shkolnye-uchebniki/",arts_count:6505},{id:5109,uuid:"ed167be2-f034-11e5-a511-0cc47a5454c6",name:"детские детективы",url:"/detskie-knigi/detektivy/",arts_count:1837,subgenres:[]},{id:5110,uuid:"ed167caf-f034-11e5-a511-0cc47a5454c6",name:"детские стихи",url:"/detskie-knigi/stihi/",arts_count:2547,subgenres:[]},{id:6481,uuid:"ed1b3ee2-f034-11e5-a511-0cc47a5454c6",name:"детская познавательная и развивающая литература",url:"/detskie-knigi/detskaya_pazvivayushaya_literatura/",arts_count:18420,subgenres:[]},{id:5103,uuid:"ed16764b-f034-11e5-a511-0cc47a5454c6",name:"учебная литература",url:"/detskie-knigi/uchebnaya-literatura/",arts_count:10944,subgenres:[]},{id:5102,uuid:"ed167547-f034-11e5-a511-0cc47a5454c6",name:"внеклассное чтение",url:"/detskie-knigi/vneklassnoye-chteniye/",arts_count:6674,subgenres:[]},{id:5313,uuid:"ed17ca44-f034-11e5-a511-0cc47a5454c6",name:"буквари",url:"/detskie-knigi/bukvari/",arts_count:193,subgenres:[]}]},{id:201607,uuid:"89759926-db67-11e7-8020-0cc47a545a1e",name:"родителям",url:"/roditelyam/",arts_count:6450,subgenres:[{id:5284,uuid:"ed178dce-f034-11e5-a511-0cc47a5454c6",name:"воспитание детей",url:"/knigi-dom-semya/vospitanie-detey/",arts_count:6771,subgenres:[]},{id:5254,uuid:"ed176e9c-f034-11e5-a511-0cc47a5454c6",name:"детская психология",url:"/knigi-psihologiya/detskaya/",arts_count:3330,subgenres:[]},{id:5007,uuid:"ed15f858-f034-11e5-a511-0cc47a5454c6",name:"детские книги",url:"/detskie-knigi/",arts_count:75358},{id:201735,uuid:"897aadcd-db67-11e7-8020-0cc47a545a1e",name:"здоровье детей",url:"/zdorovye-detey/",arts_count:822,subgenres:[]}]},{id:201655,uuid:"89774107-db67-11e7-8020-0cc47a545a1e",name:"публицистика и периодические издания",url:"/publicistika-periodicheskie-izdaniya/",arts_count:138929,subgenres:[{id:5010,uuid:"ed15fb9a-f034-11e5-a511-0cc47a5454c6",name:"публицистическая литература",url:"/knigi-publicisticheskaya-literatura/",arts_count:86331},{id:5027,uuid:"ed160b2d-f034-11e5-a511-0cc47a5454c6",name:"периодические издания",url:"/periodicheskie-izdaniya/",arts_count:37909},{id:135475,uuid:"6177e58a-5b5b-11e4-96e2-0025905a06ea",name:"подкасты",url:"/podcasts/",arts_count:32630}]}];var r5=r(78985),r4=r.n(r5);let r3=(0,w.lazy)(()=>Promise.all([r.e(5338),r.e(8463)]).then(r.bind(r,14874))),r8=e=>{var t;let{t:r}=(0,L.$G)(),{externalRef:n,genresButtonRef:i,className:o,hasOverlay:a,style:s,...u}=e,[l,c]=(0,w.useState)(!1),d=(0,w.useRef)(!1),{popup:{isOpen:p}}=(0,E.CG)(e=>e.global.genres),f=(0,E.CG)(e=>e.face.language||k.pF.ru),{data:h,isFetching:m}=E.aG.useGetAllGenresQuery({subgenre_depth:3},{skip:!p}),g=(0,E.TL)(),_=e=>{d.current=!0,c(e),setTimeout(()=>d.current=!1,1e3)},v=()=>{g(E.hi.global.genres.setOpenPopup(!1))},y=e=>{"Escape"===e.key&&v()},b=e=>{let t=e.currentTarget;if(!document.hasFocus()){window.addEventListener("focus",function e(){window.removeEventListener("focus",e),t.contains(document.activeElement)||d.current||v()});return}t.contains(e.relatedTarget)||d.current||(null==i?void 0:i.current)===e.relatedTarget||v()},x=(0,w.useMemo)(()=>h?(0,k.UG)(h):(0,k.UG)(r2,!0,f),[h]);return(0,w.useEffect)(()=>{let e=document.body.style.overflow,t=document.activeElement;return p&&(null==n?void 0:n.current)&&(n.current.focus(),n.current.addEventListener("focusout",b)),a&&(p?document.body.style.overflow="hidden":document.body.style.overflow=e),document.addEventListener("keydown",y),()=>{t&&t.focus(),(null==n?void 0:n.current)&&n.current.removeEventListener("focusout",b),document.body.style.overflow=e,document.removeEventListener("keydown",y),l&&c(!1),g(E.hi.global.genres.setCurrentGenre(null)),g(E.hi.global.genres.setHistory([]))}},[a,p]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{tabIndex:0,"data-header-popup":"genres",className:O()(r4().wrapper,o,{[r4().hidden]:!p}),ref:n,style:s,...u,children:[(0,S.jsx)("div",{className:r4().container,children:(0,S.jsx)("div",{className:r4().content,children:l?(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{height:"100%",width:"100%"}),children:(0,S.jsx)(r3,{showPreview:_})}):(0,S.jsx)(r1,{genres:x,isLoading:m,isOpen:p,isPreview:l,showPreview:_})})}),(0,S.jsx)("div",{className:r4()["all-genres"],children:(0,S.jsxs)(r$.Fg,{href:"/pages/new_genres/",children:[r("Все {count} жанр",{count:142}),(0,S.jsx)(rW.uQ,{name:"chevronRight",size:24})]})})]}),p&&a&&(0,S.jsx)("div",{className:r4().overlay,style:{top:null!==(t=null==s?void 0:s.top)&&void 0!==t?t:void 0}})]})};var r6=r(8594);let r9="https://www.litres.ru",r7=e=>{let{logoPath:t,logoRatio:r}=e;return(0,S.jsx)(ek.E,{src:r9+t,fallbackSrc:t,width:r?72*r:72,height:72,alt:"litres-library-logo",style:{marginLeft:"10px"}})},ne=e=>{let t={x:0,y:0};if(!k.Ym)return t;let{element:r,useWindow:n}=e,i=r?r.current:document.body,o=null==i?void 0:i.getBoundingClientRect();return o?n?{x:window.scrollX,y:window.scrollY}:{x:o.left,y:o.top}:t},nt=(e,t,r,n)=>{let i=(0,w.useRef)(ne({useWindow:r})),o=null,a=()=>{let n=ne({element:t,useWindow:r});e({prevPos:i.current,currPos:n}),i.current=n,o=null},s=()=>{n?null===o&&(o=setTimeout(a,n)):a()};(0,F.OR)("scroll",s)};(function(e){e.Author="author",e.Collection="collection",e.Tag="tag",e.Art="art",e.Publishing="copyright_page",e.Genre="genre",e.Series="serie"})(v||(v={})),function(e){e.Enter="Enter",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown"}(y||(y={})),function(e){e.ShortValue="Пожалуйста, введите три или более символа"}(b||(b={})),function(e){e.Text="text_book",e.Audio="audiobook",e.Podcast="podcast",e.PodcastPart="podcast_episode"}(x||(x={}));let nr=e=>{switch(e){case ei.ui.person:return"Автор";case ei.ui.collection:return"Подборка";case ei.ui.tag:return"Тег";case ei.ui.publisher:return"Издательство";case ei.ui.genre:return"Жанр";case ei.ui.series:return"Серия";default:return"Ошибка"}},nn=(e,t)=>{if(null===e)return"";let r=t("Найти"),n=t("Книга"),i=t("серия"),o=t("автор"),a=t("жанр"),s=t("тег"),u=t("издательство");return e>502?[n,i,o,a,u].join(", "):e>394&&e<503?[n,i,o,a,s].join(", "):e>354&&e<395?[n,i,o,a].join(", "):e>297&&e<355?[n,i,o].join(", "):e>228&&e<298?[n,i].join(", "):e>176&&e<229?n:e<177?r:""},ni=(e,t)=>{if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[],n=0;for(;n<=t.length;n++)r[n]=[n];let i=0;for(;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)==e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]},no=(e,t)=>{let r=0,n=[[]],i=e.length,o=t.length,a=0,s=0;for(a=0;a<=i;a++)for(s=0,n[a]=[];s<=o;s++)n[a][s]=0;let u=0,l=0;for(u=0;u<i;u++)for(l=0;l<o;l++)e[u]===t[l]?(0===n[u][l]?n[u+1][l+1]=1:n[u+1][l+1]=n[u][l]+1,n[u+1][l+1]>r&&(r=n[u+1][l+1])):n[u+1][l+1]=0;return r},na=()=>{let e=(0,k.fp)("last_search");return e&&Array.isArray(e)?e:[]},ns=e=>{(0,k.m8)({last_search:e})},nu=e=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_input",params:{source_internal:e}})},nl=(e,t,r,n)=>{t.preventDefault();let i=t.target.closest(".buttonWrapper");if((null==i?void 0:i.className)!=="buttonWrapper"){let t=n?{...e,id:n}:e;es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_spotlight_item",params:{...t}})}k.Ym&&(window.location.href=r||"#")},nc=(e,t)=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_spotlight_button",params:{search_id:e.search_id,query:e.query,row_number:e.row_number,book_id:e.id,is_purchase_flag:t}})},nd=e=>{es.TM.sendEvent(["LITRES_TRACKER"],{eventType:"search_click_history_item",params:{item:e}})},np=e=>new Intl.NumberFormat("ru-RU").format(e),nf=e=>{let t=e.split(" ");return np(Number(t[0]))+" "+t[1]};var nh=r(26161),nm=r.n(nh);let ng=e=>{let{history:t,deleteItemFromLastSearchStorage:r,searchHistoryListRef:n,setLoading:i,isDesktop:o=!0,onClose:a}=e,{t:s}=(0,L.$G)(),u=t.slice(0,10).reverse(),l=e=>{i(!0),nd(e),k.Ym&&window.location.assign("/search/?q=".concat(encodeURIComponent(e)))};return(0,S.jsxs)("ul",{className:O()(nm().historyListAB,{[nm().mobileList]:!o}),ref:n,"data-testid":"header__search-history",role:"list","aria-label":s("История поиска"),id:"searchResult",children:[u.length>0&&(0,S.jsx)("div",{className:nm().info,role:"listitem",children:(0,S.jsx)("p",{className:nm().previousSearches,id:"historyClearLabel",children:s("Ранее вы искали")})}),null==u?void 0:u.map(e=>{let{value:t}=e;return(0,S.jsxs)("li",{className:nm().item,tabIndex:0,onClick:()=>{l(t)},role:"listitem","aria-label":"Искать ".concat(t),children:[(0,S.jsx)("span",{className:nm().itemText,children:t}),(0,S.jsx)("button",{tabIndex:0,"aria-label":s("Убрать"),className:nm().closeIcon,onClick:e=>{e.stopPropagation(),e.preventDefault(),r(t)},children:(0,S.jsx)(td.T,{})})]},t)}),!o&&(0,S.jsx)("li",{className:nm().close,tabIndex:0,onClick:a,role:"listitem",children:s("Закрыть")})]})};var n_=r(58655),nv=r(44496),ny=r.p+"static/media/flag.82144040.svg",nb=r(20310),nx=r.n(nb);let nS=e=>{let{art_type:t,title:r,persons:n,my_art_status:i,prices:o,is_free:a,library_information:s,read_percent:u,is_draft:l,is_subscription_art:c}=e,d=!!s&&"received"===s.biblio_selfservice,p=i>0||d||(null==o?void 0:o.final_price)===0||a||c,{t:f}=(0,L.$G)(),h=(0,w.useMemo)(()=>{let e=(null==n?void 0:n.filter(e=>"author"===e.role).map(e=>e.full_name))||[];return e.slice(0,2).join(", ")+(e.length>2?f(" и др."):"")},[e,f]);return(0,S.jsxs)("div",{className:nx().sellableItemDetailsAB,children:[(0,S.jsx)("div",{className:nx().title,children:r}),(0,S.jsx)("div",{className:nx().authors,children:h}),(0,S.jsxs)("div",{className:nx().info,children:[(0,S.jsx)("div",{children:(0,S.jsx)(nv._,{type:t,isDraft:l})}),p&&(0,S.jsxs)("div",{className:nx().progress,children:[!!u&&u>0&&u<100&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:nx().progress__title,children:"".concat(u,"%")}),(0,S.jsx)("div",{className:nx().progress__progressBar,children:(0,S.jsx)("div",{className:nx().progress__progressBar_active,style:{width:"".concat(u,"%")}})})]}),!!u&&100===u&&(0,S.jsxs)("div",{className:nx().progress__finished,children:[(0,S.jsx)(ek.E,{src:ny,fallbackSrc:ny,width:10,height:12,alt:"tag-icon"}),(0,S.jsx)("span",{className:nx().progress__finished__text,children:[ei.lG.audio,ei.lG.podcast,ei.lG.podcastEpisode].includes(t)?f("Прослушана"):f("Прочитана")})]})]})]})]})};var nw=r(3226),nk=r.n(nw);let nE=e=>{let{art:t,eventData:r}=e,{my_art_status:n,url:i,art_type:o,is_auto_speech_gift:a,availability:s,art_subscription_status_for_user:u}=t,l=(0,E.CG)(e=>e.foundationUser),c=(0,E.CG)(e=>e.browser.headers["client-host"]),d=(0,E.CG)(e=>e.face.language||"ru"),p=n>0||!!l.subscription.is_active&&"active_subscription"===u,f=[ei.lG.audio,ei.lG.podcast,ei.lG.podcastEpisode].includes(o),h=(0,w.useMemo)(()=>p?f?"Слушать":"Читать":"Купить",[]),m=(0,w.useMemo)(()=>i?p?(0,k.qZ)({art:t,user:l,isLibrary:(0,k.Af)(c||""),lang:d}):0===l.id?"".concat(i,"#buy_now_noreg"):"".concat(i,"#buy_now_reg"):"",[]),g=e=>{e.stopPropagation(),e.preventDefault(),nc(r,!p),window.location.href=m};return!p&&(2===s||a)||l.library_info.is_librarian||o===ei.lG.podcast||l.library_info.is_school_domain||l.library_info.is_library_user?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)("div",{className:nk().sellableItemActionBlockAB,children:p&&(0,S.jsx)("div",{className:nk().button,children:(0,S.jsx)(ea.z,{mode:"primary",size:"small",onClick:g,text:h})})})};var nC=r(28435),nT=r.n(nC);let nj=e=>{let{art:t,externalRef:r,isDesktop:n,eventData:i,isUserAnonymous:o,searchQuery:a,saveSearchQuery:s}=e,{id:u,url:l,title:c,cover_ratio:d}=t,p=()=>{!o&&a&&s(a)},{t:f}=(0,L.$G)();return(0,S.jsx)("li",{className:O()(nT().sellableItemWrapperAB,{[nT().mobileWrapper]:!n}),ref:r,onClick:e=>{p(),nl(i,e,l||"/")},role:"listitem","aria-label":f("Перейти"),children:(0,S.jsxs)(q.I,{href:l||"",className:nT().item,"aria-label":c,children:[(0,S.jsx)("div",{className:nT().coverContainer,children:(0,S.jsx)("span",{className:nT().coverWrapper,style:{height:56,width:56*(d||1)},children:(0,S.jsx)(n_.uq,{artId:u,alt:c,coverSizes:{desktopNormal:70,desktopHighDensity:120,mobileNormal:70,mobileHighDensity:120,byHeight:!0},unloaderSize:20})})}),(0,S.jsx)(nS,{...t}),n&&(0,S.jsx)(nE,{art:t,eventData:i})]})},l)};var nA=r(28061),nR=r.p+"static/media/tag.6e2cfe92.svg",nO=r.p+"static/media/genre.da380e16.svg",nP=r.p+"static/media/emptyPublisher.936ae085.svg",nL=r(91047),nI=r.n(nL);let nN=e=>{let{url:t,itemType:r,role:n,title:i,id:o,arts:a,isUserAnonymous:s,externalRef:u,searchQuery:l,smallLogo:c,saveSearchQuery:d,eventData:p,isDesktop:f=!0,image_url:h,arts_count:m}=e,{t:g}=(0,L.$G)(),_=()=>{!s&&l&&d(l)},v=(0,w.useMemo)(()=>r===ei.ui.tag?(0,S.jsx)(ek.E,{src:nR,fallbackSrc:nR,width:56,height:56,alt:"tag-icon"}):r===ei.ui.genre?(0,S.jsx)(ek.E,{src:nO,fallbackSrc:nO,width:56,height:56,alt:"genre-icon"}):r===ei.ui.person?(0,S.jsx)(nA.q,{id:Number(o),imageURL:h,type:nA.f.Author,containerSize:56,size:100,className:nI().removeMargin}):r===ei.ui.publisher?c?(0,S.jsx)(ek.E,{src:h?"https://www.litres.ru".concat(h):"",className:nI().publishingCover,fallbackSrc:nP,alt:i}):(0,S.jsx)(ek.E,{src:nP,fallbackSrc:nP,width:56,height:56,alt:"empty-publisher-icon"}):(0,S.jsx)("span",{className:nI().multipleCover,children:(null==a?void 0:a.length)===1?(0,S.jsx)(n_.uq,{alt:a[0].title,artId:a[0].id,coverSizes:{desktopNormal:70,desktopHighDensity:120,mobileNormal:70,mobileHighDensity:120,byHeight:!0},unloaderSize:20}):null==a?void 0:a.slice(0,3).map((e,t)=>{let{cover_ratio:r,id:n}=e;return(0,S.jsx)("span",{className:O()(nI().childCover,{[nI().firstCover]:0===t&&a.length>1,[nI().secondCover]:1===t,[nI().thirdCover]:2===t&&a.length>1||0===t&&1===a.length}),children:(0,S.jsx)("img",{src:eS(n),style:{width:30,height:Math.round(30/Number(r))},alt:i})},n)})}),[]);return(0,S.jsx)("li",{className:O()(nI().unsoldItemWrapperAB,{[nI().mobileWrapper]:!f}),onClick:e=>{_(),nl(p,e,t)},ref:u,role:"listitem","aria-label":g("Перейти"),children:(0,S.jsxs)(q.I,{className:nI().item,href:t,"aria-label":i,children:[(0,S.jsx)("div",{className:nI().coverWrapper,children:v}),(0,S.jsxs)("div",{className:nI().details,children:[(0,S.jsx)("span",{className:nI().title,children:(0,S.jsx)("span",{children:i})}),(0,S.jsx)("div",{children:(0,S.jsxs)("span",{className:nI().type,children:[g(n?(0,k.J2)(n):nr(r)),m&&m>0&&", ".concat(nf(g("{count} книга",{count:m})))]})})]})]})},t)},nF=e=>e.type===ei.ui.text_book||e.type===ei.ui.audiobook||e.type===ei.ui.podcast||e.type===ei.ui.podcast_episode,nD=e=>e.type===ei.ui.person,nM=e=>e.type===ei.ui.publisher;var nU=r(33470),nq=r.n(nU);let nB=e=>{let{searchResults:t,searchString:r,resultsListRef:n,isUserAnonymous:i,setLoading:o,saveSearchQuery:a,searchID:s,isDesktop:u=!0,onClose:l}=e,{t:c}=(0,L.$G)(),[d,p]=(0,w.useState)(!1),{safeModeStatus:f}=(0,X.v)(),h=(0,E.CG)(e=>e.browser.pda),m=!h&&(f!==X.nT.undefined||d);(0,w.useEffect)(()=>{t&&t.length>0&&p(t.some(e=>e.instance.is_adult_content)||!1)},[t]);let g=null==r?void 0:r.replace(/[\s\\\/~#$%^&*(),._!@"№;:?=«»'`\[\]{}+\-<>]/g,""),_=[],v=Array(null==t?void 0:t.length).fill((0,w.useCallback)(e=>{null!==e&&_.push(e.getBoundingClientRect().height)},[t])),y=()=>{o(!0)};return(0,S.jsxs)("div",{className:O()(nq().listAB,{[nq().mobileList]:!u}),"data-testid":"header__search-result-list",children:[(0,S.jsxs)("ul",{className:nq().scrolledList,ref:n,tabIndex:0,role:"listbox","aria-label":c("Результаты поиска"),id:"searchResult",children:[(0,S.jsx)(X.$W,{isVisible:!!m,analyticsData:{internalSource:"search_spotlight"},customClass:O()({[nq().safemodeContainerMobile]:h})}),null==t?void 0:t.map((e,t)=>{let n={search_id:s,query:r||"",row_number:t,type:e.type,id:e.instance.id};if(nF(e))return(0,S.jsx)(nj,{art:e.instance,isUserAnonymous:i,externalRef:v[t],searchQuery:g,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u},e.instance.id);if(nD(e)){let{id:r,full_name:s,url:l,role:c,image_url:d,arts_count:p}=e.instance;return(0,S.jsx)(nN,{url:l,image_url:d||"",itemType:e.type,role:c,title:s,id:r,isUserAnonymous:i,externalRef:v[t],searchQuery:g,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u,arts_count:p},r)}if(nM(e)){let{url:r,title:s,id:l,small_cover_url:c,arts_count:d}=e.instance;return(0,S.jsx)(nN,{externalRef:v[t],url:r,image_url:c||"",itemType:e.type,title:s,id:l,isUserAnonymous:i,searchQuery:g,smallLogo:c,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u,arts_count:d},l)}if(!nD(e)&&!nF(e)){let{id:r,url:s,name:l,top_arts:c,arts_count:d}=e.instance;return(0,S.jsx)(nN,{url:s,itemType:e.type||ei.ui.collection||ei.ui.series||ei.ui.publisher||ei.ui.genre,arts:c,title:l,id:r,arts_count:d,isUserAnonymous:i,externalRef:v[t],searchQuery:g,setLoading:o,saveSearchQuery:a,eventData:n,isDesktop:u},r)}})]}),(0,S.jsxs)("ul",{className:nq().buttons,children:[t&&10===t.length&&r&&(0,S.jsx)("li",{tabIndex:0,className:nq().showAll,onClick:y,children:(0,S.jsx)(q.I,{href:"/search/?q=".concat(r),children:(0,S.jsx)("span",{children:c(u?"Показать все результаты":"Показать все")})})}),!u&&(0,S.jsx)("li",{tabIndex:0,className:nq().close,onClick:l,children:c("Закрыть")})]})]})};var nz=r(60594),nG=r.n(nz),nW=r(84161),n$=r.n(nW);let nH=()=>(0,S.jsx)("div",{className:n$().wrapper,children:(0,S.jsx)("div",{className:n$().bar})});var nV=r(51319),nZ=r.n(nV);let nK=e=>{let{isLoading:t,isError:r,onFocus:n,onChange:i,onClick:o,onSubmit:a,inputRef:s,value:u,placeholder:l,isSearchFocused:c,setPopoverVisibility:d}=e,{t:p}=(0,L.$G)(),f=(0,w.useRef)(null),h=e=>{e.stopPropagation(),e.preventDefault(),i(""),(null==s?void 0:s.current)&&s.current.focus()};return(0,S.jsx)("form",{action:"/search/",method:"get",autoComplete:"off",onSubmit:a,"data-testid":"header__search-form--desktop",role:"search","aria-label":l,ref:f,children:(0,S.jsxs)("div",{className:O()(nZ().searchFormWrapperAB,{[nZ().focused]:c,[nZ().error]:r}),children:[(0,S.jsx)("input",{className:nZ().input,maxLength:150,placeholder:l,onChange:e=>{let{target:{value:t}}=e;i(t)},onClick:o,onFocus:n,onKeyDown:e=>{if("Enter"===e.key){var t;d(!c),null===(t=f.current)||void 0===t||t.submit()}},ref:s,name:"q",value:u,"data-testid":"search__input",role:"combobox","aria-controls":"searchResult","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":c}),!!u&&(0,S.jsx)("button",{onClick:h,className:nZ().clear,"aria-label":p("Очистить строку поиска"),children:(0,S.jsx)(tb,{})}),(0,S.jsx)("button",{className:O()(nZ().btn,{[nZ().loader]:t}),onClick:()=>{d(!1)},onFocus:()=>{d(!1)},type:"submit","data-testid":"search__button","aria-label":p("Найти {q}",{q:u}),"aria-description":p("Результаты поиска появятся на странице"),children:t?(0,S.jsx)(nH,{}):p("Найти")})]})})},nJ=w.useLayoutEffect,nQ=e=>{let{isDesktop:t=!0}=e,{t:r}=(0,L.$G)(),{search:n}=(0,F.TH)(),i=new URLSearchParams(null==n?void 0:n.substr(1)),[o,a]=(0,w.useState)(""),[s,u]=(0,w.useState)(null),[l,c]=(0,w.useState)(!1),[d,p]=(0,w.useState)(!1),[f,h]=(0,w.useState)(!1),[m,g]=(0,w.useState)(!1),[_,v]=(0,w.useState)(na()),[x,E]=(0,w.useState)(!!(k.Ym&&(0,k.fp)("last_search"))),[C,T]=(0,w.useState)(""),{searchResults:j,query:A}=(0,P.useSelector)(e=>e.global.search),R=(0,P.useSelector)(e=>0===e.foundationUser.id),{getSearchData:I,saveSearchQuery:N,refreshSearchResults:D}=e0(),{width:M,height:U}=(0,F.dz)(),[q,B]=e1(),{query:z,appliedCorrection:G}=(0,P.useSelector)(e=>e.global.searchPage);(0,w.useEffect)(()=>{ec(o)||D()},[o]),(0,w.useEffect)(()=>{a(G?G.to_query:z)},[z,G]),(0,w.useEffect)(()=>{if(a(i.get("q")||""),R||x&&!ei())return},[]),(0,w.useEffect)(()=>{ns(_),ee(),_.length>0&&E(!0)},[_]),(0,w.useEffect)(()=>{d&&H()},[d]);let{safeModeStatus:W,isSafeModeEnabled:$}=(0,X.v)();(0,w.useEffect)(()=>{$&&eu(o)},[W]),(0,w.useEffect)(()=>(document.body.style.overflow=f?"hidden":"",()=>{document.body.style.overflow=""}),[f,h]);let H=()=>{k.Ym&&((0,k.bZ)("last_search"),v([]),(0,k.kT)("last_search"),E(!1))},V=(e,t)=>e===t||5>=ni(e,t)&&no(e,t)>=3,Z=e=>{let t=K(e);-1!==t&&v(e=>{let r=e.slice();return r[t].source="server",r})},K=e=>_.map(e=>e.value).indexOf(e),ee=()=>{(0,k.d8)("last_search",String(+new Date),{expires:1800})},et=(e,t)=>{if(ee(),-1!==K(e))return;let r={value:e,source:"client"};v(e=>{let n=e.slice();return t||0===t?n[t]=r:n.push(r),n.length>10&&n.shift(),n})},er=e=>{v(t=>t.slice().filter(t=>t.value!==e))},ei=()=>{let e=(0,k.ej)("last_search");return!(e&&(Number(new Date)-Number(e))/6e4<20)},eo=e=>{a(e),es(e)},ea=()=>{a("")},es=(0,w.useCallback)(J()(e=>{eu(e)},400),[_]),eu=e=>{if(ec(e)){I(e),p(!1),T((0,Q.Z)());for(let t=0;t<_.length;t++)if(V(e,_[t].value)){et(e,t);return}e.length>2&&et(e)}},el=()=>{h(!0),nu(window.location.href)};nJ(()=>{ep.current&&u(ep.current.offsetWidth)},[]),(0,w.useEffect)(()=>{ep.current&&u(ep.current.offsetWidth)},[M]),(0,w.useEffect)(()=>{(0===o.length||ec(o))&&c(!1)},[o,c,l]);let ec=e=>e&&e.replace(/[\s\\\/~#$%^&*(),._!@"№;:?=«»'`\[\]{}+\-<>]/g,"").length>0||/^\d+$/.test(e),ed=(0,w.useRef)(null),ep=(0,w.useRef)(null);(0,w.useEffect)(()=>{h(!1)},[M,U]);let ef=(0,w.useCallback)(e=>{if(e.preventDefault(),h(!1),""===o&&ep.current){ep.current.focus(),ep.current.setSelectionRange(0,0);return}if(R||Z(o),ec(o)&&k.Ym){g(!0),(0,k.d8)("next_search","1",{expires:864e3}),window.location.assign("/search/?q=".concat(encodeURIComponent(o))),R||Z(o);return}c(!0)},[o,c,R,g,h]),eh=()=>{h(!0)},em=(0,w.useMemo)(()=>q?Array.from(q.children):[],[q]),eg=e=>{let t="key"in e?e.key:"";if(em.some(eX)&&t===y.Enter){let e=document.activeElement,t=e.href||"/search/?q=".concat(encodeURIComponent((null==e?void 0:e.textContent)||""));h(!1),g(!0),window.location.assign(t);return}if(f&&t){if(t===y.ArrowDown&&ep.current&&eX(ep.current)){(0,k.tM)(q);return}if(t===y.ArrowDown){let e=(0,k.Ic)(document.activeElement);e&&em.some(t=>t===e)?((0,k.tM)(e),e.focus()):(0,k.tM)(q)}if(t===y.ArrowUp){let e=(0,k.vq)(document.activeElement);if(e&&em.some(t=>t===e))(0,k.tM)(e),e.focus();else{var r,n;null===(r=ep.current)||void 0===r||r.focus(),null===(n=ep.current)||void 0===n||n.setSelectionRange(o.length,o.length);return}}}};(0,F.OR)("keydown",eg);let e_=e=>{ed.current&&(e.target===ed.current||ed.current.contains(e.target))||h(!1)};return(0,F.OR)("click",e_),(0,S.jsxs)("div",{className:O()(nG().searchAB,{[nG().mobileSearch]:!t}),ref:ed,children:[(0,S.jsx)(Y.J,{placement:"bottom-start",content:ec(o)&&(null==j?void 0:j.length)?(0,S.jsx)(nB,{searchResults:j,searchString:A,resultsListRef:B,isUserAnonymous:R,setLoading:g,saveSearchQuery:N,searchID:C,isDesktop:t,onClose:()=>{h(!1)}}):x&&(0,S.jsx)(ng,{history:_,setHistoryRefreshed:p,searchHistoryListRef:B,deleteItemFromLastSearchStorage:er,isUserAnonymous:R,setLoading:g,isDesktop:t,onClose:()=>{h(!1)}}),trigger:["none"],contentClassName:nG().popoverContent,disableArrow:!0,offset:[0,0],hasMask:!0,visible:f,onVisibleChange:h,portal:!1,visuallyHiddenDismiss:!0,children:(0,S.jsxs)(S.Fragment,{children:[t&&(0,S.jsx)(nK,{isLoading:m,isError:l,isSearchFocused:f,setPopoverVisibility:h,onFocus:eh,onChange:eo,onClick:el,onSubmit:ef,inputRef:ep,value:o,placeholder:nn(s,r)}),!t&&(0,S.jsx)(en,{onFocus:eh,onChange:eo,onSubmit:ef,handleClear:ea,inputRef:ep,searchValue:o})]})}),(0,S.jsx)("div",{className:nG().errorText,children:l&&r(b.ShortValue)})]})};var nX=r(59382),nY=r.n(nX),n0=()=>{let[e,t]=(0,w.useState)(!1),{id:r,profile:n,settings:i,subscription:{is_active:o}}=(0,E.CG)(e=>e.foundationUser),a=(0,E.CG)(e=>e.browser.pda),s=!!(("public"===i.profile_privacy||"default"===i.profile_privacy)&&n.avatar_url&&n.avatar_url.length>0),u=e=>{e.stopPropagation(),t(!0)};return(0,S.jsx)("div",{className:O()(nY().wrapper,{[nY().wrapperOnLoading]:e}),onClick:u,children:(0,S.jsx)(tB,{href:"/me/profile/",id:+r,size:48,hasAvatar:s,isGradient:!!o,isPDA:a})})},n1=r(15555),n2=r.n(n1);let n5=(0,w.lazy)(()=>Promise.resolve().then(r.bind(r,98877))),n4=e=>{let{isAnon:t,loginPopupError:r,setOpenedPopup:n}=e,i=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{id:o,profile:a,library_info:s,socials:u}=(0,E.CG)(e=>e.foundationUser),l=(0,F.uH)(),c=(0,w.useMemo)(()=>l&&(0,k.ej)("popup_asking"),[l]),d=u[0]||void 0,p=[a.phone_number,a.email,d].filter(Boolean).length<=1,h=s.is_library_user||s.is_school_domain||s.is_librarian,m=0!==o&&p&&!h&&!!c,{isAuthPopupVisible:g}=(0,E.CG)(e=>e.global.header.auth),_=null==r?void 0:r.isOpen,v=null==r?void 0:r.uiOptions,y=(0,E.TL)(),b=(0,k.Af)(i)||(0,k.vo)(i);(0,w.useEffect)(()=>{_&&T(!0)},[_]);let x=()=>{y(E.hi.global.interfaceRequests.setLoginPopupError({isOpen:!1}))},C=()=>{t||(0,k.d8)(rr,"1",{"max-age":rn}),y(E.hi.global.auth.setRateLimitError(!1)),T(!1)},T=e=>{y(E.hi.global.header.auth.setAuthPopupVisibility(e)),e?n(f.User):g&&(_&&x(),m&&(0,k.kT)("popup_asking"))};return(0,S.jsxs)("div",{className:n2().wrapper,"data-testid":"user-button",children:[t?(0,S.jsx)("div",{onClick:()=>{T(!0)},onKeyDown:e=>{"Enter"===e.key&&T(!0)},children:(0,S.jsx)(t5,{authorizationPopupVisibility:g})}):(0,S.jsx)(n0,{}),(0,S.jsx)(I.ZA,{isOpen:g,closeOnClickOutside:!(null==v?void 0:v.noCancel)&&!(null==v?void 0:v.fullScreen),onClose:C,isFullScreenMode:null==v?void 0:v.fullScreen,isCloseButtonShown:!(null==v?void 0:v.noCancel),children:(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{height:"100%",width:"100%"}),children:(0,S.jsx)(n5,{hidePopup:C,errorTitle:null==r?void 0:r.errorText,isLibrary:b,uiOptions:v})})})]})},n3=e=>{let t=(0,E.CG)(e=>e.foundationUser.profile.has_folder_arts),r=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{data:n}=E.w1.useGetUserArtsStatsQuery(),{data:i}=(0,M.B)(),o=(0,E.CG)(e=>!e.foundationUser.id),a=(0,E.CG)(e=>e.foundationUser.BSK),s=null==i?void 0:i.bought_collections.length,u=o?a.length:null==n?void 0:n.in_cart;return Object.entries(ri).filter(t=>{let[n]=t;return!(o&&(n===p.LIBRARY||n===p.CAMPAIGNS||n===p.READ_AND_LISTEN)||!e&&n===p.LIBRARY||e&&n===p.FOLDERS||(!(0,k.vo)(r)||!(0,k.Af)(r))&&n===p.CART||n===p.CAMPAIGNS&&!s||((0,k.vo)(r)||(0,k.Sg)(r))&&n===p.LIKED)}).map((e,r)=>{let[i,{name:o,counterKey:a}]=e,l=!!(i===p.CAMPAIGNS&&s||i===p.FOLDERS&&!t),c=i===p.CART?u:a&&(null==n?void 0:n[a])||void 0;return{id:r,title:o,href:i,isHasSticker:l,counter:c}})},n8=e=>{let{t}=(0,L.$G)(),{isLibrary:r}=e,n=n3(r);return(0,S.jsx)("div",{"data-testid":"my-books__menu--desktop",children:n.map(e=>{let{title:r,href:n,isHasSticker:i,counter:o}=e;return(0,S.jsx)(rT.Zo,{asLink:!0,href:n,text:t(r),counter:null!=o?o:void 0,hasBadge:i,"data-testid":"headerDesktopMyBooksMenu__item--".concat(n.split("/").filter(Boolean).pop())},r)})})};var n6=r(78450),n9=r.n(n6);let n7=e=>{let{isUserAnonymous:t,isLibrary:r,openedPopup:n,setOpenedPopup:i}=e,[o,a]=(0,w.useState)(!1),[s,u]=(0,w.useState)(!1),{data:l}=(0,M.B)();(0,w.useEffect)(()=>{o&&n!==f.MyBooks&&a(!1)},[n,o]);let c=e=>{a(e),e&&i(f.MyBooks)};return(0,S.jsx)(Y.J,{placement:"bottom",trigger:"hover",disableArrow:!0,offset:[8,0],padding:{right:24},portal:!1,content:(0,S.jsx)(n8,{isLibrary:r,isUserAnonymous:t}),contentClassName:n9().popoverContent,visible:o,onVisibleChange:c,closeOnClick:!1,children:(0,S.jsx)(t1,{type:"myBooks",count:null==l?void 0:l.bought_collections.length,classNames:[O()({[n9().newClickedWrapper]:o||s})]})})};var ie=r(30139),it=r.n(ie);let ir=e=>{var t,r;let{openedPopup:n,setOpenedPopup:i}=e,{t:o}=(0,L.$G)(),a=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),{id:s,settings:u,library_info:l,LKS:c,BSK:d}=(0,E.CG)(e=>e.foundationUser),{data:p}=(0,M.B)(),f=l.is_school_user,h=(0,E.CG)(e=>e.global.interface.loginPopupError),m=0===s,g=m?c.length:null==p?void 0:null===(t=p.cart_stats)||void 0===t?void 0:t.deferred_count,_=m?d.length:null==p?void 0:null===(r=p.cart_stats)||void 0===r?void 0:r.items_count,v=!(0,k.vo)(a)&&!f&&!(0,k.Af)(a),y=!(0,k.Sg)(a)&&!(0,k.vo)(a);return(0,S.jsxs)("nav",{className:it().navBar,"aria-label":o("Пользовательские разделы меню"),children:[y?(0,S.jsx)(rU,{}):(0,S.jsx)(t1,{type:"favorite",count:g}),v&&(0,S.jsx)(t1,{type:"basket",count:_}),(0,S.jsxs)("div",{className:O()(it().navBar_flex),children:[(0,S.jsx)(n7,{isUserAnonymous:m,isLibrary:l.is_library_user||!1,setOpenedPopup:i,openedPopup:n}),(0,S.jsx)(n4,{isAnon:m,accountSettings:u,isLibrary:(0,k.vo)(a)||(0,k.Af)(a),setOpenedPopup:i,openedPopup:n,loginPopupError:h})]})]})},ii=()=>(0,S.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M19.5 10H5.5C4.94772 10 4.5 10.4477 4.5 11V18C4.5 18.5523 4.94772 19 5.5 19H19.5C20.0523 19 20.5 18.5523 20.5 18V11C20.5 10.4477 20.0523 10 19.5 10Z",stroke:"#E9EBF0",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M6.5 7.5H18.5",stroke:"#E9EBF0",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M8.5 5H16.5",stroke:"#E9EBF0",strokeWidth:"1.5",strokeLinejoin:"round"})]});var io=r(56463),ia=r.n(io),is=e=>{let{toggleGenres:t,setOpenedPopup:r,genresButtonRef:n}=e,{t:i}=(0,L.$G)(),o=e=>{e.preventDefault(),r(f.Genres),t(),(0,D.GH)("Жанры (каталог)",k.Ym?window.location.href:"")};return(0,S.jsxs)("button",{className:ia().wrapper,onClick:o,ref:n,type:"button","data-testid":"header-catalog-button",children:[(0,S.jsx)(ii,{}),i("Каталог")]})};let iu=()=>{let[e,t]=(0,w.useState)(!1),r=(0,U.useRouter)();return(0,w.useEffect)(()=>{let e=(e,r)=>{(null==r?void 0:r.shallow)||t(!0)},n=(e,r)=>{t(!1)};return r.events.on("routeChangeStart",e),r.events.on("routeChangeComplete",n),()=>{r.events.off("routeChangeStart",e),r.events.off("routeChangeComplete",n)}},[]),e},il=e=>{var t;let r=ro.find(t=>t.id===e);(null==r?void 0:null===(t=r.content)||void 0===t?void 0:t.domain)&&(window.location.href="https://".concat(r.content.domain,"/"))};var ic=r(88428),id=r(93272),ip=r.n(id);let ih=e=>{var t;let{id:r,defaultActiveId:n}=e,i=ro.find(e=>e.id===r);return(0,S.jsxs)("div",{className:ip().dropdownItem,children:[(0,S.jsxs)("div",{className:ip().dropdownItem__content,children:[(null==i?void 0:null===(t=i.content)||void 0===t?void 0:t.flag)&&(0,S.jsx)(ic.W,{language:i.content.flag,width:29}),(0,S.jsx)("span",{className:ip().dropdownItem__title,children:null==i?void 0:i.content.title})]}),r!==n&&(0,S.jsx)("div",{className:ip().dropdownItem__value,children:(0,S.jsx)("span",{children:null==i?void 0:i.value})})]})};var im=r(41909),ig=r.n(im);let i_=(0,w.lazy)(()=>Promise.all([r.e(4643),r.e(4710)]).then(r.bind(r,6308))),iv=40,iy=50,ib=()=>{var e;let{t}=(0,L.$G)(),r=iu(),n=(0,E.TL)(),i=(0,F.uH)(),o=ro.map(e=>({id:e.id,value:e.value})),[a,s]=(0,w.useState)(iv),[u,l]=(0,w.useState)(!1),[c,d]=(0,w.useState)(f.Default),[p,h]=(0,w.useState)(!0),m=rh(),g=iu(),_=(0,E.CG)(e=>e.global.genres.popup.isOpen),v=(0,E.CG)(e=>e.global.interface.headerHeight),y=v+(u?a:0),b=(0,E.CG)(e=>e.browser.headers["client-host"]||iI),x=(0,E.CG)(e=>e.face.language)||"ru",C=o.find(e=>e.id===x),T=(0,E.CG)(e=>e.foundationUser.profile),j=(0,E.CG)(e=>e.foundationUser.library_info),A=(0,E.CG)(e=>e.global.header.banners.onlyLitres.isActive||e.global.header.banners.promotion.isActive||e.global.header.banners.subscr.isActive||e.global.header.banners.tvCampaignBanner.isActive||!1),R=(0,w.useCallback)(e=>{if(i&&null!==e){var t;let r=e.getBoundingClientRect().height;n(E.hi.global.interfaceRequests.setHeaderHeight(r));let i=null===(t=document.getElementById("lowerMenuWrap"))||void 0===t?void 0:t.getBoundingClientRect().height;i&&i!==a&&s(i)}},[i,u,A,m,p,g]);(0,w.useEffect)(()=>{_&&c!==f.Genres&&n(E.hi.global.genres.setOpenPopup(!1))},[c,_]);let P=(0,w.useCallback)(()=>{n(E.hi.global.genres.setOpenPopup(!1))},[_]),I=(0,w.useCallback)(()=>{n(E.hi.global.genres.setOpenPopup(!_))},[_]),D=(0,w.useRef)(null),M=(0,w.useRef)(null),U=(0,w.useRef)(null),B=e=>{D.current&&(e.target===D.current||D.current.contains(e.target))||M.current&&(e.target===M.current||M.current.contains(e.target))||U.current&&(e.target===U.current||U.current.contains(e.target))||P()},z=e=>{var t;e.preventDefault(),e.stopPropagation();let r=null===(t=document.getElementsByTagName("main"))||void 0===t?void 0:t[0],n=document.getElementById("breadcrumbs");n&&(r=(0,k.Ic)(n.parentElement)||r),(0,k.su)(r)};return(0,F.OR)("click",B),nt((0,w.useCallback)(e=>{var t;let{prevPos:r,currPos:i}=e,o=i.y<r.y,a=i.y>r.y;i.y>-iy?h(!0):h(!1);let s=null===(t=D.current)||void 0===t?void 0:t.getBoundingClientRect();_&&s&&s.bottom<v&&n(E.hi.global.genres.setOpenPopup(!1));let u=v;if(o){Math.abs(i.y)>99&&l(!0);let e=s?s.top:u;if(D.current){let t=Math.abs(i.y-r.y);D.current.style.top="".concat(_?e-t:u,"px")}}a&&(l(!1),D.current&&s&&(D.current.style.top="".concat(u,"px")))},[v,_,n]),null,!1,100),(0,w.useEffect)(()=>{(0,k.ej)("checkOldUserReminder")&&T.registered_at&&(0,k.kT)("checkOldUserReminder")},[]),(0,S.jsxs)(S.Fragment,{children:[v>0&&(0,S.jsx)("div",{className:ig().headerGap,style:{paddingBottom:y}}),(0,S.jsxs)("header",{className:O()(ig().wrapper,{[ig().narrowWrapper]:u,[ig().wrapper_fixed]:v>0}),"data-testid":"header",ref:R,role:"banner",children:[(0,S.jsx)(q.I,{className:ig().hidden,tabIndex:0,onClick:z,role:"button",children:t("Перейти к контенту")}),(0,S.jsx)(rc,{isVisible:p}),(0,S.jsxs)("div",{className:ig().mainSection,children:[(0,S.jsx)(Z,{}),((null==j?void 0:j.is_library_user)||(0,k.Af)(b))&&(null===(e=j.logo)||void 0===e?void 0:e.url)&&(0,S.jsx)(r7,{logoPath:j.logo.url,logoRatio:j.logo.ratio}),C&&b!==iI&&(0,S.jsx)("div",{className:ig().langBlock,children:(0,S.jsx)(rG.L,{defaultActiveId:null==C?void 0:C.id,items:o,onChange:il,className:ig().langDropdown,menuClassName:ig().langItem,renderContentItem:e=>(0,S.jsx)(ih,{id:e,defaultActiveId:null==C?void 0:C.id})})}),(0,S.jsxs)("div",{className:ig().catalogButton,children:[(0,S.jsx)(is,{setOpenedPopup:d,toggleGenres:I,genresButtonRef:U}),(0,S.jsx)(r8,{id:"genres_popup","data-testid":"genres_popup",externalRef:D,genresButtonRef:U,className:ig().genresWrapper,style:{top:v},hasOverlay:!0})]}),(0,S.jsx)("div",{className:O()(ig().newSearch),children:(0,k.Sg)(b)?(0,S.jsx)(nQ,{}):(0,S.jsx)(tN,{platform:F.NX.desktop})}),(0,S.jsx)(ir,{setOpenedPopup:d,openedPopup:c})]}),(0,S.jsxs)("div",{id:"lowerMenuWrap",className:O()(ig().lowerMenuWrap,{[ig().lowerMenuWrap__none]:u}),children:[(0,S.jsx)(rI,{setOpenedPopup:d,openedPopup:c,isPDA:!1,isNarrowHeader:u}),m&&(0,S.jsx)(w.Suspense,{fallback:(0,S.jsx)(N.qM,{width:"100%",height:50}),children:(0,S.jsx)(i_,{})})]}),r&&(0,S.jsx)(r6.t,{})]})]})};var ix=r(42533);let iS=r(25868).uc.feature("ExternalReferral"),iw="litres_adv_cookie",ik="advcake_track_id_updated",iE="advcake_track_id",iC="advcake_track_url",iT="tj4rxr_track_id",ij="tj4rxr_track_url",iA="deeplink_utm_active_flag",iR="deeplink_utm_data",iO=2592e3,iP=["email_invoicemail","link_0006","email_loginnotice","email_newpassrequest","email_registrmail","email_newpass","email_successmerge","email_merge","link_0001","email_abonement_welcomemassage","email_abonement_renewalsucsess","email_abonement_renewal","email_librarycard","link_0002"],iL=()=>{let[e]=E.ih.useAddAdvCakeReferralMutation(),t=(0,E.CG)(e=>e.foundationUser.id),r=r=>{var n;let i=null===(n=r.detail)||void 0===n?void 0:n.value;0===t?(0,k.d8)(iw,"".concat(t,":").concat(i),{"max-age":(0,k.gf)()}):setTimeout(()=>{let r=(0,k.ej)(iC)||(0,k.ej)(ij);e({track_id:i,track_url:r}).unwrap().then(()=>{(0,k.d8)(iw,"".concat(t,":"),{"max-age":(0,k.gf)()})}).catch(e=>{iS("BackendInteractionError","Add advcake referral request error",{originalError:e}).emit({track_id:i,track_url:r})})},1e3)};(0,w.useEffect)(()=>{if(window.addEventListener(ik,r),window.lastAdvCakeTrackId){if(0===t)(0,k.d8)(iw,"".concat(t,":").concat(window.lastAdvCakeTrackId),{"max-age":(0,k.gf)()});else{let r=(0,k.ej)(iC)||(0,k.ej)(ij),n=window.lastAdvCakeTrackId;setTimeout(()=>{e({track_id:n,track_url:r}).unwrap().then(()=>{(0,k.d8)(iw,"".concat(t,":"),{"max-age":(0,k.gf)()})}).catch(e=>{iS("BackendInteractionError","Add advcake referral request error",{originalError:e}).emit({track_id:n,track_url:r})})},1e3)}}else if(0!==t){let r=(0,k.ej)(iw),[n,i]=(null!=r?r:"").split(":"),o=(0,k.ej)(iC)||(0,k.ej)(ij),a=(0,k.ej)(iE)||(0,k.ej)(iT);if(i&&o){setTimeout(()=>{e({track_id:i,track_url:o}).unwrap().then(()=>{(0,k.d8)(iw,"".concat(t,":"),{"max-age":(0,k.gf)()})}).catch(e=>{iS("BackendInteractionError","Add advcake referral request error",{originalError:e}).emit({track_id:i,track_url:o})})},1e3);return}n&&o&&a&&t.toString()!==n&&e({track_id:a,track_url:o}).unwrap().then(()=>{(0,k.d8)(iw,"".concat(t,":"),{"max-age":(0,k.gf)()})}).catch(e=>{iS("BackendInteractionError","Add advcake referral request error",{originalError:e}).emit({track_id:a,track_url:o})})}return()=>{window.removeEventListener(ik,r)}},[t]),(0,w.useEffect)(()=>{if(k.Ym){let e=new URL(window.location.href),{utm_source:t,utm_campaign:r,utm_content:n,utm_term:i,sub1:o,sub2:a,sub3:s,sub4:u,sub5:l,keyword:c,lfrom:d}=(0,ix.parse)(e.search.slice(1)),p="advcake"===t||"admitad"===t,f=iP.includes(t);if(d){(0,k.kT)(iA),(0,k.kT)(iR);return}if(!f&&t){if(!p){(0,k.kT)(iA),(0,k.kT)(iR);return}p&&((0,k.d8)(iA,"true",{"max-age":iO}),(0,k.d8)(iR,JSON.stringify({utm_source:t,utm_campaign:r,utm_content:n,utm_term:i,sub1:o,sub2:a,sub3:s,sub4:u,sub5:l,keyword:c}),{"max-age":iO}))}}},[k.Ym])},iI="www.litres.ru",iN="pda.litres.ru",iF=()=>{let e=(0,E.TL)(),t=(0,E.CG)(e=>e.foundationUser),r=(0,E.CG)(e=>e.browser.pda),[n,i]=(0,w.useState)(!0);return(0,w.useEffect)(()=>{if(n){let r=new URL(window.location.href);r.searchParams.has("need_auth")&&(t.id||"1"!==r.searchParams.get("need_auth")||e(E.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0})),r.searchParams.delete("need_auth"),window.history.pushState("",document.title,r.toString())),r.searchParams.has("new_auth")&&("1"===r.searchParams.get("new_auth")&&(0,k.d8)("new_auth","1"),r.searchParams.delete("new_auth"),window.history.pushState("",document.title,r.toString())),r.searchParams.has("new_socials")&&("1"===r.searchParams.get("new_socials")&&(0,k.d8)("new_socials","1"),r.searchParams.delete("new_socials"),window.history.pushState("",document.title,r.toString())),i(!1)}},[n]),iL(),T(),(0,S.jsx)(C.K,{children:r?(0,S.jsx)(rz,{}):(0,S.jsx)(ib,{})})}},83363:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(31549),i=r(44194);let o=e=>{let[t,r]=(0,i.useState)(e.src),{fallbackSrc:o,alt:a,height:s,width:u,className:l,style:c}=e,d=()=>{r(o)};return(0,n.jsx)("img",{src:t,alt:a,height:s,width:u,className:l,onError:d,style:c})}},34253:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var n=r(31549);r(44194);var i=r(61794),o=r(48592),a=r(26163),s=r.n(a);let u=()=>{let{t:e}=(0,o.$G)(),t=(0,i.CG)(e=>!e.browser.pda),r="ru"!==(0,i.CG)(e=>e.face.language);return(0,n.jsx)("img",{src:r?"https://cdn.litres.ru/static/litres/logo/logo_int.svg":"https://cdn.litres.ru/static/litres/logo/logo_ru.svg",width:t?178:99,height:t?28:24,alt:e("Логотип Литрес"),className:s().mainLogo})}},81766:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var n=r(44194),i=r(61794),o=r(54316);let a=()=>{let{subscription:e,partner_subscriptions:t}=(0,i.CG)(e=>e.foundationUser),{data:r=[]}=i.c.useGetUserBrandIdentitiesQuery();return(0,n.useMemo)(()=>(0,o.J8)(e,t,r),[e,t,r])}},54316:function(e,t,r){"use strict";r.d(t,{J8:function(){return i},g0:function(){return s},nC:function(){return a}});var n=r(44731);let i=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=new Map(r.map(e=>[e.sub_id,e.brand_identity])),i=t.subscriptions.filter(e=>(e.is_active||e.is_in_grace_period)&&"litres"!==e.partner);e.is_active&&i.push({sub_id:0,is_active:!0,partner:"litres",token:"litres",host:"subscription.litres.ru",type:"text",start_date:"",valid_till:"",is_in_grace_period:!1});let o=new Set;return i.filter(e=>!o.has(e.token)&&(o.add(e.token),!0)).map(e=>{var t,r,i;let{sub_id:o,token:a,start_date:s,host:u}=e,l=n.get(o);return 0===e.sub_id&&(l={name_ru:"Литрес Подписка",name:"Litres Subscription",primary_color:"#FF4C00"}),{token:a,host:null!=u?u:"/",name_ru:null!==(t=null==l?void 0:l.name_ru)&&void 0!==t?t:"Подписка #".concat(o),name:null!==(r=null==l?void 0:l.name)&&void 0!==r?r:"Subscription #".concat(o),short_name_ru:null==l?void 0:l.short_name_ru,short_name:null==l?void 0:l.short_name,primary_color:null!==(i=null==l?void 0:l.primary_color)&&void 0!==i?i:"#000000",order:+(s?new Date(s):new Date)}}).sort((e,t)=>t.order-e.order)},o=n.UZ.getInstance(),a=()=>{o.sendEvent(["LITRES_TRACKER"],{eventType:"subscription_switcher_view",params:{}})},s=e=>{o.sendEvent(["LITRES_TRACKER"],{eventType:"subscription_switcher_item_click",params:{domain:e}})}},30453:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(31549);r(44194);let i=()=>(0,n.jsx)("svg",{width:14,height:14,xmlns:"http://www.w3.org/2000/svg",role:"presentation",children:(0,n.jsx)("path",{d:"M13.292 2.118a.997.997 0 00.003-1.413.999.999 0 00-1.413.003L7 5.59 2.118.708A.997.997 0 00.705.705a.999.999 0 00.003 1.413L5.59 7 .708 11.882a.997.997 0 00-.003 1.413.999.999 0 001.413-.003L7 8.41l4.882 4.882a.997.997 0 001.413.003.999.999 0 00-.003-1.413L8.41 7l4.882-4.882z",fill:"#9D9C9F",fillRule:"evenodd"})})},14049:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rh},reportWebVitals:function(){return rc}});var n,i,o=r(31549),a=r(44194),s=r(91270),u=r(48592),l=r(35393),c=r(59497),d=r(21535),p=r.n(d),f=r(51865),h=r.n(f),m=r(26249),g=r(61794),_=r(1818),v=r(59838),y=r(64009),b=r(8594),x=r(17357),S=r(20239),w=r(98877),k=r(83278),E=r(25868);let C=E.uc.feature("AdvCake"),T=()=>{let e=()=>{C("FrontendLogicError","AdvCake error on loading").emit()};return(0,o.jsx)(p(),{id:"AdvCakeSdkLoader",dangerouslySetInnerHTML:{__html:'window.addEventListener("advcake_track_id_updated",e=>{"undefined"!=typeof window&&(window.lastAdvCakeTrackId=e.detail?.value)}),function(e){var a=new URLSearchParams(window.location.search);if(a.has("lfrom")||a.has("lfrom_processed")||a.has("utm_source")){var t=e.createElement("script");t.async=1,t.src="https://tj4rxr.ru/",(e=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)}}(document);'},onError:e,strategy:"beforeInteractive"})};var j=r(41168),A=r(55714),R=r(52535),O=r(65822),P=r.n(O);let L=()=>{let{t:e,i18n:t}=(0,u.$G)(),[r,n]=(0,a.useState)(!1),i=I((0,g.CG)(e=>e.browser.clientHost)),s="ru-RU"!==t.language,l=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=setTimeout(()=>{(0,v.ej)(R.gc.cookieAgreement)||n(!0)},5e3);return()=>{clearTimeout(e)}},[]);let c=()=>{let e=new Date(Date.now()+31536e6);(0,v.d8)("cookie-agreement","1",{expires:e}),n(!1)};return r?(0,o.jsxs)("div",{ref:l,className:h()(P().container),"data-testid":"cookieAcceptPopup",children:[s?(0,o.jsxs)("span",{className:P().text,children:[(0,o.jsx)(u.cC,{default:"Мы используем <strong>файлы cookie</strong>, чтобы сделать ваше пребывание на нашем сайте быстрее и удобнее. ",i18nKey:"Мы используем <strong>файлы cookie</strong>, чтобы сделать ваше пребывание на нашем сайте быстрее и удобнее. ",components:{strong:(0,o.jsx)("strong",{})}}),(0,o.jsx)(A.Fg,{href:i,target:"_blank",rel:"noreferrer",children:e("Читать далее")})]}):(0,o.jsxs)("details",{className:P().text,children:[(0,o.jsxs)("summary",{children:[e('Продолжая использовать этот сайт, вы даете согласие ООО "ЛитРес", город Москва, на обработку файлов cookie и соответствующих пользовательских данных'),(0,o.jsxs)("span",{className:P().further,children:["... ",(0,o.jsx)("span",{className:P().text,children:e("Далее")})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:e(" IP-адрес, сведения о местоположении, тип и версия ОС, тип и версия браузера, тип устройства и разрешение экрана, источник прихода на сайт, язык операционной системы и браузера, поведение на сайте в целях функционирования сайта, проведения статистических исследований и веб-аналитики, в том числе с использованием сторонних сервисов. Если вы не хотите, чтобы ваши данные обрабатывались, измените соответствующие настройки своего браузера или покиньте сайт. ")}),(0,o.jsx)(A.Fg,{href:i,target:"_blank",rel:"noreferrer",children:e("Подробнее")})]})]}),(0,o.jsx)(j.k$,{variant:j.Ay.primary,type:"button",color:j.r1.gray,onClick:c,className:P().button,children:e(s?"Я согласен":"Принять")})]}):null};function I(e){switch(e){case"litres.com":case"litres.es":case"m.litres.es":case"litres.de":case"litres.eu":case"m.litres.eu":return"/static/litres/inc/en/privacy_policy.html";case"litres.ee":return"/static/litres/inc/et/privacy_policy.html";case"litres.pl":return"/static/litres/inc/pl/privacy_policy.html";case"litres-tr.com":return"/static/litres/inc/tr/privacy_policy.html";case"litres.uz":return"/static/litres/inc/uz/privacy_policy.html";case"litres.az":return"/static/litres/inc/az/privacy_policy.html";default:return"/static/litres/inc/ru/privacy_policy.html"}}let N=["/auth_proxy","/callbacks/social-auth","/callbacks/sso","/oauth/[slug]","/landings/ozon/connect","/nextenv/ozon/connect","/payment/","/purchase/","/pages/comment_in_or","/pages/upsale_in_or","/test-disable-3rdparty","/subscription-cancel-survey","/certificates-rules","/auth/login","/auth/recovery","/pages/receipt-mobile","/loading","/device/connect","/pages/litres_oferta","/documents/agreement_1","/documents/agreement_3","/documents/agreement_candidates"];function F(e){for(let t of N)if(e.startsWith(t))return!1;return!0}var D=()=>{let e=(0,s.useDispatch)();return(0,a.useEffect)(()=>(v.Ym&&!window.showPopupErrorEscape&&(window.showPopupErrorEscape=t=>{e(g.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0,errorText:t}))},window.sendClicktag=(t,r)=>{let n="".concat(document.location),i=r?"".concat(r.pageX,".").concat(r.pageY):"0.0";n=(n=(n=n.replace(/https?:\/\/[\w.-]+(:\d+)?\//,"")).split("#")[0]).replace(/ /,"+"),e(g.hi.global.interfaceRequests.sendClickTrack({p:i,w:document.documentElement.clientWidth,u:n,x:"div.".concat(t,"/div.2"),gu_ajax:!0}))}),()=>{v.Ym&&(window.showPopupErrorEscape=void 0,window.sendClicktag=void 0)}),[]),null},M=r(70397),U=r(53523),q=r(39319),B=r(4438);let z=()=>{let[e,t]=(0,a.useState)();return(0,a.useEffect)(()=>{(0,v.gn)()?t("apple"):(0,v.Dt)()&&t("android")},[]),e?(0,o.jsx)(B.uQ,{name:e,size:24}):e};var G=r.p+"static/media/appStoreButton.65210279.svg",W=r.p+"static/media/googlePlayButton.67527bfd.svg",$=r(31423),H=r.n($);let V=()=>{let{t:e}=(0,u.$G)(),t=(0,g.CG)(e=>e.user.library.isSchool),r=z();return(0,o.jsxs)("div",{className:H().footer__apps_mobile,children:[(0,o.jsxs)("div",{className:H().footer__apps__storeButtons,children:[(0,o.jsx)(S.I,{href:t?"https://itunes.apple.com/ru/app/skola!/id1137142849?mt=8":"https://apps.apple.com/app/id438441429",children:(0,o.jsx)("img",{src:G,loading:"lazy"})}),(0,o.jsx)(S.I,{href:t?"https://play.google.com/store/apps/details?id=ru.litres.android.school&hl=ru&gl=US":"https://play.google.com/store/apps/details?id=ru.litres.android.global",children:(0,o.jsx)("img",{src:W,loading:"lazy"})})]}),(0,o.jsx)("div",{className:H().footer__apps__button,"data-testid":"footer__appButton",children:(0,o.jsx)(q.z,{href:t?"/go":"https://click.litres.ru/1566260005/vymhezi7",size:"medium",mode:"primary",text:e("Открыть в приложении"),icon:r,customColor:"#2F3655"})})]})},Z=[{name:"Дзен",img:r(77345),link:"https://dzen.ru/litres"},{name:"Одноклассники",img:r.p+"static/media/ok.3ac003ef.svg",link:"https://ok.ru/litres"},{name:"Телеграмм",img:r(92952),link:"https://t.me/LitRes_ebooks"},{name:"ВКонтакте",img:r(75652),link:"https://vk.com/mylitres"},{name:"YouTube",img:r.p+"static/media/yt.a9dda4f3.svg",link:"https://www.youtube.com/@MyBookbyLitres"}],K=()=>(0,o.jsx)("div",{className:H().footer__socials,"data-testid":"footer__socialLinks",children:Z.map((e,t)=>(0,o.jsx)("div",{className:H().footer__socials__item,children:(0,o.jsx)(S.Z,{href:e.link,target:"_blank",title:e.name,children:(0,o.jsx)("img",{src:e.img,loading:"lazy",alt:e.name})})},"footer-social-".concat(t)))}),J=e=>{let{nav:t,type:r}=e;return(0,o.jsx)("div",{className:h()(H().footer__nav,H()["footer__nav_".concat(r)]),"data-testid":"footer__nav",children:t.map((e,t)=>(0,o.jsx)("ul",{className:H().footer__block,"data-testid":"footer__navLinks",children:e.map((e,r)=>(0,o.jsx)("li",{className:H().footer__block__item,children:(0,o.jsx)(A.Fg,{href:e.url,className:H().footer__block__link,...e.targetBlank?{target:"_blank"}:{},children:e.name})},"footer-block-".concat(t,"-item-").concat(r)))},"footer-block-".concat(t)))})};var Q=r.p+"static/media/qr.759e0792.svg";let X=()=>(0,o.jsxs)("div",{className:H().footer__apps,children:[(0,o.jsx)("div",{className:H().footer__apps__qr,children:(0,o.jsx)("img",{src:Q,alt:"qr code",width:"60px",height:"60px",loading:"lazy"})}),(0,o.jsxs)("div",{className:H().footer__apps__data,children:[(0,o.jsx)("div",{className:H().footer__apps__text,children:(0,o.jsx)(u.cC,{i18nKey:"Книги всегда с тобой в <linkTag>приложении Литрес</linkTag>",components:{linkTag:(0,o.jsx)(A.Fg,{href:"/app/"})}})}),(0,o.jsxs)("div",{className:H().footer__apps__icons,children:[(0,o.jsx)(B.uQ,{name:"apple",size:16}),(0,o.jsx)(B.uQ,{name:"android",size:16}),(0,o.jsx)(B.uQ,{name:"rustore_noframe",size:16})]})]})]}),Y=[[{name:"О компании",url:"/company/about/"},{name:"Контакты",url:"/company/contacts/"},{name:"Карьера в Литрес",url:"/company/vacancies/"},{name:"Участие в исследованиях",url:"/company/ux-research/"},{name:"Служба поддержки",url:"https://litres.helpdeskeddy.com/ru"},{name:"Возврат",url:"https://litres.helpdeskeddy.com/ru/knowledge_base/article/634/category/57",targetBlank:!0}],[{name:"Издательствам",url:"/company/author-publisher-terms/"},{name:"Авторам",url:"/company/author-publisher-terms/"},{name:"Библиотекам",url:"/company/library/"},{name:"Варианты сотрудничества",url:"/cms/6/"},{name:"Партнёрская программа",url:"/company/partners/"},{name:"Стать автором Литрес",url:"https://selfpub.ru/?utm_source=litres&utm_medium=footer",targetBlank:!0},{name:"Озвучить книгу",url:"/cms/7330/"},{name:"Корпоративная библиотека",url:"/cms/corp-library/"}],[{name:"Активировать промокод",url:"/promocode/"},{name:"Бестселлеры",url:"/popular/"},{name:"Новинки",url:"/new/"},{name:"Аудиокниги",url:"/audiobooks/"},{name:"Эксклюзивы",url:"/selfpublishing/"}],[{name:"Публичная оферта",url:"/pages/litres_oferta/"},{name:"Политика обработки персональных данных",url:"/static/litres/inc/ru/privacy_policy.html",targetBlank:!0},{name:"Согласие на получение рассылки",url:"/static/litres/inc/ru/receive_newsletters.html",targetBlank:!0},{name:"Рекомендательные технологии",url:"/company/recommendations/",targetBlank:!0}]],ee="\xa9 ООО \xabЛитрес\xbb",et=[[{name:"Şirkət haqqında",url:"/about-us/"},{name:"Dəstək qrupu",url:"mailto:support@litres.az"},{name:"Pulun geri qaytarılması",url:"https://litres.helpdeskeddy.com/ru/knowledge_base/article/634/category/57"},{name:"Mobil tətbiqlər",url:"/app/"}],[{name:"İctimai təklif",url:"/pages/litres_oferta/"},{name:"Şərtlər və qaydalar",url:"/pages/litres_oferta/"},{name:"Şəxsi məlumatların emalı siyasəti",url:"/static/litres/inc/az/privacy_policy.html",targetBlank:!0},{name:"Xəbər b\xfclleteni almağa razılıq verin",url:"/static/litres/inc/az/privacy_policy.html",targetBlank:!0}]],er=[[{name:"Hakkında ve İletişim",url:"/about-us/"},{name:"Destek",url:"mailto:destek@litres-tr.com"},{name:"Mobil uygulamalar",url:"/app/"}],[{name:"Kullanım Koşulları",url:"/pages/litres_oferta/"},{name:"Aydınlatma Beyanı",url:"/static/litres/inc/tr/privacy_policy.html",targetBlank:!0},{name:"\xd6n Bilgilendirme Formu",url:"/pages/cms/?page=13769"},{name:"Mesafeli Satış S\xf6zleşmesi",url:"/pages/cms/?page=13774"},{name:"\xdcyelik S\xf6zleşmesi",url:"/pages/cms/?page=13777"},{name:"İade ve geri \xf6demeler",url:"/pages/cms/?page=13792"}]],en="Litres Operations Limited",ei="18 Mallow street co. Limerick, Ireland",eo=[[{name:"Kompaniya haqida",url:"/about-us/"},{name:"Qo`llab -quvvatlash markazi",url:"mailto:help@litres.uz"},{name:"Qaytarish",url:"https://litres.helpdeskeddy.com/ru/knowledge_base/article/634/category/57"},{name:"Mobil ilovalar",url:"/app/"}],[{name:"Ommaviy taklif",url:"/pages/litres_oferta/"},{name:"Shaxsiy ma'lumotlarni qayta ishlash siyosati",url:"/static/litres/inc/uz/privacy_policy.html",targetBlank:!0},{name:"Havola qabul qilishga rozilik",url:"/static/litres/inc/uz/privacy_policy.html",targetBlank:!0}]],ea=[[{name:"About & Contacts",url:"/about-us/"},{name:"Support",url:"/support-faq/"},{name:"Returns",url:"/support-faq/returns-and-refunds/"},{name:"Mobile apps",url:"/app/"}],[{name:"Terms of Service",url:"/pages/litres_oferta/"},{name:"Terms of Service (Selfpub)",url:"/selfpub-oferta/"},{name:"Personal data policy",url:"/static/litres/inc/en/privacy_policy.html",targetBlank:!0},{name:"Email subscription consent",url:"/static/litres/inc/en/receive_newsletters.html",targetBlank:!0}]],es=[[{name:"O firmie",url:"/about-us/"},{name:"Kontakt",url:"/kontakt/"},{name:"Wsparcie (help@litres.pl)",url:"/wsparcie/"},{name:"Zwroty",url:"/wsparcie/zwrot-srodkow/"},{name:"Aplikacje mobilne",url:"/app/"}],[{name:"Warunki świadczenia usług",url:"/pages/litres_oferta/"},{name:"Polityka prywatności",url:"/static/litres/inc/pl/privacy_policy.html",targetBlank:!0},{name:"Zgoda na subskrypcję e-mail",url:"/static/litres/inc/pl/receive_newsletters.html",targetBlank:!0}],[{name:"Popularni autorzy",url:"/najlepsi-autorzy/"}]],eu=[[{name:"Ettev\xf5ttest & Kontakt",url:"/ettevottest/"},{name:"Klienditugi",url:"/kkk/"},{name:"Tagastamine",url:"/kkk/Ostu-tuhistamine-ja-raha-tagastamine/"},{name:"Mobiilirakendused",url:"/app/"}],[{name:"Avalik pakkumine",url:"/pages/litres_oferta/"},{name:"Isiklike andmete t\xf6\xf6tlemise eeskiri",url:"/static/litres/inc/et/privacy_policy.html",targetBlank:!0},{name:"E-posti tellimuse n\xf5usolek",url:"/static/litres/inc/et/receive_newsletters.html",targetBlank:!0}]],el=[[{name:"\xdcber uns & Kontakte",url:"/uber-uns/"},{name:"Support",url:"https://litres.helpdeskeddy.com/ru/"},{name:"R\xfccksendungen",url:"https://litres.helpdeskeddy.com/ru/knowledge_base/article/634/category/57"},{name:"Mobile Anwendungen",url:"/app/"}],[{name:"Nutzungsbedingungen",url:"/pages/litres_oferta/"},{name:"Datenschutzerkl\xe4rung",url:"/static/litres/inc/en/privacy_policy.html",targetBlank:!0},{name:"Zustimmung zum E-Mail-Abonnement",url:"/static/litres/inc/en/receive_newsletters.html",targetBlank:!0}]],ec=[[{name:"Servicio de ayuda",url:"https://litres.helpdeskeddy.com/ru/"}],[{name:"Condiciones de uso",url:"/pages/litres_oferta/"},{name:"Pol\xedtica de privacidad",url:"/static/litres/inc/en/privacy_policy.html"}]],ed=e=>"litres-tr.com"===e?{nav:er,copyright:en,address:ei,type:"tr"}:"litres.az"===e?{nav:et,copyright:en,address:ei,type:"az"}:"litres.uz"===e?{nav:eo,copyright:en,address:ei,type:"uz"}:"litres.com"===e||"litres.eu"===e?{nav:ea,copyright:en,address:ei,type:"com"}:"litres.ee"===e?{nav:eu,copyright:en,address:ei,type:"ee"}:"litres.pl"===e?{nav:es,copyright:en,address:ei,type:"pl"}:"litres.de"===e?{nav:el,copyright:en,address:ei,type:"de"}:"litres.es"===e?{nav:ec,copyright:en,address:ei,type:"es"}:{nav:Y,copyright:ee,type:"ru"},ep=()=>{let{t:e}=(0,u.$G)(),t=(0,g.CG)(e=>e.browser.pda),r=(0,g.CG)(e=>e.global.interface.stickyPlayer.isOpen),n=(0,g.CG)(e=>e.browser.headers["client-host"]),{nav:i,copyright:s,address:l,type:c}=(0,a.useMemo)(()=>ed(n),[n]);return(0,o.jsx)("footer",{className:h()(H().footer,{[H().footer_mobile]:t,[H().footer_withPlayer]:r},H()["footer_".concat(c)]),"data-testid":"footer",role:"contentinfo",children:(0,o.jsxs)("div",{className:H().footer__inner,children:[(0,o.jsxs)("div",{className:H().footer__top,children:[(0,o.jsx)(J,{nav:i,type:c}),"ru"===c&&(0,o.jsxs)("div",{className:H().footer__data,children:[t?(0,o.jsx)(V,{}):(0,o.jsx)(X,{}),(0,o.jsx)(K,{}),t&&(0,o.jsx)(A.Fg,{href:"/?no_redirect=1",className:H().footer__fullVersion,children:e("Полная версия сайта")})]})]}),!!s&&(0,o.jsxs)("div",{className:H().footer__copyright,children:[(0,o.jsx)(A.Fg,{href:"/",className:H().footer__copyright__text,children:s}),!!l&&(0,o.jsx)(A.Fg,{href:"/",className:H().footer__copyright__address,children:l})]})]})})};var ef=r(94903),eh=r(59425),em=r(44731),eg=r(73758);let e_=!1,ev=()=>{let e=(0,g.CG)(e=>e.browser.pda),t=(0,g.CG)(e=>e.foundationUser),r=(0,a.useCallback)(()=>{var r;let n={abVariants:(0,eg.Sm)(t.ab_tests),deviceModel:window.navigator.userAgent||"",host:e?"pda":"web",userID:t.id,isTester:t.is_tester,subscriptionUserStatus:{subscription:(0,eg.I$)(t.subscription),abonement:(0,eg.er)(t.abonement)},registrationDate:null!==(r=t.profile.registered_at)&&void 0!==r?r:void 0,varioqubAbVariants:t.varioqubTests.testIds,varioqubUserId:t.varioqubTests.ymabParam||(0,v.ej)("_ymab_param")};eg.TM.setConfiguration(n)},[t,e]);v.Ym&&!e_&&(window.TM||(window.TM=em.ZP.getInstance()),r(),e_=!0),(0,a.useEffect)(()=>{r()},[r])},ey=()=>{let e=(0,g.CG)(e=>e.foundationUser.varioqubTests);(0,a.useEffect)(()=>{let t=(0,v.ej)("_ymab_param");if(e.ymabParam&&t!==e.ymabParam){let t=31536e6,r=new Date(Date.now()+t);(0,v.d8)("_ymab_param",e.ymabParam,{expires:r})}},[])};var eb=r(62094);let ex=()=>{let e=()=>{document.body.classList.add("focus-visible-class")},t=e=>{"pointerType"in e&&""===e.pointerType||document.body.classList.remove("focus-visible-class")};(0,eb.OR)("keydown",e),(0,eb.OR)("click",t)};var eS=r(9524);let ew=()=>{let{t:e}=(0,u.$G)(),[t,r]=(0,a.useState)(!1),n=(0,g.CG)(e=>e.foundationUser);(0,a.useEffect)(()=>{!(0,v.ej)("should_show_old_pages")&&n.library_info.is_librarian&&r(!0)},[]);let i=()=>{(0,v.d8)("should_show_old_pages","1",{"max-age":63072e3}),r(!1),window.location.reload()};return(0,o.jsxs)(eS.u_,{isOpen:t,showCloseButton:!1,onClose:i,title:e("Информация для библиотекарей"),primaryButton:{label:e("Принять"),onClick:i},children:[(0,o.jsx)("p",{children:e("Доступ к страницам, которые работают на новой платформе, ограничен для библиотекарей.")}),(0,o.jsx)("p",{children:e("Для полноценного использования всех функций сайта, пожалуйста, подтвердите своё согласие.")})]})},ek=()=>{let e=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let t=()=>{var t;e.current=!0,null===(t=window.UXS)||void 0===t||t.sendEvent("reader_close")};return eE(document.referrer)&&!e.current&&(window.UXS?t():document.addEventListener("uxsReady",t)),()=>{document.removeEventListener("uxsReady",t)}},[])},eE=e=>/static(?:\/demo)?\/or4*/.test(e);var eC=r(6222),eT=r(13520),ej=r(19553),eA=r.n(ej),eR=r(38573);function eO(e,t){return eP(e,t)||eL(e)}function eP(e,t){try{let r=(0,eR.Jm)(t),n=(0,v.fp)(e);if(!n)return!1;let i=new Date(n);if(!eA()(i))return!1;return Date.now()-i.valueOf()<r}catch(e){return!1}}function eL(e){try{return(0,v.ej)(e)}catch(e){return!1}}function eI(e){let{checkIfShouldBeShownForUser:t,routerQuery:r,forceShowingQueryParam:n,showingHistoryStorageKey:i,showingInterval:o}=e,a=!!r[n];return t()&&(!eO(i,o)||a)}let eN=eD,eF=eM;function eD(e){let{foundationUserState:t,routerQuery:r}=e;return eI({checkIfShouldBeShownForUser:()=>0!==t.id&&!!t.subscription.grace_period_start,routerQuery:r,forceShowingQueryParam:"subscription-prolongation-banner",showingHistoryStorageKey:eT.iT,showingInterval:eT.Z2})}function eM(e){let{foundationUserState:t,routerQuery:r}=e;return eI({checkIfShouldBeShownForUser:()=>0!==t.id&&!!t.abonement.grace_period_start,routerQuery:r,forceShowingQueryParam:"abonement-prolongation-banner",showingHistoryStorageKey:eT.Hp,showingInterval:eT.Z2})}var eU=r(1178),eq=r.n(eU);let eB=eq()(()=>Promise.all([r.e(3981),r.e(3631),r.e(2982),r.e(4860),r.e(2968)]).then(r.bind(r,92003)).then(e=>e.FailSubscriptionProlongationModal),{loadableGenerated:{webpack:()=>[92003]},ssr:!1}),ez=eq()(()=>Promise.all([r.e(8579),r.e(3981),r.e(3631),r.e(2699),r.e(1515)]).then(r.bind(r,14340)).then(e=>e.FailAbonementProlongationModal),{loadableGenerated:{webpack:()=>[14340]},ssr:!1}),eG=eq()(()=>Promise.all([r.e(8579),r.e(3981),r.e(3631),r.e(2472)]).then(r.bind(r,95992)).then(e=>e.AbonementRebillChangingModal),{loadableGenerated:{webpack:()=>[95992]},ssr:!1}),eW=eq()(()=>Promise.all([r.e(3631),r.e(951)]).then(r.bind(r,79299)).then(e=>e.SubscriptionRebillChangingModal),{loadableGenerated:{webpack:()=>[79299]},ssr:!1});var e$=r(62321);let eH="offer_needs_rebill",eV=eJ,eZ=eQ;function eK(e){if("android"===e||"ios"===e)return!0}function eJ(e){let{foundationUserState:t,routerQuery:r,clientHost:n}=e,i=r[eH]?eH:"change-subscription-rebill-banner";return eI({checkIfShouldBeShownForUser:()=>!(!t.subscription.is_active||(0,v.Sg)(n)||eK(t.subscription.purchase_origin))&&eX(t,"subscription"),routerQuery:r,forceShowingQueryParam:i,showingHistoryStorageKey:e$.JZ,showingInterval:e$.l1})}function eQ(e){let{foundationUserState:t,routerQuery:r,clientHost:n}=e,i=r[eH]?eH:"change-abonement-rebill-banner";return eI({checkIfShouldBeShownForUser:()=>!(!t.abonement.is_active||(0,v.Sg)(n)||eK(t.subscription.purchase_origin))&&eX(t,"abonement"),routerQuery:r,forceShowingQueryParam:i,showingHistoryStorageKey:e$.zP,showingInterval:e$.l1})}function eX(e,t){return!e[t].rebill_id}let eY="coupone",e0=e2,e1=e5;function e2(e){let{foundationUserState:t,routerQuery:r}=e;return!!t.subscription.is_active&&!!r[eY]}function e5(e){let{foundationUserState:t,routerQuery:r}=e;return!!t.abonement.is_active&&!!r[eY]}let e4=eq()(()=>r.e(1268).then(r.bind(r,61268)).then(e=>e.AbonementCouponProlongationModal),{loadableGenerated:{webpack:()=>[61268]},ssr:!1}),e3=[{checkIfShouldBeShown:eN,component:eB,name:"FailSubscriptionProlongationModal"},{checkIfShouldBeShown:eF,component:ez,name:"FailAbonementProlongationModal"},{checkIfShouldBeShown:eV,component:eW,name:"SubscriptionRebillChangingModal"},{checkIfShouldBeShown:eZ,component:eG,name:"AbonementRebillChangingModal"},{checkIfShouldBeShown:e0,component:eq()(()=>r.e(518).then(r.bind(r,40518)).then(e=>e.SubscriptionCouponProlongationModal),{loadableGenerated:{webpack:()=>[40518]},ssr:!1}),name:"CouponProlongationModal"},{checkIfShouldBeShown:e1,component:e4,name:"CouponProlongationModal"}];var e8=r(76791),e6=r(52931);let e9=(e,t)=>{let r=(0,v.fp)(e);return!!r&&Date.now()-Number(r)<t},e7=(e,t)=>!!e&&Date.now()-new Date(e+"Z").getTime()>=864e5*t,te=[{checkIfShouldBeShown:e=>{let{foundationUserState:t,routerQuery:r}=e;if(!v.Ym)return null;if(t.is_wink_subscriber)return!1;let n=(0,e8.gn)(t.varioqubTests.flags,"is_wink_enabled","true")||!!r[e6.e];if(0===t.id||!n)return!1;let i=e7(t.subscription.start_date,7),o=2592e6,a=!e9(e6.R,o),s=t.subscription.is_active;return i&&a&&s},component:eq()(()=>Promise.all([r.e(3557),r.e(3981),r.e(2982),r.e(6150),r.e(4137)]).then(r.bind(r,33550)),{loadableGenerated:{webpack:()=>[33550]},ssr:!1}),name:"BannerWink"},{checkIfShouldBeShown:e=>{let{foundationUserState:t,clientHost:r,popupsToView:n,routerQuery:i}=e;if(!v.Ym)return null;if(0===t.id||!(0,v.tS)(r))return!1;if(n.includes("loyalty_invitation"))return!0;let o=(0,e8.gn)(t.varioqubTests.flags,"welcome_bonuses","true"),a="welcome_bonuses"===i.test;return!!n.includes("welcome_bonuses_offer")&&(!!o||!!a)},component:eq()(()=>Promise.all([r.e(2915),r.e(9704)]).then(r.bind(r,19122)),{loadableGenerated:{webpack:()=>[19122]},ssr:!1}),name:"NewLoyaltyProgramModal"}],tt=eq()(()=>Promise.resolve().then(r.bind(r,75627)).then(e=>e.CredentialsAskingPopup),{loadableGenerated:{webpack:()=>[75627]},ssr:!1});var tr=r(44575);let tn=["/landing/[slug]","/payment/ppd","/payment/proceed","/payment/success","/payment/error","/payment/subscription"],ti=["/litres_subscription/","/litres_subscription/#tariff","/me/credentials/","/my-books/cart/","/oauth/authorize/"];function to(e){let{foundationUserState:t,lang:r,routePathname:n,routePath:i}=e,o=tn.every(e=>e!==n),a=ti.every(e=>e!==i);return o&&a&&(0,tr.checkIfShowCredentialsAskingShouldBeShown)({foundationUser:t,lang:r})}let ta=eq()(()=>Promise.resolve().then(r.bind(r,10539)).then(e=>e.MergeUsersPopup),{loadableGenerated:{webpack:()=>[10539]},ssr:!1}),ts=["/landing/[slug]","/payment/ppd","/payment/proceed","/payment/success","/payment/error","/payment/subscription"],tu=["/litres_subscription/","/litres_subscription/#tariff","/my-books/cart/","/oauth/authorize/"];function tl(e){let{foundationUserState:t,lang:r,routePathname:n,routePath:i,clientHost:o}=e,a=ts.some(e=>e===n),s=tu.some(e=>e===i);return!a&&!s&&!(0,v.vo)(o)&&(0,tr.checkIfMergeUsersPopupShouldBeShown)({foundationUser:t,lang:r})}let tc=[{checkIfShouldBeShown:e=>{let{routerQuery:t,foundationUserState:r}=e;return!!t.phone_login_hint&&!r.id},component:eq()(()=>Promise.all([r.e(2856),r.e(6178)]).then(r.bind(r,56178)).then(e=>e.OperatorPhoneNumberAuthPopup),{loadableGenerated:{webpack:()=>[56178]},ssr:!1}),name:"OperatorPhoneNumberAuthPopup"},{checkIfShouldBeShown:tl,component:e=>{let{onSkipModal:t}=e;return(0,o.jsx)(ta,{onMergeNotPossible:()=>null==t?void 0:t("MergeUsersPopup")})},name:"MergeUsersPopup"},{checkIfShouldBeShown:to,component:tt,name:"CredentialsAskingPopup"}],td=1500,tp="block-global-modals",tf=tp.replace(/-/g,"_");function th(e){let{isPageWithHeader:t,foundationUserState:r,isRouterLoading:n,clientHost:i}=e,s=(0,m.useRouter)(),u=tm(n,s.query),l=(0,g.CG)(e=>e.face.language)||v.pF.ru,c=(0,g.CG)(e=>e.browser.pda),{data:d}=g.Gt.useGetUserSettingsPopupQuery(void 0,{skip:0===r.id}),p=(0,eC.O2)(),[f,h]=(0,a.useState)([]),_=f.find(e=>{try{var t,n;return e.checkIfShouldBeShown({foundationUserState:r,lang:l,isPDA:c,isPhoneSupportOTP:p((null===(n=r.profile)||void 0===n?void 0:null===(t=n.phone_country_code)||void 0===t?void 0:t.toUpperCase())||"RU"),routerQuery:s.query,clientHost:i,routePath:s.asPath,routePathname:s.pathname,popupsToView:(null==d?void 0:d.popups_to_view)||[]})}catch(t){return E.uk.feature("GlobalModals")("FrontendLogicError","Visibility checking for ".concat(e.name),{originalError:t}).emit(),!1}}),y=e=>{h(t=>t.filter(t=>t.name!==e))};return((0,a.useEffect)(()=>{t&&h([...e3,...te,...tc])},[]),u&&_)?(0,o.jsx)(_.component,{onSkipModal:y}):null}function tm(e,t){let r=(0,g.TL)(),{visibilityState:n}=(0,g.CG)(e=>e.global.globalModals),i=tg(t);return(0,a.useEffect)(()=>{e&&r(g.hi.global.modals.setGlobalModalsShowStatus("init")),i&&r(g.hi.global.modals.setGlobalModalsShowStatus("blocked"));let t=setTimeout(()=>{e||"blocked"===n||r(g.hi.global.modals.setGlobalModalsShowStatus("ready"))},td);return()=>{clearTimeout(t)}},[e,i,n]),"ready"===n}function tg(e){let t=e[tp];return!!((0,v.ej)(tf)||t)}var t_=r(78532),tv=r.n(t_);function ty(e){let{children:t,layoutCustomization:r}=e,{route:n}=(0,m.useRouter)(),i=(0,eh.H)(),a=(0,g.CG)(e=>e.browser.pda),s=F(n),u=tb(r,s);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{id:"layout-root",className:h()("layout-root",tv().wrapper,{[tv().desktopLayout]:!a}),children:[a&&i&&(0,o.jsx)(b.t,{isPDA:a}),s&&(0,o.jsx)(ef.h4,{}),(0,o.jsx)("main",{className:tv().container,id:"main",role:"main","aria-labelledby":"pageTitle",children:(0,o.jsx)(M.zO,{isEnabledOnPage:u,isDesktop:!a,children:t})}),s&&(0,o.jsx)(ep,{})]}),s&&(0,o.jsx)(L,{}),s&&(0,o.jsx)(ew,{}),(0,o.jsx)(th,{isPageWithHeader:s,foundationUserState:e.foundationUserState,isRouterLoading:i,clientHost:e.clientHost})]})}function tb(e,t){if(e.isLayoutThirdPartySourcesDisabled)return!1;if("enabledIfPageWithHeader"===e.helpDeskWidgetMode)return t;if("enabled"===e.helpDeskWidgetMode);else if("disabled"===e.helpDeskWidgetMode)return!1;return!0}function tx(e){let t=(0,v.ej)("SID")||"";e(g.hi.foundationUser.setUserSID({SID:t})),e(g.hi.browser.setHeader(["Session-Id",t]))}function tS(){v.Ym&&"yFNR4B9wSA1oTx0G9oJO6"!==window.BUILD_ID&&(window.BUILD_ID="yFNR4B9wSA1oTx0G9oJO6")}var tw=e=>{var t,r;let n={helpDeskWidgetMode:(null===(t=e.layoutCustomizationPageProps)||void 0===t?void 0:t.helpDeskWidgetMode)||"enabledIfPageWithHeader",isLayoutThirdPartySourcesDisabled:(null===(r=e.layoutCustomizationPageProps)||void 0===r?void 0:r.isLayoutThirdPartySourcesDisabled)||!1},i=(0,g.TL)(),a=(0,g.CG)(e=>e.foundationUser),s=(0,m.useRouter)(),l=(0,g.CG)(e=>e.browser).headers["client-host"],{i18n:c}=(0,u.$G)();tS(),ek(),(0,_.v)(),ev(),ey(),ex(),(0,y.qR)(()=>{tx(i)}),(0,w.useFirstRefreshPageAfterAuth)(s.asPath),(0,k.W8)(s.query["otp-cascade-key"]||void 0);let d=!n.isLayoutThirdPartySourcesDisabled;return(0,o.jsxs)(x.J,{lang:c.language,linkComponent:S.I,children:[d&&(0,o.jsx)(U.w,{foundationUser:a,clientHost:l}),(0,o.jsx)(ty,{layoutCustomization:n,foundationUserState:a,clientHost:l,children:e.children}),(0,o.jsx)(D,{}),(0,o.jsx)(T,{}),(0,o.jsx)(p(),{id:"meta-all",type:"application/ld+json",children:'{\n          "@context": "https://schema.org",\n          "@type": "Organization",\n          "name": "ЛитРес",\n          "url": "https://www.litres.ru/",\n          "logo": "https://litres.ru/static/litres/favicon.svg",\n          "sameAs": [\n            "https://vk.com/mylitres",\n            "https://www.youtube.com/@MyBookbyLitres",\n            "https://ok.ru/litres",\n            "https://dzen.ru/litres",\n            "https://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D1%82%D0%A0%D0%B5%D1%81",\n            "https://www.wikidata.org/wiki/Q4263534"\n            ]\n          }'}),(0,o.jsx)(p(),{id:"is-next-flag",children:"\n          window.__IS_NEXT__ = true;\n        "})]})};let tk=e=>{let t=(0,m.useRouter)();return(0,a.useMemo)(()=>e.every(e=>e in t.query),[t.query,e])};var tE=r(97439),tC=r(70608),tT=r(18849),tj=r.n(tT);let tA=()=>{var e;let{t}=(0,u.$G)(),{query:r}=(0,m.useRouter)(),n=(0,g.TL)(),i=r.bookSlug||"",s=(0,tC.FM)(i),{data:l}=g.qL.useGetArtDataQuery({artIdOrSlug:null!=s?s:0},{skip:!s});(0,a.useEffect)(()=>{let e=(0,v.ej)("SID")||"";n(g.hi.foundationUser.setUserSID({SID:e})),n(g.hi.browser.setHeader(["Session-Id",e])),n(g.r7.endpoints.getUserDataForSSR.initiate(e))},[]);let c=(0,g.CG)(e=>e.foundationUser),d=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","advcake_params","advcake_method","sub1","sub2","sub3","sub4","sub5","keyword","erid","m","lfrom"],p=Object.keys(r).filter(e=>d.includes(e)).map(e=>"".concat(e,"=").concat(encodeURIComponent(r[e]))).join("&"),f=null!==(e=null==l?void 0:l.url)&&void 0!==e?e:"";p&&(f+="?".concat(p));let h="".concat(f).concat(c.id?"#".concat(tE.pi.buy_now_reg):"");return(0,o.jsxs)("div",{className:tj().fragmentEnd,children:[(0,o.jsxs)("p",{className:tj().fragmentEnd__text,children:[t("Конец ознакомительного фрагмента книги")," \xab",null==l?void 0:l.title,"\xbb"]}),(0,o.jsx)(q.z,{size:"medium",mode:"primary",text:t("Купить книгу, чтобы продолжить чтение"),href:h,targetBlank:!0})]})};var tR=r(58117),tO=r(15381);let tP=(e,t)=>{let r=new URLSearchParams(window.location.search);return{lfromValue:r.get(e),pinValue:r.get(t)}},tL=()=>{let e=new URLSearchParams(window.location.search);return!!e.get("ref_key")&&!!e.get("ref_offer")},tI=v.Ym&&(window!=window.top||document!=top.document||self.location!=top.location),tN=()=>{try{return decodeURIComponent((0,v.ej)("TMPLFROMPIN")||"")}catch(e){return""}},tF=E.uc.feature("ReferalsCollector"),tD=1230876614,tM=1238439708,tU=["email_invoicemail","link_0006","email_loginnotice","email_newpassrequest","email_registrmail","email_newpass","email_successmerge","email_merge","link_0001","email_abonement_welcomemassage","email_abonement_renewalsucsess","email_abonement_renewal","email_librarycard","link_0002"],tq=()=>{let[e]=g.Df.useAddUserReferralMutation(),[t]=g.Df.useLazyGetReferrerPayDaysQuery(),[r]=g.Df.useRegisterFirstLfromVisitMutation(),n=(0,tO.t)(),i=(0,m.useRouter)();(0,a.useEffect)(()=>{(0,v.kT)("lfrom_csrt"),!v.Ym||tI||tL()?((0,v.kT)("TMPLF"),(0,v.kT)("TMPLFROMPIN")):u()},[]);let o=()=>{(0,v.d8)("lfrom_csrt","true")};(0,a.useEffect)(()=>(i.events.on("routeChangeComplete",o),()=>{i.events.off("routeChangeComplete",o)}),[i]);let s=()=>{let{query:e}=i,t={...e};if(t.lfrom){var n,o;r({referral_id:Number(null!==(n=t.lfrom)&&void 0!==n?n:0)}),t.lfrom_processed=null!==(o=t.lfrom)&&void 0!==o?o:"",delete t.lfrom}t.pin&&delete t.pin,JSON.stringify(e)!==JSON.stringify(t)&&i.replace({pathname:i.pathname,query:t,hash:window.location.hash},void 0,{shallow:!0})},u=()=>{let{lfromValue:e,pinValue:t}=tP("lfrom","pin"),i=new URLSearchParams(window.location.search),o=i.get("utm_source"),a=i.get("lfrom_processed"),u=(0,v.ej)("TMPLF"),d=(0,v.ej)("TMPLF2"),p=(0,v.ej)("LFROM")||(0,v.ej)("lfrom"),f=tN();if(e)(e!==u||e!==d||e!==p)&&((0,v.d8)("TMPLF",e,{expires:tB(5)}),(0,v.kT)("TMPLF2"),(0,v.kT)("LFROM",".litres.ru"),(0,v.kT)("lfrom",".litres.ru"),(0,v.kT)("LFROMPIN",".litres.ru"),(0,v.kT)("lfrompin",".litres.ru"),(0,v.d8)("TMPLF2",e,{expires:tB(20)})),t&&t!==f?((0,v.d8)("TMPLFROMPIN",t,{expires:tB(20)}),(0,v.kT)("LFROMPIN",".litres.ru")):!t&&f&&(0,v.kT)("TMPLFROMPIN"),setTimeout(s,100);else if(o&&!a||o&&!(u||d||e||p)){n?l():c();return}else if(!d||p||n){if(u&&!d&&((0,v.d8)("TMPLF2",u,{expires:tB(20)}),(0,v.ej)("LFROM_PROCESSED"))){var h;let e=null!==(h=(0,v.ej)("LFROM_PROCESSED"))&&void 0!==h?h:0,t=new URLSearchParams(window.location.search);t.set("lfrom_processed",e.toString()),r({referral_id:Number(e)});let n=t.toString(),i=window.location.pathname+(n?"?".concat(decodeURIComponent(n)):"");window.history.replaceState(null,null,i)}!d||p||n||c()}else c();n&&l()},l=()=>{let t=new URLSearchParams(window.location.search),r=t.get("utm_source"),n=t.get("lfrom"),i=(0,v.ej)("TMPLF2")||(0,v.ej)("LFROM"),o=(0,v.ej)("TMPLF2")||(0,v.ej)("LFROM")||(0,v.ej)("lfrom"),a=i||o||n,u=tN()||(0,v.ej)("LFROMPIN")||(0,v.ej)("lfromPin"),l=[];a?l.push(e({referral_id:Number(a),...u?{referral_pin:decodeURIComponent(u)}:{}})):!r||(["advcake","admitad"].includes(r)?l.push(e({referral_id:tD})):tU.includes(r)||t.get("lfrom_processed")||l.push(e({referral_id:tM}))),l.length>0&&Promise.all(l).catch(()=>null).finally(()=>{["TMPLF","LFROM_PROCESSED","TMPLF2","TMPLFROMPIN"].forEach(e=>{(0,v.kT)(e)}),["LFROM","lfrom","LFROMPIN","lfrompin"].forEach(e=>{(0,v.kT)(e,".litres.ru")}),setTimeout(s,100)})},c=async()=>{let e=(0,v.ej)("TMPLF2"),r=(0,v.ej)("TMPLFROMPIN"),n=new URLSearchParams(window.location.search),i=n.get("utm_source"),o=n.get("lfrom"),a=n.get("lfrom_processed");if(!o&&!a&&i&&!tU.includes(i)){if((0,v.kT)("TMPLF"),(0,v.kT)("TMPLF2"),(0,v.kT)("TMPLFROMPIN"),(0,v.kT)("LFROM",".litres.ru"),(0,v.kT)("lfrom",".litres.ru"),(0,v.kT)("LFROMPIN",".litres.ru"),(0,v.kT)("lfrompin",".litres.ru"),["advcake","admitad"].includes(i)){(0,v.d8)("LFROM",tD.toString(),{expires:tB(43200)});return}(0,v.d8)("LFROM",tM.toString(),{expires:tB(43200)});return}if(e){let n=await t({referrer_id:Number(e)}).unwrap().then(e=>((0,v.kT)("TMPLF"),(0,v.kT)("TMPLF2"),(0,v.kT)("TMPLFROMPIN"),s(),e)).catch(e=>(tF("FrontendLogicError","Error during saving referral data",e).emit(),null)).finally(()=>{(0,v.kT)("TMPLF"),(0,v.kT)("TMPLF2"),(0,v.kT)("TMPLFROMPIN"),(0,v.kT)("LFROM",".litres.ru"),(0,v.kT)("lfrom",".litres.ru"),(0,v.kT)("LFROMPIN",".litres.ru"),(0,v.kT)("lfrompin",".litres.ru"),s()});n&&((0,v.d8)("LFROM",e,{expires:tB(1440*n)}),r&&(0,v.d8)("LFROMPIN",decodeURIComponent(r),{expires:tB(1440*n)}))}};return null},tB=e=>{let t=new Date;return t.setTime(t.getTime()+6e4*e),t.toUTCString()};var tz=r(34270),tG=r(78265);let tW=E.uc.feature("PromocodeActivationByQueryParam");var t$=r(96849),tH=r.n(t$);let tV=()=>{var e,t;let r=(0,m.useRouter)(),[,{redeemPromocode:n}]=(0,tG.z)(),[i,s]=(0,a.useState)(null),u=(e,t)=>{s({type:e,message:t})};return((0,a.useEffect)(()=>{let e=(0,v.ej)("firstPageUpdateAfterPromocodeActivation");e&&("1"===e?u("success","Промокод успешно применен"):"0"===e&&u("error","Промокод недоступен"),(0,v.kT)("firstPageUpdateAfterPromocodeActivation"))},[]),(0,a.useEffect)(()=>{var e,t;if(r.pathname.includes("/landing/")||(null===(e=r.query)||void 0===e?void 0:e.lfrom))return;let i=null===(t=r.query)||void 0===t?void 0:t.promocode;i&&n({promocode:i}).then(()=>{(0,tR.Ow)(r,["promocode"]).then(()=>{(0,v.d8)("firstPageUpdateAfterPromocodeActivation","1",{expires:0}),window.location.reload()})}).catch(e=>{tW("BackendInteractionError","Promocode activation by query parameter failed",{originalError:e}).emit(),(0,v.d8)("firstPageUpdateAfterPromocodeActivation","0",{expires:0}),(0,tR.Ow)(r,["promocode"]).then(()=>{window.location.reload()})})},[null===(e=r.query)||void 0===e?void 0:e.promocode,null===(t=r.query)||void 0===t?void 0:t.lfrom,r.pathname]),i)?(0,o.jsx)(tz.P,{time:1e4,isOpen:!0,className:tH().promocodeActivationAfter,mode:i.type,title:i.message,message:"",showIcon:!0,verticalAlign:"top",horizontalAlign:"right"}):null};function tZ(e){let{error:t,resetErrorBoundary:r}=e;return(0,o.jsxs)("div",{role:"alert",children:[(0,o.jsx)("p",{children:"Something went wrong:"}),(0,o.jsx)("pre",{style:{color:"red"},children:t.message}),(0,o.jsx)("pre",{style:{color:"red"},children:t.stack}),(0,o.jsx)("pre",{style:{color:"red"},children:String(t.cause)}),(0,o.jsx)("button",{type:"button",onClick:r,children:"Reset"})]})}var tK=r(39490);let tJ=()=>{let e=(0,g.TL)(),t=(0,eh.H)();return(0,a.useEffect)(()=>{t&&e(g.hi.global.interfaceRequests.setLoginPopupError({isOpen:!1}))},[e,t]),null};var tQ=function(){return(tQ=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},tX=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())})},tY=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},t0=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},t1="__NEXT_REDUX_WRAPPER_HYDRATE__",t2=function(){return"undefined"==typeof window},t5=function(e,t){var r=(void 0===t?{}:t).deserializeState;return r?r(e):e},t4=function(e,t){var r=(void 0===t?{}:t).serializeState;return r?r(e):e},t3=function(e){var t,r,i,o=e.makeStore,a=e.context,s=void 0===a?{}:a,u=function(){return o(s)};if(t2()){var l=(null===(t=s)||void 0===t?void 0:t.req)||(null===(i=null===(r=s)||void 0===r?void 0:r.ctx)||void 0===i?void 0:i.req);return l?(l.__nextReduxWrapperStore||(l.__nextReduxWrapperStore=u()),l.__nextReduxWrapperStore):u()}return n||(n=u()),n};let t8=function(e,t){void 0===t&&(t={});var r=function(r){var n=r.callback,i=r.context,o=r.addStoreToContext,a=void 0!==o&&o;return tX(void 0,void 0,void 0,function(){var r,o,s,u,l;return tY(this,function(c){switch(c.label){case 0:if(r=t3({context:i,makeStore:e}),t.debug&&console.log("1. getProps created store with state",r.getState()),a&&(i.ctx?i.ctx.store=r:i.store=r),!(u=o=n&&n(r)))return[3,2];return[4,o(i)];case 1:u=c.sent(),c.label=2;case 2:return s=u||{},t.debug&&console.log("3. getProps after dispatches has store state",r.getState()),l=r.getState(),[2,{initialProps:s,initialState:t2()?t4(l,t):l}]}})})},n=function(e){return function(t){return tX(void 0,void 0,void 0,function(){var n,i,o;return tY(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t})];case 1:return i=(n=a.sent()).initialProps,o=n.initialState,[2,tQ(tQ({},i),{props:tQ(tQ({},i.props),{initialState:o})})]}})})}},i=function(e,r){r&&e.dispatch({type:t1,payload:t5(r,t)})},o=function(e,t,r,n,o){var a;r?(i(e,t),i(e,r)):(n||o||t)&&i(e,null!==(a=null!=n?n:o)&&void 0!==a?a:t)},u=function(e,t,r,n,i){var s=(0,m.useRouter)().events,u=(0,a.useRef)(!0);(0,a.useEffect)(function(){var e=function(){u.current=!0};return null==s||s.on("routeChangeStart",e),function(){null==s||s.off("routeChangeStart",e)}},[s]),(0,a.useMemo)(function(){u.current&&(o(e,t,r,n,i),u.current=!1)},[e,t,r,n,i])},l=function(r,n){void 0===n&&(n="useWrappedStore");var i,o,s,l,c,d,p=r.initialState,f=r.initialProps,h=t0(r,["initialState","initialProps"]),m=(null==h?void 0:h.__N_SSG)?null===(i=null==h?void 0:h.pageProps)||void 0===i?void 0:i.initialState:null,g=(null==h?void 0:h.__N_SSP)?null===(o=null==h?void 0:h.pageProps)||void 0===o?void 0:o.initialState:null,_=m||g?null:null!==(l=null===(s=null==h?void 0:h.pageProps)||void 0===s?void 0:s.initialState)&&void 0!==l?l:null;t.debug&&console.log("4.",n,"created new store with",{giapState:p,gspState:m,gsspState:g,gippState:_});var v=(0,a.useMemo)(function(){return t3({makeStore:e})},[]);u(v,p,m,g,_);var y=h;return f&&f.pageProps&&(y.pageProps=tQ(tQ({},f.pageProps),h.pageProps)),(null===(c=null==h?void 0:h.pageProps)||void 0===c?void 0:c.initialState)&&(y=tQ(tQ({},h),{pageProps:tQ({},h.pageProps)}),delete y.pageProps.initialState),(null===(d=null==y?void 0:y.pageProps)||void 0===d?void 0:d.initialProps)&&(y.pageProps=tQ(tQ({},y.pageProps),y.pageProps.initialProps),delete y.pageProps.initialProps),{store:v,props:tQ(tQ({},f),y)}};return{getServerSideProps:function(e){return function(t){return tX(void 0,void 0,void 0,function(){return tY(this,function(r){switch(r.label){case 0:return[4,n(e)(t)];case 1:return[2,r.sent()]}})})}},getStaticProps:n,getInitialAppProps:function(e){return function(t){return tX(void 0,void 0,void 0,function(){var n,i,o;return tY(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t,addStoreToContext:!0})];case 1:return i=(n=a.sent()).initialProps,o=n.initialState,[2,tQ(tQ({},i),{initialState:o})]}})})}},getInitialPageProps:function(e){return function(t){return tX(void 0,void 0,void 0,function(){return tY(this,function(n){switch(n.label){case 0:if("getState"in t)return[2,e&&e(t)];return[4,r({callback:e,context:t,addStoreToContext:!0})];case 1:return[2,n.sent()]}})})}},withRedux:function(e){console.warn("/!\\ You are using legacy implementation. Please update your code: use createWrapper() and wrapper.useWrappedStore().");var t=function(r){var n=l(r,t.displayName),i=n.store,o=n.props;return a.createElement(s.Provider,{store:i},a.createElement(e,tQ({},o)))};return t.displayName="withRedux(".concat(e.displayName||e.name||"Component",")"),"getInitialProps"in e&&(t.getInitialProps=e.getInitialProps),t},useWrappedStore:l}}(()=>(0,g.n)("Litres Store"),{debug:!1,serializeState:e=>JSON.stringify(e),deserializeState:e=>"string"==typeof e?JSON.parse(e):e});t8.getServerSideProps;let t6=e=>t8.useWrappedStore(e);var t9=r(21138),t7=r.n(t9),re=r(50249),rt=r(14698),rr=r.n(rt),rn=r(28259);let ri=Object.keys(R.lp),ro=["ru","az","uz","tr"];!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.DISABLE=1]="DISABLE",e[e.NEXT_ONLY=2]="NEXT_ONLY",e[e.CUSTOM=3]="CUSTOM"}(i||(i={}));let ra=e=>{let{asPath:t}=(0,m.useRouter)(),{url:r}=re.parseUrl(t),{alternate_urls:n}=e,i=(0,rn.J)(r,"x-default"),a=0;if("none"===n&&(a=1),rr()(n)&&(a=2),Array.isArray(n)){a=3;let e=n.find(e=>e.language===R.lp.ru);(null==e?void 0:e.url)&&(i=(0,rn.J)(e.url,R.lp.ru))}return 1===a?null:(0,o.jsxs)(t7(),{children:[0===a&&ri.map(e=>(0,o.jsx)("link",{rel:"alternate",href:(0,rn.J)(r,e),hreflang:e},e)),2===a&&ro.map(e=>(0,o.jsx)("link",{rel:"alternate",href:(0,rn.J)(r,e),hreflang:e},e)),3===a&&Array.isArray(n)&&n.map(e=>{let{url:t,language:r}=e;return(0,o.jsx)("link",{rel:"alternate",href:(0,rn.J)(t,r),hreflang:r},r)}),(0,o.jsx)("link",{rel:"alternate",href:i,hreflang:"x-default"},"x-default")]})};var rs=r(57785),ru=r(62940),rl=r.n(ru);function rc(e){console.log(e)}r(89347);let rd=e=>{let{Component:t,...r}=e,{store:n,props:i}=t6(r),a=tk(tR.Tx.OR3_LITE_PAGE);return i.router.pathname.includes("_error")?(0,o.jsx)(t,{...i.pageProps}):a?(0,o.jsx)(c.K,{children:(0,o.jsxs)(s.Provider,{store:n,children:[(0,o.jsx)(tq,{}),"/landing/[slug]"!==i.router.pathname&&(0,o.jsx)(rs.F,{}),(0,o.jsx)(tA,{})]})}):(0,o.jsx)(c.K,{children:(0,o.jsxs)(s.Provider,{store:n,children:[(0,o.jsx)(tK.q,{}),(0,o.jsx)(ra,{alternate_urls:r.pageProps.alternate_urls}),(0,o.jsx)("link",{rel:"manifest",href:"/static/manifest.json"}),(0,o.jsx)(tq,{}),"/landing/[slug]"!==i.router.pathname&&(0,o.jsx)(rs.F,{}),(0,o.jsx)(rp,{...e}),(0,o.jsx)(tV,{}),(0,o.jsx)(tJ,{})]})})};function rp(e){return tR.Il.shouldEnableDevOutput?(0,o.jsx)(l.SV,{FallbackComponent:tZ,children:(0,o.jsx)(rf,{...e})}):(0,o.jsx)(rf,{...e})}function rf(e){return(0,o.jsx)(tw,{layoutCustomizationPageProps:e.pageProps.layoutCustomization,children:(0,o.jsx)(e.Component,{...e.pageProps})})}var rh=(0,u.Jc)(rd,rl())},73758:function(e,t,r){"use strict";r.d(t,{GH:function(){return p},I$:function(){return c},QO:function(){return u},Sm:function(){return s},TM:function(){return a},er:function(){return l},wn:function(){return d}});var n=r(44731),i=r(59838),o=r(18370);let a=i.Ym&&window.TM?window.TM:n.UZ.getInstance(),s=e=>e.reduce((e,t)=>(e[t.id]=t.group,e),{}),u=(e,t)=>"number"==typeof e&&[o.lG.text,o.lG.pdf,o.lG.olesiejukAudio,o.lG.epub,o.lG.webtoon].includes(e)?t?"draft":"text":e===o.lG.audio?t?"audiodraft":"audio":"podcast",l=e=>e.is_active&&e.grace_period_start?"grace":e.is_active?"active":"inactive",c=e=>e.is_active&&e.grace_period_start?"grace":e.is_active?"active":"inactive",d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[e.labels.is_audio_series?"series":"",e.labels.is_litres_exclusive?"exclusive":"",e.labels.is_sales_hit?"hit":"",e.labels.is_new?"new":""].filter(e=>e);return t?r[0]||"":r.join(",")},p=(e,t)=>{a.sendEvent(["LITRES_TRACKER"],{eventType:"header_click",params:{name:e,ref_url:t}})}},9783:function(e,t,r){"use strict";r.d(t,{Ek:function(){return m},Ix:function(){return d},Jk:function(){return u},RP:function(){return s},XZ:function(){return f},jC:function(){return h},ks:function(){return l},m4:function(){return p},oG:function(){return c}});var n,i,o=r(51135),a=r.n(o);let s=86400,u=3600,l=60,c=60,d=24,p="www.litres.ru";null===(i=a()())||void 0===i||null===(n=i.publicRuntimeConfig)||void 0===n||n.yandexMetrikaId;let f="https://play.google.com/store/apps/details?id=litres.android.global",h="https://play.google.com/store/apps/details?id=ru.litres.android",m="https://apps.apple.com/app/id438441429"},52535:function(e,t,r){"use strict";var n,i,o,a;r.d(t,{gc:function(){return n},lp:function(){return o},nV:function(){return a}}),function(e){e.UILanguageCode="Ui-Language-Code",e.safemode="safemode",e.SID="SID",e.BSK="BSK",e.LKS="LKS",e.nextJournal="next_journal",e.redeemedPromocodeJWT="redeemed_promocode_jwt",e.cookieAgreement="cookie-agreement"}(n||(n={})),function(e){e.noRedirect="no_redirect",e.scope="scope",e.clientId="client_id",e.responseType="response_type",e.redirectUri="redirect_uri",e.state="state"}(i||(i={})),function(e){e.ru="ru",e.en="com",e.pl="pl",e.et="ee",e.de="de",e.az="az",e.uz="uz",e.tr="tr"}(o||(o={})),function(e){e.ARCHIVED="/my-books/archived/",e.CART="/my-books/cart/",e.CAMPAIGNS="/my-books/campaigns/",e.CLOUD="/my-books/cloud/",e.LIBRARY="/my-books/library/",e.LIKED="/my-books/liked/",e.PURCHASED="/my-books/purchased/",e.READ_AND_LISTEN="/my-books/read-and-listen/",e.FINISHED="/my-books/finished/",e.FOLDERS="/my-books/shelfs/",e.MY_AUTHORS="/my-books/my-authors/"}(a||(a={}))},52805:function(e,t,r){"use strict";r.d(t,{$4:function(){return _},Ar:function(){return A},EX:function(){return u},Hu:function(){return E},J3:function(){return T},Js:function(){return S},KI:function(){return h},P0:function(){return s},Qp:function(){return C},Z1:function(){return m},_3:function(){return a},aN:function(){return j},bj:function(){return c},cV:function(){return g},eh:function(){return k},fe:function(){return y},gv:function(){return l},jJ:function(){return w},lf:function(){return p},pD:function(){return b},qR:function(){return v},qm:function(){return f},u3:function(){return o},zC:function(){return x}});var n=r(9783),i=r(80930);let o=e=>{let t=new Date().getTime();if(!e)return t;try{return new Date(e).getTime()}catch(e){return t}},a=(e,t)=>{if(e)try{return new Date(e).toLocaleDateString(null!=t?t:"ru",{day:"numeric",month:"long"})}catch(e){}},s=e=>{let t=Math.floor(e/n.RP)*n.Ix+Math.floor(e/n.Jk%n.Ix),r=Math.floor(e/n.ks%n.oG),i=Math.floor(e%n.ks);return{hours:t<10?"0".concat(t):"".concat(t),minutes:r<10?"0".concat(r):"".concat(r),seconds:i<10?"0".concat(i):"".concat(i)}},u=(e,t)=>{let r=new Date(e).toLocaleDateString("ru-Ru",{year:"numeric",month:"long",day:"numeric"});return t?r:r.slice(0,-3)},l=e=>s((e-new Date().getTime())/1e3),c=e=>String(e).length<=5?String(e):new Intl.NumberFormat("ru-RU").format(e),d=e=>e?"https://"+window.location.host:"https://"+i.m4,p=e=>"https://www.litres.ru/get_mp3_trial/".concat(e,".mp3"),f=(e,t,r,n,i)=>{let o="download_book"+(i?"_subscr":"");return"".concat(d(n),"/").concat(o,"/").concat(e,"/").concat(t,"/").concat(r)},h=(e,t,r,n,i)=>"".concat(d(i),"/download_book/").concat(e,"/").concat(t,"/").concat(r,".").concat(n),m=(e,t,r,n)=>"".concat(d(n),"/download_book/").concat(e,"/").concat(t,"/").concat(r,".pdf"),g=(e,t,r,n)=>"".concat(d(n),"/download_book/").concat(e,"/").concat(t,"/").concat(r,".epub"),_=(e,t,r,n)=>"".concat(d(n),"/download_book/").concat(e,"/").concat(t,"/").concat(r);function v(e){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}let y=e=>{switch(e){case 0:case 4:case 24:return"text_book";case 1:return"audio_book";case 22:return"podcast";default:return"unknown art type"}},b=e=>{switch(e){case"litres.eu":case"m.litres.eu":case"litres.com":return"en-US";case"litres.az":return"az-AZ";case"litres.uz":return"uz-UZ";case"litres-tr.com":return"tr-TR";case"litres.pl":return"pl-PL";case"litres.de":return"de-DE";case"litres.ee":return"et-EE";case"litres.es":case"m.litres.es":return"es-ES";default:return"ru-RU"}},x=e=>{switch(e){case"litres.com":return"USD";case"litres.az":return"AZN";case"litres.uz":return"UZS";case"litres.pl":return"PLN";case"litres.es":case"m.litres.es":case"litres.de":case"litres.ee":case"litres.eu":case"m.litres.eu":return"EUR";case"litres-tr.com":return"TRY";default:return"RUB"}},S=e=>{let{firstName:t,lastName:r,middleName:n}=e;return[t,r,n].filter(Boolean).join(" ")||null},w=e=>!!e.match(/((\/book\/)|(\/audiobook\/))|(\/podcast\/)/),k=e=>(null==e?void 0:e.charAt(0))==="/"?"".concat(i._n).concat(e):"".concat(i._n,"/").concat(e||""),E=(e,t)=>{if(!e)return e;let r=new URL(e,"https://litres.ru"),n=r.searchParams;return t&&(Array.isArray(t)?t.forEach(e=>{n.delete(e)}):n.delete(t)),r.pathname+(n.toString()?"?".concat(n.toString()):"")},C=e=>e===n.m4,T=e=>e?e.map(e=>e.id).join(","):e,j=e=>e?e.map(e=>e.is_advertising?"1":"0").join(","):"",A=e=>{let t=e&&e.match(/https?:\/\/(www\.)?([a-z]*)\.?litres\.[a-z]{2,3}\/(book|audiobook|podcast|webtoon)\/(.*)\/(.*)-(\d+)\//);return t&&t[6]||null}},58117:function(e,t,r){"use strict";r.d(t,{Ae:function(){return a},Ie:function(){return u},Il:function(){return o},LM:function(){return s},Ow:function(){return l},Tx:function(){return i}});var n=r(59838);let i={ACCEPT_DISCOUNT_FROM_REFERRAL:["lfrom","ref_key","ref_offer"],REFERRAL_UNREG:["lfrom","ref_key","ref_offer"],OR3_LITE_PAGE:["or3","lite"],ENABLE_DEV_OUTPUT:"enable_dev_output"},o={shouldEnableDevOutput:!!n.Ym&&!!new URLSearchParams(window.location.search).get(i.ENABLE_DEV_OUTPUT)},a=e=>e.split(/\/|\?|,/)[0],s=(e,t)=>Object.fromEntries(Object.entries(e).filter(e=>{let[r,n]=e;return(!t||t.includes(r))&&!!n}).map(e=>{let[t,r]=e;return"string"==typeof r&&(r=a(r)),""===r&&(r=[]),[t,r]})),u=(e,t)=>Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return!t.includes(r)})),l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{query:n}=e,i={...n};return t.forEach(e=>delete i[e]),e.replace({query:i,hash:r?window.location.hash:void 0},void 0,{shallow:!0})}},80930:function(e,t,r){"use strict";r.d(t,{HU:function(){return u},Uq:function(){return a},Z$:function(){return s},_n:function(){return i},m4:function(){return o}});var n=r(61794);let i="https://www.litres.ru",o="litres.ru",a="".concat(i,"/static/litres/favicon.svg"),s="biblio.litres.ru",u=()=>{let e=(0,n.CG)(e=>e.browser.headers["client-host"]);switch(e){case"litres.uz":case"litres.az":case"litres-tr.com":case"litres.eu":case"m.litres.eu":case"litres.com":case"litres.pl":case"litres.de":case"litres.ee":case"litres.es":case"m.litres.es":return"https://".concat(e);default:return i}}},224:function(e,t,r){"use strict";let n,i,o,a,s,u,l,c,d,p,f,h;var m=r(1053),g=r(39242),_=r(51526),v=r(37827),y=r(13836),b=r(30451),x=r(6036),S=r(82771),w=r(56142),k=r(49601),E=r(36739);let C=E.GLOBAL_OBJ;function T(){if(!("fetch"in C))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function j(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function A(){if("string"==typeof EdgeRuntime)return!0;if(!T())return!1;if(j(C.fetch))return!0;let e=!1,t=C.document;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=j(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){k.X&&w.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}var R=r(25223),O=r(29806);let P=E.GLOBAL_OBJ;function L(){let e=P.chrome,t=e&&e.app&&e.app.runtime,r="history"in P&&!!P.history.pushState&&!!P.history.replaceState;return!t&&r}var I=r(45525);let N=E.GLOBAL_OBJ;function F(e){let t="history";(0,O.Hj)(t,e),(0,O.D2)(t,D)}function D(){if(!L())return;let e=N.onpopstate;function t(e){return function(...t){let r=t.length>2?t[2]:void 0;if(r){let e=n,t=String(r);n=t;let i={from:e,to:t};(0,O.rK)("history",i)}return e.apply(this,t)}}N.onpopstate=function(...t){let r=N.location.href,i=n;n=r;let o={from:i,to:r};if((0,O.rK)("history",o),e)try{return e.apply(this,t)}catch(e){}},(0,I.hl)(N.history,"pushState",t),(0,I.hl)(N.history,"replaceState",t)}var M=r(42961);function U(){return"npm"}var q=r(99983),B=r(27629);function z(e,t,r){let n=[{type:"client_report"},{timestamp:r||(0,B.yW)(),discarded_events:e}];return(0,q.Jd)(t?{dsn:t}:{},[n])}var G=r(42e3);let W=!1;var $=r(38274),H=r(67186),V=r(53986),Z=r(81079),K=r(49879);function J(e,t){let r=Y(e,t),n={type:t&&t.name,value:en(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Q(e,t,r,n){let i=(0,$.s3)(),o=i&&i.getOptions().normalizeDepth,a=ec(t),s={__serialized__:(0,H.Qy)(t,o)};if(a)return{exception:{values:[J(e,a)]},extra:s};let u={exception:{values:[{type:(0,V.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:eu(t,{isUnhandledRejection:n})}]},extra:s};if(r){let t=Y(e,r);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}function X(e,t){return{exception:{values:[J(e,t)]}}}function Y(e,t){let r=t.stacktrace||t.stack||"",n=et(t),i=er(t);try{return e(r,n,i)}catch(e){}return[]}let ee=/Minified React error #\d+;/i;function et(e){return e&&ee.test(e.message)?1:0}function er(e){return"number"==typeof e.framesToPop?e.framesToPop:0}function en(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ei(e,t,r,n){let i=ea(e,t,r&&r.syntheticException||void 0,n);return(0,Z.EG)(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),(0,K.WD)(i)}function eo(e,t,r="info",n,i){let o=es(e,t,n&&n.syntheticException||void 0,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),(0,K.WD)(o)}function ea(e,t,r,n,i){let o;if((0,V.VW)(t)&&t.error)return X(e,t.error);if((0,V.TX)(t)||(0,V.fm)(t)){let i=t;if("stack"in t)o=X(e,t);else{let t=i.name||((0,V.TX)(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=es(e,a,r,n),(0,Z.Db)(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return(0,V.VZ)(t)?X(e,t):((0,V.PO)(t)||(0,V.cO)(t)?o=Q(e,t,r,i):(o=es(e,t,r,n),(0,Z.Db)(o,`${t}`,void 0)),(0,Z.EG)(o,{synthetic:!0}),o)}function es(e,t,r,n){let i={};if(n&&r){let n=Y(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]})}if((0,V.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return i.logentry={message:e,params:r},i}return i.message=t,i}function eu(e,{isUnhandledRejection:t}){let r=(0,I.zf)(e),n=t?"promise rejection":"exception";if((0,V.VW)(e))return`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``;if((0,V.cO)(e)){let t=el(e);return`Event \`${t}\` (type=${e.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}function el(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}function ec(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}let ed=E.GLOBAL_OBJ,ep=0;function ef(){return ep>0}function eh(){ep++,setTimeout(()=>{ep--})}function em(e,t={},r){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)return t;if((0,I.HK)(e))return e}catch(t){return e}let n=function(){let n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);let i=n.map(e=>em(e,t));return e.apply(this,i)}catch(e){throw eh(),(0,$.$e)(r=>{r.addEventProcessor(e=>(t.mechanism&&((0,Z.Db)(e,void 0,void 0),(0,Z.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),(0,g.Tb)(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}(0,I.$Q)(n,e),(0,I.xp)(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}function eg(e,{metadata:t,tunnel:r,dsn:n}){let i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:(0,G.RA)(n)}},o=e_(e);return(0,q.Jd)(i,[o])}function e_(e){return[{type:"user_report"},e]}class ev extends M.W{constructor(e){let t={parentSpanIsAlwaysRootSpan:!0,...e},r=ed.SENTRY_SDK_SOURCE||U();(0,m.V)(t,"browser",["browser"],r),super(t),t.sendClientReports&&ed.document&&ed.document.addEventListener("visibilitychange",()=>{"hidden"===ed.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return ei(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return eo(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){W&&w.kg.warn("SDK not enabled, will not capture user feedback.");return}let t=eg(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){let e=this._clearOutcomes();if(0===e.length){W&&w.kg.log("No outcomes to send");return}if(!this._dsn){W&&w.kg.log("No dsn provided, will not send outcomes");return}W&&w.kg.log("Sending outcomes:",e);let t=z(e,this._options.tunnel&&(0,G.RA)(this._dsn));this.sendEnvelope(t)}}let ey=1e3;function eb(e){let t="dom";(0,O.Hj)(t,e),(0,O.D2)(t,ex)}function ex(){if(!N.document)return;let e=O.rK.bind(null,"dom"),t=ek(e,!0);N.document.addEventListener("click",t,!1),N.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let r=N[t]&&N[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,I.hl)(r,"addEventListener",function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{let n=this,o=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},a=o[r]=o[r]||{refCount:0};if(!a.handler){let n=ek(e);a.handler=n,t.call(this,r,n,i)}a.refCount++}catch(e){}return t.call(this,r,n,i)}}),(0,I.hl)(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{let r=this,i=r.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,n),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete r.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}function eS(e){if(e.type!==o)return!1;try{if(!e.target||e.target._sentryId!==a)return!1}catch(e){}return!0}function ew(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}function ek(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=eE(r);if(ew(r.type,n))return;(0,I.xp)(r,"_sentryCaptured",!0),n&&!n._sentryId&&(0,I.xp)(n,"_sentryId",(0,Z.DM)());let s="keypress"===r.type?"input":r.type;eS(r)||(e({event:r,name:s,global:t}),o=r.type,a=n?n._sentryId:void 0),clearTimeout(i),i=N.setTimeout(()=>{a=void 0,o=void 0},ey)}}function eE(e){try{return e.target}catch(e){return null}}let eC="__sentry_xhr_v3__";function eT(e){let t="xhr";(0,O.Hj)(t,e),(0,O.D2)(t,ej)}function ej(){if(!N.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;(0,I.hl)(e,"open",function(e){return function(...t){let r=1e3*(0,B.ph)(),n=(0,V.HD)(t[0])?t[0].toUpperCase():void 0,i=eA(t[1]);if(!n||!i)return e.apply(this,t);this[eC]={method:n,url:i,request_headers:{}},"POST"===n&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let o=()=>{let e=this[eC];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}let t={endTimestamp:1e3*(0,B.ph)(),startTimestamp:r,xhr:this};(0,O.rK)("xhr",t)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,I.hl)(this,"onreadystatechange",function(e){return function(...t){return o(),e.apply(this,t)}}):this.addEventListener("readystatechange",o),(0,I.hl)(this,"setRequestHeader",function(e){return function(...t){let[r,n]=t,i=this[eC];return i&&(0,V.HD)(r)&&(0,V.HD)(n)&&(i.request_headers[r.toLowerCase()]=n),e.apply(this,t)}}),e.apply(this,t)}}),(0,I.hl)(e,"send",function(e){return function(...t){let r=this[eC];if(!r)return e.apply(this,t);void 0!==t[0]&&(r.body=t[0]);let n={startTimestamp:1e3*(0,B.ph)(),xhr:this};return(0,O.rK)("xhr",n),e.apply(this,t)}})}function eA(e){if((0,V.HD)(e))return e;try{return e.toString()}catch(e){}}var eR=r(19406),eO=r(80370);function eP(e){let t="fetch";(0,O.Hj)(t,e),(0,O.D2)(t,eL)}function eL(){A()&&(0,I.hl)(E.GLOBAL_OBJ,"fetch",function(e){return function(...t){let{method:r,url:n}=eF(t),i={args:t,fetchData:{method:r,url:n},startTimestamp:1e3*(0,B.ph)()};(0,O.rK)("fetch",{...i});let o=Error().stack;return e.apply(E.GLOBAL_OBJ,t).then(e=>{let t={...i,endTimestamp:1e3*(0,B.ph)(),response:e};return(0,O.rK)("fetch",t),e},e=>{let t={...i,endTimestamp:1e3*(0,B.ph)(),error:e};throw(0,O.rK)("fetch",t),(0,V.VZ)(e)&&void 0===e.stack&&(e.stack=o,(0,I.xp)(e,"framesToPop",1)),e})}})}function eI(e,t){return!!e&&"object"==typeof e&&!!e[t]}function eN(e){return"string"==typeof e?e:e?eI(e,"url")?e.url:e.toString?e.toString():"":""}function eF(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,r]=e;return{url:eN(t),method:eI(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:eN(t),method:eI(t,"method")?String(t.method).toUpperCase():"GET"}}var eD=r(15048),eM=r(21778),eU=r(38794),eq=r(9314);let eB=1024,ez="Breadcrumbs",eG=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ez,setup(e){t.console&&(0,eO.e)(eV(e)),t.dom&&eb(eH(e,t.dom)),t.xhr&&eT(eZ(e)),t.fetch&&eP(eK(e)),t.history&&F(eJ(e)),t.sentry&&e.on("beforeSendEvent",e$(e))}}},eW=(0,x._I)(eG);function e$(e){return function(t){(0,$.s3)()===e&&(0,eR.n)({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,Z.jH)(t)},{event:t})}}function eH(e,t){return function(r){let n,i;if((0,$.s3)()!==e)return;let o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>eB&&(W&&w.kg.warn(`\`dom.maxStringLength\` cannot exceed ${eB}, but a value of ${a} was configured. Sentry will use ${eB} instead.`),a=eB),"string"==typeof o&&(o=[o]);try{let e=r.event,t=eQ(e)?e.target:e;n=(0,eD.Rt)(t,{keyAttrs:o,maxStringLength:a}),i=(0,eD.iY)(t)}catch(e){n="<unknown>"}if(0===n.length)return;let s={category:`ui.${r.name}`,message:n};i&&(s.data={"ui.component_name":i}),(0,eR.n)(s,{event:r.event,name:r.name,global:r.global})}}function eV(e){return function(t){if((0,$.s3)()!==e)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:(0,eM.V)(t.level),message:(0,eU.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${(0,eU.nK)(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}(0,eR.n)(r,{input:t.args,level:t.level})}}function eZ(e){return function(t){if((0,$.s3)()!==e)return;let{startTimestamp:r,endTimestamp:n}=t,i=t.xhr[eC];if(!r||!n||!i)return;let{method:o,url:a,status_code:s,body:u}=i,l={method:o,url:a,status_code:s},c={xhr:t.xhr,input:u,startTimestamp:r,endTimestamp:n};(0,eR.n)({category:"xhr",data:l,type:"http"},c)}}function eK(e){return function(t){if((0,$.s3)()!==e)return;let{startTimestamp:r,endTimestamp:n}=t;if(!(!n||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error){let e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:r,endTimestamp:n};(0,eR.n)({category:"fetch",data:e,level:"error",type:"http"},i)}else{let e=t.response,i={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:r,endTimestamp:n};(0,eR.n)({category:"fetch",data:i,type:"http"},o)}}}}function eJ(e){return function(t){if((0,$.s3)()!==e)return;let r=t.from,n=t.to,i=(0,eq.en)(ed.location.href),o=r?(0,eq.en)(r):void 0,a=(0,eq.en)(n);o&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),(0,eR.n)({category:"navigation",data:{from:r,to:n}})}}function eQ(e){return!!e&&!!e.target}let eX=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],eY="BrowserApiErrors",e0=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:eY,setupOnce(){t.setTimeout&&(0,I.hl)(ed,"setTimeout",e2),t.setInterval&&(0,I.hl)(ed,"setInterval",e2),t.requestAnimationFrame&&(0,I.hl)(ed,"requestAnimationFrame",e5),t.XMLHttpRequest&&"XMLHttpRequest"in ed&&(0,I.hl)(XMLHttpRequest.prototype,"send",e4);let e=t.eventTarget;e&&(Array.isArray(e)?e:eX).forEach(e3)}}},e1=(0,x._I)(e0);function e2(e){return function(...t){let r=t[0];return t[0]=em(r,{mechanism:{data:{function:(0,R.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function e5(e){return function(t){return e.apply(this,[em(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,R.$P)(e)},handled:!1,type:"instrument"}})])}}function e4(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in r&&"function"==typeof r[e]&&(0,I.hl)(r,e,function(t){let r={mechanism:{data:{function:e,handler:(0,R.$P)(t)},handled:!1,type:"instrument"}},n=(0,I.HK)(t);return n&&(r.mechanism.data.handler=(0,R.$P)(n)),em(t,r)})}),e.apply(this,t)}}function e3(e){let t=ed,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,I.hl)(r,"addEventListener",function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=em(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,R.$P)(n),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[r,em(n,{mechanism:{data:{function:"addEventListener",handler:(0,R.$P)(n),target:e},handled:!1,type:"instrument"}}),i])}}),(0,I.hl)(r,"removeEventListener",function(e){return function(t,r,n){let i=r;try{let r=i&&i.__sentry_wrapped__;r&&e.call(this,t,r,n)}catch(e){}return e.call(this,t,i,n)}}))}var e8=r(38398),e6=r(41825);let e9="GlobalHandlers",e7=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:e9,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(tt(e),ta("onerror")),t.onunhandledrejection&&(tr(e),ta("onunhandledrejection"))}}},te=(0,x._I)(e7);function tt(e){(0,e8.V)(t=>{let{stackParser:r,attachStacktrace:n}=ts();if((0,$.s3)()!==e||ef())return;let{msg:i,url:o,line:a,column:s,error:u}=t,l=to(ea(r,u||i,void 0,n,!1),o,a,s);l.level="error",(0,g.eN)(l,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}function tr(e){(0,e6.h)(t=>{let{stackParser:r,attachStacktrace:n}=ts();if((0,$.s3)()!==e||ef())return;let i=tn(t),o=(0,V.pt)(i)?ti(i):ea(r,i,void 0,n,!0);o.level="error",(0,g.eN)(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function tn(e){if((0,V.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}function ti(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function to(e,t,r,n){let i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],l=isNaN(parseInt(n,10))?void 0:n,c=isNaN(parseInt(r,10))?void 0:r,d=(0,V.HD)(t)&&t.length>0?t:(0,eD.l4)();return 0===u.length&&u.push({colno:l,filename:d,function:R.Fi,in_app:!0,lineno:c}),e}function ta(e){W&&w.kg.log(`Global Handler attached: ${e}`)}function ts(){let e=(0,$.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let tu=(0,x._I)(()=>({name:"HttpContext",preprocessEvent(e){if(!ed.navigator&&!ed.location&&!ed.document)return;let t=e.request&&e.request.url||ed.location&&ed.location.href,{referrer:r}=ed.document||{},{userAgent:n}=ed.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}));var tl=r(20077);let tc="cause",td=5,tp="LinkedErrors",tf=(e={})=>{let t=e.limit||td,r=e.key||tc;return{name:tp,preprocessEvent(e,n,i){let o=i.getOptions();(0,tl.Z)(J,o.stackParser,o.maxValueLength,r,t,e,n)}}},th=(0,x._I)(tf);function tm(e,t,r,n){let i={filename:e,function:"<anonymous>"===t?R.Fi:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}let tg=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,t_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tv=/\((\S*)(?::(\d+))(?::(\d+))\)/,ty=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tx=[[30,e=>{let t=tg.exec(e);if(t){let[,e,r,n]=t;return tm(e,R.Fi,+r,+n)}let r=t_.exec(e);if(r){if(r[2]&&0===r[2].indexOf("eval")){let e=tv.exec(r[2]);e&&(r[2]=e[1],r[3]=e[2],r[4]=e[3])}let[e,t]=tw(r[1]||R.Fi,r[2]);return tm(t,e,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{let t=ty.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=tb.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||R.Fi;return[r,e]=tw(r,e),tm(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],tS=(0,R.pE)(...tx),tw=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:R.Fi,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tk=!1,tE={};function tC(e){let t=tE[e];if(t)return t;let r=N[e];if(j(r))return tE[e]=r.bind(N);let n=N.document;if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(t){tk&&w.kg.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return r?tE[e]=r.bind(N):r}function tT(e){tE[e]=void 0}var tj=r(90648);function tA(e,t=tC("fetch")){let r=0,n=0;function i(i){let o=i.body.length;r+=o,n++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return tT("fetch"),(0,K.$2)("No fetch implementation available");try{return t(e.url,a).then(e=>(r-=o,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return tT("fetch"),r-=o,n--,(0,K.$2)(e)}}return(0,tj.q)(e,i)}function tR(e){return[(0,v.S)(),(0,y.C)(),e1(),eW(),te(),th(),(0,b.R)(),tu()]}function tO(e={}){return{defaultIntegrations:tR(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:ed.SENTRY_RELEASE&&ed.SENTRY_RELEASE.id?ed.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...e}}function tP(){let e=ed,t=e.chrome?"chrome":"browser",r=e[t],n=r&&r.runtime&&r.runtime.id,i=ed.location&&ed.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:"],a=!!n&&ed===ed.top&&o.some(e=>i.startsWith(`${e}//`));return!!n&&!a}function tL(e={}){let t=tO(e);if(tP()){(0,w.Cf)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}W&&!T()&&w.kg.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");let r={...t,stackParser:(0,R.Sq)(t.stackParser||tS),integrations:(0,x.m8)(t),transport:t.transport||tA};(0,S.M)(ev,r),t.autoSessionTracking&&tI()}function tI(){if(void 0===ed.document){W&&w.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,g.yj)({ignoreDuration:!0}),(0,g.cg)(),F(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,g.yj)({ignoreDuration:!0}),(0,g.cg)())})}var tN=r(44194);function tF(e){let t={...e};(0,m.V)(t,"react"),(0,g.v)("react",{version:tN.version}),tL(t)}function tD(e){let t=e?({}).NEXT_PUBLIC_VERCEL_ENV:({}).VERCEL_ENV;return t?`vercel-${t}`:void 0}var tM=r(22522),tU=r(3420),tq=r(77545),tB=r(94328);let tz=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",tG=(e,t,r,n)=>{let i,o;return a=>{t.value>=0&&(a||n)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=tz(t.value,r),e(t))}},tW=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,t$=()=>N.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],tH=()=>{let e=t$();return e&&e.activationStart||0},tV=(e,t)=>{let r=t$(),n="navigate";return r&&(N.document&&N.document.prerendering||tH()>0?n="prerender":N.document&&N.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:tW(),navigationType:n}},tZ=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},tK=e=>{let t=t=>{("pagehide"===t.type||N.document&&"hidden"===N.document.visibilityState)&&e(t)};N.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},tJ=e=>{let t=!1;return r=>{t||(e(r),t=!0)}},tQ=-1,tX=()=>{tQ="hidden"!==N.document.visibilityState||N.document.prerendering?1/0:0},tY=e=>{"hidden"===N.document.visibilityState&&tQ>-1&&(tQ="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",tY,!0),removeEventListener("prerenderingchange",tY,!0))},t0=()=>{addEventListener("visibilitychange",tY,!0),addEventListener("prerenderingchange",tY,!0)},t1=()=>(N.document&&tQ<0&&(tX(),t0()),{get firstHiddenTime(){return tQ}}),t2=e=>{N.document&&N.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},t5=[1800,3e3],t4=(e,t={})=>{t2(()=>{let r;let n=t1(),i=tV("FCP"),o=tZ("paint",e=>{e.forEach(e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-tH(),0),i.entries.push(e),r(!0)))})});o&&(r=tG(e,i,t5,t.reportAllChanges))})},t3=[.1,.25],t8=(e,t={})=>{t4(tJ(()=>{let r;let n=tV("CLS",0),i=0,o=[],a=e=>{e.forEach(e=>{if(!e.hadRecentInput){let t=o[0],r=o[o.length-1];i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}}),i>n.value&&(n.value=i,n.entries=o,r())},s=tZ("layout-shift",a);s&&(r=tG(e,n,t3,t.reportAllChanges),tK(()=>{a(s.takeRecords()),r(!0)}),setTimeout(r,0))}))},t6=[100,300],t9=(e,t={})=>{t2(()=>{let r;let n=t1(),i=tV("FID"),o=e=>{e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},a=e=>{e.forEach(o)},s=tZ("first-input",a);r=tG(e,i,t6,t.reportAllChanges),s&&tK(tJ(()=>{a(s.takeRecords()),s.disconnect()}))})},t7=0,re=1/0,rt=0,rr=e=>{e.forEach(e=>{e.interactionId&&(re=Math.min(re,e.interactionId),t7=(rt=Math.max(rt,e.interactionId))?(rt-re)/7+1:0)})},rn=()=>s?t7:performance.interactionCount||0,ri=()=>{"interactionCount"in performance||s||(s=tZ("event",rr,{type:"event",buffered:!0,durationThreshold:0}))},ro=[200,500],ra=0,rs=()=>rn()-ra,ru=10,rl=[],rc={},rd=e=>{let t=rl[rl.length-1],r=rc[e.interactionId];if(r||rl.length<ru||t&&e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};rc[t.id]=t,rl.push(t)}rl.sort((e,t)=>t.latency-e.latency),rl.splice(ru).forEach(e=>{delete rc[e.id]})}},rp=()=>{let e=Math.min(rl.length-1,Math.floor(rs()/50));return rl[e]},rf=(e,t={})=>{t2(()=>{let r;ri();let n=tV("INP"),i=e=>{e.forEach(e=>{e.interactionId&&rd(e),"first-input"!==e.entryType||rl.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))||rd(e)});let t=rp();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},o=tZ("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=tG(e,n,ro,t.reportAllChanges),o&&("PerformanceEventTiming"in N&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),tK(()=>{i(o.takeRecords()),n.value<0&&rs()>0&&(n.value=0,n.entries=[]),r(!0)}))})},rh=[2500,4e3],rm={},rg=(e,t={})=>{t2(()=>{let r;let n=t1(),i=tV("LCP"),o=e=>{let t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-tH(),0),i.entries=[t],r())},a=tZ("largest-contentful-paint",o);if(a){r=tG(e,i,rh,t.reportAllChanges);let n=tJ(()=>{rm[i.id]||(o(a.takeRecords()),a.disconnect(),rm[i.id]=!0,r(!0))});["keydown","click"].forEach(e=>{N.document&&addEventListener(e,()=>setTimeout(n,0),!0)}),tK(n)}})},r_=[800,1800],rv=e=>{N.document&&N.document.prerendering?t2(()=>rv(e)):N.document&&"complete"!==N.document.readyState?addEventListener("load",()=>rv(e),!0):setTimeout(e,0)},ry=(e,t={})=>{let r=tV("TTFB"),n=tG(e,r,r_,t.reportAllChanges);rv(()=>{let e=t$();if(e){let t=e.responseStart;if(t<=0||t>performance.now())return;r.value=Math.max(t-tH(),0),r.entries=[e],n(!0)}})},rb={},rx={};function rS(e,t=!1){return rI("cls",e,rA,u,t)}function rw(e,t=!1){return rI("lcp",e,rO,c,t)}function rk(e){return rI("fid",e,rR,l)}function rE(e){return rI("ttfb",e,rP,d)}function rC(e){return rI("inp",e,rL,p)}function rT(e,t){return rF(e,t),rx[e]||(rN(e),rx[e]=!0),rD(e,t)}function rj(e,t){let r=rb[e];if(r&&r.length)for(let n of r)try{n(t)}catch(t){tk&&w.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,R.$P)(n)}
Error:`,t)}}function rA(){return t8(e=>{rj("cls",{metric:e}),u=e},{reportAllChanges:!0})}function rR(){return t9(e=>{rj("fid",{metric:e}),l=e})}function rO(){return rg(e=>{rj("lcp",{metric:e}),c=e},{reportAllChanges:!0})}function rP(){return ry(e=>{rj("ttfb",{metric:e}),d=e})}function rL(){return rf(e=>{rj("inp",{metric:e}),p=e})}function rI(e,t,r,n,i=!1){let o;return rF(e,t),rx[e]||(o=r(),rx[e]=!0),n&&t({metric:n}),rD(e,t,i?o:void 0)}function rN(e){let t={};"event"===e&&(t.durationThreshold=0),tZ(e,t=>{rj(e,{entries:t})},t)}function rF(e,t){rb[e]=rb[e]||[],rb[e].push(t)}function rD(e,t,r){return()=>{r&&r();let n=rb[e];if(!n)return;let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}function rM(e){return"duration"in e}function rU(e){return"number"==typeof e&&isFinite(e)}function rq(e,t,r,{...n}){let i=(0,tM.XU)(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),(0,tU._d)(e,()=>{let e=(0,tU.qp)({startTime:t,...n});return e&&e.end(r),e})}function rB(){return N&&N.addEventListener&&N.performance}function rz(e){return e/1e3}let rG=2147483647,rW=0,r$={};function rH(){let e=rB();if(e&&B.Z1){e.mark&&N.performance.mark("sentry-tracing-init");let t=rQ(),r=rK(),n=rJ(),i=rX();return()=>{t(),r(),n(),i()}}return()=>void 0}function rV(){rT("longtask",({entries:e})=>{for(let t of e){if(!(0,tM.HN)())return;let e=rz(B.Z1+t.startTime),r=rz(t.duration),n=(0,tU.qp)({name:"Main UI thread blocked",op:"ui.long-task",startTime:e,attributes:{[tq.S3]:"auto.ui.browser.metrics"}});n&&n.end(e+r)}})}function rZ(){rT("event",({entries:e})=>{for(let t of e){if(!(0,tM.HN)())return;if("click"===t.name){let e=rz(B.Z1+t.startTime),r=rz(t.duration),n={name:(0,eD.Rt)(t.target),op:`ui.interaction.${t.name}`,startTime:e,attributes:{[tq.S3]:"auto.ui.browser.metrics"}},i=(0,eD.iY)(t.target);i&&(n.attributes["ui.component_name"]=i);let o=(0,tU.qp)(n);o&&o.end(e+r)}}})}function rK(){return rS(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(tk&&w.kg.log("[Measurements] Adding CLS"),r$.cls={value:e.value,unit:""},h=t)},!0)}function rJ(){return rw(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(tk&&w.kg.log("[Measurements] Adding LCP"),r$.lcp={value:e.value,unit:"millisecond"},f=t)},!0)}function rQ(){return rk(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=rz(B.Z1),n=rz(t.startTime);tk&&w.kg.log("[Measurements] Adding FID"),r$.fid={value:e.value,unit:"millisecond"},r$["mark.fid"]={value:r+n,unit:"second"}})}function rX(){return rE(({metric:e})=>{e.entries[e.entries.length-1]&&(tk&&w.kg.log("[Measurements] Adding TTFB"),r$.ttfb={value:e.value,unit:"millisecond"})})}function rY(e){let t=rB();if(!t||!N.performance.getEntries||!B.Z1)return;tk&&w.kg.log("[Tracing] Adding & adjusting spans using Performance API");let r=rz(B.Z1),n=t.getEntries(),{op:i,start_timestamp:o}=(0,tM.XU)(e);if(n.slice(rW).forEach(t=>{let n=rz(t.startTime),a=rz(t.duration);if("navigation"!==i||!o||!(r+n<o))switch(t.entryType){case"navigation":r1(e,t,r);break;case"mark":case"paint":case"measure":{r0(e,t,n,a,r);let i=t1(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(tk&&w.kg.log("[Measurements] Adding FP"),r$.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(tk&&w.kg.log("[Measurements] Adding FCP"),r$.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":r4(e,t,t.name,n,a,r)}}),rW=Math.max(n.length-1,0),r3(e),"pageload"===i){r9(r$),["fcp","fp","lcp"].forEach(e=>{let t=r$[e];if(!t||!o||r>=o)return;let n=t.value,i=Math.abs((r+rz(n)-o)*1e3),a=i-n;tk&&w.kg.log(`[Measurements] Normalized ${e} from ${n} to ${i} (${a})`),t.value=i});let t=r$["mark.fid"];t&&r$.fid&&(rq(e,t.value,t.value+rz(r$.fid.value),{name:"first input delay",op:"ui.action",attributes:{[tq.S3]:"auto.ui.browser.metrics"}}),delete r$["mark.fid"]),"fcp"in r$||delete r$.cls,Object.entries(r$).forEach(([e,t])=>{(0,tB.o)(e,t.value,t.unit)}),r8(e)}f=void 0,h=void 0,r$={}}function r0(e,t,r,n,i){let o=i+r,a=o+n;return rq(e,o,a,{name:t.name,op:t.entryType,attributes:{[tq.S3]:"auto.resource.browser.metrics"}}),o}function r1(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{r2(e,t,n,r)}),r2(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),r2(e,t,"fetch",r,"cache","domainLookupStart"),r2(e,t,"domainLookup",r,"DNS"),r5(e,t,r)}function r2(e,t,r,n,i,o){let a=o?t[o]:t[`${r}End`],s=t[`${r}Start`];s&&a&&rq(e,n+rz(s),n+rz(a),{op:"browser",name:i||r,attributes:{[tq.S3]:"auto.ui.browser.metrics"}})}function r5(e,t,r){t.responseEnd&&(rq(e,r+rz(t.requestStart),r+rz(t.responseEnd),{op:"browser",name:"request",attributes:{[tq.S3]:"auto.ui.browser.metrics"}}),rq(e,r+rz(t.responseStart),r+rz(t.responseEnd),{op:"browser",name:"response",attributes:{[tq.S3]:"auto.ui.browser.metrics"}}))}function r4(e,t,r,n,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let a=(0,eq.en)(r),s={[tq.S3]:"auto.resource.browser.metrics"};r6(s,t,"transferSize","http.response_transfer_size"),r6(s,t,"encodedBodySize","http.response_content_length"),r6(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus),a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop()),a.host&&(s["server.address"]=a.host),s["url.same_origin"]=r.includes(N.location.origin);let u=o+n,l=u+i;rq(e,u,l,{name:r.replace(N.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:s})}function r3(e){let t=N.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),rU(r.rtt)&&(r$["connection.rtt"]={value:r.rtt,unit:"millisecond"})),rU(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),rU(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function r8(e){f&&(tk&&w.kg.log("[Measurements] Adding LCP Data"),f.element&&e.setAttribute("lcp.element",(0,eD.Rt)(f.element)),f.id&&e.setAttribute("lcp.id",f.id),f.url&&e.setAttribute("lcp.url",f.url.trim().slice(0,200)),e.setAttribute("lcp.size",f.size)),h&&h.sources&&(tk&&w.kg.log("[Measurements] Adding CLS Data"),h.sources.forEach((t,r)=>e.setAttribute(`cls.source.${r+1}`,(0,eD.Rt)(t.node))))}function r6(e,t,r,n){let i=t[r];null!=i&&i<rG&&(e[n]=i)}function r9(e){let t=t$();if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(tk&&w.kg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}let r7=[],ne=new Map;function nt(){if(rB()&&B.Z1){let e=nn();return()=>{e()}}return()=>void 0}let nr={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function nn(){return rC(({metric:e})=>{let t;let r=(0,$.s3)();if(!r||void 0==e.value)return;let n=e.entries.find(t=>t.duration===e.value&&nr[t.name]);if(!n)return;let{interactionId:i}=n,o=nr[n.name],a=r.getOptions(),s=rz(B.Z1+n.startTime),u=rz(e.value),l=(0,$.nZ)(),c=(0,tM.HN)(),d=c?(0,tM.Gx)(c):void 0,p=(null!=i?ne.get(i):void 0)||(d?(0,tM.XU)(d).description:l.getScopeData().transactionName),f=l.getUser(),h=r.getIntegrationByName("Replay"),m=h&&h.getReplayId(),g=void 0!==f?f.email||f.id||f.ip_address:void 0;try{t=l.getScopeData().contexts.profile.profile_id}catch(e){}let _=(0,eD.Rt)(n.target),v=(0,I.Jr)({release:a.release,environment:a.environment,transaction:p,[tq.JQ]:e.value,[tq.S3]:"auto.http.browser.inp",user:g||void 0,profile_id:t||void 0,replay_id:m||void 0}),y=(0,tU.qp)({name:_,op:`ui.interaction.${o}`,attributes:v,startTime:s,experimental:{standalone:!0}});y.addEvent("inp",{[tq.E1]:"millisecond",[tq.Wb]:e.value}),y.end(s+u)})}function ni(e){let t=({entries:t})=>{t.forEach(t=>{if(!rM(t)||!e.name)return;let r=t.interactionId;if(!(null==r||ne.has(r))){if(r7.length>10){let e=r7.shift();ne.delete(e)}r7.push(r),ne.set(r,e.name)}})};rT("event",t),rT("first-input",t)}var no=r(12913),na=r(66586),ns=r(3770),nu=r(41103),nl=r(24494),nc=r(96738);function nd(){ed&&ed.document?ed.document.addEventListener("visibilitychange",()=>{let e=(0,tM.HN)();if(!e)return;let t=(0,tM.Gx)(e);if(ed.document.hidden&&t){let e="cancelled",{op:r,status:n}=(0,tM.XU)(t);W&&w.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r}`),n||t.setStatus({code:nc.jt,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):W&&w.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var np=r(981),nf=r(13066),nh=r(15946);let nm={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function ng(e){let{traceFetch:t,traceXHR:r,shouldCreateSpanForRequest:n,enableHTTPTimings:i,tracePropagationTargets:o}={traceFetch:nm.traceFetch,traceXHR:nm.traceXHR,...e},a="function"==typeof n?n:e=>!0,s=e=>nS(e,o),u={};t&&eP(e=>{let t=(0,np.m)(e,a,s,u);if(t){let r=nC(e.fetchData.url),n=r?(0,eq.en)(r).host:void 0;t.setAttributes({"http.url":r,"server.address":n})}i&&t&&nv(t)}),r&&eT(e=>{let t=nw(e,a,s,u);i&&t&&nv(t)})}function n_(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}function nv(e){let{url:t}=(0,tM.XU)(e).data||{};if(!t||"string"!=typeof t)return;let r=rT("resource",({entries:n})=>{n.forEach(n=>{n_(n)&&n.name.endsWith(t)&&(nx(n).forEach(t=>e.setAttribute(...t)),setTimeout(r))})})}function ny(e){let t="unknown",r="unknown",n="";for(let i of e){if("/"===i){[t,r]=e.split("/");break}if(!isNaN(Number(i))){t="h"===n?"http":n,r=e.split(n)[1];break}n+=i}return n===e&&(t=n),{name:t,version:r}}function nb(e=0){return((B.Z1||performance.timeOrigin)+e)/1e3}function nx(e){let{name:t,version:r}=ny(e.nextHopProtocol),n=[];return(n.push(["network.protocol.version",r],["network.protocol.name",t]),B.Z1)?[...n,["http.request.redirect_start",nb(e.redirectStart)],["http.request.fetch_start",nb(e.fetchStart)],["http.request.domain_lookup_start",nb(e.domainLookupStart)],["http.request.domain_lookup_end",nb(e.domainLookupEnd)],["http.request.connect_start",nb(e.connectStart)],["http.request.secure_connection_start",nb(e.secureConnectionStart)],["http.request.connection_end",nb(e.connectEnd)],["http.request.request_start",nb(e.requestStart)],["http.request.response_start",nb(e.responseStart)],["http.request.response_end",nb(e.responseEnd)]]:n}function nS(e,t){let r=ed.location&&ed.location.href;if(r){let n,i;try{n=new URL(e,r),i=new URL(r).origin}catch(e){return!1}let o=n.origin===i;return t?(0,eU.U0)(n.toString(),t)||o&&(0,eU.U0)(n.pathname,t):o}{let r=!!e.match(/^\/(?!\/)/);return t?(0,eU.U0)(e,t):r}}function nw(e,t,r,n){let i=e.xhr,o=i&&i[eC];if(!i||i.__sentry_own_request__||!o)return;let a=(0,_.z)()&&t(o.url);if(e.endTimestamp&&a){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=n[e];t&&void 0!==o.status_code&&((0,nc.Q0)(t,o.status_code),t.end(),delete n[e]);return}let s=nC(o.url),u=s?(0,eq.en)(s).host:void 0,l=!!(0,tM.HN)(),c=a&&l?(0,tU.qp)({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":s,url:o.url,"server.address":u,[tq.S3]:"auto.http.browser",[tq.$J]:"http.client"}}):new nf.b;i.__sentry_xhr_span_id__=c.spanContext().spanId,n[i.__sentry_xhr_span_id__]=c;let d=(0,$.s3)();return i.setRequestHeader&&r(o.url)&&d&&nk(i,d,(0,_.z)()&&l?c:void 0),c}function nk(e,t,r){let n=(0,$.nZ)(),{traceId:i,spanId:o,sampled:a,dsc:s}={...(0,$.aF)().getPropagationContext(),...n.getPropagationContext()};nE(e,r&&(0,_.z)()?(0,tM.Hb)(r):(0,nu.$p)(i,o,a),(0,nh.IQ)(s||(r?(0,ns.jC)(r):(0,ns._l)(i,t))))}function nE(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader(nh.bU,r)}catch(e){}}function nC(e){try{return new URL(e,ed.location.origin).href}catch(e){return}}let nT="BrowserTracing",nj={...no.A,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{},...nm},nA=(e={})=>{(0,na.a)();let{enableInp:t,enableLongTask:r,_experiments:{enableInteractions:n},beforeStartSpan:i,idleTimeout:o,finalTimeout:a,childSpanTimeout:s,markBackgroundSpan:u,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:d,enableHTTPTimings:p,instrumentPageLoad:f,instrumentNavigation:h}={...nj,...e},m=rH();t&&nt(),r&&rV(),n&&rZ();let g={name:void 0,source:void 0};function _(e,t){let r="pageload"===t.op,n=i?i(t):t,u=n.attributes||{};t.name!==n.name&&(u[tq.Zj]="custom",n.attributes=u),g.name=n.name,g.source=u[tq.Zj];let l=(0,no.R)(n,{idleTimeout:o,finalTimeout:a,childSpanTimeout:s,disableAutoFinish:r,beforeSpanEnd:e=>{m(),rY(e)}});function c(){["interactive","complete"].includes(ed.document.readyState)&&e.emit("idleSpanEnableAutoFinish",l)}return r&&ed.document&&(ed.document.addEventListener("readystatechange",()=>{c()}),c()),l}return{name:nT,afterAllSetup(e){let r;let i=ed.location&&ed.location.href;e.on("startNavigationSpan",t=>{(0,$.s3)()===e&&(r&&(W&&w.kg.log(`[Tracing] Finishing current root span with op: ${(0,tM.XU)(r).op}`),r.end()),r=_(e,{op:"navigation",...t}))}),e.on("startPageLoadSpan",(t,n={})=>{if((0,$.s3)()!==e)return;r&&(W&&w.kg.log(`[Tracing] Finishing current root span with op: ${(0,tM.XU)(r).op}`),r.end());let i=n.sentryTrace||nP("sentry-trace"),o=n.baggage||nP("baggage"),a=(0,nu.pT)(i,o);(0,$.nZ)().setPropagationContext(a),r=_(e,{op:"pageload",...t})}),e.on("spanEnd",e=>{let t=(0,tM.XU)(e).op;if(e!==(0,tM.Gx)(e)||"navigation"!==t&&"pageload"!==t)return;let r=(0,$.nZ)(),n=r.getPropagationContext();r.setPropagationContext({...n,sampled:void 0!==n.sampled?n.sampled:(0,tM.Tt)(e),dsc:n.dsc||(0,ns.jC)(e)})}),ed.location&&(f&&nR(e,{name:ed.location.pathname,startTime:B.Z1?B.Z1/1e3:void 0,attributes:{[tq.Zj]:"url",[tq.S3]:"auto.pageload.browser"}}),h&&F(({to:t,from:r})=>{if(void 0===r&&i&&-1!==i.indexOf(t)){i=void 0;return}r!==t&&(i=void 0,nO(e,{name:ed.location.pathname,attributes:{[tq.Zj]:"url",[tq.S3]:"auto.navigation.browser"}}))})),u&&nd(),n&&nL(o,a,s,g),t&&ni(g),ng({traceFetch:l,traceXHR:c,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:d,enableHTTPTimings:p})}}};function nR(e,t,r){e.emit("startPageLoadSpan",t,r),(0,$.nZ)().setTransactionName(t.name);let n=(0,tM.HN)();return"pageload"===(n&&(0,tM.XU)(n).op)?n:void 0}function nO(e,t){(0,$.aF)().setPropagationContext((0,nl.Q)()),(0,$.nZ)().setPropagationContext((0,nl.Q)()),e.emit("startNavigationSpan",t),(0,$.nZ)().setTransactionName(t.name);let r=(0,tM.HN)();return"navigation"===(r&&(0,tM.XU)(r).op)?r:void 0}function nP(e){let t=(0,eD.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function nL(e,t,r,n){let i;let o=()=>{let o="ui.action.click",a=(0,tM.HN)(),s=a&&(0,tM.Gx)(a);if(s&&["navigation","pageload"].includes((0,tM.XU)(s).op)){W&&w.kg.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}if(i&&(i.setAttribute(tq.ju,"interactionInterrupted"),i.end(),i=void 0),!n.name){W&&w.kg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=(0,no.R)({name:n.name,op:o,attributes:{[tq.Zj]:n.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:r})};ed.document&&addEventListener("click",o,{once:!1,capture:!0})}function nI(e){nR(e,{name:ed.location.pathname,startTime:B.Z1?B.Z1/1e3:void 0,attributes:{[tq.$J]:"pageload",[tq.S3]:"auto.pageload.nextjs.app_router_instrumentation",[tq.Zj]:"url"}})}function nN(e){eP(t=>{if(void 0!==t.endTimestamp||"GET"!==t.fetchData.method)return;let r=nF(t.args);null!==r&&nO(e,{name:r.targetPathname,attributes:{[tq.$J]:"navigation",[tq.S3]:"auto.navigation.nextjs.app_router_instrumentation",[tq.Zj]:"url"}})})}function nF(e){if(!e[0]||"object"!=typeof e[0]||void 0===e[0].searchParams||!e[1]||"object"!=typeof e[1]||!("headers"in e[1]))return null;try{let t=e[0],r=e[1].headers;if("1"!==r.RSC||"1"===r["Next-Router-Prefetch"])return null;return{targetPathname:t.pathname}}catch(e){return null}}var nD=r(13404),nM=r(26249),nU=r(57341);let nq=nM.events?nM:nM.default,nB=ed;function nz(){let e;let t=nB.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){nU.X&&w.kg.warn("Could not extract __NEXT_DATA__")}if(!e)return{};let r={},{page:n,query:i,props:o}=e;return r.route=n,r.params=i,o&&o.pageProps&&(r.sentryTrace=o.pageProps._sentryTraceData,r.baggage=o.pageProps._sentryBaggage),r}function nG(e){let{route:t,params:r,sentryTrace:n,baggage:i}=nz();nR(e,{name:t||nB.location.pathname,startTime:B.Z1?B.Z1/1e3:void 0,attributes:{[tq.$J]:"pageload",[tq.S3]:"auto.pageload.nextjs.pages_router_instrumentation",[tq.Zj]:t?"route":"url",...r&&e.getOptions().sendDefaultPii&&{...r}}},{sentryTrace:n,baggage:i})}function nW(e){nq.events.on("routeChangeStart",t=>{let r,n;let i=(0,eq.rt)(t),o=n$(i);o?(r=o,n="route"):(r=i,n="url"),nO(e,{name:r,attributes:{[tq.$J]:"navigation",[tq.S3]:"auto.navigation.nextjs.pages_router_instrumentation",[tq.Zj]:n}})})}function n$(e){let t=(nB.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let r=nH(t);return e.match(r)})}function nH(e){let t=e.split("/"),r="";(0,nD.x)([t,"access",e=>e[t.length-1],"optionalAccess",e=>e.match,"call",e=>e(/^\[\[\.\.\..+\]\]$/)])&&(t.pop(),r="(?:/(.+?))?");let n=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${n}${r}(?:/)?$`)}function nV(e){ed.document.getElementById("__NEXT_DATA__")?nG(e):nI(e)}function nZ(e){ed.document.getElementById("__NEXT_DATA__")?nW(e):nN(e)}function nK(e={}){let t=nA({...e,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:r=!0,instrumentNavigation:n=!0}=e;return{...t,afterAllSetup(e){n&&nZ(e),t.afterAllSetup(e),r&&nV(e)}}}var nJ=r(97378);let nQ=(0,x._I)(({assetPrefixPath:e})=>({...(0,nJ.v)({iteratee:t=>{try{let{origin:r}=new URL(t.filename);t.filename=(0,nD.x)([t,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(r,"app://"),"access",e=>e.replace,"call",t=>t(e,"")])}catch(e){}return t.filename&&t.filename.startsWith("app:///_next")&&(t.filename=decodeURI(t.filename)),t.filename&&t.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(t.in_app=!1),t}}),name:"NextjsClientStackFrameNormalization"})),nX=E.GLOBAL_OBJ;function nY(e){let t=nX.__sentryRewritesTunnelPath__;if(t&&e.dsn){let r=(0,G.U4)(e.dsn);if(!r)return;let n=r.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(n){let i=n[1],o=n[2],a=`${t}?o=${i}&p=${r.projectId}`;o&&(a+=`&r=${o}`),e.tunnel=a,nU.X&&w.kg.info(`Tunneling events to "${a}"`)}else nU.X&&w.kg.warn("Provided DSN is not a Sentry SaaS DSN. Will not tunnel events.")}}let n0=E.GLOBAL_OBJ;function n1(e){let t={environment:tD(!0)||"production",defaultIntegrations:n2(e),...e};nY(t),(0,m.V)(t,"nextjs",["nextjs","react"]),tF(t),(0,g.YA)("runtime","browser");let r=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;r.id="NextClient404Filter",(0,g.Qy)(r)}function n2(e){let t=tR(e);(0,_.z)(e)&&t.push(nK());let r=n0.__rewriteFramesAssetPrefixPath__||"";return t.push(nQ({assetPrefixPath:r})),t}var n5=r(79384);let n4=1e6,n3=String(0),n8="main",n6="",n9="",n7="",ie=ed.navigator&&ed.navigator.userAgent||"",it="",ir=ed.navigator&&ed.navigator.language||ed.navigator&&ed.navigator.languages&&ed.navigator.languages[0]||"";function ii(e){return"object"==typeof e&&null!==e&&"getHighEntropyValues"in e}let io=ed.navigator&&ed.navigator.userAgentData;function ia(e){return!("thread_metadata"in e)}function is(e){return ia(e)?id(e):e}function iu(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return("string"==typeof t&&32!==t.length&&W&&w.kg.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t)?"":t}function il(e,t,r,n){if("transaction"!==n.type)throw TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==r)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let i=iu(n),o=is(r),a=t||("number"==typeof n.start_timestamp?1e3*n.start_timestamp:1e3*(0,B.ph)()),s="number"==typeof n.timestamp?1e3*n.timestamp:1e3*(0,B.ph)();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||n5.J,runtime:{name:"javascript",version:ed.navigator.userAgent},os:{name:n6,version:n9,build_number:ie},device:{locale:ir,model:it,manufacturer:ie,architecture:n7,is_emulator:!1},debug_meta:{images:ig(r.resources)},profile:o,transactions:[{name:n.transaction||"",id:n.event_id||(0,Z.DM)(),trace_id:i,active_thread_id:n3,relative_start_ns:"0",relative_end_ns:((s-a)*1e6).toFixed(0)}]}}function ic(e){return"pageload"===(0,tM.XU)(e).op}function id(e){let t;let r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[n3]:{name:n8}}},i=e.samples[0];if(!i)return n;let o=i.timestamp,a="number"==typeof performance.timeOrigin?performance.timeOrigin:B.Z1||0,s=a-(B.Z1||a);return e.samples.forEach((i,a)=>{if(void 0===i.stackId){void 0===t&&(t=r,n.stacks[t]=[],r++),n.samples[a]={elapsed_since_start_ns:((i.timestamp+s-o)*n4).toFixed(0),stack_id:t,thread_id:n3};return}let u=e.stacks[i.stackId],l=[];for(;u;){l.push(u.frameId);let t=e.frames[u.frameId];t&&void 0===n.frames[u.frameId]&&(n.frames[u.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),u=void 0===u.parentId?void 0:e.stacks[u.parentId]}let c={elapsed_since_start_ns:((i.timestamp+s-o)*n4).toFixed(0),stack_id:r,thread_id:n3};n.stacks[r]=l,n.samples[a]=c,r++}),n}function ip(e,t){if(!t.length)return e;for(let r of t)e[1].push([{type:"profile"},r]);return e}function ih(e){let t=[];return(0,q.gv)(e,(e,r)=>{if("transaction"===r)for(let r=1;r<e.length;r++){let n=e[r];n&&n.contexts&&n.contexts.profile&&n.contexts.profile.profile_id&&t.push(e[r])}}),t}ii(io)&&io.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(n6=e.platform||"",n7=e.architecture||"",it=e.model||"",n9=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];ie=`${t.brand} ${t.version}`}}).catch(e=>void 0);let im=new WeakMap;function ig(e){let t;let r=E.GLOBAL_OBJ._sentryDebugIds;if(!r)return[];let n=(0,$.s3)(),i=n&&n.getOptions(),o=i&&i.stackParser;if(!o)return[];let a=im.get(o);a?t=a:(t=new Map,im.set(o,t));let s=Object.keys(r).reduce((e,n)=>{let i;let a=t.get(n);a?i=a:(i=o(n),t.set(n,i));for(let t=i.length-1;t>=0;t--){let o=i[t],a=o&&o.filename;if(o&&a){e[a]=r[n];break}}return e},{}),u=[];for(let t of e)t&&s[t]&&u.push({type:"sourcemap",code_file:t,debug_id:s[t]});return u}function i_(e){return"number"!=typeof e&&"boolean"!=typeof e||"number"==typeof e&&isNaN(e)?(W&&w.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||!(e<0)&&!(e>1)||(W&&w.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function iv(e){return e.samples.length<2?(W&&w.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(W&&w.kg.log("[Profiling] Discarding profile because it contains no frames"),!1)}let iy=!1,ib=3e4;function ix(e){return"function"==typeof e}function iS(){let e=ed.Profiler;if(!ix(e)){W&&w.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,r=Math.floor(ib/10);try{return new e({sampleInterval:t,maxBufferSize:r})}catch(e){W&&(w.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),w.kg.log("[Profiling] Disabling profiling for current user session.")),iy=!0}}function iw(e){if(iy)return W&&w.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return W&&w.kg.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=(0,$.s3)(),r=t&&t.getOptions();if(!r)return W&&w.kg.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return i_(n)?n?!!(!0===n||Math.random()<n)||(W&&w.kg.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(W&&w.kg.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(W&&w.kg.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function ik(e,t,r,n){return iv(r)?il(e,t,r,n):null}let iE=new Map;function iC(){return iE.size}function iT(e){let t=iE.get(e);return t&&iE.delete(e),t}function ij(e,t){if(iE.set(e,t),iE.size>30){let e=iE.keys().next().value;iE.delete(e)}}function iA(e){let t;ic(e)&&(t=1e3*(0,B.ph)());let r=iS();if(!r)return;W&&w.kg.log(`[Profiling] started profiling span: ${(0,tM.XU)(e).description}`);let n=(0,Z.DM)();async function i(){if(e&&r)return r.stop().then(t=>{if(o&&(ed.clearTimeout(o),o=void 0),W&&w.kg.log(`[Profiling] stopped profiling of span: ${(0,tM.XU)(e).description}`),!t){W&&w.kg.log(`[Profiling] profiler returned null profile for: ${(0,tM.XU)(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}ij(n,t)}).catch(e=>{W&&w.kg.log("[Profiling] error while stopping profiler:",e)})}(0,$.nZ)().setContext("profile",{profile_id:n,start_timestamp:t});let o=ed.setTimeout(()=>{W&&w.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",(0,tM.XU)(e).description),i()},ib),a=e.end.bind(e);function s(){return e?(i().then(()=>{a()},()=>{a()}),e):a()}e.end=s}let iR="BrowserProfiling",iO=()=>({name:iR,setup(e){let t=(0,tM.HN)(),r=t&&(0,tM.Gx)(t);r&&ic(r)&&iw(r)&&iA(r),e.on("spanStart",e=>{e===(0,tM.Gx)(e)&&iw(e)&&iA(e)}),e.on("beforeEnvelope",e=>{if(!iC())return;let t=ih(e);if(!t.length)return;let r=[];for(let e of t){let t=e&&e.contexts,n=t&&t.profile&&t.profile.profile_id,i=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof n||!n){W&&w.kg.log("[Profiling] cannot find profile for a span without a profile context");continue}t&&t.profile&&delete t.profile;let o=iT(n);if(!o){W&&w.kg.log(`[Profiling] Could not retrieve profile for span: ${n}`);continue}let a=ik(n,i,o,e);a&&r.push(a)}ip(e,r)})}}),iP=(0,x._I)(iO);var iL=r(95825),iI=r(59838),iN=r(79409),iF=r.n(iN);let iD=[/(PocketBook)\/([0-9]+)/,/(PocketBook) (?!SURFpad)([a-zA-Z0-9]+)/,/(PocketBook SURFpad) ([0-9]+)/],iM={name:"UAParser",processEvent(e,t){if(!t.originalException||!iF()(t.originalException))return e;let r=null;if(iI.Ym)for(let e of iD){var n;if(r=null===(n=window.navigator.userAgent)||void 0===n?void 0:n.match(e))break}return iI.Ym&&r&&(e.tags=e.tags||[],e.tags.cs_real_brand=r[1],e.tags.cs_real_model=r[2]),e}};var iU=r(57306);function iq(e,t){try{let r=iz(e,t);if(!r)return{shouldIgnoreEvent:!1};return iB(e,r),{shouldIgnoreEvent:i$(r)}}catch(e){return console.error(e),{shouldIgnoreEvent:!1}}}function iB(e,t){var r,n,i;let o=(0,iU.uK)(t,e.request.url);o.error&&(null===(i=e.exception)||void 0===i?void 0:null===(n=i.values)||void 0===n?void 0:n[0])&&(e.exception.values[0].value=o.error.message,e.exception.values[0].type=o.error.name),o.tags&&(e.tags={...e.tags,...o.tags});let a=(null===(r=o.error)||void 0===r?void 0:r.originalError)||t.originalError;a&&e.contexts&&(e.contexts["original error"]={value:iG(a)})}function iz(e,t){var r,n;let i=t.originalException;return!i&&(null===(n=e.exception)||void 0===n?void 0:null===(r=n.values)||void 0===r?void 0:r[0])&&(i={name:e.exception.values[0].type,message:e.exception.values[0].value}),i||null}function iG(e){try{if(e instanceof Error)return JSON.stringify(e,Object.getOwnPropertyNames(e));return JSON.stringify(e)}catch(e){return"Error stringifying original error object"}}let iW=["ChunkLoadError","grecaptcha","window[E[2]].logging","window[d[1]][x]","(reading 'hpm')","evaluating 'b.container[a]'","window.yandex.sovetnik","Cancel rendering route"];function i$(e){let t=e.name,r=e.message;return"string"==typeof t&&"string"==typeof r&&iW.some(e=>t.includes(e)||r.includes(e))}function iH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.min(1,t/(60*e))}function iV(){return{"/":1,"/app":iH(.05),"/audiobook/[author]/[bookSlug]":iH(7),"/audiobook/[author]/[bookSlug]/otzivi":iH(.5),"/audiobooks":iH(.05),"/author/[...slug]":iH(8),"/book/[author]/[bookSlug]":iH(5),"/book/[author]/[bookSlug]/chitat-onlayn":iH(7.5),"/book/[author]/[bookSlug]/otzivi":iH(5),"/book/[author]/[bookSlug]/read":iH(5),"/certificate-present":iH(.02),"/collections":iH(.03),"/collections/[slug]":iH(2),"/genre/[slug]":iH(1.7),"/journal/[slug]":iH(3.5),"/podcast/[author]/[bookSlug]":iH(3),"/series/[slug]":iH(2)}}var iZ=window;iZ.__sentryRewritesTunnelPath__=void 0,iZ.SENTRY_RELEASE={id:"6.759.9"},iZ.__sentryBasePath=void 0,iZ.__rewriteFramesAssetPrefixPath__="",n1({dsn:"https://66365c10274f4724819f92df56571b8b@sentry.litres.io/56",tracesSampler:e=>+(({}).TRACES_SAMPLER_K||1)*(iV()[e.name]||.01),sampleRate:1,profilesSampleRate:.1,replaysOnErrorSampleRate:0,replaysSessionSampleRate:0,debug:!1,environment:"prod",release:"6.759.9",tracePropagationTargets:["localhost",/\/_next\/data/,/\/foundation\/api/,/\/advertising\/api/,/\/tracker\/api\/event\//],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Database deleted by request of the user",/ignore this error/i],denyUrls:[/abt\.s3\.yandex\.net\/expjs\/latest\/exp\.js/i,/cdn\.uxfeedback\.ru/i,/websdk\.appsflyer\.com/i,/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/extensionPageScript\.js/i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/recaptcha\/releases/i],integrations:[iM,nK({enableInp:!1}),iP(),iL.L({filterKeys:["litres-nextjs-application"],behaviour:"apply-tag-if-exclusively-contains-third-party-frames"})],beforeSend:(e,t)=>{let{shouldIgnoreEvent:r}=iq(e,t);return r?null:e}})},32821:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return l},ACTION_NAVIGATE:function(){return o},ACTION_PREFETCH:function(){return u},ACTION_REFRESH:function(){return i},ACTION_RESTORE:function(){return a},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return s},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return r},isThenable:function(){return d}});let i="refresh",o="navigate",a="restore",s="server-patch",u="prefetch",l="fast-refresh",c="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"})(r||(r={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8696:function(e,t,r){"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(25270),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return S}});let n=r(97940),i=r(31549),o=n._(r(44194)),a=r(77044),s=r(44839),u=r(69284),l=r(28623),c=r(49083),d=r(39212),p=r(54557),f=r(64228),h=r(8696),m=r(95413),g=r(32821),_=new Set;function v(e,t,r,n,i,o){if(o||(0,s.isLocalURL)(t)){if(!n.bypassPrefetchedCheck){let i=t+"%"+r+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(_.has(i))return;_.add(i)}(async()=>o?e.prefetch(t,i):e.prefetch(t,r,n))().catch(e=>{})}}function y(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}function b(e,t,r,n,i,a,u,l,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(y(e)||!c&&!(0,s.isLocalURL)(r)))return;e.preventDefault();let p=()=>{let e=null==u||u;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:a,locale:l,scroll:e}):t[i?"replace":"push"](n||r,{scroll:e})};c?o.default.startTransition(p):p()}function x(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let S=o.default.forwardRef(function(e,t){let r,n;let{href:s,as:u,children:_,prefetch:y=null,passHref:S,replace:w,shallow:k,scroll:E,locale:C,onClick:T,onMouseEnter:j,onTouchStart:A,legacyBehavior:R=!1,...O}=e;r=_,R&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let P=o.default.useContext(d.RouterContext),L=o.default.useContext(p.AppRouterContext),I=null!=P?P:L,N=!P,F=!1!==y,D=null===y?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:M,as:U}=o.default.useMemo(()=>{if(!P){let e=x(s);return{href:e,as:u?x(u):e}}let[e,t]=(0,a.resolveHref)(P,s,!0);return{href:e,as:u?(0,a.resolveHref)(P,u):t||e}},[P,s,u]),q=o.default.useRef(M),B=o.default.useRef(U);R&&(n=o.default.Children.only(r));let z=R?n&&"object"==typeof n&&n.ref:t,[G,W,$]=(0,f.useIntersection)({rootMargin:"200px"}),H=o.default.useCallback(e=>{(B.current!==U||q.current!==M)&&($(),B.current=U,q.current=M),G(e),z&&("function"==typeof z?z(e):"object"==typeof z&&(z.current=e))},[U,z,M,$,G]);o.default.useEffect(()=>{I&&W&&F&&v(I,M,U,{locale:C},{kind:D},N)},[U,M,W,C,F,null==P?void 0:P.locale,I,N,D]);let V={ref:H,onClick(e){R||"function"!=typeof T||T(e),R&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),I&&!e.defaultPrevented&&b(e,I,M,U,w,k,E,C,N)},onMouseEnter(e){R||"function"!=typeof j||j(e),R&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&(F||!N)&&v(I,M,U,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:D},N)},onTouchStart:function(e){R||"function"!=typeof A||A(e),R&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&(F||!N)&&v(I,M,U,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:D},N)}};if((0,l.isAbsoluteUrl)(U))V.href=U;else if(!R||S||"a"===n.type&&!("href"in n.props)){let e=void 0!==C?C:null==P?void 0:P.locale,t=(null==P?void 0:P.isLocaleDomain)&&(0,h.getDomainLocale)(U,e,null==P?void 0:P.locales,null==P?void 0:P.domainLocales);V.href=t||(0,m.addBasePath)((0,c.addLocale)(U,e,null==P?void 0:P.defaultLocale))}return R?o.default.cloneElement(n,V):(0,i.jsx)("a",{...O,...V,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return c}});let n=r(44194),i=r(2701),o="function"==typeof IntersectionObserver,a=new Map,s=[];function u(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=s.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=a.get(n)))return t;let i=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:i},s.push(r),a.set(r,t),t}function l(e,t,r){let{id:n,observer:i,elements:o}=u(r);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),0===o.size){i.disconnect(),a.delete(n);let e=s.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&s.splice(e,1)}}}function c(e){let{rootRef:t,rootMargin:r,disabled:a}=e,s=a||!o,[u,c]=(0,n.useState)(!1),d=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(o){if(s||u)return;let e=d.current;if(e&&e.tagName)return l(e,e=>e&&c(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!u){let e=(0,i.requestIdleCallback)(()=>c(!0));return()=>(0,i.cancelIdleCallback)(e)}},[s,r,t,u,d.current]),[p,u,(0,n.useCallback)(()=>{c(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},noSSR:function(){return u}});let n=r(97940),i=r(31549);r(44194);let o=n._(r(74880)),a=!1;function s(e){return{default:(null==e?void 0:e.default)||e}}function u(e,t){if(delete t.webpack,delete t.modules,!a)return e(t);let r=t.loading;return()=>(0,i.jsx)(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function l(e,t){let r=o.default,n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let i=(n={...n,...t}).loader,a=()=>null!=i?i().then(s):Promise.resolve(s(()=>null));return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?r({...n,loader:a}):(delete n.webpack,delete n.modules,u(r,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=r(97940)._(r(44194)).default.createContext(null)},74880:function(e,t,r){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let n=r(97940)._(r(44194)),i=r(9116);function o(e){return e&&e.default?e.default:e}let a=[],s=[],u=!1;function l(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}function c(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),a=null;function l(){if(!a){let t=new d(e,r);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()}if(!u){let e=r.webpack?r.webpack():r.modules;e&&s.push(t=>{for(let r of e)if(t.includes(r))return l()})}function c(){l();let e=n.default.useContext(i.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}function p(e,t){c();let i=n.default.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:a.retry}),[]),n.default.useMemo(()=>i.loading||i.error?n.default.createElement(r.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:a.retry}):i.loaded?n.default.createElement(o(i.loaded),e):null,[e,i])}return p.preload=()=>l(),p.displayName="LoadableComponent",n.default.forwardRef(p)}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function p(e){return c(l,e)}function f(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return f(e,t)})}p.preloadAll=()=>new Promise((e,t)=>{f(a).then(e,t)}),p.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let r=()=>(u=!0,t());f(s,e).then(r,r)})),window.__NEXT_PRELOADREADY=p.preloadReady;let h=p},17536:function(e,t,r){"use strict";function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}r.d(t,{S1:function(){return i},jU:function(){return o},on:function(){return n}});var o=!0},66110:function(e,t,r){"use strict";var n=r(44194),i=r(17536),o=["mousedown","touchstart"],a=function(e,t,r){void 0===r&&(r=o);var a=(0,n.useRef)(t);(0,n.useEffect)(function(){a.current=t},[t]),(0,n.useEffect)(function(){for(var t=function(t){var r=e.current;r&&!r.contains(t.target)&&a.current(t)},n=0,o=r;n<o.length;n++){var s=o[n];(0,i.on)(document,s,t)}return function(){for(var e=0,n=r;e<n.length;e++){var o=n[e];(0,i.S1)(document,o,t)}}},[r,e])};t.Z=a},24557:function(e,t,r){"use strict";var n=r(44194),i=function(e,t){var r=(0,n.useState)(null),i=r[0],o=r[1];return(0,n.useEffect)(function(){if(e.current&&"function"==typeof IntersectionObserver){var r=new IntersectionObserver(function(e){o(e[0])},t);return r.observe(e.current),function(){o(null),r.disconnect()}}return function(){}},[e.current,t.threshold,t.root,t.rootMargin]),i};t.Z=i},74030:function(e,t,r){"use strict";var n=r(44194),i=r(17536),o=function(e){var t=window.history,r=t[e];t[e]=function(t){var n=r.apply(this,arguments),i=new Event(e.toLowerCase());return i.state=t,window.dispatchEvent(i),n}};i.jU&&(o("pushState"),o("replaceState"));var a=function(){return{trigger:"load",length:1}},s=function(e){var t=window.history,r=t.state,n=t.length,i=window.location;return{trigger:e,state:r,length:n,hash:i.hash,host:i.host,hostname:i.hostname,href:i.href,origin:i.origin,pathname:i.pathname,port:i.port,protocol:i.protocol,search:i.search}},u=function(){var e=(0,n.useState)(s("load")),t=e[0],r=e[1];return(0,n.useEffect)(function(){var e=function(){return r(s("popstate"))},t=function(){return r(s("pushstate"))},n=function(){return r(s("replacestate"))};return(0,i.on)(window,"popstate",e),(0,i.on)(window,"pushstate",t),(0,i.on)(window,"replacestate",n),function(){(0,i.S1)(window,"popstate",e),(0,i.S1)(window,"pushstate",t),(0,i.S1)(window,"replacestate",n)}},[]),t},l="function"==typeof Event;t.Z=i.jU&&l?u:a},25868:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(a())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&s(i,r.prototype),i}(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}r.d(t,{uc:function(){return C},uk:function(){return E},i3:function(){return m},V3:function(){return _},HA:function(){return R},p3:function(){return g},Ep:function(){return A},Om:function(){return T},mz:function(){return j}});var l=function(e){function t(t,r,n,i,o,a,s){var u;return(u=e.call(this,i)||this).rootContext=void 0,u.contextsChunk=void 0,u.originalError=void 0,u.extendedParams=void 0,u.feature="",u.emit=void 0,u.name=t,u.rootContext=r,u.contextsChunk=n,u.originalError=a,u.emit=o,u.extendedParams=s,u}return o(t,e),t}(u(Error));function c(e){return"object"==typeof e&&e instanceof l}function d(e,t){return function(r){function n(n,i,o,a,s){return r.call(this,e,t,n,i,o,a,s)||this}return o(n,r),n}(l)}var p={handleEmit:function(e){console.error(e)},extendedParams:{}};function f(e,t){var r,i=n({},p,t),o=null!=(r=null==t?void 0:t.extendedParams)?r:{};return function(t,r){void 0===r&&(r={});var a=n({},o,r),s=Array.isArray(e)?e.reduce(function(e,r){var n=r.errorType,i=r.createMessagePostfix;return e[n]={errorClass:d(n,t),createMessagePostfix:i},e},{}):{},u=d("UnknownError",t),l=function(e,t){return function(r,i){return void 0===i&&(i={}),c(e+"/"+r,n({},t,i))}};function c(e,t){return void 0===t&&(t=a),{subcontext:l(e,t),feature:function(r,o){return void 0===o&&(o={}),function(e,t,r){return void 0===r&&(r={}),function(o,a,l){var c,d=s[o],p=null!=l&&l.originalError&&null!=d&&d.createMessagePostfix?d.createMessagePostfix(null==l?void 0:l.originalError):"",f=new(null!=(c=null==d?void 0:d.errorClass)?c:u)(t,t+"/"+e+": "+(a+p),function(e){void 0===e&&(e={});var t=n({},r,null==l?void 0:l.extendedParams,e);null==i.handleEmit||i.handleEmit(f,t)},null==l?void 0:l.originalError,null==l?void 0:l.extendedParams);return f.feature=e,f}}(r,e,n({},t,o))}}}return c(t)}}var h=r(59838);function m(e){var t,r;if(!e)return!1;let n=e;return"object"==typeof n&&"string"==typeof(null===(r=n.data)||void 0===r?void 0:null===(t=r.error)||void 0===t?void 0:t.type)}function g(e){if(!e)return!1;let t=e;return"object"==typeof t&&"string"==typeof t.data&&"object"==typeof t.meta&&"string"==typeof t.code}function _(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.message}let v="| ",y=e=>{try{if(_(e))return S(e);if("string"==typeof e)return v+e;return""}catch(e){return w()}};function b(e){return v+e.data.error.type}function x(e){let t=e.data;return h.Ym&&!window.navigator.onLine&&(t+=", offline,"),e.status&&(t+=", status: ".concat(e.status)),v+t}function S(e){return v+"".concat(e.name,": ").concat(e.message)}function w(){return v+"error in parsing of originalError"}let k=f([{errorType:"FrontendLogicError",createMessagePostfix:y},{errorType:"DataFromBrowserHandling",createMessagePostfix:y},{errorType:"BackendInteractionError",createMessagePostfix:e=>{try{if(!e)return v+"no original error";if(m(e))return b(e);if(g(e))return x(e);if(_(e))return S(e);return v+"unexpected original error"}catch(e){return w()}}},{errorType:"ExpectedBusinessFlowError"},{errorType:"AnalyticsError"}],{extendedParams:{isSSR:!h.Ym,projectName:"litres-frontend",logLevel:"error"},handleEmit:(e,t)=>{let{logLevel:r,...n}=t,i={tags:n,logLevel:r};e.originalError&&(i.contextProperties=["original error",O(e.originalError)]),(0,h.RY)(e,i)}}),E=k("General",{subdomain:"General"}),C=k("Acquisition",{subdomain:"Acquisition"}),T=k("Monetization",{subdomain:"Monetization"}),j=k("Navigation",{subdomain:"Navigation"}),A=k("Loyalty",{subdomain:"Loyalty"}),R=e=>c(e);function O(e){try{if(e instanceof Error)return{value:JSON.stringify(e,Object.getOwnPropertyNames(e))};return{value:JSON.stringify(e)}}catch(e){return{value:"Error stringifying original error object"}}}},76791:function(e,t,r){"use strict";r.d(t,{gn:function(){return l},zX:function(){return a},rb:function(){return s},bi:function(){return u}});var n=r(61794),i=r(62094),o=r(59838);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test",{search:r=""}=(0,i.TH)(),a=(0,n.CG)(e=>e.foundationUser.ab_tests);return Array.isArray(e)?e.map(e=>(0,o.iN)(a,e)===t||r.includes("test=".concat(e))):(0,o.iN)(a,e)===t||r.includes("test=".concat(e))}function s(e){return(0,n.CG)(e=>e.foundationUser.varioqubTests.flags)[e]}function u(e,t){let r=(0,n.CG)(e=>e.foundationUser.varioqubTests.flags),{search:o=""}=(0,i.TH)();return l(r,e,t,o)}let l=(e,t,r,n)=>{let i=e=>!!n&&n.includes("test=".concat(e));return Array.isArray(t)?t.map(t=>e[t]===r||i(t)):e[t]===r||i(t)}},62094:function(e,t,r){"use strict";r.d(t,{_n:function(){return L},NX:function(){return n},_H:function(){return v},TV:function(){return y},jU:function(){return s},Gc:function(){return w},O6:function(){return S},kC:function(){return g},wt:function(){return M},Vd:function(){return c.Z},Dz:function(){return P},OR:function(){return u},uH:function(){return R},sx:function(){return O.Z},LI:function(){return f},_:function(){return E},TH:function(){return d.Z},Lp:function(){return U},vI:function(){return p},y$:function(){return A},J7:function(){return B},Nn:function(){return D},oh:function(){return N},U3:function(){return F},dz:function(){return l}});var n,i=r(44194),o=r(77837),a=r.n(o);let s=!0;var u=function(e,t,r){let n=(0,i.useRef)();(0,i.useEffect)(()=>{let i=(null==r?void 0:r.current)||window;if(!(i&&i.addEventListener))return;n.current!==t&&(n.current=t);let o=e=>{n.current&&n.current(e)};return i.addEventListener(e,o),()=>{i.removeEventListener(e,o)}},[e,r,t])},l=()=>{let[e,t]=(0,i.useState)({width:s?window.innerWidth:1024,height:s?window.innerHeight:1024});return u("resize",a()(()=>{t({width:s?window.innerWidth:1024,height:s?window.innerHeight:1024})},200)),e},c=r(66110),d=r(74030);let p=e=>{let t=(0,i.useRef)(null),r=()=>(t.current||(t.current=document.createElement("div")),t.current),n=e=>{let t=document.createElement("div");return t.setAttribute("id",e),t},o=e=>{var t;document.body.insertBefore(e,(null===(t=document.body.lastElementChild)||void 0===t?void 0:t.nextElementSibling)||document.body.lastElementChild)};return(0,i.useEffect)(()=>{let r=document.querySelector("#".concat(e)),i=r||n(e);return r||o(i),t.current&&i.appendChild(t.current),()=>{t.current&&t.current.remove()}},[e]),r()},f=i.useLayoutEffect,h=700,m=1024;var g=()=>{let{width:e}=l();return{isMobile:e<h,isTablet:e>=h&&e<m,isDesktop:e>=m}};!function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop"}(n||(n={}));let _={mobile:[360,375,414],tablet:[700,1024],desktop:[1280,1366,1536,1600,1920]};function v(){return window.innerWidth<_.tablet[0]}function y(){return window.innerWidth>=_.tablet[0]&&window.innerWidth<_.desktop[0]}let b=[..._.mobile,..._.tablet,..._.desktop],x=e=>{if(e>1920)return[e,1920];let t=b.findIndex(t=>e<=t);return[b[t],b[t-1]||0]},S=()=>{let[e,t]=(0,i.useState)(1920),[r,n]=x(e);return(0,i.useEffect)(()=>{let e=()=>{t(window.innerWidth)};return t(window.innerWidth),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{currentWidth:e,upperLimit:{name:"breakpoint-".concat(r),value:r},lowerLimit:{name:"breakpoint-".concat(n),value:n}}};var w=e=>{let{upperLimit:{value:t}}=S();return(0,i.useMemo)(()=>t<=Number(e.split("-")[1]),[t])},k=r(59838);let E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,[r,n]=(0,i.useState)(()=>(0,k.fp)(e)||t);(0,i.useEffect)(()=>{n((0,k.fp)(e)||r)},[e]);let o=(0,i.useCallback)(t=>{try{let i=t instanceof Function?t(r):t;n(i),(0,k.m8)({[e]:i})}catch(e){console.log("useLocalStorage: saving store value error",e)}},[e,r]);return[r,o,(0,i.useCallback)(()=>{try{n(null),(0,k.bZ)(e)}catch(e){console.log("useLocalStorage: removing store value error",e)}},[e])]},C=(e,t)=>"local"===t?(0,k.fp)(e):(0,k.Kk)(e),T=(e,t,r)=>{"local"===r?(0,k.m8)({[e]:t}):(0,k.fe)({[e]:t})},j=(e,t)=>{"local"===t?(0,k.bZ)(e):(0,k.gk)(e)},A=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"local",[n,o]=(0,i.useState)(()=>C(e,r)||t);(0,i.useEffect)(()=>{o(C(e,r)||n)},[e,r]);let a=t=>{try{let i=t instanceof Function?t(n):t;o(i),T(e,i,r)}catch(e){console.log("useStorage: saving store value error",e)}};return[n,a,()=>{try{o(null),j(e,r)}catch(e){console.log("useStorage: removing store value error",e)}}]},R=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{e||t(!0)},[e]),e};var O=r(24557);function P(e,t){let r=()=>{let r="function"==typeof t?t():null!=t?t:null;if(!k.Ym)return r;let n=(0,k.ej)(e);if(n)try{return JSON.parse(n)}catch(e){}return r},[n,o]=(0,i.useState)(r);return[n,(t,r)=>{let n="string"==typeof t?t:JSON.stringify(t);(0,k.d8)(e,n,r),o(t)},t=>{var r;(0,k.kT)(e,void 0,null!==(r=null==t?void 0:t.path)&&void 0!==r?r:void 0),o(null)}]}let L="https://cdn.litres.ru",I=[30,40,50,500],N=e=>{let{hasAvatar:t,size:r,hash:n="",imageURL:o,defaultIcon:a,shouldShowAvatar:s,userId:u}=e,[l,c]=(0,i.useState)(a);return f(()=>{let e=()=>I.includes(r)?r:I.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e),i=(e,t)=>e.replace("$size",t.toString());c((()=>{if(!s)return a;if(o&&o.includes("$size"))return L+i(o,e());if(!t)return a;{let t=e(),r="".concat(L,"/pub/avatar/100/").concat(String(u).padStart(12,"0").substring(0,2),"/").concat(String(u).padStart(12,"0").substring(2,4),"/").concat(String(u).padStart(12,"0").substring(4,6),"/").concat(String(u).padStart(12,"0").substring(6,8),"/").concat(String(u).padStart(12,"0").substring(8,10),"/").concat(String(u).padStart(12,"0").substring(10,12),"/").concat(u,"_").concat(t,".jpg");return n?"".concat(r,"?v=").concat(n):r}})())},[u,t,r,n,o,s]),l},F=()=>{let[e,t]=(0,i.useState)("");return(0,i.useEffect)(()=>{if("OTPCredential"in window){let e=new AbortController,r=setTimeout(()=>{e.abort()},1e4),n=()=>{navigator.credentials.get({otp:{transport:["sms"]},signal:e.signal}).then(e=>{t((null==e?void 0:e.code)||"")}).catch(e=>{console.log(e)})};return window.addEventListener("DOMContentLoaded",n),()=>{window.removeEventListener("DOMContentLoaded",n),r&&clearTimeout(r)}}},[]),e},D=e=>{let[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!e.current)return;let t=e.current,n=()=>{let e=t.offsetWidth,n=0;t.childNodes.forEach(e=>{e instanceof HTMLElement&&(n+=e.offsetWidth)}),r(n>=e)};n();let i=new ResizeObserver(n);return i.observe(t),()=>{i.disconnect()}},[e]),t};var M=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{t(!1)},r=()=>{t(!0)};return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e};function U(e){let[t,r]=(0,i.useState)(1),n=t+1<=e.length,o=t-1>0,a=(0,i.useMemo)(()=>e[t-1],[t,e]),s=(0,i.useCallback)(t=>{let n=e.findIndex(e=>e===t)+1;if(n>=1&&n<=e.length){r(n);return}throw Error("Step not valid")},[e]);return[a,{goToNextStep:(0,i.useCallback)(()=>{n&&r(e=>e+1)},[n]),goToPrevStep:(0,i.useCallback)(()=>{o&&r(e=>e-1)},[o]),canGoToNextStep:n,canGoToPrevStep:o,setStep:s,reset:(0,i.useCallback)(()=>{r(1)},[])}]}function q(e,t){switch(t.type){case"advanceTime":{let{timeToAdd:r}=t.payload;return{...e,time:"DECREMENTAL"===e.timerType?e.time-r:e.time+r}}case"pause":return{...e,status:"PAUSED"};case"reset":return{...e,status:"STOPPED",time:t.payload.initialTime};case"set":return{...e,time:t.payload.newTime};case"start":{let{initialTime:r}=t.payload;return{...e,status:"RUNNING",time:"STOPPED"===e.status?r:e.time}}case"stop":return{...e,status:"STOPPED"};default:return e}}let B=function(){let{autostart:e=!1,endTime:t,initialStatus:r="STOPPED",initialTime:n=0,interval:o=1e3,onTimeOver:a,onTimeUpdate:s,step:u=1,timerType:l="INCREMENTAL"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[c,d]=(0,i.useReducer)(q,{status:r,time:n,timerType:l}),{status:p,time:f}=c,h=(0,i.useCallback)(e=>{d({type:"advanceTime",payload:{timeToAdd:e}})},[]),m=(0,i.useCallback)(()=>{d({type:"pause"})},[]),g=(0,i.useCallback)(()=>{d({type:"reset",payload:{initialTime:n}})},[n]),_=(0,i.useCallback)(()=>{d({type:"start",payload:{initialTime:n}})},[n]);return(0,i.useEffect)(()=>{e&&d({type:"start",payload:{initialTime:n}})},[e,n]),(0,i.useEffect)(()=>{"function"==typeof s&&s(f)},[f,s]),(0,i.useEffect)(()=>{"STOPPED"!==p&&f===t&&(d({type:"stop"}),"function"==typeof a&&a())},[t,a,f,p]),(0,i.useEffect)(()=>{let e=null;return"RUNNING"===p?e=setInterval(()=>{d({type:"set",payload:{newTime:"DECREMENTAL"===l?f-u:f+u}})},o):e&&clearInterval(e),()=>{e&&clearInterval(e)}},[p,u,l,o,f]),{advanceTime:h,pause:m,reset:g,start:_,status:p,time:f}}},36921:function(e,t,r){"use strict";class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}publish(e,t){if(!this.topics[e])return!1;let r=this.topics[e],n=r?r.length:0;for(;n--;)r[n].func(e,t);return this}subscribe(e,t){this.topics[e]||(this.topics[e]=[]);let r=(++this.subUid).toString();return this.topics[e].push({token:r,func:t}),r}unsubscribe(e,t){for(let r in this.topics)if(this.topics[r]){for(let n=0,i=this.topics[r].length;n<i;n++)if(this.topics[r][n].token===e&&r===t)return this.topics[r].splice(n,1),e}return this}unsubscribeAll(e){this.topics[e]=[]}constructor(){return this.topics={},this.subUid=-1,this}}t.Z=n.getInstance()},4438:function(e,t,r){"use strict";r.d(t,{uQ:function(){return l}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(2421),s=r.n(a);let u="https://cdn.litres.ru/assets/icons",l=e=>{let t;let r=(t,r,n)=>({WebkitMaskImage:"url(".concat(u,"/").concat(e.name).concat(n,".svg)"),maskImage:"url(".concat(u,"/").concat(e.name).concat(n,".svg)"),width:"".concat(t,"px"),height:"".concat(r,"px"),WebkitFlex:"0 0 ".concat(t,"px"),flex:"0 0 ".concat(t,"px")});return t="size"in e?r(e.size,e.size,"".concat(e.size)):r(e.width,e.height,""),(0,n.jsx)("div",{className:o()(s().icon,e.className),onClick:e.onClick,title:e.title,"data-testid":e["data-testid"]||"icon_".concat(e.name),style:t,role:"presentation"})}},88535:function(e,t,r){"use strict";r.d(t,{zU:function(){return v},Jl:function(){return x},Mz:function(){return b},f1:function(){return _}});var n,i=r(31549),o=r(44194),a=r(59838);!function(e){e.running="RUNNING",e.paused="PAUSED",e.stopped="STOPPED"}(n||(n={}));let s="timer-current",u="timer-status",l=86400,c=3600,d=60,p=60,f=24,h=16;class m{start(){this.status!==n.running&&(this.lastUpdatedTime=Date.now(),this.interval=setInterval(()=>{let e=Date.now(),t=e-this.lastUpdatedTime;this.lastUpdatedTime=e,this.time=this.time-t,this.time>0?(this.updateTime(this.time),this.status=n.running,this.setStatus(n.running)):this.reset(),(0,a.d8)(s,String(this.time)),(0,a.d8)(u,this.status)},h))}pause(){this.interval&&(clearInterval(this.interval),this.status=n.paused,this.setStatus(n.paused))}reset(){this.interval&&(clearInterval(this.interval),this.time=0,this.status=n.stopped,this.setStatus(n.stopped),this.updateTime(0))}setTime(e){this.time=e,this.updateTime(e)}setCallbacks(e){let{updateTime:t,setStatus:r}=e;this.updateTime=t,this.setStatus=r}constructor({updateTime:e,setStatus:t}){this.lastUpdatedTime=Date.now(),this.destroy=()=>{this.interval&&(clearInterval(this.interval),this.status=n.stopped,this.setStatus(n.stopped))},this.status=n.stopped,this.updateTime=e,this.setStatus=t,this.time=0}}let g=(0,o.createContext)({time:0,setTime:a.ZT,status:n.stopped,setStatus:a.ZT,start:a.ZT,pause:a.ZT,reset:a.ZT}),_=()=>(0,o.useContext)(g),v=e=>{let{children:t,name:r}=e,l=Number((0,a.ej)(s))||0,c=(0,a.ej)(u)||n.stopped,[d,p]=(0,o.useState)(l),[f,h]=(0,o.useState)(c),[_,v]=(0,o.useState)(),y=(0,o.useCallback)(()=>{_&&_.start()},[_]),b=(0,o.useCallback)(()=>{_&&_.pause()},[_]),x=(0,o.useCallback)(()=>{_&&_.reset()},[_]),S=(0,o.useCallback)(e=>{_&&_.setTime(e)},[_]);return(0,o.useEffect)(()=>{window.TimerManager||(window.TimerManager={}),window.TimerManager[r]?window.TimerManager[r].setCallbacks({updateTime:p,setStatus:h}):window.TimerManager[r]=new m({updateTime:p,setStatus:h}),v(window.TimerManager[r])},[]),(0,i.jsx)(g.Provider,{value:{time:d,setTime:S,status:f,setStatus:h,start:y,reset:x,pause:b},children:t})},y=e=>{let t=Math.floor(e/l)*f+Math.floor(e/c%f),r=Math.floor(e/d%p),n=Math.floor(e%d);return{hours:t<10?"0".concat(t):"".concat(t),minutes:r<10?"0".concat(r):"".concat(r),seconds:n<10?"0".concat(n):"".concat(n)}},b=(e,t)=>{if(e>=l){let t=Math.floor(e/l);return"".concat(t," ").concat((0,a.pd)(t,["день","дня","дней"]))}let r=y(e),n="";return Number(r.hours)&&(n+=t?"".concat(Number(r.hours),":"):"".concat(r.hours,":")),"".concat(n).concat(r.minutes,":").concat(r.seconds)},x=(e,t)=>b(e/1e3,t)},44731:function(e,t,r){"use strict";r.d(t,{a4:function(){return n},TM:function(){return g},UZ:function(){return _},ZP:function(){return v}});var n,i=r(59838),o=r(8555),a=r(11139);let s=e=>({eventUUID:(0,a.Z)(),eventTime:"".concat(Date.now()),retryCounter:0,eventType:e.eventType,params:{...e.params,...u(e.params)}}),u=e=>i.Ym&&(window.customReferrer||document.referrer)?{ref_url:window.customReferrer||document.referrer}:"ref_url"in e?{ref_url:e.ref_url}:{},l=()=>{if(i.Ym)switch(new URLSearchParams(window.location.search).get("clientHost")||window.location.host){case"www.litres.ru":return"ru";case"litres.uz":return"uz";case"litres.az":return"az";case"litres.de":return"de";case"litres-tr.com":return"tr";case"litres.com":return"com";case"litres.ee":return"ee";case"litres.es":return"es";case"litres.pl":return"pl";case"litres.ua":return"ua";default:return}},c=(e,t)=>{let{userID:r,isAutoreg:n,host:o,subscriptionUserStatus:a,deviceModel:s,abVariants:u,registrationDate:c,varioqubAbVariants:d,varioqubUserId:p}=t;return{ab_variants:u,device_model:s,event_date:e.eventTime,event_id:e.eventUUID,event_parameters:e.params,event_type:e.eventType,registration_date:c,host:o,host_region:l(),sid:(0,i.ej)("SID")||"",subscription_user_status:a,user_id:r,is_autoreg:n,varioqube_uid:p,varioqube_ab_variants:d,yametrika_id:(0,i.ej)("_ym_uid")}},d="https://api.litres.ru",p=e=>{let t=e.split("."),r=t.pop(),n=t.join("."),i=d.replace(/\.[^/.]+$/,"");return e.endsWith("litres-tr.com")?"".concat(i,"-tr.com"):r&&(n.includes("litres")||n.includes("fbhub"))?"".concat(i,".").concat(r):d},f=()=>({}).NEXT_PUBLIC_API_URL?"".concat({}.NEXT_PUBLIC_API_URL,"/tracker/api/event/"):i.Ym?"".concat(p(window.location.hostname),"/tracker/api/event/"):"".concat(d,"/tracker/api/event/"),h=new Set(["www.litres.ru","litres.uz","litres.az","litres-tr.com","litres.de","litres.com","litres.ee","litres.es","litres.pl","litres.ua"]);class m{static getInstance(){if(m.isInstanceOnWindow()){let e=window;m.instance=e.TM}return!m.instance&&(m.instance=new m,i.Ym&&(window.TM=m.instance,"complete"===document.readyState?m.instance.startSendEventsTimer():window.addEventListener("load",m.instance.startSendEventsTimer.bind(m.instance)),m.instance&&m.instance.setupUnloadHandler())),m.instance}setupUnloadHandler(){this.onUnloadCaller=new i.Hb(()=>{this.sendEventsFromQueueSync()}),this.onUnloadCaller.subscribe()}static isInstanceOnWindow(){return i.Ym&&!!window.TM}isSendingEventsAvailable(){if(!i.Ym)return!1;let e=!!(0,i.ej)("tracker");return(!this.configuration.isTester||!!e)&&(this.isTrackedHost||e||!!this.configuration.unittest)}setConfiguration(e){window.__IS_NEXT__?this.configuration={...this.configuration,...e}:i.Ym&&(this.configuration={...this.configuration,...e,host:i.HZ.test(window.navigator.userAgent)?"pda":"web"})}getConfiguration(){return this.configuration}sendEvent(e,t){if(this.isSendingEventsAvailable()){let e=s(t);this.queue.push(e),this.saveQueueToStorage()}else if(this.configuration.isTester){let e=c(s(t),this.configuration);this.printAnalyticsEventToConsole(e)}}sendEventTyped(e,t){this.sendEvent(null,{eventType:e,params:t})}sendEventSync(e){if(this.isSendingEventsAvailable()){let t=new Blob([JSON.stringify(c(s(e),this.configuration))],{type:"application/json"});try{navigator.sendBeacon(this.endpoint,t)}catch(e){console.log(e)}}else if(this.configuration.isTester){let t=c(s(e),this.configuration);this.printAnalyticsEventToConsole(t)}}async sendEventsFromQueue(){if(0!==this.queue.length&&!this.isSendingEventsFromQueue){this.isSendingEventsFromQueue=!0;for(let e=0;e<this.queue.length;e++){let t=this.queue[e];if(this.proceedingEventUUIDs.has(t.eventUUID))continue;this.proceedingEventUUIDs.add(t.eventUUID);let r=0,n=!1;for(;r<this.maxRetries&&!n;)try{await o.default.post(this.endpoint,c(t,this.configuration),{headers:{"Session-Id":(0,i.ej)("SID")||"","App-id":"115"}}),n=!0}catch(e){console.error("Analytics send failed for event '".concat(t,"' (attempt ").concat(r+1,")"),e),r++}n?(this.queue.splice(e,1),e--,this.saveQueueToStorage()):console.error("Max retries reached for event '".concat(t,"' (ID: ").concat(t.eventUUID,"), keeping event in queue."))}this.queue=[],this.saveQueueToStorage(),this.proceedingEventUUIDs.clear(),this.isSendingEventsFromQueue=!1}}startSendEventsTimer(){this.isSendingEventsFromQueue=!1,this.loadQueueFromStorage(),this.timer=setInterval(()=>this.sendEventsFromQueue(),this.sendingEventsInterval)}stop(){this.timer&&clearInterval(this.timer),this.sendEventsFromQueue()}sendEventsFromQueueSync(){if(0!==this.queue.length){for(let e=0;e<this.queue.length;e++){let t=this.queue[e];if(this.proceedingEventUUIDs.has(t.eventUUID))continue;this.proceedingEventUUIDs.add(t.eventUUID);let r=new Blob([JSON.stringify(c(t,this.configuration))],{type:"application/json"});try{navigator.sendBeacon(this.endpoint,r),this.queue.splice(e,1),e--,this.saveQueueToStorage()}catch(e){console.log(e)}}this.proceedingEventUUIDs.clear()}}loadQueueFromStorage(){let e=(0,i.Kk)(this.STORAGE_KEY);Array.isArray(e)&&(this.queue=e.concat(this.queue))}saveQueueToStorage(){(0,i.fe)({[this.STORAGE_KEY]:this.queue})}printAnalyticsEventToConsole(e){console.debug("ANALYTICS: %c".concat(e.event_type,"\n"),"font-weight: bold; color: #ff4c00;",e)}constructor(e=2e3,t=2){this.STORAGE_KEY="tracker_events",this.endpoint=f(),this.configuration={abVariants:{},deviceModel:"Unknown user agent",host:"web",userID:0,isTester:!1,subscriptionUserStatus:{subscription:"inactive",abonement:"inactive"},registrationDate:"Unknown registration date"},this.queue=[],this.isSendingEventsFromQueue=!1,this.sendingEventsInterval=e,this.maxRetries=t,this.proceedingEventUUIDs=new Set,this.isTrackedHost=i.Ym&&h.has(window.location.host)}}let g=m.getInstance();var _=m;!function(e){e.ppd="ppd",e.subscription_buy="subscription_buy",e.subscription_take="subscription_take",e.abonement_buy="abonement_buy",e.abonement_take="abonement_take"}(n||(n={}));var v=_},18370:function(e,t,r){"use strict";var n,i,o,a,s,u,l,c,d,p,f;r.d(t,{rs:function(){return s},g3:function(){return l},R7:function(){return f},lG:function(){return n},MZ:function(){return c},H$:function(){return p},lE:function(){return d},I6:function(){return i},ui:function(){return o},Us:function(){return a}}),function(e){e[e.text=0]="text",e[e.audio=1]="audio",e[e.pdf=4]="pdf",e[e.gift=10]="gift",e[e.gardner=11]="gardner",e[e.read=12]="read",e[e.ozonText=16]="ozonText",e[e.ozonAudio=17]="ozonAudio",e[e.olesiejukAudio=18]="olesiejukAudio",e[e.olesiejukText=19]="olesiejukText",e[e.podcast=22]="podcast",e[e.podcastEpisode=23]="podcastEpisode",e[e.epub=24]="epub",e[e.webtoon=25]="webtoon",e[e.webtoonChapter=26]="webtoonChapter"}(n||(n={})),function(e){e.author="author",e.translator="translator",e.agent="agent",e.painter="painter",e.compiler="compiler",e.narrator="narrator",e.reader="reader",e.performer="performer",e.vendor="vendor",e.editor="editor",e.actor="actor",e.director="director",e.producer="producer",e.composer="composer",e.sound_designer="sound_designer",e.publisher="publisher",e.screenwriter="screenwriter",e.rights_holder="rights_holder",e.layout_artist="layout_artist",e.adaptation="adaptation",e.dialogues="dialogues",e.concept="concept",e.review="review",e.foreword="foreword",e.afterword="afterword",e.accompanists="accompanists",e.citations="citations",e.annotation="annotation",e.related_to="related_to",e.commentator="commentator",e.consultant="consultant",e.corrector="corrector",e.scientific_advisor="scientific_advisor",e.probable_author="probable_author",e.designer="designer",e.letter_recipient="letter_recipient",e.sponsor="sponsor",e.photographer="photographer",e.other="other",e.not_defined="not_defined",e.chief_editor="chief_editor",e.member_of_editorial_board="member_of_editorial_board",e.responsible_editor="responsible_editor",e.co_author="co_author",e.illustrator="illustrator",e.cover_designer="cover_designer",e.lecturer="lecturer",e.literary_processing="literary_processing",e.comments="comments",e.notes="notes",e.text_preparation="text_preparation"}(i||(i={})),function(e){e.all="all",e.books="books",e.person="person",e.series="series",e.tag="tag",e.text_book="text_book",e.audiobook="audiobook",e.collection="collection",e.genre="genre",e.podcast_episode="podcast_episode",e.podcast="podcast",e.publisher="publisher",e.books_filtered_by_libraries="books_filtered_by_libraries"}(o||(o={})),function(e){e.arts="art_slider",e.persons="person_list",e.tags="tag_list",e.series="series_list"}(a||(a={})),function(e){e[e.all=0]="all",e[e.text=1]="text",e[e.audio=2]="audio",e[e.english=8]="english",e[e.printed=9]="printed",e[e.podcast=10]="podcast",e[e.podcast_episode=11]="podcast_episode",e[e.webtoon=12]="webtoon"}(s||(s={})),function(e){e[e.text=1]="text",e[e.audio=2]="audio",e[e.recommendation=3]="recommendation",e[e.listContext=4]="listContext"}(u||(u={})),function(e){e.popular="popular",e.new="new",e.series="series",e.written_at="written_at"}(l||(l={})),function(e){e.authenticationByPhone="authenticationByPhone",e.authenticationByEmail="authenticationByEmail",e.authenticationByApp="authenticationByApp",e.authenticationByOther="authenticationByOther",e.loginByEmail="loginByEmail",e.loginByPhonePassword="loginByPhonePassword",e.loginByPhoneOTP="loginByPhoneOTP",e.recoveryByOTP="recoveryByOTP",e.recoveryByEmailOTP="recoveryByEmailOTP",e.setPasswordPhone="setPasswordPhone",e.setPasswordEmail="setPasswordEmail",e.setPassword="setPassword",e.registration="registration",e.registrationSetPassword="registrationSetPassword",e.confirmRegistrationByEmail="confirmRegistrationByEmail",e.confirmEmailByOTP="confirmEmailByOTP",e.registrationByEmail="registrationByEmail",e.recoveryByLogin="recoveryByLogin",e.recoveryByEmail="recoveryByEmail",e.fallbackLogin="fallbackLogin"}(c||(c={})),function(e){e.email="email",e.phone="phone",e.password="pwd",e.code="code",e.otpin="otpin",e.regPassword="regPwd",e.regPasswordRepeat="regPwdRepeat",e.country="country",e.otpID="otpID",e.retryAfter="retryAfter",e.mailSubscriptionsAllowed="mailSubscriptionsAllowed",e.newPassword="newPwd",e.newPasswordRepeat="newPwdRepeat"}(d||(d={})),function(e){e.init="init",e.confirm="confirm"}(p||(p={})),function(e){e.artSlider="art_slider",e.genreBlock="genre_block",e.genreSlider="genre_slider",e.editorialCollections="editorial_collections",e.collectionsSlider="collections_slider",e.quotesSlider="quotes_slider",e.banners="banners",e.connectToLibrary="connect-to-library",e.ourPartners="our-partners",e.authorsSlider="authors_slider",e.exclusiveBanners="exclusive_banners",e.tagsList="tags_list",e.genresList="genres_list",e.genresSliderSecondary="genres_slider_secondary",e.nextArtInSeries="next_art_in_series",e.artRating="art_rating",e.singleArtSlider="single_art_slider",e.promotional="promotional"}(f||(f={}))},59497:function(e,t,r){"use strict";r.d(t,{K:function(){return d},m:function(){return m}});var n=r(31549),i=r(44194),o=r(35393),a=r(25868);let s=a.uc.subcontext("CaptchaErrorContext").feature("CaptchaError"),u="6Lcg05ooAAAAAOEqySkltXch1UOeWXXuuEY9QVz1",l=(0,i.createContext)(null);function c(){let e=(0,i.useContext)(l);if(!e)throw s("FrontendLogicError","useCaptchaContext must be used within a CaptchaContext provider");return e}let d=e=>{let{children:t}=e,r=e=>{(0,a.HA)(e)&&"CaptchaError"===e.feature&&s("ExpectedBusinessFlowError","ReCaptcha error boundary",{originalError:e}).emit()};return(0,i.useEffect)(()=>{let e="google-recaptcha-script",t="https://www.google.com/recaptcha/enterprise.js?render=".concat(u);if(document.getElementById(e))return;let r=document.createElement("script");return r.id=e,r.src=t,r.async=!0,r.defer=!0,document.head.appendChild(r),()=>{let t=document.getElementById(e);t&&t.remove()}},[]),(0,n.jsx)(o.SV,{fallback:null,onError:r,children:(0,n.jsx)(l.Provider,{value:u,children:t})})};var p=r(59838),f=r(61794);let h="recaptcha_jwt_token";function m(){let[e]=f.iJ.useCaptchaCheckMutation(),t=c();return{checkRecaptcha:async()=>{try{var r,n;let i=await (null===(n=window.grecaptcha)||void 0===n?void 0:null===(r=n.enterprise)||void 0===r?void 0:r.execute(t,{action:"send_otp"})),{token:o}=await e({answer:i}).unwrap();return(0,p.d8)(h,o,{expires:new Date(Date.now()+12e4)}),o}catch(e){throw s("ExpectedBusinessFlowError","Captcha check error",{originalError:e})}}}}},83278:function(e,t,r){"use strict";r.d(t,{BU:function(){return D},WQ:function(){return G},GS:function(){return x.G},i7:function(){return g.i},EI:function(){return W.E},W8:function(){return $}});var n=r(31549),i=r(44194),o=r(62094),a=r(59838);let s={mfaOtpId:"",address:"",type:"otp_phone",codeBefore:"",otpIdBefore:""},u=(0,i.createContext)({setMfaInfo:a.ZT,mfaInfo:s});function l(){return(0,i.useContext)(u)}function c(e){let{children:t}=e,[r,o]=(0,i.useState)(s),a={mfaInfo:r,setMfaInfo:o};return(0,n.jsx)(u.Provider,{value:a,children:t})}var d=r(61794),p=r(48592),f=r(96780),h=r(55714),m=r(12285),g=r(95338),_=r(98877),v=r(28334),y=r(91653),b=r(83528),x=r(62190);function S(){let e=l();return[{mfaInfo:e.mfaInfo},{setMfaInfo:e.setMfaInfo}]}let w=r(25868).uc.subcontext("MFAOTPErrorContext");w.feature("MFAOTPError");let k=w.feature("MFAOTPConfirmPhonePopupError"),E=w.feature("MFAOTPConfirmEmailPopupError");var C=r(24345),T=r.n(C);let j=e=>{let{toConfirm:t,onSuccess:r=a.ZT,onFailure:o=a.ZT,onClose:s=a.ZT}=e,{t:u}=(0,p.$G)(),l=(0,i.useRef)(null),[c]=d.iJ.useOtpCheckMutation(),[{isSendOtpLoading:x,otpId:w},{sendPhoneOTP:C,sendEmailOTP:j}]=(0,g.i)(),[{mfaInfo:A}]=S(),[R,{isLoading:O}]=d.r7.useSetUserPhoneMutation(),[P,{isLoading:L}]=d.r7.useSetUserEmailMutation(),{phoneNumberCountryCode:I}=(0,m.P)(),[N,F]=(0,i.useState)(),[D,M]=(0,i.useState)(),U=()=>{if(!w&&!A.mfaOtpId){("phone"===t?k:E)("FrontendLogicError","Invalid state for MFA OTP Id").emit(),o();return}c({otp_id:w||A.mfaOtpId,otp_type:"otp_email"===A.type?"email":"sms",code:N}).unwrap().then(()=>{"phone"===t?R({otp_id:A.otpIdBefore,code:A.codeBefore}).unwrap().then(()=>{r()}).catch(e=>{k("BackendInteractionError","Couldn't set phone after successful MFA OTP check",e).emit(),o()}):P({otp_id:A.otpIdBefore,code:A.codeBefore,mail_subscriptions_allowed:!!A.isMailSubscriptionsAllowed}).unwrap().then(r).catch(e=>{E("BackendInteractionError","Couldn't set email after successful MFA OTP check",e).emit(),o()})}).catch(e=>{(null==e?void 0:e.status)===401?M("Неверный код, попробуйте еще раз"):("phone"===t?k:E)("FrontendLogicError","Check OTP code error",e).emit(),o()})},q=e=>{M(void 0),F(e)},B=()=>{F(void 0),M(void 0),"otp_phone"===A.type?C(A.address,I):"otp_email"===A.type&&j(A.address)};return(0,n.jsxs)(_.ModalStep,{isOpen:!0,closeOnClickOutside:!0,onClose:s,children:[(0,n.jsx)(v.p,{children:u("Ввести код")}),(0,n.jsxs)("div",{className:T().wrapper,children:[(x||O||L)&&(0,n.jsx)("div",{className:T().loading,children:(0,n.jsx)(f.$,{})}),(0,n.jsxs)("div",{className:T().description,ref:l,children:["phone"===t&&"otp_email"===A.type&&(0,n.jsx)(p.cC,{i18nKey:"Для изменения телефона, в целях безопасности, мы отправили код подтверждения на почту <strong>{email}</strong>. Введите его для подтверждения.<br /><br />Если у вас нет доступа к почте, напишите в поддержку <linkTag>help@litres.ru</linkTag>",values:{email:A.address},components:{linkTag:(0,n.jsx)(h.Fg,{href:"mailto:help@litres.ru",onClick:a.ZT}),br:(0,n.jsx)("br",{})}}),"email"===t&&"otp_email"===A.type&&(0,n.jsx)(p.cC,{i18nKey:"Для изменения почты, в целях безопасности, отправили письмо с кодом на <strong>{email}</strong>. Введите его для подтверждения.<br /><br />Если у вас нет доступа к почте, напишите в поддержку <linkTag>help@litres.ru</linkTag>",values:{email:A.address},components:{linkTag:(0,n.jsx)(h.Fg,{href:"mailto:help@litres.ru",onClick:a.ZT}),br:(0,n.jsx)("br",{})}}),"phone"===t&&"otp_phone"===A.type&&(0,n.jsx)(p.cC,{i18nKey:"Для изменения номера телефона, в целях безопасности, мы отправили код подтверждения на ваш текущий номер <strong>{phone}</strong>",values:{email:A.address}}),"email"===t&&"otp_phone"===A.type&&(0,n.jsx)(p.cC,{i18nKey:"Для изменения почты, в целях безопасности, мы отправили код подтверждения на номер <strong>{phone}</strong>",values:{phone:A.address}})]}),(0,n.jsx)(y.t,{onSubmit:U,onChange:q,initialData:{},errorText:D||null}),(0,n.jsx)(b.p,{onReset:B,onHaveNoOTPCodeClick:a.ZT})]})]})},A=e=>(0,n.jsx)(x.G,{children:(0,n.jsx)(j,{...e})});var R=r(51865),O=r.n(R);let P=r(29742).K.feature("OTPConfirmEmailPopupError");var L=r(65714),I=r.n(L);let N=e=>{let{email:t,isMailSubscriptionsAllowed:r,onClose:s=a.ZT,onSuccess:u=a.ZT,onBackClick:l,onMFA:c}=e,h=(0,i.useRef)(null),m=(0,o.Nn)(h),[x,w]=(0,i.useState)(),[k,E]=(0,i.useState)(),[{isSendOtpLoading:C,otpId:T},{sendEmailOTP:j}]=(0,g.i)(),{t:A}=(0,p.$G)(),[R,{isLoading:L}]=d.r7.useSetUserEmailMutation(),[,{setMfaInfo:N}]=S(),[F]=d.iJ.useLazyGetMFAInfoQuery(),D=e=>{E(void 0),w(e)},M=()=>{w(void 0),E(void 0),j(t).catch(e=>{P("FrontendLogicError","Send email OTP error",e).emit()})},U=()=>{if(!T){P("FrontendLogicError","Invalid state for OTP Id").emit();return}R({otp_id:T,code:x,mail_subscriptions_allowed:r}).unwrap().then(()=>{u()}).catch(e=>{if((null==e?void 0:e.status)===401){var t,n;if(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.headers["mfa-required"]){F(null==e?void 0:null===(n=e.meta)||void 0===n?void 0:n.headers["mfa-required"]).unwrap().then(e=>{let{address:t,otp_id:n,type:i}=e;N({mfaOtpId:n,address:t,type:i,codeBefore:x,otpIdBefore:T,isMailSubscriptionsAllowed:r}),c(),w("")}).catch(()=>{P("FrontendLogicError","Get MFA info error",e).emit()});return}E("Неверный код, попробуйте еще раз")}else(null==e?void 0:e.status)===400&&(null==e?void 0:e.data.error.type)==="UserEmailAlreadyTaken"?E(A("Эта почта привязана к другому аккаунту")):P("FrontendLogicError","Check OTP code error",e).emit()})};return(0,n.jsxs)(_.ModalStep,{isOpen:!0,isShowBack:!!l,onBackClick:l,closeOnClickOutside:!0,onClose:s,children:[(0,n.jsx)(v.p,{children:A("Ввести код")}),(0,n.jsxs)("div",{className:I().wrapper,children:[C||L&&(0,n.jsx)("div",{className:I().loading,children:(0,n.jsx)(f.$,{})}),(0,n.jsx)("div",{className:I().description,ref:h,children:(0,n.jsx)(p.cC,{i18nKey:"Мы отправили письмо с кодом на <strong>{email}</strong>. Введите его для подтверждения почты.",defaults:"Мы отправили письмо с кодом на <strong>{email}</strong>. Введите его для подтверждения почты.",components:{strong:(0,n.jsx)("strong",{title:m?t:"",className:O()({[I().truncated]:m},I().description)})},values:{email:t}})}),(0,n.jsx)(y.t,{onSubmit:U,onChange:D,initialData:{email:t},errorText:k||null}),(0,n.jsx)(b.p,{onReset:M,onHaveNoOTPCodeClick:a.ZT})]})]})},F=e=>{let[t,{setStep:r}]=(0,o.Lp)(["otp","mfa-otp"]);return"otp"===t?(0,n.jsx)(N,{...e,onMFA:()=>{r("mfa-otp")}}):(0,n.jsx)(A,{toConfirm:"email",onSuccess:e.onSuccess,onClose:e.onClose})},D=e=>(0,n.jsx)(c,{children:(0,n.jsx)(F,{...e})});var M=r(33206),U=r(5857),q=r.n(U);let B=e=>{let{phone:t,countryCode:r,onMFA:o,onSuccess:s,onFailure:u=a.ZT,onClose:l,onBackClick:c}=e,[h,m]=(0,i.useState)(""),[x,w]=(0,i.useState)(),[k]=d.iJ.useLazyGetMFAInfoQuery(),[E,{isLoading:C}]=d.r7.useSetUserPhoneMutation(),[{isSendOtpLoading:T,otpId:j},{sendPhoneOTP:A}]=(0,g.i)(),[,{setMfaInfo:R}]=S(),{t:O}=(0,p.$G)(),P=(0,i.useRef)(null),L=()=>{if(!j){(0,M.C)("FrontendLogicError","Invalid state for OTP Id").emit(),u();return}E({otp_id:j,code:h}).unwrap().then(s).catch(e=>{if((null==e?void 0:e.status)===401){var t,r;if(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.headers["mfa-required"]){k(null==e?void 0:null===(r=e.meta)||void 0===r?void 0:r.headers["mfa-required"]).unwrap().then(e=>{let{address:t,otp_id:r,type:n}=e;R({mfaOtpId:r,address:t,type:n,codeBefore:h,otpIdBefore:j}),o(),m("")}).catch(()=>{(0,M.C)("FrontendLogicError","Get MFA info error",e).emit(),u()});return}w("Неверный код, попробуйте еще раз"),u()}})},I=()=>{m(""),w(void 0),A(t,r)},N=e=>{w(void 0),m(e)};return(0,n.jsxs)(_.ModalStep,{isOpen:!0,isShowBack:!!c,onBackClick:c,closeOnClickOutside:!0,onClose:l,children:[(0,n.jsx)(v.p,{children:O("Ввести код")}),(0,n.jsxs)("div",{className:q().wrapper,children:[(T||C)&&(0,n.jsx)("div",{className:q().loading,children:(0,n.jsx)(f.$,{})}),(0,n.jsxs)("div",{className:q().description,ref:P,children:[O("Мы отправили код в SMS на номер"),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:t})})]}),(0,n.jsx)(y.t,{onSubmit:L,onChange:N,initialData:{phone:t},errorText:x||null}),(0,n.jsx)(b.p,{onReset:I,onHaveNoOTPCodeClick:a.ZT})]})]})},z=e=>{let{phone:t,countryCode:r="RU",onClose:i=a.ZT,onSuccess:s=a.ZT,onFailure:u=a.ZT,onBackClick:l}=e,[c,{setStep:d}]=(0,o.Lp)(["otp","mfa-otp"]);return"otp"===c?(0,n.jsx)(B,{phone:t,countryCode:r,onMFA:()=>{d("mfa-otp")},onSuccess:s,onFailure:u,onClose:i,onBackClick:l}):(0,n.jsx)(A,{toConfirm:"phone",onSuccess:s,onFailure:u,onClose:i})},G=e=>(0,n.jsx)(c,{children:(0,n.jsx)(z,{...e})});var W=r(20147);function $(e){(0,i.useEffect)(()=>{e&&(0,a.ej)("otp-cascade-key")!==e&&(0,a.d8)("otp-cascade-key",e,{"max-age":604800})},[e])}},33206:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});let n=r(29742).K.feature("OTPConfirmPhonePopupError")},20147:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});var n=r(59838);function i(){return(0,n.ej)("otp-cascade-key")}},29742:function(e,t,r){"use strict";r.d(t,{K:function(){return n},x:function(){return i}});let n=r(25868).uc.subcontext("OTPErrorContext"),i=n.feature("OTPError")},62190:function(e,t,r){"use strict";r.d(t,{G:function(){return u},L:function(){return s}});var n=r(31549),i=r(44194),o=r(59838);let a=(0,i.createContext)({setOTPId:o.ZT,setRetryAfterSeconds:o.ZT,resetRetryAfterSeconds:o.ZT});function s(){return(0,i.useContext)(a)}function u(e){let{children:t}=e,[r,o]=(0,i.useState)(),[s,u]=(0,i.useState)(),l=()=>{u(0)},c={otpId:r,setOTPId:o,retryAfterSeconds:s,setRetryAfterSeconds:u,resetRetryAfterSeconds:l};return(0,n.jsx)(a.Provider,{value:c,children:t})}},95338:function(e,t,r){"use strict";r.d(t,{i:function(){return u}});var n=r(61794),i=r(59838),o=r(62190),a=r(29742),s=r(20147);function u(){let e=(0,o.L)(),[t,{isLoading:r}]=n.iJ.useSendOTPcodeMutation(),u=(0,s.E)(),l=r=>t({login:r,otpCascadeKey:u||void 0}).unwrap().then(t=>{let{otp_id:r,retry_counter:n}=t;e.setOTPId(r),n&&e.setRetryAfterSeconds(Number(n))}).catch(t=>{var r,n;if((null==t?void 0:t.status)===429&&(null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.headers["retry-after"]))throw e.setRetryAfterSeconds(Number(null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.headers["retry-after"])),t;throw(0,a.x)("FrontendLogicError","Send email OTP error",t)}),c=(r,n)=>t({login:(0,i.z6)(r),country_code:n}).unwrap().then(t=>{let{otp_id:r,retry_counter:n}=t;e.setOTPId(r),n&&e.setRetryAfterSeconds(Number(n))}).catch(t=>{var r,n;if((null==t?void 0:t.status)===429&&(null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.headers["retry-after"]))throw e.setRetryAfterSeconds(Number(null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.headers["retry-after"])),t;throw(0,a.x)("FrontendLogicError","Send phone OTP error",t)});return[{otpId:e.otpId,retryAfterSeconds:e.retryAfterSeconds,isSendOtpLoading:r},{sendEmailOTP:l,sendPhoneOTP:c,resetRetryAfterSeconds:e.resetRetryAfterSeconds}]}},83528:function(e,t,r){"use strict";r.d(t,{p:function(){return h}});var n=r(31549),i=r(44194),o=r(59838),a=r(48592),s=r(39319),u=r(88535),l=r(55714),c=r(62094),d=r(62190),p=r(38606),f=r.n(p);let h=e=>{let{onReset:t=o.ZT,onHaveNoOTPCodeClick:r}=e,{retryAfterSeconds:p,setOTPId:h,setRetryAfterSeconds:m}=(0,d.L)(),{t:g}=(0,a.$G)(),{time:_,reset:v}=(0,c.J7)({autostart:!0,initialTime:null!=p?p:0,endTime:0,timerType:"DECREMENTAL"}),y=()=>{h(void 0),m(0),v(),t()};return(0,i.useEffect)(()=>()=>{m(0),v()},[]),(0,n.jsxs)("div",{className:f().counter,children:[_>0?(0,n.jsxs)("div",{className:f().counter__text,children:[g("Получить новый код можно через")," ",(0,n.jsx)("strong",{children:(0,u.Mz)(_)})]}):(0,n.jsx)("div",{className:f().counter__button,children:(0,n.jsx)(s.z,{mode:"secondary",size:"medium",text:g("Отправить еще код"),onClick:y,fullWidth:!0})}),(0,n.jsx)(l.Fg,{onClick:r,href:"//litres.helpdeskeddy.com/ru/knowledge_base/art/541/cat/49/kak-vojti-v-akkaunt",target:"_blank",rel:"noreferrer",children:g("Не приходит код?")})]})}},91653:function(e,t,r){"use strict";r.d(t,{t:function(){return m}});var n=r(31549),i=r(44194),o=r(59838),a=r(76996),s=r(99038),u=r(18370),l=r(62094),c=r(48592),d=r(1653);let p=e=>{var t,r;let{placeholder:i,className:s,onChangeValue:u=o.ZT,isPassword:l=!1,autoFocus:p,autoComplete:f,rules:h,disableError:m,errorMessage:g,transformValue:_,...v}=e,{t:y}=(0,c.$G)(),{field:b,fieldState:x}=(0,a.bc)({...v,shouldUnregister:!0,rules:{required:null==h?void 0:h.required,maxLength:{value:70,message:y("Введите не больше 70 символов")},minLength:{value:5,message:y("Введите не меньше 5 символов")},...h||{}}}),S=e=>{let t=_?_(e.target.value):e.target.value;b.onChange(t),u(t)},w=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())};return(0,n.jsx)(d.F5,{...b,placeholder:i,onChange:S,onKeyUp:w,autoFocus:p,autoComplete:f,controlMode:l?d.S1.password:d.S1.text,className:s,error:!m&&x.invalid?null!==(r=null===(t=x.error)||void 0===t?void 0:t.message)&&void 0!==r?r:y("Некорректное значение"):g,"data-testid":v.e2eId,id:v.id,type:v.type})};var f=r(36876),h=r.n(f);let m=e=>{var t,r;let{initialData:c,errorText:d,onSubmit:f=o.ZT,onChange:m}=e,g=(0,l.U3)(),{formState:_,control:v,handleSubmit:y,setError:b,clearErrors:x}=(0,a.cI)({defaultValues:c||{}}),S=e=>{e!==(null==c?void 0:c.code)&&m(e)};return(0,i.useEffect)(()=>{d?b("otp_id",{type:"custom",message:d}):x()},[d,b,x]),(0,n.jsx)("form",{onSubmit:y(f),children:(0,n.jsxs)("div",{className:h().outerContainer,children:[(0,n.jsx)(p,{name:u.lE.code,control:v,rules:{validate:()=>!d||d,minLength:{value:-1,message:""}},className:h().hidden,disableError:!0}),(0,n.jsx)(s.N,{code:(null==c?void 0:c.code)||g,onChange:S,onFilled:()=>y(f)(),errorMessage:"string"==typeof(null===(t=_.errors.otp_code)||void 0===t?void 0:t.message)?(null===(r=_.errors.otp_code)||void 0===r?void 0:r.message)||d||"":d||"",shouldAutoFocus:!0})]})})}},79094:function(e,t,r){"use strict";r.d(t,{B:function(){return u}});var n=r(31549);r(44194);var i=r(59838),o=r(76996),a=r(48592),s=r(1653);let u=e=>{var t,r;let{placeholder:u,className:l,onChangeValue:c=i.ZT,isPassword:d=!1,autoFocus:p,autoComplete:f,rules:h,disableError:m,errorMessage:g,transformValue:_,...v}=e,{t:y}=(0,a.$G)(),{field:b,fieldState:x}=(0,o.bc)({...v,shouldUnregister:!0,rules:{required:null==h?void 0:h.required,maxLength:{value:70,message:y("Введите не больше 70 символов")},minLength:{value:5,message:y("Введите не меньше 5 символов")},...h||{}}}),S=e=>{let t=_?_(e.target.value):e.target.value;b.onChange(t),c(t)},w=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())};return(0,n.jsx)(s.F5,{...b,placeholder:u,onChange:S,onKeyUp:w,autoFocus:p,autoComplete:f,controlMode:d?s.S1.password:s.S1.text,className:l,error:!m&&x.invalid?null!==(r=null===(t=x.error)||void 0===t?void 0:t.message)&&void 0!==r?r:y("Некорректное значение"):g,"data-testid":v.e2eId,id:v.id,type:v.type})}},7413:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(31549);r(44194);var i=r(48592),o=r(55714),a=r(82140),s=r.n(a),u=r(56733);let l=()=>{let{terms:e,policy:t}=(0,u.B)();return(0,n.jsx)("div",{className:s().terms,"data-testid":"auth--agreementonPersonalData",children:(0,n.jsx)(i.cC,{i18nKey:'При входе на ресурс вы принимаете <a href="{terms}" target="_blank">публичную оферту</a> и <a href="{policy}" target="_blank">обработку персональных данных</a>',defaults:'При входе на ресурс вы принимаете <a href="{terms}" target="_blank">публичную оферту</a> и <a href="{policy}" target="_blank">обработку персональных данных</a>',components:{a:(0,n.jsx)(o.Fg,{})},values:{terms:e,policy:t}})})}},56733:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(61794),i=r(59838);let o={[i.pF.ru]:{policy:"/static/litres/inc/ru/privacy_policy.html",terms:"/pages/litres_oferta",mailSubscriptionAgreement:"/static/litres/inc/ru/receive_newsletters.html"},[i.pF.tr]:{policy:"/static/litres/inc/tr/privacy_policy.html",terms:"/pages/cms/?page=13777",mailSubscriptionAgreement:"/pages/litres_oferta"}},a=()=>o[(0,n.CG)(e=>e.face.language||i.pF.ru)]||o[i.pF.ru]},98877:function(e,t,r){"use strict";r.r(t),r.d(t,{ControlledInput:function(){return ev.B},EAuthBy:function(){return i},ESocials:function(){return n},ESuccessMode:function(){return o},ModalStep:function(){return th},ModalWrapper:function(){return tm},OTP_DISABLED_ERROR_MESSAGE:function(){return ex},default:function(){return tl},getMailLink:function(){return x},getPhoneForFetch:function(){return b},isEmailValid:function(){return v},isOTPPinValid:function(){return y},setAuthCookie:function(){return _},useFirstRefreshPageAfterAuth:function(){return tc},useIsUserAuthenticated:function(){return em},useLogin:function(){return eB}});var n,i,o,a,s,u=r(31549),l=r(44194),c=r(88535),d=r(59838),p=r(18370),f=r(61794),h=r(48592),m=r(7956);let g=600;function _(){(0,d.d8)("checkOldUserReminder","true",{"max-age":g})}let v=e=>!!e&&(0,m.Z_)().email().isValidSync(e),y=e=>(0,m.Z_)().matches(/\d/).isValidSync(e),b=e=>e.replace(/\s|\+|_/g,""),x=e=>{let t={"mail.ru":"https://e.mail.ru/login","inbox.ru":"https://e.mail.ru/login","list.ru":"https://e.mail.ru/login","bk.ru":"https://e.mail.ru/login","gmail.com":"https://mail.google.com","yandex.ru":"https://mail.yandex.ru","rambler.ru":"https://mail.rambler.ru","yahoo.com":"https://login.yahoo.com","outlook.com":"https://office.live.com"},r=e.split("@")[1];for(let e in t)if(r===e)return t[e]};var S=r(83278);let w="litres_ab_tests",k={isMobile:!1,isOauth:!1,isLibrary:!1,showSocials:!0,showEmailButton:!0,showPhoneButton:!0,showLitresTerms:!0,showAppLoginButton:!0,hidePopup:d.ZT,onClosePopup:d.ZT,onSetPhoneSuccess:d.ZT,sendPhoneOTP:d.ZT,sendEmailOTP:d.ZT,isSendOTPLoading:!1,oAuthClientName:"",submitOAuthScopesPermission:d.ZT,setBackendErrorCode:d.ZT,backendErrorMessage:null,oAuthScopesList:[{name:"",description:""}]},E=(0,l.createContext)(k),C=()=>(0,l.useContext)(E),T=e=>{let{value:t,children:r,onAuthSuccess:n}=e,i=(0,f.TL)(),{t:o}=(0,h.$G)(),a=(0,f.CG)(e=>e.foundationUser),s=(0,f.CG)(e=>e.browser),m=(0,f.CG)(e=>e.global.auth.activeStep),g=(0,f.CG)(e=>e.global.interface.loginPopupError),v=s.headers["client-host"],[y,{data:x}]=f.r7.useLazyGetUserDataQuery(),[k]=f.iJ.useGetOneTimeSidMutation(),C=()=>{var e,r;if(m===p.MZ.setPasswordPhone||m===p.MZ.setPasswordEmail||m===p.MZ.setPassword||m===p.MZ.registrationSetPassword){_(),F(a.SID);return}i(f.hi.global.auth.resetState()),null==g||null===(e=g.onHide)||void 0===e||e.call(g),null===(r=t.hidePopup)||void 0===r||r.call(t)},T=()=>{var e;null==g||null===(e=g.onClosePopup)||void 0===e||e.call(g)},{start:j,setTime:A,reset:R}=(0,c.f1)(),[O,{isLoading:P}]=f.iJ.useSendOTPcodeMutation(),L=(0,S.EI)(),I=(e,t)=>{O({login:e,otpCascadeKey:L||void 0}).unwrap().then(e=>{let{otp_id:r,retry_counter:n}=e;i(f.hi.global.auth.setFormData({otpID:r})),R(),i(f.hi.global.auth.setRateLimitError(!1)),A(1e3*Number(n)),j(),null==t||t(200)}).catch(e=>{let{status:r,meta:n}=e;429==r&&(R(),A(1e3*Number(n.headers["retry-after"])),j()),null==t||t(r)})},N=(e,t,r)=>{let n=async()=>{try{await O({login:b(e),country_code:t,otpCascadeKey:L||void 0}).unwrap().then(e=>{let{otp_id:t,retry_counter:n}=e;i(f.hi.global.auth.setFormData({otpID:t})),R(),i(f.hi.global.auth.setRateLimitError(!1)),A(1e3*Number(n)),j(),r(200)}).catch(e=>{let{status:t,meta:n}=e;R(),A(1e3*Number(n.headers["retry-after"])),j(),r(t)})}catch(e){r(e.status||500)}};O({login:b(e),country_code:t,otpCascadeKey:L||void 0}).unwrap().then(e=>{let{otp_id:t,retry_counter:n}=e;i(f.hi.global.auth.setFormData({otpID:t})),R(),A(1e3*Number(n)),j(),r(200)}).catch(async i=>{let{status:o,meta:a}=i;429==o?a.headers["captcha-required"]?await n():(R(),A(1e3*Number(a.headers["retry-after"])),j(),r(o)):(400===o&&a.headers["captcha-required"]&&(0,d.RY)("ReCaptcha Invalid token (400)",{contextProperties:["REQUEST_PARAMS",{phone:b(e),country_code:t}]}),r(o))})},F=e=>{if(e){let t=5184e3;(0,d.d8)("SID",e,{"max-age":t}),(0,d.kT)(w),i(f.hi.foundationUser.setUserSID({SID:e})),i(f.hi.browser.setHeader(["Session-Id",e])),y({SID:e}).unwrap().then(e=>{if(e&&!a.actions.teleport_CSRF.response){let t=e.library_info;t.is_school_user&&t.host&&t.host!==v?i(f.hi.foundationUser.teleport_CSRF({data:{host:t.host}})):(C(),n?n():(0,d.BD)(null==g?void 0:g.urlParams,[]))}})}else{var r;null==t||null===(r=t.hidePopup)||void 0===r||r.call(t),n?n():(0,d.BD)(null==g?void 0:g.urlParams,[])}(0,d.d8)("firstUpdatedPageAfterAuth","".concat(window.location.pathname).concat(window.location.search),{expires:0}),(0,d.kT)("redeemed_promocode_jwt")};(0,l.useEffect)(()=>{var e;if((null===(e=a.actions.teleport_CSRF.error)||void 0===e?void 0:e.title)||!a.actions.teleport_CSRF.response)return;let t=new URLSearchParams(window.location.search);if(null==g?void 0:g.urlParams)for(let[e,r]of Object.entries(g.urlParams))t.set(e,r);(0,d.vV)({teleportData:a.actions.teleport_CSRF.response,getNewStackOneTimeSid:()=>k().unwrap(),redirectionPathname:window.location.pathname,redirectionSearchParams:t}).catch(e=>{console.error(e)})},[a,x]),(0,l.useEffect)(()=>()=>{var e;null==g||null===(e=g.onHide)||void 0===e||e.call(g),i(f.hi.global.auth.resetState())},[i,g]);let[D,M]=(0,l.useState)(null),U=e=>{if("ERR_NETWORK"===e){M(o("Проверьте подключение к интернету и попробуйте снова."));return}if(e){M('Произошла ошибка. Попробуйте снова. Если проблема сохраняется, свяжитесь с поддержкой: <a href="mailto:{mail}">{mail}</a>');return}M(null)};(0,l.useEffect)(()=>{M(null)},[m]);let q={...t,onAuthSuccess:F,sendPhoneOTP:N,sendEmailOTP:I,hidePopup:C,onClosePopup:T,setBackendErrorCode:U,backendErrorMessage:D,isSendOTPLoading:P};return(0,u.jsx)(E.Provider,{value:q,children:r})};var j=r(51865),A=r.n(j),R=r(20239),O=r(59978),P=r(38112),L=r(96780),I=r(4031);let N=e=>{switch(e){case"vk":case"vkid":return"VK ID";case"ok":return"OK";case"ya":return"Яндекс";case"gp":return"Google";case"ma":return"Mail.ru";case"sb":return"Сбер";default:return""}},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.pF.ru,r="vk"===e||"vkid"===e?"vk":e;return"ya"===(r="tw"===r||"x"===r?"tw":r)&&t!==d.pF.ru?"ya-eng":r};var D=r(44731);(function(e){e.vk="vk",e.fb="fb",e.facebook="facebook",e.x="x",e.tw="tw",e.ok="ok",e.ya="ya",e.gp="gp",e.ma="ma",e.sb="sb",e.vkid="vkid",e.apple="apple"})(n||(n={})),function(e){e.email="email",e.phoneOTP="phoneOTP",e.emailOTP="emailOTP",e.phonePassword="phonePassword",e.app="app",e.login="login",e.other="other"}(i||(i={})),function(e){e.registration="registration",e.login="login",e.fallbackLogin="fallbackLogin"}(o||(o={}));let M={version:2},U=d.Ym&&window.location.href||"unknown source";var q=Object.entries({[p.MZ.authenticationByPhone]:{eventType:"authorization_view",params:{name:"enter_phone",type:"phone"}},forgotPasswordEmail:{eventType:"authorization_view",params:{name:"password_forgot",type:"email"}},forgotPasswordPhone:{eventType:"authorization_view",params:{name:"password_forgot",type:"phone"}},[p.MZ.setPasswordPhone]:{eventType:"authorization_view",params:{name:"password_new",type:"phone"}},[p.MZ.setPasswordEmail]:{eventType:"authorization_view",params:{name:"password_new",type:"email"}},[p.MZ.registrationByEmail]:{eventType:"authorization_view",params:{name:"password_new",type:"email"}},[p.MZ.confirmRegistrationByEmail]:{eventType:"authorization_view",params:{name:"email_registration",type:"email"}},[p.MZ.authenticationByEmail]:{eventType:"authorization_view",params:{name:"registration_popup",type:"email",source_internal:U}},[p.MZ.loginByEmail]:{eventType:"authorization_view",params:{name:"enter_password",type:"password_email"}},[p.MZ.loginByPhonePassword]:{eventType:"authorization_view",params:{name:"enter_password",type:"password_phone"}},[p.MZ.authenticationByOther]:{eventType:"authorization_view",params:{name:"Oauth other",type:"other"}},[p.MZ.authenticationByApp]:{eventType:"authorization_view",params:{name:"Oauth App",type:"other"}},[p.MZ.loginByPhoneOTP]:{eventType:"authorization_view",params:{name:"enter_otp",type:"authorization"}},[p.MZ.confirmEmailByOTP]:{eventType:"authorization_view",params:{name:"enter_otp",type:"registration"}},[p.MZ.registration]:{eventType:"authorization_view",params:{name:"enter_otp",type:"registration"}},[p.MZ.registrationSetPassword]:{eventType:"authorization_view",params:{name:"password_new",type:"phone"}},[p.MZ.recoveryByOTP]:{eventType:"authorization_view",params:{name:"enter_otp",type:"recover"}},addPhone:{eventType:"authorization_view",params:{name:"add_phone",type:"phone",source_internal:U}},confirmPhoneByOTP:{eventType:"authorization_view",params:{name:"enter_otp",type:"add_phone",source_internal:U}},confirmPhoneByOTPClose:{eventType:"authorization_view",params:{name:"close_add_phone",type:"phone",source_internal:U}},confirmPhoneByOTPSuccess:{eventType:"authorization_view",params:{name:"success_add_phone",type:"phone",source_internal:U}},socials:{eventType:"authorization_click",params:{[n.vkid]:{name:"Oauth VK.ID",type:"button",version:2},[n.vk]:{name:"Oauth VK.ID",type:"button",version:2},[n.ok]:{name:"Oauth OK",type:"button",version:2},[n.ya]:{name:"Oauth Яндекс",type:"button",version:2},[n.gp]:{name:"Oauth Google",type:"button",version:2},[n.ma]:{name:"Oauth Mail.ru",type:"button",version:2},[n.sb]:{name:"Oauth Sber.id",type:"button",version:2},[n.fb]:{name:"Oauth FB",type:"button",version:2},mobileID:{name:"Oauth Мобильный ID",type:"button",version:2},appleID:{name:"Oauth Apple ID",type:"button",version:2}}},close:{eventType:"authorization_close",params:{}},failByEmail:{eventType:"authorization_fail",params:{type:"email"}},failByPhone:{eventType:"authorization_fail",params:{type:"phone"}},failByOTP:{eventType:"authorization_fail",params:{type:"otp"}},failByOther:{eventType:"authorization_fail",params:{type:"other"}},registrationSuccessByEmail:{eventType:"registration_success",params:{type:"email",source_internal:U}},registrationSuccessByPhone:{eventType:"registration_success",params:{type:"phone",source_internal:U}},registrationSuccessByOTP:{eventType:"registration_success",params:{type:"otp",source_internal:U}},registrationSuccessByOther:{eventType:"registration_success",params:{type:"other",source_internal:U}},registrationFailByEmail:{eventType:"registration_fail",params:{type:"email"}},registrationFailByOTP:{eventType:"registration_fail",params:{type:"otp"}},registrationFailByPhone:{eventType:"registration_fail",params:{type:"phone"}},registrationFailByOther:{eventType:"registration_fail",params:{type:"other"}},authSuccessByEmail:{eventType:"authorization_success",params:{type:"email",source_internal:U}},authSuccessByPhone:{eventType:"authorization_success",params:{type:"phone",source_internal:U}},authSuccessByOTP:{eventType:"authorization_success",params:{type:"otp",source_internal:U}},authSuccessByOther:{eventType:"authorization_success",params:{type:"other",source_internal:U}},oAuthAllowScopes:{eventType:"authorization_view",params:{name:"allow_access"}}}).reduce((e,t)=>{let[r,n]=t;return{...e,[r]:{...n,params:{...n.params,...M}}}},{});!function(e){e.email="email",e.phone="phone",e.otp="otp",e.other="other"}(a||(a={}));let B=(e,t,r)=>{let n={success:{auth:"authSuccess",registration:"registrationSuccess"},fail:{auth:"fail",registration:"registrationFail"}}[t][r],i={email:"ByEmail",otp:"ByOTP",phone:"ByPhone",other:"ByOther"}[e];return q["".concat(n).concat(i)]},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?D.TM.sendEventSync(e):D.TM.sendEvent(["LITRES_TRACKER"],e)},G=e=>{z(B(e,"success","auth"))},W=e=>{z(B(e,"fail","auth"))},$=e=>{z(B(e,"success","registration"))},H=e=>{z(B(e,"fail","registration"))},V=()=>{z(q.forgotPasswordEmail)},Z=()=>{z(q.forgotPasswordPhone)},K=()=>{z(q.close)},J=()=>{z(q.addPhone)},Q=()=>{z(q.confirmPhoneByOTP)},X=()=>{z(q.confirmPhoneByOTPClose)},Y=()=>{z(q.confirmPhoneByOTPSuccess)},ee=e=>{let{type:t="email",oAuthClientName:r="",extraParams:n={},eventData:i={},shouldBeSentSynchronously:o=!1}=e;z({...q.oAuthAllowScopes,...i,params:{...q.oAuthAllowScopes.params,...n,external_service:"OAuth Litres ".concat(r),type:t}},o)},et=e=>{var t;let{oAuthClientName:r}=C(),n={eventType:q.socials.eventType,params:{...null===(t=q.socials.params)||void 0===t?void 0:t[e],...r&&{external_service:"OAuth Litres ".concat(r)}}},[i,o]=(0,l.useState)(!1),a=(0,f.CG)(e=>e.face.language||d.pF.ru),s=(0,f.CG)(e=>{var t;return(null===(t=e.global.interface.loginPopupError)||void 0===t?void 0:t.urlParams)||{}});return[{iconName:(0,l.useMemo)(()=>F(e,a),[e,a]),name:N(e),isLoading:i},{handleClickItem:t=>{if(t.preventDefault(),o(!0),z(n,!0),"sb"===e||"vk"===e||"ya"===e||"ma"===e||"gp"===e||"vkid"===e||"ok"===e){let t=new URL(window.location.href);Object.keys(s).length>0&&(t=(null==s?void 0:s.redirectAfterAuth)&&(0,d.iV)(s.redirectAfterAuth)?s.redirectAfterAuth:new URL("".concat(t.origin).concat(t.pathname,"?").concat(new URLSearchParams([...Array.from(t.searchParams.entries()),...Object.entries(s)]))));let n=r?"&oAuthClientName=".concat(r):"",i="https://".concat(window.location.host,"/auth_proxy/?origin=").concat(encodeURIComponent(t.toString()),"&network=").concat(e).concat(n);window.open(i,"_self");return}}}]};var er=r(29415),en=r.n(er),ei=r(82140),eo=r.n(ei);let ea=e=>{let{id:t}=e,[{iconName:r,isLoading:n},{handleClickItem:i}]=et(t);return(0,u.jsxs)(u.Fragment,{children:[n&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsx)("div",{className:en().socials__link,onClick:i,children:(0,u.jsx)(I.J,{path:"socialNetworks",name:r,className:en().socials__link_icon})})]})},es={[d.pF.ru]:[n.vkid,n.ok,n.sb,n.ya,n.gp,n.ma],[d.pF.tr]:[n.ya,n.gp],[d.pF.az]:[n.gp,n.ya],[d.pF.en]:[n.gp,n.ya],[d.pF.pl]:[n.gp,n.ya],[d.pF.de]:[n.gp,n.ya],[d.pF.uz]:[n.gp,n.ya],[d.pF.et]:[n.gp,n.ya],[d.pF.es]:[n.gp]},eu=()=>{let e=(es[(0,f.CG)(e=>e.face.language||d.pF.ru)]||[]).map(e=>({provider:e})),{data:t=e,isLoading:r}=f.iJ.useGetAvailableSocialNetworksQuery();return{socialNetworksToShow:t.filter(t=>{let{provider:r}=t;return r!==n.fb&&r!==n.facebook&&r!==n.tw&&r!==n.x&&r!==n.apple&&e.some(e=>{let{provider:t}=e;return r===t})}),isLoading:r}},el=()=>{let{isLoading:e,socialNetworksToShow:t}=eu(),{isMobile:r}=C(),i=(0,f.CG)(e=>e.face.language||d.pF.ru);if(e)return(0,u.jsx)(P.c4,{className:en().socials__skeleton});let o=t.some(e=>{let{provider:t}=e;return t===n.apple||t===n.gp}),a=(0,d.s7)(i)&&!o;return(0,u.jsxs)("div",{className:A()(en().socials,{[en().socials_mobile]:r}),children:[t.map(e=>{let{provider:t}=e;return(0,u.jsx)(ea,{id:t},t)}),a&&(0,u.jsx)("div",{className:en().limitedNetworksAlert,children:(0,u.jsx)(O.b,{mode:O.p.info,children:(0,u.jsx)(h.cC,{i18nKey:"\n              Доступ через Google аккаунт и Apple ID более не поддерживается. Пожалуйста, используйте вашу электронную почту, телефон или другие способы входа для доступа к аккаунту.  <br />\n              Если вы забыли свой пароль, восстановите его <recoverLinkTag>здесь</recoverLinkTag>.<br/>\n              Для связи с поддержкой, пожалуйста, обратитесь на <supportLinkTag>help@litres.ru</supportLinkTag>\n              ",components:{recoverLinkTag:(0,u.jsx)(R.I,{href:"/pages/password_recover/",target:"_blank"}),supportLinkTag:(0,u.jsx)(R.I,{href:"mailto:help@litres.ru"})}})})})]})};var ec=r(4438);let ed=e=>{let{onClick:t,isUsedInFullscreenMode:r}=e,n=(0,f.TL)(),i=e=>{e.preventDefault(),t?t():n(f.hi.global.auth.goToPreviousStep())};return(0,u.jsx)(R.I,{href:"#",onClick:i,className:A()(eo().backLink,{[eo().backLink__fullscreenMode]:r}),"data-testid":"authorization-backButton",children:(0,u.jsx)(ec.uQ,{name:"arrowBack",size:24})})};var ep=r(55714);let ef=()=>{let{t:e}=(0,h.$G)(),t=(0,f.CG)(e=>e.global.auth.activeStep),r=(0,f.CG)(e=>e.global.auth.isRateLimitError),{errorTitle:n,customTitle:i,isOauth:o,backendErrorMessage:a}=C(),{time:s}=(0,c.f1)(),d=(0,l.useMemo)(()=>o&&t===p.MZ.authenticationByEmail?e("Вход"):t===p.MZ.authenticationByPhone&&i?i:t===p.MZ.loginByPhoneOTP||t===p.MZ.registration||t==p.MZ.recoveryByOTP||t==p.MZ.recoveryByEmailOTP||t==p.MZ.confirmEmailByOTP?e("Ввести код"):t===p.MZ.confirmRegistrationByEmail?e("Создать профиль"):t===p.MZ.registrationByEmail||t===p.MZ.setPassword||t===p.MZ.setPasswordPhone||t===p.MZ.setPasswordEmail||t===p.MZ.registrationSetPassword?e("Задать пароль"):t===p.MZ.loginByEmail||t===p.MZ.loginByPhonePassword?e("Ввести пароль"):t===p.MZ.recoveryByLogin||t===p.MZ.recoveryByEmail?e("Восстановление пароля"):t===p.MZ.authenticationByOther?e("Другие способы"):t===p.MZ.authenticationByApp?e("Вход через приложение"):e("Войти"),[i,t,o]),m=r&&(t===p.MZ.recoveryByOTP||t===p.MZ.recoveryByEmailOTP||t===p.MZ.confirmEmailByOTP||t===p.MZ.authenticationByPhone||t===p.MZ.registration)&&!!s;return(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsx)("div",{className:eo().description,children:(0,u.jsx)(O.b,{mode:O.p.info,children:(0,u.jsx)(h.cC,{i18nKey:a,defaults:a,components:{a:(0,u.jsx)(ep.Fg,{})},values:{mail:"help@litres.ru"}})})}),!!n&&(0,u.jsx)("div",{className:eo().description,children:(0,u.jsx)(O.b,{mode:O.p.info,children:e(n)})}),m&&(0,u.jsx)("div",{className:eo().description,children:(0,u.jsx)(O.b,{mode:O.p.info,children:t===p.MZ.confirmEmailByOTP||t===p.MZ.recoveryByEmailOTP?e("Вы исчерпали лимит на отправку писем, повторите попытку через {timer}",{timer:(0,c.Jl)(s)}):e("Вы исчерпали лимит на отправку смс, повторите попытку через {timer}",{timer:(0,c.Jl)(s)})})}),(0,u.jsx)("h3",{className:A()(eo().title),"data-testid":"auth__title",children:d})]})};var eh=r(91270);let em=()=>!!(0,f.CG)(e=>e.foundationUser).id;var eg=r(76996),e_=r(39319),ev=r(79094),ey={formField:{email:{name:"email",label:"Укажите адрес электронной почты:",requiredErrorMsg:"Поле не может быть пустым",error:"Пользователь не найден, чтобы зарегистрироваться укажите почту"},phone:{name:"tel",label:"Укажите номер мобильного телефона:",requiredErrorMsg:"Номер введён не полностью"},pwd:{name:"pwd",requiredErrorMsg:"Введите пароль"},code:{name:"code",requiredErrorMsg:"Поле не может быть пустым"},otpin:{name:"otpin",requiredErrorMsg:"Поле не может быть пустым",typeErrorMsg:"Неверный код"},regPwd:{name:"regPwd",requiredErrorMsg:"Введите пароль"},regPwdRepeat:{name:"regPwdRepeat",requiredErrorMsg:"Введите пароль"},newPwd:{name:"newPwd",requiredErrorMsg:"Введите пароль"},newPwdRepeat:{name:"newPwdRepeat",requiredErrorMsg:"Введите пароль"}}},eb=r(6222);let ex="Для данного региона регистрация возможна только через почту или \xabдругие способы\xbb",eS=r(12751).B.feature("AuthViaOneTimeCodeError"),ew=()=>{let e=(0,f.TL)(),{t}=(0,h.$G)(),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(!1),[s,u]=(0,l.useState)(null),{onAuthSuccess:c,sendPhoneOTP:m,setBackendErrorCode:g,isSendOTPLoading:x,isLibrary:S,oAuthClientName:w}=C(),{email:k="",pwd:E="",phone:T="",country:j="ru"}=(0,f.CG)(e=>e.global.auth.formData),A={email:k,pwd:E},R={phone:T,country:j},[O,P]=(0,l.useState)(!1),L=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.authenticationByEmail))},I=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.authenticationByPhone))},N=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.authenticationByApp))},F=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.authenticationByOther))},[D,{isLoading:M}]=f.iJ.useCheckLoginAvailabilityMutation(),[U,{isLoading:q}]=f.iJ.useCheckPhoneAvailabilityMutation(),[B,{isLoading:$}]=f.iJ.useLoginMutation(),H=r=>{let{email:n}=r;n&&D((0,d.H3)(n)).unwrap().then(r=>{g(null),r?v(n)?e(f.hi.global.auth.setActiveStep(p.MZ.confirmRegistrationByEmail)):u(t(ey.formField.email.error)):e(f.hi.global.auth.setActiveStep(p.MZ.loginByEmail))}).catch(e=>{g(e.code)})},V=r=>{let{email:n}=r;if(n){if(n.includes("@")&&!v(n)){u(t("Введите адрес в формате xxxx@xxxx.xx"));return}D((0,d.H3)(n)).unwrap().then(r=>{g(null),r?u(t("Пользователь не найден")):e(f.hi.global.auth.setActiveStep(p.MZ.loginByEmail))}).catch(e=>{g(e.code)})}},Z=(0,eb.O2)(),K=(r,n)=>{m(r,n,r=>{switch(u(null),r){case 200:e(f.hi.global.auth.setActiveStep(p.MZ.registration));break;case 401:u(t("Этот номер телефона привязан к другому аккаунту"));break;case 429:e(f.hi.global.auth.setRateLimitError(!0));break;default:u(t("Введите корректный номер телефона"))}})};return[{isNeedRegister:r,isLibrary:S,isOtpDisabledError:O,isLoading:i||M||q||x||$,errorText:s,initialEmailForm:A,initialPhoneForm:R},{authenticateByEmail:H,authenticateByEmailBiblio:V,authenticateByPhone:r=>{let{phone:n}=r;if(!n)return;let i=j.toUpperCase();o(!0),U({phone:b(n),country_code:i}).unwrap().then(r=>{r?Z(i)?(P(!1),K(n,i)):(u(t(ex)),P(!0)):e(f.hi.global.auth.setActiveStep(p.MZ.loginByPhonePassword))}).catch(e=>{"InvalidPhoneNumber"===e.type?u(t("Некорректный формат телефона")):g(e.code)}).finally(()=>{o(!1)})},authenticateByAppPin:e=>{let{otpin:r}=e;r&&B({code:r}).unwrap().then(()=>{w?z({eventType:"authorization_success",params:{type:"other",external_service:"OAuth Litres ".concat(w),version:2}}):G(a.other),_(),null==c||c()}).catch(e=>{if(w?z({eventType:"authorization_fail",params:{type:"other",external_service:"OAuth Litres ".concat(w),version:2}}):W(a.other),(null==e?void 0:e.status)===401){u(t("Неверный код"));return}if((null==e?void 0:e.status)===429){u(t("Произошла ошибка. Повторите попытку позже."));return}g(null==e?void 0:e.code),eS("FrontendLogicError","Auth via onetime code error",e)})},onFieldValueChange:(r,i)=>{u(null),g(null),P(!1),r===p.lE.email&&n(!1),r!==p.lE.otpin||y(i)||u(t(ey.formField.otpin.typeErrorMsg)),e(f.hi.global.auth.setFormData({[r]:i}))},setOtherAuth:F,setAppAuth:N,setEmailAuth:L,setPhoneAuth:I}]};var ek=r(7413);let eE=()=>{let{t:e}=(0,h.$G)(),[{isNeedRegister:t,isLoading:r,errorText:n,initialEmailForm:i,isLibrary:o},{authenticateByEmail:a,authenticateByEmailBiblio:s,onFieldValueChange:c,setPhoneAuth:m,setOtherAuth:g}]=ew(),_=(0,f.CG)(e=>e.face.language||"ru"),v=ey.formField[p.lE.email],{control:y,handleSubmit:b,formState:x,setError:S,clearErrors:w}=(0,eg.cI)({defaultValues:i||{}});(0,l.useEffect)(()=>{n?S(p.lE.email,{type:"custom",message:n},{shouldFocus:!0}):w()},[n]);let{showPhoneButton:k,showLitresTerms:E,showSocials:T,showAppLoginButton:j,uiOptions:A}=C(),O=!(null==A?void 0:A.phoneFirst),P=!(0,d.i7)();return(0,u.jsxs)(u.Fragment,{children:[r&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("form",{className:eo().form,onSubmit:b(o?s:a),children:[(0,u.jsx)("div",{className:eo().form__label,children:e("Введите почту или логин")}),(0,u.jsx)("div",{className:eo().form__control,children:(0,u.jsx)(ev.B,{name:p.lE.email,control:y,rules:{required:e(v.requiredErrorMsg),validate:()=>!n||n,minLength:{value:-1,message:""}},placeholder:e("Почта или логин"),onChangeValue:e=>{null==c||c(p.lE.email,e)},autoFocus:!0,transformValue:d.H3,autoComplete:P?"username":"false",e2eId:"auth__input--enterEmailOrLogin",id:"auth__input--enterEmailOrLogin"})}),t&&(0,u.jsx)(R.I,{href:"#",onClick:m,className:eo().link,children:e("Зарегистрироваться по телефону")}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{type:"submit",mode:"primary",size:"medium",fullWidth:!0,text:e("Продолжить"),disabled:x.isSubmitting,e2eId:"auth__button--continue"})}),O&&(0,u.jsxs)(u.Fragment,{children:[!o&&(k||j||T)&&(0,u.jsx)("div",{className:eo().divider,children:e("или")}),o&&(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"tertiary",size:"medium",fullWidth:!0,text:e("Получить доступ к Литрес Библиотеке"),href:"/pages/libhouse_map/",e2eId:"auth__button--libraryAccess"})}),!o&&k&&!(0,d.Ph)(_)&&(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"secondary",size:"medium",fullWidth:!0,text:e("Номер телефона"),onClick:m,e2eId:"auth__button--enterPhone"})}),!o&&(j||T)&&(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"tertiary",size:"medium",fullWidth:!0,text:e("Другие способы"),onClick:g,e2eId:"auth__button--anotherWays"})}),E&&(0,u.jsx)(ek.F,{})]})]})]})},eC=e=>{let{onSubmit:t,onFieldValueChange:r=d.ZT,errorText:n}=e,{t:i}=(0,h.$G)(),o=ey.formField[p.lE.otpin],{control:a,handleSubmit:s,formState:c,setError:f,clearErrors:m}=(0,eg.cI)();return(0,l.useEffect)(()=>{n?f(p.lE.otpin,{type:"custom",message:n},{shouldFocus:!0}):m()},[n]),(0,u.jsxs)("form",{className:eo().form,onSubmit:s(t),children:[(0,u.jsx)("div",{className:eo().form__control,children:(0,u.jsx)(ev.B,{name:p.lE.otpin,control:a,rules:{required:o.requiredErrorMsg,validate:()=>!n||n,minLength:{value:6,message:"Неверный код"}},placeholder:i("Код из приложения"),onChangeValue:e=>{r(p.lE.otpin,e)},autoFocus:!0})}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{type:"submit",mode:"primary",size:"medium",fullWidth:!0,text:i("Войти"),disabled:c.isSubmitting})})]})};var eT=r(99038),ej=r(62094);let eA=e=>{var t;let{initialData:r,onSubmit:n=d.ZT,onFieldValueChange:i=d.ZT,errorText:o}=e,a=(0,ej.U3)(),s=ey.formField[p.lE.code],{formState:c,control:f,handleSubmit:h,setValue:m,setError:g,clearErrors:_}=(0,eg.cI)({defaultValues:r||{}}),v=e=>{e!==(null==r?void 0:r.code)&&(m(p.lE.code,e),i(p.lE.code,e))};return(0,l.useEffect)(()=>{o?g(p.lE.code,{type:"custom",message:o}):_()},[o]),(0,l.useEffect)(()=>()=>{i(p.lE.code,"")},[]),(0,u.jsx)("form",{className:eo().form,onSubmit:h(n),children:(0,u.jsxs)("div",{className:eo().form__code,children:[(0,u.jsx)(ev.B,{name:p.lE.code,control:f,rules:{required:s.requiredErrorMsg,validate:()=>!o||o,minLength:{value:-1,message:""}},className:eo().hidden,disableError:!0}),(0,u.jsx)(eT.N,{code:(null==r?void 0:r.code)||a,onChange:v,onFilled:()=>h(n)(),errorMessage:(null===(t=c.errors[p.lE.code])||void 0===t?void 0:t.message)||o||"",shouldAutoFocus:!0})]})})},eR=e=>{var t;let{onSubmit:r=d.ZT,setEmailAuth:n=d.ZT,onFieldValueChange:i=d.ZT,onEditClick:o,errorText:a,initialData:s,isViewMode:c,withInfoAlert:f=!1,isOtpDisabledError:m=!1,isOtpEnabledOnly:g=!1}=e,{t:_}=(0,h.$G)(),{isMobile:v}=C(),[y,b]=(0,l.useState)(!0),x=ey.formField[p.lE.phone],{control:S,handleSubmit:w,formState:k,clearErrors:E,setValue:T,setError:j}=(0,eg.cI)({defaultValues:s||{}}),O=e=>{e.code.toLowerCase()!==(null==s?void 0:s.country)&&i(p.lE.country,e.code.toLowerCase())},P=(e,t)=>{E(),e!==(null==s?void 0:s.phone)&&(T(p.lE.phone,e),i(p.lE.phone,e)),b(t)},L=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())};(0,l.useEffect)(()=>{a?j(p.lE.phone,{type:"custom",message:a},{shouldFocus:!0}):E()},[a]);let I=(0,eb.O2)(),N=(0,l.useMemo)(()=>{var e;return I((null==s?void 0:null===(e=s.country)||void 0===e?void 0:e.toUpperCase())||"")},[null==s?void 0:s.country]),F=(null===(t=k.errors[p.lE.phone])||void 0===t?void 0:t.message)||a,D=m&&!N,M=(0,l.useCallback)(e=>{e.preventDefault(),n()},[n]),U=(0,l.useCallback)(()=>y||x.requiredErrorMsg,[y,x.requiredErrorMsg]);return(0,u.jsxs)("form",{className:eo().form,onSubmit:w(r),children:[(0,u.jsxs)("div",{className:eo().form__control,children:[(0,u.jsx)(ev.B,{name:p.lE.phone,control:S,rules:{required:x.requiredErrorMsg,validate:U,minLength:{value:-1,message:""}},className:eo().hidden,disableError:!0}),(0,u.jsx)(eb.sb,{inputMode:c?eb.Ti.view:eb.Ti.edit,handleInputChange:P,onChangeCode:O,errorText:F,inputName:x.name,inputValue:null==s?void 0:s.phone,defaultCountry:(null==s?void 0:s.country)||"ru",isMobile:v,isOtpEnabledOnly:g,onKeyUp:L,onEditClick:o})]}),D&&(0,u.jsx)(R.I,{href:"#",onClick:M,className:A()(eo().link,{[eo().link_withoutLeftGap]:!0}),children:_("Зарегистрироваться через почту")}),f&&(0,u.jsxs)("div",{className:eo().phoneAuthInfoAlert,children:[(0,u.jsx)(ec.uQ,{name:"infoFilled",size:16,className:eo().phoneAuthInfoAlert__icon}),(0,u.jsx)("span",{className:eo().phoneAuthInfoAlert__text,children:_("Только для зарегистрированных пользователей")})]}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{type:"submit",mode:"primary",size:"medium",fullWidth:!0,text:_("Продолжить"),disabled:k.isSubmitting,e2eId:"auth__button--continue"})})]})},eO=()=>{let{t:e}=(0,h.$G)(),[{isLoading:t,errorText:r},{authenticateByAppPin:n,onFieldValueChange:i}]=ew();return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("ol",{className:eo().authInstructions,children:[(0,u.jsx)("li",{className:eo().authInstructions__item,children:(0,u.jsx)(h.cC,{i18nKey:'Запустите <a href="{link}"><b>Литрес: Книги</b></a>',defaults:'Запустите <a href="{link}"><b>Литрес: Книги</b></a>',values:{link:"/app/"},components:{a:(0,u.jsx)(R.I,{}),b:(0,u.jsx)("strong",{})}})}),(0,u.jsx)("li",{className:eo().authInstructions__item,children:(0,u.jsx)(h.cC,{i18nKey:"Откройте <b>\xabПрофиль\xbb</b>",defaults:"Откройте <b>\xabПрофиль\xbb</b>",components:{b:(0,u.jsx)("strong",{})}})}),(0,u.jsx)("li",{className:eo().authInstructions__item,children:(0,u.jsx)(h.cC,{i18nKey:"Зайдите в раздел <b>\xabИнформация для входа\xbb</b>",defaults:"Зайдите в раздел <b>\xabИнформация для входа\xbb</b>",components:{b:(0,u.jsx)("strong",{})}})}),(0,u.jsx)("li",{className:eo().authInstructions__item,children:(0,u.jsx)(h.cC,{i18nKey:"Нажмите <b>\xabПолучить\xbb</b> в поле \xabКод для входа на сайт Литрес\xbb",defaults:"Нажмите <b>\xabПолучить\xbb</b> в поле \xabКод для входа на сайт Литрес\xbb",components:{b:(0,u.jsx)("strong",{})}})})]}),(0,u.jsx)("h4",{className:eo().subtitle,children:e("Введите код")}),(0,u.jsx)(eC,{onSubmit:n,errorText:r,onFieldValueChange:i})]})},eP=()=>{let{t:e}=(0,h.$G)(),t=(0,f.TL)(),{reset:r}=(0,c.f1)();(0,l.useEffect)(()=>()=>{t(f.hi.global.auth.setRateLimitError(!1)),r()},[r]);let[{isOtpDisabledError:n,isLoading:i,errorText:o,initialPhoneForm:a,isLibrary:s},{authenticateByPhone:d,onFieldValueChange:p,setEmailAuth:m,setOtherAuth:g}]=ew(),_=(0,eb.O2)()(((null==a?void 0:a.country)||"ru").toUpperCase()),{showLitresTerms:v,showSocials:y,showAppLoginButton:b,uiOptions:x}=C(),S=null==x?void 0:x.phoneFirst;return(0,u.jsxs)(u.Fragment,{children:[i&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsx)("div",{className:eo().description,children:e("Введите номер телефона")}),(0,u.jsx)(eR,{onSubmit:d,setEmailAuth:m,errorText:o,onFieldValueChange:p,initialData:a,withInfoAlert:!_,isOtpDisabledError:n}),S&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:eo().divider,children:e("или")}),(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"secondary",size:"medium",fullWidth:!0,text:e("Почта или логин"),onClick:m,e2eId:"auth__button--enterPhone"})}),!s&&(b||y)&&(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"tertiary",size:"medium",fullWidth:!0,text:e("Другие способы"),onClick:g,e2eId:"auth__button--anotherWays"})}),v&&(0,u.jsx)(ek.F,{})]})]})},eL=()=>{let{t:e}=(0,h.$G)(),[,{setAppAuth:t}]=ew(),{showLitresTerms:r,showSocials:n,showAppLoginButton:i}=C();return(0,u.jsxs)(u.Fragment,{children:[i&&(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"primary",size:"medium",text:e("Приложение Литрес"),customColor:{default:"#FF5500",hover:"#FF7733",active:"#E64000"},fullWidth:!0,onClick:t,icon:(0,u.jsx)(ec.uQ,{name:"books",size:24})})}),n&&(0,u.jsx)(el,{}),r&&(0,u.jsx)(ek.F,{})]})},eI=e=>{let{authBy:t}=e,r=(0,l.useMemo)(()=>{switch(t){case i.email:return(0,u.jsx)(eE,{});case i.phoneOTP:case i.phonePassword:return(0,u.jsx)(eP,{});case i.app:return(0,u.jsx)(eO,{});case i.other:return(0,u.jsx)(eL,{})}},[t]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),r]})})},eN=e=>{let{onReset:t=d.ZT}=e,{time:r}=(0,c.f1)(),{t:n}=(0,h.$G)(),i=()=>{t()};return(0,u.jsxs)("div",{className:eo().counter,children:[r>0?(0,u.jsxs)("div",{className:eo().counter__text,children:[n("Получить новый код можно через")," ",(0,u.jsx)("strong",{children:(0,c.Jl)(r)})]}):(0,u.jsx)("div",{className:eo().counter__button,children:(0,u.jsx)(e_.z,{mode:"secondary",size:"medium",text:n("Отправить еще код"),onClick:i,fullWidth:!0})}),(0,u.jsx)(R.I,{href:"//litres.helpdeskeddy.com/ru/knowledge_base/art/1257/cat/49/",target:"_blank",className:eo().counter__link,rel:"noreferrer",children:n("Не приходит код?")})]})};!function(e){e.addPhone="addPhone",e.requestConfirmation="requestConfirmation"}(s||(s={}));let eF=()=>{let e=(0,f.TL)(),{t}=(0,h.$G)(),r=(0,f.CG)(e=>e.foundationUser),n=(0,f.CG)(e=>e.global.auth.fallbackStep),{phone:i="",country:o="ru",otpID:a="",code:s=""}=(0,f.CG)(e=>e.global.auth.formData),{phone_number:u="",phone_country_code:c}=r.profile,[m,g]=(0,l.useState)(u?"requestConfirmation":"addPhone"),_={phone:i||(u&&!("requestConfirmation"!==m)?"+".concat(u):""),country:c||o,code:s};(0,l.useEffect)(()=>{u?g("requestConfirmation"):g("addPhone")},[u]);let{sendPhoneOTP:v,hidePopup:y,onSetPhoneSuccess:x,isReloadOnSetPhone:S}=C(),[w,k]=(0,l.useState)(!1),[E,T]=(0,l.useState)(null),[j,{isLoading:A}]=f.iJ.useCheckPhoneAvailabilityMutation(),[R,{isLoading:O}]=f.r7.useSetUserPhoneMutation(),P=()=>{if(!(i||u)||!o)return;let r=o.toUpperCase();e(f.hi.global.auth.setFormData({code:""})),!u||u&&i&&b(u)!==b(i)?j({phone:b(i||(null!=u?u:"")),country_code:r}).unwrap().then(r=>{r?(k(!0),v(i||(null!=u?u:""),o.toUpperCase(),r=>{switch(k(!1),r){case 200:e(f.hi.global.auth.setFallbackStep(p.H$.confirm));break;case 429:e(f.hi.global.auth.setRateLimitError(!0));break;default:T(t("Введите корректный номер телефона"))}})):T(t("Этот номер телефона привязан к другому аккаунту"))}).catch(()=>{T(t("Некорректный формат телефона"))}):(k(!0),v(i||u,o.toUpperCase(),r=>{switch(k(!1),r){case 200:e(f.hi.global.auth.setFallbackStep(p.H$.confirm));break;case 429:e(f.hi.global.auth.setRateLimitError(!0));break;default:T(t("Введите корректный номер телефона"))}}))};return[{isLoading:w||O||A,errorText:E,currentStep:n,phoneNumber:null!=u?u:"",initialData:_,fallbackLoginInitState:m},{attachFallbackLoginPhone:e=>{let{code:r}=e;r&&R({otp_id:a,code:r}).unwrap().then(e=>{e&&(Y(),x?x():y(),S&&(0,d.BD)())}).catch(()=>{T(t("Неверный код, попробуйте еще раз"))})},sendSmsCode:P,onFieldValueChange:(t,r)=>{T(null),e(f.hi.global.auth.setFormData({[t]:r}))},hidePopup:y,resetUserPhoneNumber:()=>{e(f.hi.global.auth.setFormData({phone:""})),g("addPhone")},goBackToInit:()=>{e(f.hi.global.auth.setFallbackStep(p.H$.init))}}]},eD=()=>{let{t:e}=(0,h.$G)(),[{errorText:t,isLoading:r,initialData:n},{sendSmsCode:i,attachFallbackLoginPhone:o,onFieldValueChange:a}]=eF();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{className:eo().title,children:e("Введите код")}),r&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("div",{className:eo().description,children:[e("Мы отправили код в SMS на номер")," ",(0,u.jsx)("div",{children:(0,u.jsx)("strong",{children:null==n?void 0:n.phone})})]}),(0,u.jsx)(eA,{errorText:t,onSubmit:o,initialData:n,onFieldValueChange:a}),(0,u.jsx)(eN,{onReset:i})]})},eM=()=>{let{t:e}=(0,h.$G)(),t=(0,f.CG)(e=>e.global.auth.isRateLimitError),{time:r}=(0,c.f1)(),[{initialData:n,isLoading:i,errorText:o,fallbackLoginInitState:a},{sendSmsCode:d,onFieldValueChange:p,hidePopup:m,resetUserPhoneNumber:g}]=eF(),{subTitleSetPhone:_}=C(),v=(0,l.useCallback)(()=>{X(),m()},[m]),y=(0,l.useCallback)(()=>{g()},[]);return(0,u.jsxs)(u.Fragment,{children:[i&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),t&&!!r&&(0,u.jsx)("div",{className:eo().description,children:(0,u.jsxs)(O.b,{mode:O.p.info,children:[e("Вы исчерпали лимит на отправку смс, повторите попытку через "),(0,c.Jl)(r)]})}),(0,u.jsx)("h3",{className:eo().title,children:e(a===s.requestConfirmation?"Подтвердить номер <br />телефона":"Добавить номер <br />телефона")}),(0,u.jsx)("div",{className:eo().description,children:e(_||"Подтвердите номер телефона, чтобы повысить безопасность профиля")}),(0,u.jsx)(eR,{onSubmit:d,initialData:n,onFieldValueChange:p,onEditClick:y,errorText:o,isViewMode:a===s.requestConfirmation,isOtpEnabledOnly:!0}),(0,u.jsx)("div",{className:eo().button,children:(0,u.jsx)(e_.z,{mode:"secondary",size:"medium",text:e("Позже"),onClick:v,fullWidth:!0})})]})},eU=()=>{let[{currentStep:e}]=eF();return(0,l.useEffect)(()=>{e===p.H$.confirm?Q():e===p.H$.init&&J()},[e]),(0,u.jsxs)("div",{className:eo().content,"data-testid":"authorization__popup--phoneNumberConfirmation",children:[!e||e===p.H$.init&&(0,u.jsx)(eM,{}),e===p.H$.confirm&&(0,u.jsx)(eD,{})]})},eq=e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e),eB=()=>{let e=(0,f.TL)(),{t}=(0,h.$G)(),r=(0,f.CG)(e=>e.foundationUser),[n]=f.iJ.useChangePasswordMutation(),[i,o]=(0,l.useState)(!1),[s,u]=(0,l.useState)(null),{email:c="",pwd:d="",phone:m="",country:g="ru",otpID:v="",code:y="",newPwd:x="",newPwdRepeat:S=""}=(0,f.CG)(e=>e.global.auth.formData),w={email:c,phone:m,country:g},k={email:c,pwd:d},E={code:y,otpID:v,phone:m},T={newPwd:x,newPwdRepeat:S},{onAuthSuccess:j,sendPhoneOTP:A,sendEmailOTP:R,setBackendErrorCode:O,oAuthClientName:P}=C(),L=()=>{if(eq(c)){D();return}I()},I=()=>{P?z({eventType:"authorization_view",params:{type:"email",name:"password_forgot",external_service:"OAuth Litres ".concat(P),version:2}}):V(),o(!0),e(f.hi.user.registration.recoverPasswordCSRF({data:{mail:c,ajax:1,send_to_mail:1},onSuccess:()=>{e(f.hi.global.auth.setActiveStep(p.MZ.recoveryByEmail)),o(!1)},onError:r=>{var n;e(f.hi.global.auth.setActiveStep(p.MZ.recoveryByLogin)),o(!1),u((null===(n=r.error)||void 0===n?void 0:n.statusText)||t("Произошла ошибка, попробуйте ещё раз"))}}))},N=(r,n,i)=>{o(!0),e(f.hi.user.registration.confirmRecoverPasswordCSRF({data:{user:r,key:n,no_redirect:1},onSuccess:()=>{o(!1),i()},onError:e=>{var r;o(!1),u((null===(r=e.error)||void 0===r?void 0:r.statusText)||t("Произошла ошибка, попробуйте ещё раз"))}}))},F=()=>{P?z({eventType:"authorization_view",params:{type:"phone",name:"password_forgot",external_service:"OAuth Litres ".concat(P),version:2}}):Z(),e(f.hi.global.auth.setActiveStep(p.MZ.recoveryByOTP))},D=()=>{P?z({eventType:"authorization_view",params:{type:"email",name:"password_forgot",external_service:"OAuth Litres ".concat(P),version:2}}):V(),e(f.hi.global.auth.setActiveStep(p.MZ.recoveryByEmailOTP))},M=e=>{let{newPwd:t,newPwdRepeat:i}=e;t&&i&&(o(!0),n({password:t,password_repeated:i}).unwrap().then(()=>{o(!1),_(),null==j||j(r.SID)}).catch(e=>{O(e.code)}).finally(()=>{o(!1)}))},U=()=>{e(f.hi.global.auth.goToPreviousStep())},q=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.setPassword))},B=()=>{if(m){let t=g.toUpperCase();e(f.hi.global.auth.setFormData({code:""})),o(!0),A(m,t,()=>{o(!1)})}},$=()=>{c&&(e(f.hi.global.auth.setFormData({code:""})),o(!0),R(c,()=>{o(!1)}))},H=()=>{if(m){let r=g.toUpperCase();o(!0),A(m,r,r=>{o(!1),429===r?e(f.hi.global.auth.setRateLimitError(!0)):401===r&&u(t("Этот номер телефона привязан к другому аккаунту"))})}},K=()=>{c&&(o(!0),R(c,t=>{o(!1),429===t&&e(f.hi.global.auth.setRateLimitError(!0))}))},[J,{isLoading:Q}]=f.iJ.useLoginMutation();return[{initialData:w,initialEmailData:k,initialPhoneData:E,initialNewPasswordData:T,errorText:s,isLoading:i||Q},{recoveryPasswordByEmail:I,confirmRecoveryPasswordByEmail:N,recoveryPasswordByEmailOTP:D,recoveryPasswordByOTP:F,recoveryPasswordByLoginOrEmail:L,loginByPhone:e=>{let{code:r}=e;r&&J({otp_id:v,code:r}).unwrap().then(e=>{P?z({eventType:"authorization_success",params:{type:"otp",external_service:"OAuth Litres ".concat(P),version:2}}):G(a.otp),_(),null==j||j(e)}).catch(e=>{P?z({eventType:"authorization_fail",params:{type:"otp",external_service:"OAuth Litres ".concat(P),version:2}}):W(a.otp),401===e.data.status?u(t("Неверный код, попробуйте еще раз")):O(e.code)})},loginByPhonePassword:e=>{let{phone:r,pwd:n,country:i}=e;r&&n&&i&&J({phone:b(r),password:n,country_code:i.toUpperCase()}).unwrap().then(e=>{P?z({eventType:"authorization_success",params:{type:"phone",external_service:"OAuth Litres ".concat(P),version:2}}):G(a.phone),_(),null==j||j(e)}).catch(e=>{P?z({eventType:"authorization_fail",params:{type:"phone",external_service:"OAuth Litres ".concat(P),version:2}}):W(a.phone),401===e.data.status?u(t("Неверное сочетание логина и пароля")):O(e.code)})},handleEdit:U,loginByEmail:e=>{let{email:r,pwd:n}=e;r&&n&&J({login:r,password:n}).unwrap().then(e=>{P?z({eventType:"authorization_success",params:{type:"email",external_service:"OAuth Litres ".concat(P),version:2}}):G(a.email),_(),null==j||j(e)}).catch(e=>{P?z({eventType:"authorization_fail",params:{type:"email",external_service:"OAuth Litres ".concat(P),version:2}}):W(a.email),401===e.data.status?u(t("Неверное сочетание логина и пароля")):O(e.code)})},onFieldValueChange:(t,r)=>{O(null),u(null),e(f.hi.global.auth.setFormData({[t]:r}))},sendOTPBeforeSetNewPassword:H,sendEmailOTPBeforeSetNewPassword:K,reSendPhoneOTP:B,reSendEmailOTP:$,loginByOTPCode:e=>{let{code:r}=e;r&&(o(!0),J({otp_id:v,code:r}).unwrap().then(()=>{o(!1),_(),q()}).catch(e=>{o(!1),P?z({eventType:"authorization_fail",params:{type:"otp",external_service:"OAuth Litres ".concat(P),version:2}}):W(a.otp),401===e.data.status?u(t("Неверный код, попробуйте еще раз")):O(e.code)}))},setPassword:M}]},ez=()=>{let{t:e}=(0,h.$G)(),[{isLoading:t,errorText:r,initialEmailData:n},{loginByEmail:i,onFieldValueChange:o,recoveryPasswordByLoginOrEmail:a}]=eB(),s=ey.formField[p.lE.password],{control:c,handleSubmit:f,formState:m,setError:g,clearErrors:_}=(0,eg.cI)({defaultValues:n||{}});(0,l.useEffect)(()=>{r?g(p.lE.password,{type:"custom",message:r},{shouldFocus:!0}):_()},[r]);let v=(0,l.useRef)(null),y=(0,ej.Nn)(v),b=(0,d.H3)((null==n?void 0:n.email)||"");return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("form",{className:eo().form,onSubmit:f(i),children:[(0,u.jsxs)("div",{className:eo().form__label,ref:v,children:[e("Введите пароль для")," ",(0,u.jsx)("strong",{title:y?b:"",className:A()({[eo().truncated]:y}),children:b})]}),(0,u.jsxs)("div",{className:eo().form__control,children:[(0,u.jsx)("input",{type:"text",name:"email",defaultValue:null==n?void 0:n.email,className:eo().hidden,tabIndex:-1}),(0,u.jsx)(ev.B,{name:p.lE.password,control:c,rules:{required:s.requiredErrorMsg,validate:()=>!r||r,maxLength:{value:1/0,message:""},minLength:{value:-1,message:""}},onChangeValue:e=>{null==o||o(p.lE.password,e)},placeholder:e("Пароль"),autoComplete:"current-password",autoFocus:!0,isPassword:!0,e2eId:"auth__input--enterPassword"})]}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{mode:"primary",size:"medium",fullWidth:!0,disabled:m.isSubmitting,text:e("Войти"),type:"submit",e2eId:"auth__button--enter"})})]}),(0,u.jsx)(ep.Fg,{href:"#",onClick:e=>{e.preventDefault(),a()},className:eo().recovery,children:(0,u.jsx)("strong",{children:e("Забыли пароль?")})})]})},eG=e=>{let{isLoading:t,errorText:r,onSubmit:n,initialData:i,type:o="phone",onChange:a,onReset:s}=e,d=(0,f.TL)(),{reset:p}=(0,c.f1)();(0,l.useEffect)(()=>()=>{d(f.hi.global.auth.setRateLimitError(!1)),p()},[p]);let m=(0,l.useRef)(null),g=(0,ej.Nn)(m),{t:_}=(0,h.$G)(),v=null==i?void 0:i.phone,y=null==i?void 0:i.email,b="phone"===o?_("Мы отправили код в SMS на номер"):(0,u.jsx)(h.cC,{i18nKey:"Мы отправили письмо с кодом на <strong>{email}</strong><br/>Введите его для подтверждения почты",defaults:"Мы отправили письмо с кодом на <strong>{email}</strong><p>Введите его для подтверждения почты</p>",components:{strong:(0,u.jsx)("strong",{title:g?y:"",className:A()({[eo().truncated]:g})})},values:{email:y}});return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("div",{className:eo().description,ref:m,children:[b,v&&"email"!==o&&(0,u.jsx)("div",{children:(0,u.jsx)("strong",{children:v})})]}),(0,u.jsx)(eA,{errorText:r,onSubmit:n,initialData:i,onFieldValueChange:a}),(0,u.jsx)(eN,{onReset:s})]})},eW=()=>{let[{initialPhoneData:e,errorText:t,isLoading:r},{onFieldValueChange:n,loginByPhone:i,reSendPhoneOTP:o}]=eB();return(0,u.jsx)(eG,{isLoading:r,initialData:e,errorText:t,onSubmit:i,onChange:n,onReset:o})},e$=()=>{let{t:e}=(0,h.$G)(),[{isLoading:t,errorText:r,initialData:n},{loginByPhonePassword:i,recoveryPasswordByOTP:o,onFieldValueChange:a}]=eB(),{control:s,handleSubmit:c,formState:d,setError:f,clearErrors:m}=(0,eg.cI)({defaultValues:n||{}});(0,l.useEffect)(()=>{r?f(p.lE.password,{type:"custom",message:r},{shouldFocus:!0}):m()},[r]);let g=ey.formField[p.lE.password],_=(0,l.useCallback)(e=>{null==a||a(p.lE.password,e)},[a]),v=(0,l.useCallback)(e=>{e.preventDefault(),o()},[]),y=(0,l.useCallback)(()=>!r||r,[r]);return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsxs)("form",{className:eo().form,onSubmit:c(i),children:[(0,u.jsxs)("div",{className:eo().form__label,children:[e("Введите пароль для")," ",(0,u.jsx)("strong",{children:null==n?void 0:n.phone})]}),(0,u.jsxs)("div",{className:eo().form__control,children:[(0,u.jsx)("input",{type:"text",name:"phone",defaultValue:null==n?void 0:n.phone,className:eo().hidden,tabIndex:-1}),(0,u.jsx)(ev.B,{name:p.lE.password,control:s,rules:{required:g.requiredErrorMsg,validate:y,minLength:{value:-1,message:""},maxLength:{value:1/0,message:""}},onChangeValue:_,placeholder:e("Пароль"),autoComplete:"current-password",autoFocus:!0,isPassword:!0,e2eId:"auth__input--enterPassword"})]}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{mode:"primary",size:"medium",fullWidth:!0,disabled:d.isSubmitting,text:e("Войти"),type:"submit",e2eId:"auth__button--enter"})})]}),(0,u.jsx)(ep.Fg,{href:"#",onClick:v,className:eo().recovery,children:(0,u.jsx)("strong",{children:e("Забыли пароль?")})})]})},eH=e=>{let{authBy:t}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),t===i.phoneOTP&&(0,u.jsx)(eW,{}),t===i.phonePassword&&(0,u.jsx)(e$,{}),t===i.email&&(0,u.jsx)(ez,{})]})})};var eV=r(34461),eZ=r.n(eV);let eK=()=>{let{t:e}=(0,h.$G)(),t=(0,f.CG)(e=>e.global.auth.formData.email),r=v(t)?x(t):void 0;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:eo().description,children:v(t)?(0,u.jsx)(h.cC,{i18nKey:"Вам отправлено письмо для восстановления пароля на адрес <strong>{email}</strong>.<br/><br/>Следуйте инструкциям в письме. Это сообщение можно закрыть.",values:{email:t},components:{strong:(0,u.jsx)("strong",{className:A()(eo().withWordBreak,eo().bold)})}}):(0,u.jsx)(h.cC,{i18nKey:"Вам отправлено письмо для восстановления пароля на адрес, указанный при регистрации<br/><br/>Следуйте инструкциям в письме. Это сообщение можно закрыть.",values:{email:t}})}),r&&(0,u.jsx)(e_.z,{mode:"primary",size:"medium",text:e("Перейти в почту"),fullWidth:!0,href:r,targetBlank:!0,className:eZ().buttonOverride})]})},eJ=()=>{let e=(0,f.CG)(e=>e.global.auth.formData.email);return(0,u.jsx)(h.cC,{i18nKey:"Чтобы восстановить пароль для <strong>{login}</strong>, свяжитесь со <a href='{link}' target='_blank'>службой поддержки</a>, либо попробуйте другую почту или логин",defaults:"Чтобы восстановить пароль для <strong>{login}</strong>, свяжитесь со <a href='{link}' target='_blank'>службой поддержки</a>, либо попробуйте другую почту или логин",values:{login:e,link:"https://litres.helpdeskeddy.com/ru/"},components:{a:(0,u.jsx)(R.I,{}),strong:(0,u.jsx)("strong",{className:A()(eo().bold,eo().withWordBreak)})}})},eQ=()=>{let[{isLoading:e,errorText:t,initialPhoneData:r},{onFieldValueChange:n,sendOTPBeforeSetNewPassword:i,reSendPhoneOTP:o,loginByOTPCode:a}]=eB();return(0,l.useEffect)(()=>{i()},[]),(0,u.jsx)(eG,{isLoading:e,initialData:r,errorText:t,onSubmit:a,onChange:n,onReset:o})},eX=()=>{let[{isLoading:e,errorText:t,initialEmailData:r},{onFieldValueChange:n,sendEmailOTPBeforeSetNewPassword:i,reSendEmailOTP:o,loginByOTPCode:a}]=eB();return(0,l.useEffect)(()=>{i()},[]),(0,u.jsx)(eG,{isLoading:e,initialData:r,errorText:t,onSubmit:a,onChange:n,onReset:o,type:"email"})},eY=e=>{let{authBy:t}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),t===i.login&&(0,u.jsx)(eJ,{}),t===i.email&&(0,u.jsx)(eK,{}),t===i.phoneOTP&&(0,u.jsx)(eQ,{}),t===i.emailOTP&&(0,u.jsx)(eX,{})]})})},e0=()=>{let e=(0,f.TL)(),{t}=(0,h.$G)(),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),{phone:s="",otpID:u="",country:c="ru",code:m="",email:g="",mailSubscriptionsAllowed:v=!1,regPwd:y="",regPwdRepeat:b=""}=(0,f.CG)(e=>e.global.auth.formData),x=(0,f.CG)(e=>e.foundationUser),S={phone:s,otpID:u,code:m,email:g,mailSubscriptionsAllowed:v,regPwd:y,regPwdRepeat:b},{onAuthSuccess:w,sendPhoneOTP:k,sendEmailOTP:E,setBackendErrorCode:T,oAuthClientName:j}=C(),A=()=>{if(s){let t=c.toUpperCase();e(f.hi.global.auth.setFormData({code:""})),n(!0),k(s,t,()=>{n(!1)})}},R=()=>{g&&(e(f.hi.global.auth.setFormData({code:""})),E(g))},[O,{isLoading:P}]=f.iJ.useRegisterMutation(),[L,{isLoading:I}]=f.iJ.useChangePasswordMutation(),[,{isLoading:N}]=f.iJ.useCheckPhoneAvailabilityMutation(),F=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.registrationSetPassword))},D=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.setPasswordEmail))},M=()=>{O({otp_id:u,code:m,otp_type:"email",mail_subscriptions_allowed:!!v}).unwrap().then(()=>{j?z({eventType:"registration_success",params:{type:"email",external_service:"OAuth Litres ".concat(j),version:2}}):$(a.email),D()}).catch(e=>{j?z({eventType:"registration_fail",params:{type:"email",external_service:"OAuth Litres ".concat(j),version:2}}):H(a.email),422===e.data.status||401===e.data.status?o(t("Неверный код, попробуйте еще раз")):T(e.code)})};return[{initialData:S,errorText:i,isLoading:r||P||I||N},{registerByPhone:e=>{let{code:r}=e;r&&O({otp_id:u,code:r}).unwrap().then(()=>{_(),F()}).catch(e=>{j?z({eventType:"registration_fail",params:{type:"phone",external_service:"OAuth Litres ".concat(j),version:2}}):H(a.phone),422===e.data.status||401===e.data.status?o(t("Неверный код, попробуйте еще раз")):T(e.code)})},registerByEmail:e=>{let{email:t,regPwd:r,regPwdRepeat:n,mailSubscriptionsAllowed:i}=e;t&&r&&r===n&&O({email:(0,d.H3)(t),password:r,mail_subscriptions_allowed:!!i}).unwrap().then(()=>{j?z({eventType:"registration_success",params:{type:"email",external_service:"OAuth Litres ".concat(j),version:2}}):$(a.email),null==w||w()}).catch(e=>{j?z({eventType:"registration_fail",params:{type:"email",external_service:"OAuth Litres ".concat(j),version:2}}):H(a.email),T(e.code)})},onFieldValueChange:(t,r)=>{o(null),T(null),e(f.hi.global.auth.setFormData({[t]:r}))},sendEmailOTPBeforeSetPassword:()=>{g&&(n(!0),E(g,t=>{n(!1),429===t&&e(f.hi.global.auth.setRateLimitError(!0))}))},proceedToEmailPasswordSet:D,registerByEmailOTP:M,setPassword:e=>{let{regPwd:t,regPwdRepeat:r}=e;t&&r&&L({password:t,password_repeated:r}).unwrap().then(()=>{j?z({eventType:"registration_success",params:{type:"phone",external_service:"OAuth Litres ".concat(j),version:2}}):$(a.phone),_(),null==w||w(x.SID)}).catch(e=>{j?z({eventType:"registration_fail",params:{type:"phone",external_service:"OAuth Litres ".concat(j),version:2}}):H(a.phone),T(e.code)})},reSendPhoneOTP:A,reSendEmailOTP:R}]},e1=e=>{let{loading:t=!1,passwordKeysMap:r,onSubmit:n,initialData:i,errorText:o,onChange:a}=e,{t:s}=(0,h.$G)(),{password:c,passwordRepeat:d}=r,{control:p,handleSubmit:f,formState:m,watch:g,setError:_,clearErrors:v}=(0,eg.cI)({defaultValues:i||{}}),y=ey.formField[c],b=ey.formField[d],x=null==i?void 0:i.email;return(0,l.useEffect)(()=>{o?(_(c,{type:"custom",message:o},{shouldFocus:!0}),_(d,{type:"custom",message:o},{shouldFocus:!0})):v()},[o]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{className:eo().form,onSubmit:f(n),children:[(0,u.jsx)("div",{className:eo().form__label,children:s("Задайте пароль для входа")}),(0,u.jsxs)("div",{className:eo().form__control,children:[(0,u.jsx)("input",{type:"text",name:"email",defaultValue:x,className:eo().hidden,tabIndex:-1}),(0,u.jsx)(ev.B,{name:c,control:p,rules:{maxLength:{value:100,message:s("Введите не больше 100 символов")},required:y.requiredErrorMsg,validate:()=>!o||o},onChangeValue:e=>{null==a||a(c,e)},placeholder:s("Пароль"),autoFocus:!0,isPassword:!0})]}),(0,u.jsx)("div",{className:eo().form__control,children:(0,u.jsx)(ev.B,{name:d,control:p,rules:{maxLength:{value:100,message:s("Введите не больше 100 символов")},required:b.requiredErrorMsg,validate:e=>g(c)!=e?s("Пароли должны быть одинаковыми"):!o||o},onChangeValue:e=>{null==a||a(d,e)},placeholder:s("Повторите пароль"),isPassword:!0})}),(0,u.jsx)("div",{className:eo().form__submit,children:(0,u.jsx)(e_.z,{loading:t,mode:"primary",size:"medium",fullWidth:!0,disabled:m.isSubmitting,text:s("Сохранить"),type:"submit"})})]})})},e2=()=>{let[{initialData:e,errorText:t,isLoading:r},{onFieldValueChange:n,registerByEmail:i}]=e0();return(0,u.jsx)(e1,{loading:r,onSubmit:i,errorText:t,onChange:n,initialData:e,passwordKeysMap:{password:p.lE.regPassword,passwordRepeat:p.lE.regPasswordRepeat}})},e5=()=>{let[{errorText:e,initialData:t},{onFieldValueChange:r,registerByPhone:n,reSendPhoneOTP:i}]=e0(),{t:o}=(0,h.$G)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:eo().description,children:[o("Мы отправили код в SMS на номер")," ",(0,u.jsx)("div",{children:(0,u.jsx)("strong",{children:null==t?void 0:t.phone})})]}),(0,u.jsx)(eA,{errorText:e,onSubmit:n,initialData:t,onFieldValueChange:r}),(0,u.jsx)(eN,{onReset:i})]})},e4=function(){let{isByEmail:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isByEmail:!1},[{isLoading:t}]=e0();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),t&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),e?(0,u.jsx)(e2,{}):(0,u.jsx)(e5,{})]})})},e3=()=>{let[{initialData:e,errorText:t,isLoading:r},{onFieldValueChange:n,setPassword:i}]=e0();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),(0,u.jsx)(e1,{loading:r,onSubmit:i,errorText:t,onChange:n,initialData:e,passwordKeysMap:{password:p.lE.regPassword,passwordRepeat:p.lE.regPasswordRepeat}})]})})};var e8=r(98071),e6=r(56733);let e9=()=>{let e=(0,f.TL)(),{t}=(0,h.$G)(),[{initialData:r},{onFieldValueChange:n}]=e0(),i=()=>{e(f.hi.global.auth.goToPreviousStep())},o=()=>{e(f.hi.global.auth.setActiveStep(p.MZ.confirmEmailByOTP))},{mailSubscriptionAgreement:a}=(0,e6.B)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),(0,u.jsxs)("div",{className:eo().emailRegistrationContainer,children:[(0,u.jsxs)("div",{className:eo().emailRegistrationContainer__emailContainer,children:[(0,u.jsx)("strong",{className:eo().emailRegistrationContainer__email,children:null==r?void 0:r.email}),(0,u.jsx)(ec.uQ,{name:"editPencil",size:24,className:eo().emailRegistrationContainer__editLink,onClick:i})]}),(0,u.jsx)("div",{className:eo().emailRegistrationContainer__freeEmailMessage,children:t("Адрес свободен для регистрации")})]}),(0,u.jsx)("div",{className:eo().subscriptionAllowance,children:(0,u.jsx)(e8.X,{onChange:e=>null==n?void 0:n(p.lE.mailSubscriptionsAllowed,e),isCheckedDefault:!!(null==r?void 0:r.mailSubscriptionsAllowed),text:(0,u.jsx)("div",{children:(0,u.jsx)(h.cC,{i18nKey:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',defaults:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',components:{a:(0,u.jsx)(R.I,{})},values:{mailSubscriptionAgreement:a}})})})}),(0,u.jsx)(e_.z,{mode:"primary",size:"medium",fullWidth:!0,text:t("Продолжить"),onClick:o})]})})},e7=()=>{let[{initialNewPasswordData:e,errorText:t,isLoading:r},{onFieldValueChange:n,setPassword:i}]=eB();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),r&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),(0,u.jsx)(e1,{onSubmit:i,errorText:t,onChange:n,initialData:e,passwordKeysMap:{password:p.lE.newPassword,passwordRepeat:p.lE.newPasswordRepeat}})]})})},te=()=>{let[{initialData:e,isLoading:t,errorText:r},{onFieldValueChange:n,sendEmailOTPBeforeSetPassword:i,registerByEmailOTP:o,reSendEmailOTP:a}]=e0();return(0,l.useEffect)(()=>{i()},[]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:eo().content,children:[(0,u.jsx)(ef,{}),(0,u.jsx)(eG,{isLoading:t,initialData:e,errorText:r,onSubmit:o,onChange:n,onReset:a,type:"email"})]})})},tt=e=>{let{activeStep:t}=e;return(0,l.useMemo)(()=>{switch(t){case p.MZ.authenticationByPhone:return(0,u.jsx)(eI,{authBy:i.phoneOTP});case p.MZ.loginByPhoneOTP:return(0,u.jsx)(eH,{authBy:i.phoneOTP});case p.MZ.loginByPhonePassword:return(0,u.jsx)(eH,{authBy:i.phonePassword});case p.MZ.recoveryByOTP:return(0,u.jsx)(eY,{authBy:i.phoneOTP});case p.MZ.recoveryByEmailOTP:return(0,u.jsx)(eY,{authBy:i.emailOTP});case p.MZ.setPassword:case p.MZ.setPasswordPhone:case p.MZ.setPasswordEmail:return(0,u.jsx)(e7,{});case p.MZ.registration:return(0,u.jsx)(e4,{});case p.MZ.registrationSetPassword:return(0,u.jsx)(e3,{});case p.MZ.confirmRegistrationByEmail:return(0,u.jsx)(e9,{});case p.MZ.confirmEmailByOTP:return(0,u.jsx)(te,{});case p.MZ.registrationByEmail:return(0,u.jsx)(e4,{isByEmail:!0});case p.MZ.authenticationByEmail:return(0,u.jsx)(eI,{authBy:i.email});case p.MZ.loginByEmail:return(0,u.jsx)(eH,{authBy:i.email});case p.MZ.recoveryByEmail:return(0,u.jsx)(eY,{authBy:i.email});case p.MZ.recoveryByLogin:return(0,u.jsx)(eY,{authBy:i.login});case p.MZ.authenticationByOther:return(0,u.jsx)(eI,{authBy:i.other});case p.MZ.authenticationByApp:return(0,u.jsx)(eI,{authBy:i.app});case p.MZ.fallbackLogin:return(0,u.jsx)(eU,{});default:return null}},[t])};var tr=r.p+"static/media/logo.0d6186bb.svg",tn=r.p+"static/media/avatar.dc9bc4fa.svg";let ti=e=>{var t;let{clientName:r,scopesList:n}=e,{profile:i,login:o}=(0,f.CG)(e=>e.foundationUser),{t:a}=(0,h.$G)(),{first_name:s,email:l,phone_number:c}=i,d=s||(null==l?void 0:null===(t=l.split("@"))||void 0===t?void 0:t[0])||o||c||"";return(0,u.jsxs)("div",{className:eo().oauthHeader,children:[(0,u.jsxs)("div",{className:eo().oauthHeader__topSection,children:[(0,u.jsx)("div",{className:eo().oauthHeader__logoIcon,children:(0,u.jsx)("img",{src:tr,height:"16",width:"98",alt:"Litres"})}),d&&(0,u.jsxs)("div",{className:eo().oauthHeader__user,children:[(0,u.jsx)("img",{src:tn,height:"40",width:"40",alt:"user"}),(0,u.jsx)("div",{className:eo().oauthHeader__username,title:d,children:d})]})]}),(0,u.jsx)("p",{className:eo().oauthHeader__permissionsTitle,children:a("Приложение \xab{clientName}\xbb сможет:",{clientName:r})}),(0,u.jsx)("ul",{className:eo().oauthHeader__permissionList,children:n.map(e=>{let{name:t,description:r}=e;return(0,u.jsx)("li",{children:(0,u.jsx)("span",{children:a(r)})},t)})})]})},to=e=>t=>({continue:{text:t?e("Разрешить"):e("Продолжить")},abort:{text:t?e("Запретить"):e("Войти в другой аккаунт")}}),ta=function(){let{isAllowScopesScreen:e,submitScopesPermission:t,setIsLoading:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAllowScopesScreen:!1,submitScopesPermission:d.ZT,setIsLoading:d.ZT},{t:n}=(0,h.$G)(),[i]=f.Hr.useAuthorizeMutation({fixedCacheKey:d.a4}),[o]=f.iJ.useLogoutMutation(),a=(0,l.useMemo)(()=>to(n)(!!e),[e]),s=()=>{var e,t,n,o,a;let s=new URLSearchParams(window.location.search);i({client_id:null!==(e=Number(s.get("client_id")))&&void 0!==e?e:0,scope:null!==(t=s.get("scope"))&&void 0!==t?t:"",response_type:null!==(n=s.get("response_type"))&&void 0!==n?n:"",redirect_uri:null!==(o=s.get("redirect_uri"))&&void 0!==o?o:"",state:null!==(a=s.get("state"))&&void 0!==a?a:""}).unwrap().then(e=>{r(!0),e&&(window.location.href=e)}).catch(e=>{let{status:t}=e;r(!1),403===t&&(window.location.href=window.location.origin+"/oauth/authorize"+window.location.search)})},c=()=>{t(!0)},p=()=>{t(!1)},m=()=>{(0,d.bZ)("litres.csrf"),(0,d.bZ)("litres.sid.storage"),(0,d.bZ)("litres.csrf.user"),(0,d.kT)("last_search"),(0,d.kT)("user_id"),(0,d.kT)("LKS_LAST"),(0,d.kT)("LKS"),(0,d.kT)("BSK"),(0,d.kT)("BSK_LAST"),(0,d.kT)("safemode"),(0,d.kT)("cookie-agreement"),(0,d.kT)("SID"),(0,d.kT)("promocode"),(0,d.kT)("litres_adv_cookie"),window.location.reload()},g=()=>{r(!0),o().then(m)};return(0,u.jsxs)("div",{className:eo().oauthAuthorizedUser,children:[(0,u.jsx)("h3",{className:eo().oauthAuthorizedUser__title,children:n("Вход через Литрес")}),(0,u.jsxs)("div",{className:A()(eo().oauthAuthorizedUser__buttons,{[eo().oauthAuthorizedUser__buttons_oneRow]:e}),children:[(0,u.jsx)("div",{className:eo().oauthAuthorizedUser__continueButton,children:(0,u.jsx)(e_.z,{mode:"primary",size:"medium",fullWidth:!0,text:a.continue.text,onClick:e?c:s})}),(0,u.jsx)(e_.z,{mode:"secondary",size:"medium",fullWidth:!0,text:a.abort.text,onClick:e?p:g})]}),(0,u.jsx)(ek.F,{})]})},ts=()=>{let e=(0,f.CG)(e=>e.global.auth.activeStep),t=(0,f.CG)(e=>e.global.auth.fallbackStep),r=(0,f.CG)(e=>e.global.auth.stepsHistory),{hidePopup:n,onClosePopup:i,isMobile:o,isOauth:a,isAllowScopesScreen:s,oAuthClientName:c="",oAuthScopesList:h=[{name:"",description:""}],submitOAuthScopesPermission:m=d.ZT,uiOptions:g}=C(),{analyticsData:_}=(0,f.CG)(e=>e.global.header.auth),v=(0,l.useRef)(null),y=(0,l.useRef)(null),b=t=>{t.preventDefault(),n(),null==i||i(),e===p.MZ.fallbackLogin?X():K()},[x,S]=(0,l.useState)(!1),w=(0,l.useRef)(566);(0,l.useEffect)(()=>{if(y.current){let e=y.current.getBoundingClientRect().height;w.current=e>=w.current?e:w.current}},[y]),(0,l.useEffect)(()=>{v.current&&w.current&&!o&&(e===p.MZ.authenticationByPhone||e===p.MZ.fallbackLogin&&t===p.H$.init?(v.current.style.height="auto",e===p.MZ.fallbackLogin&&t===p.H$.init&&y.current&&(w.current=y.current.getBoundingClientRect().height)):(v.current.style.height="".concat(w.current+Number(x),"px"),S(e=>!e)))},[e,t]);let k=!!(0,f.CG)(e=>e.foundationUser).id,E=(0,eh.useDispatch)();(0,l.useEffect)(()=>{(null==g?void 0:g.phoneFirst)&&E(f.hi.global.auth.setActiveStepHard(p.MZ.authenticationByPhone))},[E,null==g?void 0:g.phoneFirst]),(0,l.useEffect)(()=>{let t=e?q[e]:null;if((!k||e!==p.MZ.authenticationByPhone)&&t){if(c){z({...t,params:{...t.params,external_service:"OAuth Litres ".concat(c),..._}});return}z({...t,params:{...t.params,..._}})}},[e]),(0,l.useEffect)(()=>{s&&ee({oAuthClientName:c,extraParams:_})},[s]);let T=em(),[j,O]=(0,l.useState)(!1),[,{isLoading:P}]=f.Hr.useAllowScopesMutation({fixedCacheKey:d.Rl}),[,{isLoading:I}]=f.Hr.useAuthorizeMutation({fixedCacheKey:d.a4}),N=j||I||P,F=(null==r?void 0:r.length)>0&&e!==p.MZ.setPasswordEmail&&e!==p.MZ.setPassword&&e!==p.MZ.setPasswordPhone;return(0,u.jsx)("div",{ref:v,children:(0,u.jsxs)("div",{ref:y,className:A()(eo().wrapper,{[eo().wrapper_mobile]:o,[eo().wrapper_isFullScreenMode]:null==g?void 0:g.fullScreen,[eo().wrapper_isFullScreenModeWithGap]:(null==g?void 0:g.fullScreen)&&F}),"data-testid":"authorization-popup",children:[N&&(0,u.jsx)("div",{className:eo().loading,children:(0,u.jsx)(L.$,{})}),a&&e===p.MZ.authenticationByEmail&&(0,u.jsx)(ti,{clientName:c,scopesList:h}),!a&&!(null==g?void 0:g.noCancel)&&!(null==g?void 0:g.fullScreen)&&(0,u.jsx)(R.I,{href:"#",className:eo().closeIcon,onClick:b,"data-testid":"authorization-popup__close-button",children:(0,u.jsx)(ec.uQ,{name:"close",size:24})}),F&&(0,u.jsx)(ed,{isUsedInFullscreenMode:null==g?void 0:g.fullScreen}),a&&T?(0,u.jsx)(ta,{isAllowScopesScreen:s,submitScopesPermission:m,setIsLoading:O}):(0,u.jsx)(tt,{activeStep:e})]})})};var tu=r(59497);let tl=e=>{let{errorTitle:t,customTitle:r,subTitleSetPhone:n,isMobile:i=!1,isOauth:o=!1,isAllowScopesScreen:a=!1,isLibrary:s=!1,showSocials:l=!0,showEmailButton:d=!0,showPhoneButton:p=!0,showLitresTerms:f=!0,showAppLoginButton:h=!0,isReloadOnSetPhone:m=!0,oAuthClientName:g="",submitOAuthScopesPermission:_,oAuthScopesList:v,hidePopup:y,onClosePopup:b,uiOptions:x,onSetPhoneSuccess:S,onAuthSuccess:w}=e,k={hidePopup:y,onClosePopup:b,isMobile:i,isOauth:o,isAllowScopesScreen:a,isLibrary:s,showSocials:l,showEmailButton:d,showPhoneButton:p,showLitresTerms:f,showAppLoginButton:h,errorTitle:t,customTitle:r,subTitleSetPhone:n,oAuthClientName:g,submitOAuthScopesPermission:_,oAuthScopesList:v,uiOptions:x,onSetPhoneSuccess:S,isReloadOnSetPhone:m};return(0,u.jsx)(tu.K,{children:(0,u.jsx)(c.zU,{name:"auth",children:(0,u.jsx)(T,{value:k,onAuthSuccess:w,children:(0,u.jsx)(ts,{})})})})};function tc(e){(0,l.useEffect)(()=>{(0,d.kT)("firstUpdatedPageAfterAuth")},[]),(0,l.useEffect)(()=>{(0,d.ej)("firstUpdatedPageAfterAuth")!==e&&(0,d.kT)("firstUpdatedPageAfterAuth")},[e])}var td=r(9524),tp=r(88048),tf=r.n(tp);let th=e=>{let{children:t,isShowBack:r=!1,isCloseButtonShown:n=!0,onClose:i,onBackClick:o=d.ZT}=e,{pda:a}=(0,f.CG)(e=>e.browser);return(0,u.jsx)(td.ZA,{isOpen:!0,onClose:i,closeOnClickOutside:!0,isMobile:a,children:(0,u.jsx)(tm,{onClose:i,hasGoBackButton:r,onGoBack:o,isCloseButtonShown:n,children:t})})},tm=e=>{let{children:t,hasGoBackButton:r=!1,isCloseButtonShown:n,onClose:i,onGoBack:o=d.ZT}=e,{pda:a}=(0,f.CG)(e=>e.browser);return(0,u.jsxs)("div",{className:A()(tf().wrapper,{[tf().wrapper_mobile]:a}),children:[(0,u.jsxs)("header",{className:tf().header,children:[(0,u.jsx)("div",{className:tf().backButton,children:r&&(0,u.jsx)(ec.uQ,{name:"arrowBack",size:24,onClick:o})}),(0,u.jsx)("div",{className:tf().closeButton,children:n&&(0,u.jsx)(ec.uQ,{name:"close",size:24,onClick:i})})]}),(0,u.jsx)("div",{className:tf().content,children:t})]})}},27193:function(e,t,r){"use strict";r.d(t,{p:function(){return s}});var n=r(31549);r(44194);var i=r(88535),o=r(59978),a=r(62094);function s(e){let{text:t,seconds:r}=e,{time:s}=(0,a.J7)({autostart:!0,initialTime:r,endTime:0,timerType:"DECREMENTAL"});return 0===s?null:(0,n.jsxs)(o.b,{mode:o.p.info,children:[t,(0,i.Mz)(s)]})}},63610:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(89667),s=r.n(a);let u=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:o()(s().field,r),children:t})}},28334:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var n=r(31549);r(44194);var i=r(46672),o=r.n(i);let a=e=>{let{children:t}=e;return(0,n.jsx)("h2",{className:o().header,children:t})}},5683:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var n=r(31549);r(44194);var i=r(41141),o=r.n(i);let a=e=>{let{children:t}=e;return(0,n.jsx)("p",{className:o().header,children:t})}},72532:function(e,t,r){"use strict";r.d(t,{n:function(){return s}});var n=r(31549),i=r(96780);r(44194);var o=r(888),a=r.n(o);let s=()=>(0,n.jsx)("div",{className:a().loading,children:(0,n.jsx)(i.$,{})})},78254:function(e,t,r){"use strict";r.d(t,{B:function(){return A}});var n=r(31549),i=r(44194),o=r(59838),a=r(62094);let s=(0,i.createContext)({steps:{currentStep:"email-input",setStep:o.ZT,goBack:o.ZT},newEmail:{setEmail:o.ZT,setMailSubscriptionAllowed:o.ZT,isMailSubscriptionsAllowed:!1}});function u(){return(0,i.useContext)(s)}var l=r(83278);let c=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onBackClick:i}=e,{newEmail:a}=u();return(0,n.jsx)(l.BU,{email:a.email,isMailSubscriptionsAllowed:a.isMailSubscriptionsAllowed,onBackClick:i,onClose:t,onSuccess:r})};var d=r(48592),p=r(39319),f=r(76996),h=r(20239),m=r(98071),g=r(61794),_=r(7956),v=r(28334),y=r(5683),b=r(63610),x=r(79094);let S=r(12751).B.feature("AddNewEmailError");var w=r(56733),k=r(27193),E=r(98877),C=r(15203),T=r.n(C);let j=e=>{let{onClose:t=o.ZT,onBackClick:r}=e,{t:a}=(0,d.$G)(),{steps:s,newEmail:c}=u(),[C,{isLoading:j}]=g.iJ.useCheckLoginAvailabilityMutation(),[{otpId:A,retryAfterSeconds:R,isSendOtpLoading:O},{sendEmailOTP:P}]=(0,l.i7)(),[L,I]=(0,i.useState)(null),{mailSubscriptionAgreement:N}=(0,w.B)(),{control:F,formState:D,handleSubmit:M}=(0,f.cI)({defaultValues:{email:c.email,isMailSubscriptionsAllowed:c.isMailSubscriptionsAllowed||!1}}),U=(0,i.useCallback)(e=>{let{email:t,isMailSubscriptionsAllowed:r}=e;C(t).unwrap().then(e=>{if(!e){I("Эта почта привязана к другому аккаунту");return}c.setEmail(t),c.setMailSubscriptionAllowed(r||!1),P(t).then(()=>{s.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&S("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{var t;I("Техническая ошибка ".concat(null!==(t=null==e?void 0:e.status)&&void 0!==t?t:"")),S("FrontendLogicError","Check login availabitily",e).emit()})},[c,s,A]);return(0,n.jsx)(E.ModalStep,{isOpen:!0,isShowBack:!!r,onBackClick:r,closeOnClickOutside:!0,onClose:t,children:(0,n.jsxs)("form",{onSubmit:M(U),children:[R?(0,n.jsx)("div",{className:T().description,children:(0,n.jsx)(k.p,{text:a("Вы исчерпали лимит на отправку писем, повторите попытку через "),seconds:R})}):null,(0,n.jsx)(v.p,{children:a("Добавить почту")}),(0,n.jsx)(y.i,{children:a("Добавьте почту, чтобы повысить безопасность аккаунта")}),(0,n.jsxs)(b.W,{children:[(0,n.jsx)("input",{type:"text",name:"email",className:T().hidden,tabIndex:-1}),(0,n.jsx)(x.B,{name:"email",control:F,rules:{required:a("Поле не может быть пустым"),validate:e=>(0,_.Z_)().email().isValidSync(e)||a("Почта должна быть формата ivan.ivanovich@mail.ru"),minLength:{value:-1,message:""}},errorMessage:L,placeholder:a("Почта"),autoFocus:!0,transformValue:o.H3,onChangeValue:()=>{I(null)}})]}),(0,n.jsx)(b.W,{children:(0,n.jsx)(p.z,{loading:j||O,mode:"primary",size:"medium",fullWidth:!0,disabled:D.isSubmitting,text:a("Продолжить"),type:"submit"})}),(0,n.jsx)(b.W,{children:(0,n.jsx)(p.z,{mode:"secondary",size:"medium",text:a("Позже"),onClick:t,fullWidth:!0})}),(0,n.jsx)(b.W,{children:(0,n.jsx)(f.Qr,{name:"isMailSubscriptionsAllowed",control:F,render:e=>{let{field:t}=e;return(0,n.jsx)(m.X,{onChange:e=>{t.onChange(e)},name:"isMailSubscriptionsAllowed",isCheckedDefault:c.isMailSubscriptionsAllowed,text:(0,n.jsx)("div",{children:(0,n.jsx)(d.cC,{i18nKey:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',defaults:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',components:{a:(0,n.jsx)(h.I,{})},values:{mailSubscriptionAgreement:N}})})})}})})]})})},A=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT}=e,[u,{setStep:d,goToPrevStep:p}]=(0,a.Lp)(["email-input","verify-otp"]),[f,h]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1),_={steps:{currentStep:u,setStep:d,goBack:p},newEmail:{email:f,setEmail:h,isMailSubscriptionsAllowed:m,setMailSubscriptionAllowed:g}},v=()=>{d("email-input")},y=(0,i.useMemo)(()=>"email-input"===u?(0,n.jsx)(j,{onClose:t}):(0,n.jsx)(c,{onSuccess:r,onClose:t,onBackClick:v}),[u]);return(0,n.jsx)(l.GS,{children:(0,n.jsx)(s.Provider,{value:_,children:y})})}},39070:function(e,t,r){"use strict";r.d(t,{L:function(){return C}});var n=r(31549),i=r(44194),o=r(59838),a=r(62094),s=r(83278);let u=(0,i.createContext)({steps:{currentStep:"phone-input",setStep:o.ZT,goBack:o.ZT},newPhone:{setPhone:o.ZT,setCountryCode:o.ZT}});function l(){return(0,i.useContext)(u)}let c=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onFailure:i=o.ZT,onBackClick:a}=e,{newPhone:u}=l();return(0,n.jsx)(s.WQ,{phone:u.phone,countryCode:u.countryCode,onBackClick:a,onClose:t,onSuccess:r,onFailure:i})};var d=r(48592),p=r(39319),f=r(76996),h=r(61794),m=r(6222),g=r(28334),_=r(5683),v=r(63610);let y=r(12751).B.feature("AddNewPhoneError");var b=r(27193),x=r(98877),S=r(29390),w=r.n(S);let k=e=>{var t;let{onClose:r=o.ZT,onBackClick:a,title:u,subTitle:c}=e,{phone_number:S}=(0,h.CG)(e=>e.foundationUser.profile),{t:k}=(0,d.$G)(),{steps:E,newPhone:C}=l(),[T,{isLoading:j}]=h.iJ.useCheckPhoneAvailabilityMutation(),[{otpId:A,retryAfterSeconds:R,isSendOtpLoading:O},{sendPhoneOTP:P}]=(0,s.i7)(),[L,I]=(0,i.useState)(null),{control:N,formState:F,handleSubmit:D}=(0,f.cI)({defaultValues:{phone:C.phone}}),{pda:M}=(0,h.CG)(e=>e.browser),U=(null===(t=F.errors.phone)||void 0===t?void 0:t.message)||L,q=(0,i.useCallback)(e=>{let{phone:t}=e;T({phone:(0,o.z6)(t),country_code:C.countryCode}).unwrap().then(e=>{if(!e){I("Этот номер телефона привязан к другому аккаунту");return}C.setPhone(t),P((0,o.z6)(t),C.countryCode).then(()=>{E.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&y("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{if((null==e?void 0:e.status)===400){I(k("Некорректный формат телефона"));return}if((null==e?void 0:e.status)===422){I(k("Номер введён не полностью"));return}I("Техническая ошибка"),y("FrontendLogicError","Check phone availabitily",e).emit()})},[C,E,A]),B=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())},z=e=>{C.setCountryCode(null==e?void 0:e.code)},G=e=>{if((0,o.z6)(e)===S)return k("Этот номер телефона уже привязан к этому аккаунту")};return(0,n.jsx)(x.ModalStep,{isOpen:!0,isShowBack:!!a,onBackClick:a,closeOnClickOutside:!0,onClose:r,children:(0,n.jsxs)("form",{onSubmit:D(q),children:[R?(0,n.jsx)("div",{className:w().description,children:(0,n.jsx)(b.p,{text:k("Вы исчерпали лимит на отправку смс, повторите попытку через "),seconds:R})}):null,(0,n.jsx)(g.p,{children:u||k("Добавить номер телефона")}),(0,n.jsx)(_.i,{children:c||k("Добавьте и подтвердите номер телефона, чтобы повысить безопасность профиля")}),(0,n.jsxs)(v.W,{children:[(0,n.jsx)("input",{type:"text",name:"phone",className:w().hidden,tabIndex:-1}),(0,n.jsx)(f.Qr,{name:"phone",control:N,rules:{validate:G,required:k("Номер введён не полностью"),minLength:{value:-1,message:""}},render:e=>{let{field:t}=e;return(0,n.jsx)(m.sb,{inputMode:m.Ti.edit,handleInputChange:e=>{I(null),t.onChange(e)},onChangeCode:z,errorText:U,inputName:"phone",defaultCountry:"ru",isMobile:M,isOtpEnabledOnly:!0,onKeyUp:B,inputValue:C.phone})}})]}),(0,n.jsx)(v.W,{children:(0,n.jsx)(p.z,{loading:j||O,mode:"primary",size:"medium",fullWidth:!0,disabled:F.isSubmitting,text:k("Продолжить"),type:"submit"})}),(0,n.jsx)(v.W,{children:(0,n.jsx)(p.z,{mode:"secondary",size:"medium",text:k("Позже"),onClick:r,fullWidth:!0})})]})})};var E=r(59497);let C=e=>{let{title:t,subTitle:r,onClose:l=o.ZT,onSuccess:d=o.ZT,onFailure:p=o.ZT,onBackClick:f}=e,[h,{setStep:m,goToPrevStep:g}]=(0,a.Lp)(["phone-input","verify-otp"]),[_,v]=(0,i.useState)(""),[y,b]=(0,i.useState)("RU"),x={steps:{currentStep:h,setStep:m,goBack:g},newPhone:{phone:_,setPhone:v,countryCode:y,setCountryCode:b}},S=(0,i.useCallback)(()=>{"phone-input"===h&&f?f():"verify-otp"===h&&m("phone-input")},[h]),w=(0,i.useMemo)(()=>"phone-input"===h?(0,n.jsx)(k,{onClose:l,title:t,subTitle:r}):(0,n.jsx)(c,{onSuccess:d,onFailure:p,onClose:l,onBackClick:S}),[h]);return(0,n.jsx)(E.K,{children:(0,n.jsx)(s.GS,{children:(0,n.jsx)(u.Provider,{value:x,children:w})})})}},71545:function(e,t,r){"use strict";r.d(t,{Q:function(){return E}});var n=r(31549),i=r(44194),o=r(59838),a=r(62094),s=r(61794),u=r(83278);let l=(0,i.createContext)({steps:{currentStep:"email-confirmation-welcome",setStep:o.ZT,goBack:o.ZT},confirmEmail:{setEmail:o.ZT,setMailSubscriptionAllowed:o.ZT,isMailSubscriptionsAllowed:!1}});function c(){return(0,i.useContext)(l)}let d=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onBackClick:i}=e,{confirmEmail:a}=c();return(0,n.jsx)(u.BU,{email:a.email,isMailSubscriptionsAllowed:a.isMailSubscriptionsAllowed,onBackClick:i,onClose:t,onSuccess:r})};var p=r(48592),f=r(39319),h=r(55714),m=r(28334),g=r(5683),_=r(63610),v=r(27193),y=r(98877);let b=r(12751).B.feature("ConfirmEmailError");var x=r.p+"static/media/masterConfirmMailRequest.d9075e21.svg",S=r(56951),w=r.n(S);let k=e=>{let{onClose:t=o.ZT,onBackClick:r,onEditEmailClick:a}=e,{t:s}=(0,p.$G)(),{steps:l,confirmEmail:d}=c(),[{otpId:S,retryAfterSeconds:k,isSendOtpLoading:E},{sendEmailOTP:C}]=(0,u.i7)(),T=(0,i.useCallback)(e=>{let{email:t}=e;d.setEmail(t),C(t).then(()=>{l.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&b("FrontendLogicError","Send OTP error",e).emit()})},[d,l,S]);return(0,n.jsxs)(y.ModalStep,{isOpen:!0,isShowBack:!!r,onBackClick:r,closeOnClickOutside:!0,onClose:t,children:[k?(0,n.jsx)("div",{className:w().description,children:(0,n.jsx)(v.p,{text:s("Вы исчерпали лимит на отправку писем, повторите попытку через "),seconds:k})}):null,(0,n.jsx)(_.W,{children:(0,n.jsx)("img",{src:x,alt:"user"})}),(0,n.jsx)(m.p,{children:s("Подтвердите почту ")}),(0,n.jsx)(g.i,{children:s("Это повысит безопасность и обеспечит доступ к купленным книгам с любого устройства")}),(0,n.jsx)(_.W,{className:w().sendToField,children:(0,n.jsx)(p.cC,{i18nKey:"Отправим код подтверждения<br/> на <strong>{email}</strong>",defaults:"Отправим код подтверждения<br/> на <strong>{email}</strong>",values:{email:d.email},components:{strong:(0,n.jsx)("strong",{})}})}),(0,n.jsx)(_.W,{children:(0,n.jsx)(f.z,{loading:E,onClick:()=>{T({email:d.email})},mode:"primary",size:"medium",fullWidth:!0,text:s("Подтвердить")})}),a&&(0,n.jsxs)(_.W,{className:w().footer,children:[(0,n.jsx)("div",{className:w().footer__question,children:s("Нет доступа к этой почте?")}),(0,n.jsx)(h.Fg,{onClick:a,children:s("Изменить почту")})]})]})},E=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onEditEmailClick:c}=e,{email:p}=(0,s.CG)(e=>e.foundationUser.profile),[f,{setStep:h,goToPrevStep:m}]=(0,a.Lp)(["email-confirmation-welcome","verify-otp"]),[g,_]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1),b={steps:{currentStep:f,setStep:h,goBack:m},confirmEmail:{email:g||p||void 0,setEmail:_,isMailSubscriptionsAllowed:v,setMailSubscriptionAllowed:y}},x=()=>{h("email-confirmation-welcome")},S=(0,i.useMemo)(()=>"email-confirmation-welcome"===f?(0,n.jsx)(k,{onClose:t,onEditEmailClick:c}):(0,n.jsx)(d,{onSuccess:r,onClose:t,onBackClick:x}),[f]);return(0,n.jsx)(u.GS,{children:(0,n.jsx)(l.Provider,{value:b,children:S})})}},75627:function(e,t,r){"use strict";r.r(t),r.d(t,{CredentialsAskingPopup:function(){return $}});var n=r(31549),i=r(44194),o=r(62094),a=r(6222),s=r(61794),u=r(59838),l=r(34270),c=r(48592),d=r(98881),p=r(39070),f=r(78254),h=r(71545),m=r(666),g=r(83278);let _=(0,i.createContext)({steps:{currentStep:"phone-confirmation-welcome",setStep:u.ZT,goBack:u.ZT},confirmPhone:{setPhone:u.ZT}});function v(){return(0,i.useContext)(_)}let y=e=>{let{onClose:t=u.ZT,onSuccess:r=u.ZT,onBackClick:i}=e,{confirmPhone:o}=v();return(0,n.jsx)(g.WQ,{phone:o.phone,countryCode:o.countryCode,onBackClick:i,onClose:t,onSuccess:r})};var b=r(39319),x=r(55714),S=r(28334),w=r(5683),k=r(63610),E=r(27193);let C=e=>{if(11!==e.length)return e;{let t=e.slice(0,1),r=e.slice(1,4),n=e.slice(4,7),i="**",o=e.slice(9);return"".concat(t," ").concat(r," ").concat(n," ").concat(i," ").concat(o)}};var T=r(98877),j=r(12751);let A=j.B.feature("ConfirmPhoneError");var R=r(86581),O=r.n(R);let P=e=>{let{onClose:t=u.ZT,onBackClick:r,onEditPhoneClick:o}=e,{t:a}=(0,c.$G)(),{steps:s,confirmPhone:l}=v(),[{otpId:d,retryAfterSeconds:p,isSendOtpLoading:f},{sendPhoneOTP:h}]=(0,g.i7)(),m=(0,i.useCallback)(e=>{let{phone:t}=e;l.setPhone(t),h((0,u.z6)(t),l.countryCode).then(()=>{s.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&A("FrontendLogicError","Send OTP error",e).emit()})},[l,s,d]);return(0,n.jsxs)(T.ModalStep,{isOpen:!0,isShowBack:!!r,onBackClick:r,closeOnClickOutside:!0,onClose:t,children:[p?(0,n.jsx)("div",{className:O().description,children:(0,n.jsx)(E.p,{text:a("Вы исчерпали лимит на отправку смс, повторите попытку через "),seconds:p})}):null,(0,n.jsx)(S.p,{children:a("Подтвердите номер телефона")}),(0,n.jsx)(w.i,{children:a("Это повысит безопасность и обеспечит доступ к купленным книгам с любого устройства")}),(0,n.jsx)(k.W,{className:O().sendToField,children:(0,n.jsx)(c.cC,{i18nKey:"Отправим код подтверждения<br/> на <strong>{phone}</strong>",defaults:"Отправим код подтверждения<br/> на <strong>{phone}</strong>",values:{phone:C(l.phone||"")},components:{strong:(0,n.jsx)("strong",{})}})}),(0,n.jsx)(k.W,{children:(0,n.jsx)(b.z,{loading:f,onClick:()=>{m({phone:l.phone})},mode:"primary",size:"medium",fullWidth:!0,text:a("Подтвердить")})}),o&&(0,n.jsxs)(k.W,{className:O().footer,children:[(0,n.jsx)("div",{className:O().footer__question,children:a("Нет доступа к этому номеру телефона?")}),(0,n.jsx)(x.Fg,{onClick:o,children:a("Изменить номер телефона")})]})]})};var L=r(59497);let I=e=>{let{onClose:t=u.ZT,onSuccess:r=u.ZT,onEditPhoneClick:a}=e,{phone_number:l}=(0,s.CG)(e=>e.foundationUser.profile),[c,{setStep:d,goToPrevStep:p}]=(0,o.Lp)(["phone-confirmation-welcome","verify-otp"]),[f,h]=(0,i.useState)(""),m={steps:{currentStep:c,setStep:d,goBack:p},confirmPhone:{phone:f||l||void 0,setPhone:h,countryCode:(0,s.CG)(e=>e.foundationUser.profile.phone_country_code)||"RU"}},v=()=>{d("phone-confirmation-welcome")},b=(0,i.useMemo)(()=>"phone-confirmation-welcome"===c?(0,n.jsx)(P,{onClose:t,onEditPhoneClick:a}):(0,n.jsx)(y,{onSuccess:r,onClose:t,onBackClick:v}),[c]);return(0,n.jsx)(L.K,{children:(0,n.jsx)(g.GS,{children:(0,n.jsx)(_.Provider,{value:m,children:b})})})},N=(0,i.createContext)({steps:{currentStep:"phone-input",setStep:u.ZT,goBack:u.ZT},newPhone:{setPhone:u.ZT,setCountryCode:u.ZT}});function F(){return(0,i.useContext)(N)}let D=e=>{let{onClose:t=u.ZT,onSuccess:r=u.ZT,onBackClick:i}=e,{newPhone:o}=F();return(0,n.jsx)(g.WQ,{phone:o.phone,countryCode:o.countryCode,onBackClick:i,onClose:t,onSuccess:r})};var M=r(76996);let U=j.B.feature("EditPhoneError");var q=r(19486),B=r.n(q);let z=e=>{var t;let{title:r="Изменить номер телефона",onClose:o=u.ZT,onBackClick:l}=e,{phone_number:d}=(0,s.CG)(e=>e.foundationUser.profile),{t:p}=(0,c.$G)(),{steps:f,newPhone:h}=F(),[m,{isLoading:_}]=s.iJ.useCheckPhoneAvailabilityMutation(),[{otpId:v,retryAfterSeconds:y,isSendOtpLoading:x},{sendPhoneOTP:C}]=(0,g.i7)(),[j,A]=(0,i.useState)(null),{control:R,formState:O,handleSubmit:P}=(0,M.cI)({defaultValues:{phone:h.phone}}),{pda:L}=(0,s.CG)(e=>e.browser),I=(null===(t=O.errors.phone)||void 0===t?void 0:t.message)||j,N=(0,i.useCallback)(e=>{let{phone:t}=e;m({phone:(0,u.z6)(t),country_code:h.countryCode}).unwrap().then(e=>{if(!e){A(p("Этот номер телефона привязан к другому аккаунту"));return}h.setPhone(t),C((0,u.z6)(t),h.countryCode).then(()=>{f.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&U("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{var t;if((null==e?void 0:e.status)===400){A(p("Некорректный формат телефона"));return}if((null==e?void 0:e.status)===422){A(p("Номер введён не полностью"));return}A("Техническая ошибка ".concat(null!==(t=null==e?void 0:e.status)&&void 0!==t?t:"")),U("FrontendLogicError","Check phone availabitily",e).emit()})},[h,f,v]),D=e=>{if((0,u.z6)(e)===d)return p("Этот номер телефона уже привязан к этому аккаунту")},q=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())},z=e=>{h.setCountryCode(null==e?void 0:e.code)};return(0,n.jsx)(T.ModalStep,{isOpen:!0,isShowBack:!!l,onBackClick:l,closeOnClickOutside:!0,onClose:o,children:(0,n.jsxs)("form",{onSubmit:P(N),children:[y?(0,n.jsx)("div",{className:B().description,children:(0,n.jsx)(E.p,{text:p("Вы исчерпали лимит на отправку смс, повторите попытку через "),seconds:y})}):null,(0,n.jsx)(S.p,{children:p(r)}),(0,n.jsx)(w.i,{children:p("Укажите новый номер телефона")}),(0,n.jsxs)(k.W,{children:[(0,n.jsx)("input",{type:"text",name:"phone",className:B().hidden,tabIndex:-1}),(0,n.jsx)(M.Qr,{name:"phone",control:R,rules:{required:p("Номер введён не полностью"),validate:D,minLength:{value:-1,message:""}},render:e=>{let{field:t}=e;return(0,n.jsx)(a.sb,{inputMode:a.Ti.edit,handleInputChange:e=>{A(null),t.onChange(e)},onChangeCode:z,errorText:I,inputName:"phone",defaultCountry:"ru",isMobile:L,isOtpEnabledOnly:!0,onKeyUp:q,inputValue:h.phone})}})]}),(0,n.jsx)(k.W,{children:(0,n.jsx)(b.z,{loading:_||x,mode:"primary",size:"medium",fullWidth:!0,disabled:O.isSubmitting,text:p("Продолжить"),type:"submit"})})]})})},G=e=>{let{title:t,onClose:r=u.ZT,onSuccess:a=u.ZT,onBackClick:s}=e,[l,{setStep:c,goToPrevStep:d}]=(0,o.Lp)(["phone-input","verify-otp"]),[p,f]=(0,i.useState)(""),[h,m]=(0,i.useState)("RU"),_={steps:{currentStep:l,setStep:c,goBack:d},newPhone:{phone:p,setPhone:f,countryCode:h,setCountryCode:m}},v=(0,i.useCallback)(()=>{"phone-input"===l&&s?s():"verify-otp"===l&&c("phone-input")},[l]),y=(0,i.useMemo)(()=>"phone-input"===l?(0,n.jsx)(z,{onClose:r,onBackClick:v,title:t}):(0,n.jsx)(D,{onSuccess:a,onClose:r,onBackClick:v}),[l]);return(0,n.jsx)(L.K,{children:(0,n.jsx)(g.GS,{children:(0,n.jsx)(N.Provider,{value:_,children:y})})})},W=172800,$=()=>{let[e,{setStep:t}]=(0,o.Lp)(["no-one","add-new-phone","add-new-email","confirm-email","confirm-phone","edit-email","edit-phone","skip","success"]),r=(0,s.CG)(e=>e.foundationUser),g=(0,s.CG)(e=>e.face.language)||u.pF.ru,[_,v]=(0,i.useState)(null),{t:y}=(0,c.$G)(),b=(0,a.bj)(),x=(0,s.TL)(),S=(0,i.useMemo)(()=>(0,d.w)({foundationUser:r,lang:g}),[r,g,b]);(0,i.useEffect)(()=>{if("no-one"===e&&S){let e=!!(0,u.ej)("is_phone_asked"),n=!!(0,u.ej)("is_email_asked"),i=!!(0,u.ej)("is_email_confirm_asked"),o=!!(0,u.ej)("is_phone_confirm_asked");t((0,d.l)({isPhoneAsked:e,isEmailAsked:n,isEmailConfirmAsked:i,isPhoneConfirmAsked:o,isPhoneExist:!!r.profile.phone_number,isEmailExist:!!r.profile.email,isEmailConfirmed:!!r.profile.is_email_confirmed,isPhoneConfirmed:!!r.profile.is_phone_confirmed}))}},[e,r.profile.email,r.profile.is_email_confirmed,r.profile.is_phone_confirmed,r.profile.phone_number,S]);let w=()=>{(0,u.d8)("is_phone_asked","1",{"max-age":W}),t("skip")},k=()=>{(0,u.d8)("is_email_asked","1",{"max-age":W}),t("skip")},E=()=>{(0,u.d8)("is_email_confirm_asked","1",{"max-age":W}),t("skip")},C=()=>{(0,u.d8)("is_phone_confirm_asked","1",{"max-age":W}),t("skip")},T=()=>{(0,u.d8)("is_phone_asked","1",{"max-age":W}),t("success"),v(y("Номер телефона добавлен")),x(s.r7.util.invalidateTags([s.eJ.USER_DETAILED_DATA]))},j=()=>{(0,u.d8)("is_email_asked","1",{"max-age":W}),t("success"),v(y("Почта добавлена")),x(s.r7.util.invalidateTags([s.eJ.USER_DETAILED_DATA]))},A=()=>{(0,u.d8)("is_email_confirm_asked","1",{"max-age":W}),t("success"),v(y("Почта подтверждена")),x(s.r7.util.invalidateTags([s.eJ.USER_DETAILED_DATA]))},R=()=>{(0,u.d8)("is_phone_confirm_asked","1",{"max-age":W}),t("success"),v(y("Номер телефона подтвержден")),x(s.r7.util.invalidateTags([s.eJ.USER_DETAILED_DATA]))};return"add-new-phone"===e?(0,n.jsx)(p.L,{onClose:w,onSuccess:T}):"add-new-email"===e?(0,n.jsx)(f.B,{onClose:k,onSuccess:j}):"confirm-email"===e?(0,n.jsx)(h.Q,{onClose:E,onSuccess:A,onEditEmailClick:()=>{t("edit-email")}}):"edit-email"===e?(0,n.jsx)(m._,{onClose:E,onSuccess:A,onBackClick:()=>{t("confirm-email")}}):"confirm-phone"===e?(0,n.jsx)(I,{onClose:C,onSuccess:R,onEditPhoneClick:()=>{t("edit-phone")}}):"edit-phone"===e?(0,n.jsx)(G,{onClose:C,onSuccess:R,onBackClick:()=>{t("confirm-phone")}}):"success"===e&&_?(0,n.jsx)(l.P,{isOpen:!0,mode:"success",title:_,message:"",horizontalAlign:"right",time:1e4,verticalAlign:"top",onClose:()=>{v(null)}}):null}},98881:function(e,t,r){"use strict";r.d(t,{l:function(){return o},w:function(){return i}});var n=r(59838);function i(e){let{foundationUser:t,lang:r}=e,{id:i,profile:a,library_info:s}=t,u=n.Ym&&!!(0,n.ej)("is_phone_asked"),l=n.Ym&&!!(0,n.ej)("is_email_asked"),c=n.Ym&&!!(0,n.ej)("is_email_confirm_asked"),d=n.Ym&&!!(0,n.ej)("is_phone_confirm_asked"),p=new URLSearchParams(window.location.search).has("block-phone-asking"),f=o({isPhoneAsked:u,isEmailAsked:l,isEmailConfirmAsked:c,isPhoneConfirmAsked:d,isPhoneExist:!!a.phone_number,isEmailExist:!!a.email,isEmailConfirmed:!!a.is_email_confirmed,isPhoneConfirmed:!!a.is_phone_confirmed});return"no-one"!==f&&"skip"!==f&&!s.is_school_domain&&!s.is_librarian&&0!==i&&r&&(0,n.s7)(r)&&!p}function o(e){let{isPhoneAsked:t,isEmailAsked:r,isPhoneConfirmAsked:n,isEmailConfirmAsked:i,isPhoneExist:o,isEmailExist:a,isEmailConfirmed:s,isPhoneConfirmed:u}=e;return a||r?i||!a||s?o||t?n||!o||u?"no-one":"confirm-phone":"add-new-phone":"confirm-email":"add-new-email"}},666:function(e,t,r){"use strict";r.d(t,{_:function(){return A}});var n=r(31549),i=r(44194),o=r(59838),a=r(62094),s=r(83278);let u=(0,i.createContext)({steps:{currentStep:"email-input",setStep:o.ZT,goBack:o.ZT},newEmail:{setEmail:o.ZT,setMailSubscriptionAllowed:o.ZT,isMailSubscriptionsAllowed:!1}});function l(){return(0,i.useContext)(u)}let c=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onBackClick:i}=e,{newEmail:a}=l();return(0,n.jsx)(s.BU,{email:a.email,isMailSubscriptionsAllowed:a.isMailSubscriptionsAllowed,onBackClick:i,onClose:t,onSuccess:r})};var d=r(48592),p=r(39319),f=r(76996),h=r(20239),m=r(98071),g=r(61794),_=r(7956),v=r(28334),y=r(5683),b=r(63610),x=r(79094),S=r(56733),w=r(27193),k=r(98877);let E=r(12751).B.feature("EditEmailError");var C=r(40148),T=r.n(C);let j=e=>{let{onClose:t=o.ZT,onBackClick:r}=e,{email:a}=(0,g.CG)(e=>e.foundationUser.profile),{t:u}=(0,d.$G)(),{steps:c,newEmail:C}=l(),[j,{isLoading:A}]=g.iJ.useCheckLoginAvailabilityMutation(),[{otpId:R,retryAfterSeconds:O,isSendOtpLoading:P},{sendEmailOTP:L}]=(0,s.i7)(),[I,N]=(0,i.useState)(null),{mailSubscriptionAgreement:F}=(0,S.B)(),{control:D,formState:M,handleSubmit:U}=(0,f.cI)({defaultValues:{email:C.email,isMailSubscriptionsAllowed:C.isMailSubscriptionsAllowed||!1}}),q=(0,i.useCallback)(e=>{let{email:t,isMailSubscriptionsAllowed:r}=e;j(t).unwrap().then(e=>{if(!e){N("Эта почта привязана к другому аккаунту");return}C.setEmail(t),C.setMailSubscriptionAllowed(r||!1),L(t).then(()=>{c.setStep("verify-otp")}).catch(e=>{(null==e?void 0:e.status)!==429&&E("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{var t;N("Техническая ошибка ".concat(null!==(t=null==e?void 0:e.status)&&void 0!==t?t:"")),E("FrontendLogicError","Check login availabitily",e).emit()})},[C,c,R]),B=e=>(0,_.Z_)().email().isValidSync(e)?e===a?u("Эта почта уже привязана к этому аккаунту"):void 0:u("Почта должна быть формата ivan.ivanovich@mail.ru");return(0,n.jsx)(k.ModalStep,{isOpen:!0,isShowBack:!!r,onBackClick:r,closeOnClickOutside:!0,onClose:t,children:(0,n.jsxs)("form",{onSubmit:U(q),children:[O?(0,n.jsx)("div",{className:T().description,children:(0,n.jsx)(w.p,{text:u("Вы исчерпали лимит на отправку писем, повторите попытку через "),seconds:O})}):null,(0,n.jsx)(v.p,{children:u("Изменить почту")}),(0,n.jsx)(y.i,{children:u("Укажите новую почту")}),(0,n.jsxs)(b.W,{children:[(0,n.jsx)("input",{type:"text",name:"email",className:T().hidden,tabIndex:-1}),(0,n.jsx)(x.B,{name:"email",control:D,rules:{required:u("Поле не может быть пустым"),validate:B,minLength:{value:-1,message:""}},errorMessage:I,placeholder:u("Почта"),autoFocus:!0,transformValue:o.H3,onChangeValue:()=>{N(null)}})]}),(0,n.jsx)(b.W,{children:(0,n.jsx)(p.z,{loading:A||P,mode:"primary",size:"medium",fullWidth:!0,disabled:M.isSubmitting,text:u("Продолжить"),type:"submit"})}),(0,n.jsx)(b.W,{children:(0,n.jsx)(f.Qr,{name:"isMailSubscriptionsAllowed",control:D,render:e=>{let{field:t}=e;return(0,n.jsx)(m.X,{onChange:e=>{t.onChange(e)},name:"isMailSubscriptionsAllowed",isCheckedDefault:C.isMailSubscriptionsAllowed,text:(0,n.jsx)("div",{children:(0,n.jsx)(d.cC,{i18nKey:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',defaults:'Я <a href="{mailSubscriptionAgreement}" target="_blank">согласен</a> на обработку персональных данных с целью получения маркетинговых рассылок',components:{a:(0,n.jsx)(h.I,{})},values:{mailSubscriptionAgreement:F}})})})}})})]})})},A=e=>{let{onClose:t=o.ZT,onSuccess:r=o.ZT,onBackClick:l}=e,[d,{setStep:p,goToPrevStep:f}]=(0,a.Lp)(["email-input","verify-otp"]),[h,m]=(0,i.useState)(""),[g,_]=(0,i.useState)(!1),v={steps:{currentStep:d,setStep:p,goBack:f},newEmail:{email:h,setEmail:m,isMailSubscriptionsAllowed:g,setMailSubscriptionAllowed:_}},y=(0,i.useCallback)(()=>{"email-input"===d&&l?l():"verify-otp"===d&&p("email-input")},[d]),b=(0,i.useMemo)(()=>"email-input"===d?(0,n.jsx)(j,{onClose:t,onBackClick:y}):(0,n.jsx)(c,{onSuccess:r,onClose:t,onBackClick:y}),[d]);return(0,n.jsx)(s.GS,{children:(0,n.jsx)(u.Provider,{value:v,children:b})})}},12751:function(e,t,r){"use strict";r.d(t,{B:function(){return n}});let n=r(25868).uc.subcontext("AuthUserErrorContext")},12285:function(e,t,r){"use strict";r.d(t,{P:function(){return a}});var n=r(61794);let i=[1,0],o=[2,3,4,5],a=()=>{var e;let{data:t}=n.r7.useGetFoundationUserDetailedInfoQuery(),{profile:r,settings:a,account:s,library_info:u,is_user_referral:l,is_reader_partner:c,login:d,abonement:{is_active:p,valid_till:f}={is_active:!1,valid_till:""},subscription:{is_active:h}={is_active:!1},phone:m,loyalty:g}=null!=t?t:{},_=!!(((null==a?void 0:a.profile_privacy)==="public"||(null==a?void 0:a.profile_privacy)==="default")&&(null==r?void 0:r.avatar_url)&&(null==r?void 0:r.avatar_url.length)>0),v=null!==(e=null==m?void 0:m.country_code)&&void 0!==e?e:"RU",y=(null==a?void 0:a.profile_privacy)==="public",{phone_number:b,is_phone_confirmed:x,email:S,is_email_confirmed:w,last_name:k,first_name:E,nickname:C,avatar_url:T=""}=r||{},{marketing_consent_status:j}=null!=a?a:{marketing_consent_status:o[1]},A=i.includes(j),{is_library_user:R,is_school_user:O}=u||{},{real:P}=s||{real:0},L=(0,n.CG)(e=>e.foundationUser.account.bonus),I=b&&x&&S&&w,N=E&&k?"".concat(E," ").concat(k):E||k;return{phoneNumber:b,phoneNumberCountryCode:v,email:S,isPhoneNumberConfirmed:x,isEmailConfirmed:w,isUserFullyVerified:I,userNameToDisplay:y?N||C||d:C||d,avatarURL:T,isAvatarPresent:_,moneyToDisplay:P,bonus:L,isLibraryUser:R,isSchoolUser:O,isUserReferral:l,isAbonementActive:p,abonementValidTillDate:f,isSubscriptionActive:h,isReaderPartner:c,userLogin:d,isAgreedToMarketingMailing:A,userLoyaltyInfo:g}}},44575:function(e,t,r){"use strict";r.r(t),r.d(t,{AddNewEmailPopup:function(){return n.B},AddNewPhonePopup:function(){return i.L},ConfirmEmailPopup:function(){return s.Q},CredentialsAskingPopup:function(){return o.CredentialsAskingPopup},EditEmailPopup:function(){return a._},MergeUsersPopup:function(){return l.MergeUsersPopup},RecoverPasswordPopup:function(){return et},checkIfMergeUsersPopupShouldBeShown:function(){return d},checkIfShowCredentialsAskingShouldBeShown:function(){return u.w}});var n=r(78254),i=r(39070),o=r(75627),a=r(666),s=r(71545),u=r(98881),l=r(10539),c=r(59838);function d(e){let{foundationUser:t}=e,{id:r}=t,n=c.Ym&&!!(0,c.ej)("is_merge_users_asked");return 0!==r&&!n}var p=r(31549),f=r(44194),h=r(62094),m=r(14973),g=r(76996),_=r(7956),v=r(48592),y=r(39319),b=r(61794),x=r(59978),S=r(88535),w=r(98877),k=r(63610),E=r(79094),C=r(28334),T=r(5683),j=r(7413),A=r(83278);let R=r(25868).uc.subcontext("RecoveryPasswordContext"),O=R.feature("OTPError"),P=R.feature("LoginAvailabilityError"),L=R.feature("PhoneAvailabilityError");var I=r(59043),N=r.n(I);let F=e=>{let{switchStep:t,onChange:r,onSuccess:n}=e,{t:i}=(0,v.$G)(),{control:o,formState:a,handleSubmit:s}=(0,g.cI)({defaultValues:{email:""}}),[u,l]=(0,f.useState)(null),[d,{isLoading:m}]=b.iJ.useCheckLoginAvailabilityMutation(),[{otpId:R,retryAfterSeconds:L,isSendOtpLoading:I},{sendEmailOTP:F,resetRetryAfterSeconds:D}]=(0,A.i7)(),{time:M}=(0,h.J7)({autostart:!0,initialTime:L,endTime:0,timerType:"DECREMENTAL"}),U=e=>{if(!(0,_.Z_)().email().isValidSync(e))return i("Почта должна быть формата ivan.ivanovich@mail.ru")},q=(0,f.useCallback)(e=>{let{email:t}=e;D(),d(t).unwrap().then(e=>{if(e){l("Эта почта не привязана ни к одному аккаунту");return}F(t).then(()=>{n(),r(t)}).catch(e=>{(null==e?void 0:e.status)!==429&&O("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{var t;l("Техническая ошибка ".concat(null!==(t=null==e?void 0:e.status)&&void 0!==t?t:"")),P("FrontendLogicError","Check login availabitily",e).emit()})},[r,n,F,R]);return(0,p.jsxs)(w.ModalStep,{isOpen:!0,onClose:c.ZT,isCloseButtonShown:!1,children:[(0,p.jsx)(C.p,{children:i("Восстановить пароль")}),(0,p.jsx)(T.i,{children:i("Введите почту")}),(0,p.jsxs)("form",{onSubmit:s(q),children:[M?(0,p.jsx)("div",{className:N().description,children:(0,p.jsx)(x.b,{mode:x.p.info,children:i("Вы исчерпали лимит на отправку писем, повторите попытку через {time}",{time:(0,S.Mz)(M)})})}):null,(0,p.jsxs)(k.W,{children:[(0,p.jsx)("input",{type:"text",name:"email",className:N().hidden,tabIndex:-1}),(0,p.jsx)(E.B,{name:"email",control:o,rules:{required:i("Поле не может быть пустым"),validate:U,minLength:{value:-1,message:""}},errorMessage:i(null!=u?u:""),placeholder:i("Почта"),autoFocus:!0,transformValue:c.H3,onChangeValue:()=>{l(null)}})]}),(0,p.jsx)(k.W,{children:(0,p.jsx)(y.z,{mode:"primary",size:"medium",fullWidth:!0,text:i("Продолжить"),type:"submit",loading:m||I,disabled:a.isSubmitting,style:{marginTop:"24px"}})})]}),(0,p.jsx)("div",{className:N().divider,children:i("или")}),(0,p.jsx)(y.z,{mode:"secondary",size:"medium",fullWidth:!0,text:i("Номер телефона"),onClick:t}),(0,p.jsx)(j.F,{})]})};var D=r(6222),M=r(27193);let U=e=>{var t;let{switchStep:r,onChange:n,onCountryCodeChange:i,onSuccess:o,countryCode:a}=e,{t:s}=(0,v.$G)(),{control:u,formState:l,handleSubmit:d}=(0,g.cI)({defaultValues:{phone:""}}),[{otpId:h,retryAfterSeconds:m,isSendOtpLoading:_},{sendPhoneOTP:x}]=(0,A.i7)(),[S,{isLoading:E}]=b.iJ.useCheckPhoneAvailabilityMutation(),[R,P]=(0,f.useState)(null),{pda:I}=(0,b.CG)(e=>e.browser),F=e=>{i(null==e?void 0:e.code)},U=(0,f.useCallback)(e=>{let{phone:t}=e;S({phone:(0,c.z6)(t),country_code:a}).unwrap().then(e=>{if(e){P("Этот номер телефона не привязан ни к одному аккаунту");return}x((0,c.z6)(t),a).then(()=>{o(),n(t)}).catch(e=>{(null==e?void 0:e.status)!==429&&O("FrontendLogicError","Send OTP error",e).emit()})}).catch(e=>{if((null==e?void 0:e.status)===400){P("Некорректный формат телефона");return}if((null==e?void 0:e.status)===422){P("Номер введён не полностью");return}P("Техническая ошибка"),L("FrontendLogicError","Check phone availabitily",e).emit()})},[h,x,a]),q=e=>{"Tab"===e.key&&(e.preventDefault(),e.stopPropagation())},B=(null===(t=l.errors.phone)||void 0===t?void 0:t.message)||s(R||"");return(0,p.jsxs)(w.ModalStep,{isOpen:!0,onClose:c.ZT,isCloseButtonShown:!1,children:[(0,p.jsx)(C.p,{children:s("Восстановить пароль")}),(0,p.jsx)(T.i,{children:s("Введите номер телефона")}),(0,p.jsxs)("form",{onSubmit:d(U),children:[m?(0,p.jsx)("div",{className:N().description,children:(0,p.jsx)(M.p,{text:s("Вы исчерпали лимит на отправку смс, повторите попытку через "),seconds:m})}):null,(0,p.jsxs)(k.W,{children:[(0,p.jsx)("input",{type:"text",name:"phone",className:N().hidden,tabIndex:-1}),(0,p.jsx)(g.Qr,{name:"phone",control:u,rules:{required:s("Номер введён не полностью"),minLength:{value:-1,message:""}},render:e=>{let{field:t}=e;return(0,p.jsx)(D.sb,{inputMode:D.Ti.edit,handleInputChange:e=>{P(null),t.onChange(e)},onChangeCode:F,errorText:B,inputName:"phone",defaultCountry:"ru",isMobile:I,isOtpEnabledOnly:!1,onKeyUp:q})}})]}),(0,p.jsx)(k.W,{children:(0,p.jsx)(y.z,{mode:"primary",size:"medium",fullWidth:!0,text:s("Продолжить"),loading:E||_,disabled:l.isSubmitting,style:{marginTop:"24px"},type:"submit"})})]}),(0,p.jsx)("div",{className:N().divider,children:s("или")}),(0,p.jsx)(y.z,{mode:"secondary",size:"medium",fullWidth:!0,text:s("Почта"),onClick:r}),(0,p.jsx)(j.F,{})]})};var q=r(51865),B=r.n(q),z=r(83528),G=r(91653),W=r(72532),$=r(83146),H=r.n($);let V=e=>{let{onBackClick:t,onSuccess:r,email:n}=e,i=(0,f.useRef)(null),[{isSendOtpLoading:o,otpId:a},{sendEmailOTP:s}]=(0,A.i7)(),[u,l]=(0,f.useState)(),[d,m]=(0,f.useState)(),{t:g}=(0,v.$G)(),[_,{isLoading:y}]=b.iJ.useLoginMutation(),x=(0,h.Nn)(i),S=e=>{m(void 0),l(e)},k=()=>{l(void 0),m(void 0),s(n).catch(e=>{O("FrontendLogicError","Send email OTP error",e).emit()})},E=()=>{if(!a){O("FrontendLogicError","Invalid state for OTP Id").emit();return}_({code:u,otp_id:a}).unwrap().then(r).catch(e=>{401===e.data.status?m(g("Неверный код, попробуйте еще раз")):(O("BackendInteractionError","Failed to login via OTP",e).emit(),m(g("Техническая ошибка")))})};return(0,p.jsxs)(w.ModalStep,{isOpen:!0,isShowBack:!!t,onBackClick:t,closeOnClickOutside:!0,onClose:c.ZT,isCloseButtonShown:!1,children:[(0,p.jsx)(C.p,{children:g("Ввести код")}),(0,p.jsxs)("div",{children:[(y||o)&&(0,p.jsx)(W.n,{}),(0,p.jsx)("div",{className:H().description,ref:i,children:(0,p.jsx)(v.cC,{i18nKey:"Мы отправили письмо с кодом на <strong>{email}</strong>. Введите его для подтверждения почты.",defaults:"Мы отправили письмо с кодом на <strong>{email}</strong>. Введите его для подтверждения почты.",components:{strong:(0,p.jsx)("strong",{title:x?n:"",className:B()({[H().truncated]:x},H().description)})},values:{email:n}})}),(0,p.jsx)(G.t,{onSubmit:E,onChange:S,initialData:{email:n},errorText:d||null}),(0,p.jsx)(z.p,{onReset:k,onHaveNoOTPCodeClick:c.ZT})]})]})};var Z=r.p+"static/media/logo.0d6186bb.svg",K=r(2992),J=r.n(K);let Q=()=>{let{t:e}=(0,v.$G)();return(0,p.jsxs)("div",{className:J().wrapper,children:[(0,p.jsx)("div",{className:J().logo,children:(0,p.jsx)("img",{src:Z,width:154,height:25,alt:"Litres"})}),(0,p.jsx)("p",{className:J().text,children:e("Пароль изменен")}),(0,p.jsx)(y.z,{text:e("Перейти на главную"),size:"small",mode:"secondary",href:"/",className:J().button})]})};var X=r(62274),Y=r(59497);let ee=()=>{let[e,t]=(0,f.useState)(""),[r,n]=(0,f.useState)(""),[i,o]=(0,f.useState)("RU"),[,{resetRetryAfterSeconds:a}]=(0,A.i7)(),[s,{setStep:u,goToPrevStep:l}]=(0,h.Lp)(["type-email","confirm-email-otp","type-phonenumber","confirm-sms-otp","set-new-password","success"]),c=()=>{a(),t(""),n(""),"type-email"===s?u("type-phonenumber"):"type-phonenumber"===s&&u("type-email")};return"type-email"===s?(0,p.jsx)(F,{onSuccess:()=>{u("confirm-email-otp")},onChange:t,switchStep:c}):"confirm-email-otp"===s?(0,p.jsx)(V,{email:e,onBackClick:()=>{l(),a()},onSuccess:()=>{u("set-new-password")}}):"type-phonenumber"===s?(0,p.jsx)(U,{switchStep:c,onChange:n,onSuccess:()=>{u("confirm-sms-otp")},onCountryCodeChange:o,countryCode:i}):"confirm-sms-otp"===s?(0,p.jsx)(X.G,{phone:r,countryCode:i,shouldBeOTPSentOnMount:!1,onBackClick:()=>{l(),a()},onSuccess:()=>{u("set-new-password")}}):"set-new-password"===s?(0,p.jsx)(m.L,{onSuccess:()=>{u("success")},isCloseButtonShown:!1}):"success"===s?(0,p.jsx)(Q,{}):null},et=()=>(0,p.jsx)(Y.K,{children:(0,p.jsx)(A.GS,{children:(0,p.jsx)(ee,{})})})},10539:function(e,t,r){"use strict";r.r(t),r.d(t,{MergeUsersPopup:function(){return m}});var n=r(31549),i=r(44194),o=r(61794),a=r(48592),s=r(4031),u=r(39319),l=r(59838),c=r(98877);let d=r(12751).B.feature("MergeUsersError");var p=r(48606),f=r.n(p);let h=86400,m=e=>{let{onMergeNotPossible:t=l.ZT}=e,{t:r}=(0,a.$G)(),{isLoading:p}=(0,o.CG)(e=>e.user.actions.uniteUsersCSRF),{email:m}=(0,o.CG)(e=>e.foundationUser.profile),g=(0,o.TL)(),[_,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),{data:x,isError:S,error:w}=o.c_.useGetIsEligibleForMergeQuery();(0,i.useEffect)(()=>{x?v(!0):"boolean"!=typeof x||x||t()},[x]),(0,i.useEffect)(()=>{S&&w&&d("BackendInteractionError","Error during calling isEligibleForMerge endpoint",{originalError:w}).emit()},[w,S]);let k=()=>{g(o.hi.user.actions.uniteUsersCSRF({onSuccess:()=>{(0,l.d8)("is_merge_users_asked","1",{"max-age":h}),b(!0)},onError:e=>{d("BackendInteractionError","unite_users",{originalError:e}).emit(),v(!1)}}))},E=()=>{(0,l.d8)("is_merge_users_asked","1",{"max-age":h}),v(!1)};return _&&x?(0,n.jsxs)(c.ModalStep,{isOpen:!0,onClose:E,children:[(0,n.jsx)("div",{className:f().title,children:r("Хотите читать все книги в одном профиле?")}),(0,n.jsx)("div",{className:f().textBlock,children:(0,n.jsx)(a.cC,{i18nKey:"Мы заметили, что ранее на адрес <strong>{mail}</strong> уже приобретались книги. Рекомендуем объединить все эти книги в одном профиле.",defaults:"Мы заметили, что ранее на адрес <strong>{mail}</strong> уже приобретались книги. Рекомендуем объединить все эти книги в одном профиле.",values:{mail:m},components:{strong:(0,n.jsx)("strong",{})}})}),!y&&(0,n.jsx)("div",{className:f().buttonBlock,children:(0,n.jsx)(u.z,{size:"medium",mode:"primary",text:r("Объединить"),onClick:k,loading:p})}),y&&(0,n.jsxs)("div",{className:f().mailText,children:[(0,n.jsx)("div",{className:f().mailIcon,children:(0,n.jsx)(s.J,{name:"envelope"})}),r("Вам на почту отправлено письмо со ссылкой для подтверждения. Откройте письмо и нажмите кнопку \xabОбъединить\xbb")]})]}):null}},62274:function(e,t,r){"use strict";r.d(t,{N:function(){return x},G:function(){return b}});var n=r(31549),i=r(44194),o=r(59838),a=r(48592),s=r(61794),u=r(95338),l=r(91653),c=r(83528),d=r(98877),p=r(28334),f=r(72532),h=r(62190),m=r(59497),g=r(9523),_=r.n(g);let v=r(25868).uc.subcontext("OTPErrorContext");v.feature("OTPError");let y=v.feature("OTPPasswordRecoveryPopupError"),b=e=>{let{phone:t,countryCode:r,onClose:h=o.ZT,onSuccess:m=o.ZT,onFailure:g=o.ZT,onBackClick:v,shouldBeOTPSentOnMount:b=!0}=e,[x,S]=(0,i.useState)(""),[w,k]=(0,i.useState)(),[E,{isLoading:C}]=s.iJ.useLoginMutation(),[{isSendOtpLoading:T,otpId:j},{sendPhoneOTP:A}]=(0,u.i)(),{t:R}=(0,a.$G)(),O=(0,i.useRef)(null);(0,i.useEffect)(()=>{b&&A(t,r)},[b]);let P=()=>{if(!j){y("FrontendLogicError","Invalid state for OTP Id").emit(),g();return}E({code:x,otp_id:j}).unwrap().then(m).catch(e=>{401===e.data.status?k("Неверный код, попробуйте еще раз"):(y("BackendInteractionError","Failed to login via OTP",e).emit(),k("Техническая ошибка"))})},L=()=>{S(""),k(void 0),A(t,r)},I=e=>{k(void 0),S(e)};return(0,n.jsxs)(d.ModalStep,{isOpen:!0,isShowBack:!!v,onBackClick:v,closeOnClickOutside:!0,onClose:h,children:[(0,n.jsx)(p.p,{children:R("Ввести код")}),(0,n.jsxs)("div",{className:_().wrapper,children:[(T||C)&&(0,n.jsx)("div",{className:_().loading,children:(0,n.jsx)(f.n,{})}),(0,n.jsxs)("div",{className:_().description,ref:O,children:[R("Мы отправили код в SMS на номер"),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:t})})]}),(0,n.jsx)(l.t,{onSubmit:P,onChange:I,initialData:{phone:t},errorText:R(w||"")||null}),(0,n.jsx)(c.p,{onReset:L,onHaveNoOTPCodeClick:o.ZT})]})]})},x=e=>(0,n.jsx)(m.K,{children:(0,n.jsx)(h.G,{children:(0,n.jsx)(b,{...e})})})},14973:function(e,t,r){"use strict";r.d(t,{L:function(){return m}});var n=r(31549),i=r(44194),o=r(76996),a=r(39319),s=r(59838),u=r(48592),l=r(61794),c=r(98877),d=r(28334),p=r(5683),f=r(63610);let h=r(25868).uc.subcontext("SetNewPasswordErrorContext").feature("SetNewPasswordPopupError"),m=e=>{let{onBackClick:t,onClose:r=s.ZT,onSuccess:m=s.ZT,onFailure:g=s.ZT,isCloseButtonShown:_}=e,{t:v}=(0,u.$G)(),[y,{isLoading:b}]=l.iJ.useChangePasswordMutation(),{control:x,formState:S,handleSubmit:w}=(0,o.cI)({defaultValues:{regPwd:"",regPwdRepeat:""}}),[k,E]=(0,i.useState)(null),C=()=>{E(null)},T=e=>{let{regPwd:t,regPwdRepeat:r}=e;if(t!==r){E("Пароли должны быть одинаковыми");return}y({password:t,password_repeated:r}).then(m).catch(e=>{g(),403===e.status?E("Пароли должны совпадать"):(h("BackendInteractionError","Failed to handle password change",e).emit(),E("Техническая ошибка"))})};return(0,n.jsxs)(c.ModalStep,{isOpen:!0,isShowBack:!!t,onBackClick:t,closeOnClickOutside:!0,onClose:r,isCloseButtonShown:_,children:[(0,n.jsx)(d.p,{children:v("Задать пароль")}),(0,n.jsx)(p.i,{children:v("Задайте пароль для входа")}),(0,n.jsxs)("form",{onSubmit:w(T),children:[(0,n.jsx)(f.W,{children:(0,n.jsx)(c.ControlledInput,{name:"regPwd",control:x,rules:{required:v("Введите пароль"),maxLength:{value:70,message:v("Введите не больше 70 символов")},minLength:{value:5,message:v("Введите не меньше 5 символов")}},onChangeValue:C,placeholder:v("Пароль")||"",autoFocus:!0,isPassword:!0,errorMessage:v(null!=k?k:"")})}),(0,n.jsx)(f.W,{children:(0,n.jsx)(c.ControlledInput,{name:"regPwdRepeat",control:x,rules:{required:v("Введите пароль"),maxLength:{value:70,message:v("Введите не больше 70 символов")},minLength:{value:5,message:v("Введите не меньше 5 символов")}},onChangeValue:C,placeholder:v("Повторите пароль")||"",autoFocus:!1,isPassword:!0,errorMessage:v(null!=k?k:"")})}),(0,n.jsx)(f.W,{children:(0,n.jsx)(a.z,{mode:"primary",size:"medium",fullWidth:!0,disabled:S.isSubmitting||b,text:v("Сохранить"),type:"submit"})})]})]})}},66510:function(e,t,r){"use strict";r.d(t,{I:function(){return n},f:function(){return i}});let n=(e,t)=>e.reduce((e,r,n)=>(n%t?e[e.length-1].push(r):e.push([r]),e),[]),i=e=>e.charAt(0).toUpperCase()+e.slice(1)},44496:function(e,t,r){"use strict";r.d(t,{_:function(){return p}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(4438),s=r(48592),u=r(18370);let l=e=>{let t,r,n;let{type:i,isPreorder:o,linkType:a,isDraft:s,isTTS:l}=e,c=[u.lG.audio,u.lG.ozonAudio,u.lG.olesiejukAudio,u.lG.podcast,u.lG.podcastEpisode].includes(i),d=!c,p=a&&"SYNCED"===a,f=e.size||"midi";switch(i){case u.lG.audio:case u.lG.ozonAudio:case u.lG.olesiejukAudio:case u.lG.podcast:case u.lG.podcastEpisode:t="iconAudio";break;case u.lG.text:case u.lG.pdf:case u.lG.epub:t="iconText"}a&&t&&(r="iconAudio"===t?"iconText":"iconAudio"),l&&(n="Авточтец"),o&&(n="Предзаказ"),i!==u.lG.pdf||s||(n="PDF");let h="Текст";if(s)h=i===u.lG.pdf?"Черновик PDF":"Черновик";else switch(i){case u.lG.podcast:case u.lG.podcastEpisode:h="Подкаст";break;case u.lG.webtoon:case u.lG.webtoonChapter:h="Вебтун";break;case u.lG.gardner:case u.lG.read:case u.lG.ozonText:case u.lG.olesiejukText:h="Бумага";break;case u.lG.audio:case u.lG.ozonAudio:case u.lG.olesiejukAudio:h="Аудио";break;case u.lG.gift:h="Карта"}return{type:f,format:{icon:t,linkIcon:r,label:h,isSynced:p,isForReading:d,isForListen:c,status:n}}};var c=r(57461),d=r.n(c);let p=e=>{let{t}=(0,s.$G)();e.t&&(t=e.t);let{type:r,format:i}=l(e);return"mini"===r&&i.icon?(0,n.jsxs)("div",{className:o()(d().wrapper,e.labelClass),"data-testid":"label-format__wrapper",children:[(0,n.jsx)("span",{className:d().wrapper__srLabel,children:t(i.label)}),(0,n.jsx)("div",{className:o()(d().format,d().format_mini,d().format_oneIcon),"aria-hidden":"true",children:(0,n.jsx)(a.uQ,{name:i.icon,size:16,className:d().icon})})]}):("midi"===r||"full"===r)&&i.status?(0,n.jsxs)("div",{className:o()(d().wrapper,e.labelClass),"data-testid":"label-format__wrapper",children:[(0,n.jsxs)("span",{className:d().wrapper__srLabel,children:[t(i.label)," ",t(i.status)]}),i.icon&&(0,n.jsx)("div",{className:o()(d().format,d().format_oneIcon),children:(0,n.jsx)(a.uQ,{name:i.icon,size:16,className:d().icon})}),(0,n.jsx)("div",{className:o()(d().format,d().format_status),"aria-hidden":"true",children:t(i.status)})]}):"midi"===r?(0,n.jsxs)("div",{className:o()(d().wrapper,e.labelClass),"data-testid":"label-format__wrapper",title:i.isSynced?t(i.isForListen?"Аудиокнига, синхронизированная с текстовой":"Текстовая книга, синхронизированная с аудио"):i.linkIcon?"".concat(t(i.isForListen?"Аудиокнига с текстовой версией":"Текстовая книга с аудиоверсией")):t(i.label),children:[(0,n.jsxs)("span",{className:d().wrapper__srLabel,children:[t(i.label),i.linkIcon&&i.isForReading?", "+t("доступен аудиоформат"):""]}),(0,n.jsxs)("div",{className:o()(d().format,{[d().format_sync]:i.isSynced,[d().format_status]:!i.icon}),"aria-hidden":"true",children:[i.icon&&(0,n.jsx)(a.uQ,{name:i.icon,size:16,className:d().icon}),i.linkIcon?(0,n.jsx)(a.uQ,{name:i.linkIcon,size:16,className:d().icon}):t(i.label)]})]}):"full"===r?(0,n.jsx)("div",{className:o()(d().wrapper,e.labelClass),"data-testid":"label-format__wrapper",children:(0,n.jsxs)("div",{className:o()(d().format,{[d().format_status]:!i.icon}),children:[i.icon&&(0,n.jsx)(a.uQ,{name:i.icon,size:16,className:d().icon}),t(i.label)]})}):null}},6222:function(e,t,r){"use strict";r.d(t,{Ti:function(){return n},Ii:function(){return N},sb:function(){return I},bj:function(){return O},O2:function(){return L}});var n,i=r(31549),o=r(44194),a=r(51865),s=r.n(a),u=r(17792),l=r.n(u),c=r(4438),d=r(1653),p=r(62094),f=r(20239);!function(e){e.edit="edit",e.view="view",e.disabled="disabled"}(n||(n={}));var h=r(48592),m=r(88428);let g=e=>{let{country:t,className:r}=e;return(0,i.jsx)("div",{className:r,children:(0,i.jsx)(m.W,{country:t})})};var _=r(96903),v=r.n(_);let y=e=>{let{codes:t,onClick:r,currentCode:n}=e,{t:o}=(0,h.$G)();return(0,i.jsxs)("ul",{className:v().codesList,children:[!t.length&&(0,i.jsx)("li",{className:v().codesList__message,children:o("Код или страна не найдены")}),t.map(e=>(0,i.jsxs)("li",{className:s()(v().codesList__item,{[v().codesList__item_selected]:(null==n?void 0:n.code)===e.code}),onClick:t=>{t.preventDefault(),t.stopPropagation(),r(e)},"data-testid":"phone-input-country",children:[(0,i.jsx)(g,{country:e.code.toLowerCase(),className:v().flag}),(0,i.jsx)("div",{className:v().codesList__item__name,children:o(e.name)}),(0,i.jsx)("div",{className:v().codesList__item__code,children:"+".concat(e.tel_codes[0].tel_code)})]},e.id))]})},b=(e,t)=>{let r=e.match(/\+.*[0-9]*|[0-9].*/),n=null;if(e.length>0){n=[];for(let i=0;i<t.length;i++){let o=t[i];0===(r?o.tel_codes[0].tel_code:o.name).toLowerCase().indexOf(e.toLowerCase(),0)&&n.push(o)}}return n},x=(e,t)=>{let r=[];if(e.length>0){for(let n=0;n<t.length;n++){let i=t[n];for(let t=0;t<i.tel_codes.length;t++){let n=i.tel_codes[t].tel_code;e.length===n.length&&e===n&&r.push({country:i,maskIdx:t,telCode:n,matchComplete:!0}),(e.length<n.length&&0===n.indexOf(e,0)||e.length>n.length&&0===e.indexOf(n,0))&&r.push({country:i,maskIdx:t,telCode:n,matchComplete:!1})}}r.sort((e,t)=>e.telCode.length>t.telCode.length?-1:e.telCode.length<t.telCode.length?1:0).sort((e,t)=>e.matchComplete>t.matchComplete?-1:e.matchComplete<t.matchComplete?1:0)}return r},S=(e,t)=>t.filter(t=>e.some(e=>e.code===t.code)),w=e=>{let{codes:t,isOpen:r,currentCode:n,onClick:a,onMobilePopupBackClick:u,isMobile:l}=e,{t:p}=(0,h.$G)(),[m,g]=(0,o.useState)(""),[_,x]=(0,o.useState)(t),S=(0,o.useRef)(null),w=()=>{var e;null===(e=S.current)||void 0===e||e.clearValue(),x(t)},k=e=>{let t=e;"+"===t.charAt(0)&&(t=t.slice(1)),g(t)};return(0,o.useEffect)(()=>{let e=b(m,t);Array.isArray(e)?x(e):w()},[m,t]),(0,o.useEffect)(()=>{r&&S.current&&S.current.focus()},[r]),(0,i.jsxs)("div",{className:s()(v().codePopup,{[v().codePopup_open]:r,[v().codePopup_mobile]:l}),"data-testid":"phone-input-popup",children:[(0,i.jsxs)("div",{className:v().codePopup__header,children:[(0,i.jsxs)("div",{className:v().codePopup__topBlock,children:[l&&(0,i.jsx)(f.I,{href:"#",onClick:u,className:v().codePopup__backLink,children:(0,i.jsx)(c.uQ,{name:"arrowBack",size:24})}),(0,i.jsx)("h4",{className:v().codePopup__title,children:p("Код страны")})]}),(0,i.jsx)(d.F5,{controlMode:d.S1.search,onControlChange:k,onControlClear:w,ref:S,placeholder:p("Страна или код"),"data-testid":"phone-input-search"})]}),(0,i.jsx)(y,{codes:_,onClick:a,currentCode:n})]})};var k=r(59838);let E="new_phonecodes",C="allowed_phonecodes",T=31536e3,j=604800,A={id:"91",tel_codes:[{tel_mask:"7 XXX XXX XX XX",tel_code:"7"}],code:"RU",name:"Россия"};var R=r(61794);let O=()=>{let[e,t]=(0,o.useState)([]),[r,n]=(0,p._)(C),i=(0,k.ej)(C),[a,{data:s}]=R.iJ.useLazyGetAllowedPhoneCodesQuery();return(0,o.useEffect)(()=>{i&&r?t(r):s?(t(s),n(s),(0,k.d8)(C,"1",{"max-age":j})):a()},[i,r,s]),e},P=(e,t,n)=>{let i=O(),[a,s]=(0,p._)(E),u=(0,k.ej)(E),[l,c]=(0,o.useState)([]),[d,f]=(0,o.useState)(0),[h,m]=(0,o.useState)(),g=(e,t,r)=>{if(a&&e){let n;let i=x(e.split(" ").join("").replace("+",""),r||a);i.length&&((t||1===i.length||i[0].matchComplete)&&(n=i[0]),n&&(null==h?void 0:h.id)!==n.country.id&&(m(n.country),f(n.maskIdx)))}},_=e=>{v(e),s(e),(0,k.d8)(E,"1",{"max-age":T})},v=r=>{let i=-1,o=t||A;r.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0);for(let t=0;t<r.length;t++)(e||"ru")===r[t].code.toLowerCase()&&(i=t,o=r[t]),"kz"===r[t].code.toLowerCase()&&r[t].tel_codes.splice(0,1);i>0&&o&&(r.splice(i,1),r.unshift(o)),c(r),m(o),f(0),g(n,!0)};return(0,o.useEffect)(()=>{let e=async()=>{_(S(i,Array.from((await r.e(7588).then(r.t.bind(r,17588,19))).default)))};u&&a&&(null==i?void 0:i.length)>0?v(S(i,a)):(null==i?void 0:i.length)>0&&e()},[null==i?void 0:i.length]),[{currentCode:h,currentCodeIndex:d,codes:l},{setCurrentCodeIndex:f,setCurrentCode:m,findCountryCode:g}]},L=()=>{let e=O();return(0,o.useCallback)(t=>0!==e.length&&e.some(e=>e.code===t&&e.is_otp_enabled),[e])},I=e=>{let{errorText:t,onChangeCode:r,onKeyUp:a,onEditClick:u,handleInputChange:h,inputMode:m,inputName:_,inputValue:y,inputClassName:b,defaultCountry:x,code:S,isMobile:k,isOtpEnabledOnly:E}=e,C=(0,o.useRef)(null),T=(0,o.useRef)(null),[j,A]=(0,o.useState)(y||""),[R,O]=(0,o.useState)(m||n.edit);(0,o.useEffect)(()=>{A(y||"")},[y]);let[I,N]=(0,o.useState)(!1),[{currentCode:F,currentCodeIndex:D,codes:M},{setCurrentCode:U,setCurrentCodeIndex:q,findCountryCode:B}]=P(x,S,y),z=L(),G=(0,o.useMemo)(()=>E&&M?null==M?void 0:M.filter(e=>z(e.code.toUpperCase())):M,[M,E]),W=null==F?void 0:F.tel_codes[D||0].tel_mask,$=(null==F?void 0:F.code)==="KZ"?"7 7XX XXX XX XX":(null==F?void 0:F.code)==="AB"?"7 940 XXX XX XX":W,H=W?"+".concat(W.replace(/x/gi,"9")):"",V=(null==F?void 0:F.tel_codes[D||0].tel_code)||"",Z=e=>{e.preventDefault(),N(!I)},K=e=>{null==U||U(e),null==q||q(0),A(""),N(!1)},J=e=>{A(e.target.value),null==B||B(e.target.value,!1,G)},Q=()=>{N(!1)},X=e=>{e.preventDefault(),u&&u(),O(n.edit)};return((0,o.useEffect)(()=>{O(m||n.edit)},[m]),(0,p.Vd)(T,()=>{N(!1)}),(0,o.useEffect)(()=>{let e=!$||"+".concat($).length===j.length;h(j,e)},[j]),(0,o.useEffect)(()=>{var e;F&&r&&r(F),null===(e=C.current)||void 0===e||e.focus()},[F,C.current]),R===n.view)?(0,i.jsxs)("div",{className:s()(v().phoneInput,v().phoneView),"data-testid":"phone-input-view",children:[(0,i.jsx)("div",{className:v().phoneView__value,children:j}),(0,i.jsx)(f.I,{href:"#",className:v().phoneView__icon,onClick:X,"data-testid":"phone-input-set-edit",children:(0,i.jsx)(c.uQ,{name:"editPencil",size:24})})]}):(0,i.jsxs)("div",{className:v().phoneInput,ref:T,"data-testid":"phone-input-edit",children:[(0,i.jsxs)(f.I,{href:"#",className:v().phoneInput__pick,onClick:R===n.disabled?e=>{e.preventDefault()}:Z,"data-testid":"phone-input-pick",children:[(0,i.jsx)(g,{country:(null==F?void 0:F.code.toLowerCase())||"ru",className:v().flag}),(0,i.jsx)("div",{className:v().phoneInput__pick__icon,children:I?(0,i.jsx)(c.uQ,{name:"chevronUp",size:16}):(0,i.jsx)(c.uQ,{name:"chevronDown",size:16})})]}),(0,i.jsx)(l(),{mask:$?"+".concat($.replace(/9/g,"\\9").replace(/x/gi,"9")):V?"+".concat(V," ").concat("9".repeat(20)):"",maskChar:null,alwaysShowMask:!0,type:"text",autoFocus:!0,inputMode:"tel",name:_||"phone",onChange:J,onFocus:Q,onKeyUp:a,value:j||"+".concat(V," "),"data-testid":"phone-input",disabled:R===n.disabled,children:e=>(0,i.jsx)(d.F5,{...e,controlMode:d.S1.text,className:s()(b,v().phoneInput__input,{[v().phoneInput__input_hover]:I,[v().phoneInput__input_dirty]:j&&j.trim()!=="+".concat(V)}),ref:C,error:t,disabled:R===n.disabled,children:(0,i.jsx)("div",{className:v().phoneInput__input__placeholder,children:H})})}),G&&I&&(0,i.jsx)(w,{codes:G,isOpen:I,onClick:K,onMobilePopupBackClick:Z,currentCode:F,isMobile:k})]})},N=e=>{let{errorText:t,onKeyUp:n,inputName:a,inputValue:u,inputClassName:h,defaultCountry:m}=e,_=(0,o.useRef)(null),y=(0,o.useRef)(null),[b,x]=(0,p._)(E),S=(0,k.ej)(E),[w,C]=(0,o.useState)([]),j=e=>{x(e),(0,k.d8)(E,"1",{"max-age":T})};(0,o.useEffect)(()=>{let e=async()=>{let e=await r.e(7588).then(r.t.bind(r,17588,19));j(Array.from(e.default)),C(Array.from(e.default))};S&&b?C(b):e()},[]);let A=(0,o.useMemo)(()=>null==w?void 0:w.find(e=>e.code===m),[w,m]),R=null==A?void 0:A.tel_codes[0].tel_mask,O=(null==A?void 0:A.code)==="KZ"?"7 7XX XXX XX XX":(null==A?void 0:A.code)==="AB"?"7 940 XXX XX XX":R,P=(null==A?void 0:A.tel_codes[0].tel_code)||"";return(0,i.jsxs)("div",{className:v().phoneInput,ref:y,"data-testid":"phone-input-edit",children:[(0,i.jsxs)(f.I,{href:"#",className:v().phoneInput__pick,onClick:e=>{e.preventDefault()},"data-testid":"phone-input-pick",children:[(0,i.jsx)(g,{country:m.toLowerCase(),className:v().flag}),(0,i.jsx)("div",{className:v().phoneInput__pick__icon,children:(0,i.jsx)(c.uQ,{name:"chevronDown",size:16})})]}),(0,i.jsx)(l(),{mask:O?"+".concat(O.replace(/9/g,"\\9").replace(/x/gi,"9")):P?"+".concat(P," ").concat("9".repeat(20)):"",maskChar:null,alwaysShowMask:!0,type:"text",autoFocus:!0,inputMode:"tel",name:a||"phone",onKeyUp:n,value:u,"data-testid":"phone-input",disabled:!0,children:e=>(0,i.jsx)(d.F5,{...e,controlMode:d.S1.text,className:s()(h,v().phoneInput__input,{[v().phoneInput__input_hover]:!0,[v().phoneInput__input_dirty]:!0}),ref:_,error:t,disabled:!0})})]})}},1818:function(e,t,r){"use strict";r.d(t,{nT:function(){return o},Wb:function(){return i},$W:function(){return I},v:function(){return R}});var n,i,o,a=r(31549),s=r(44194),u=r(51865),l=r.n(u),c=r(61794),d=r(59838),p=r(91270),f=r(4438),h=r(4031),m=r(41168),g=r(48592),_=r(38730),v=r.n(_);let y=e=>{let{t}=(0,g.$G)(),{onApply:r,onCancel:n,onClose:i}=e,o=(0,p.useSelector)(e=>e.browser.pda);return(0,a.jsxs)("div",{className:l()(v().confirmPanel,{[v().confirmPanel__mobile]:o}),"data-testid":"safemode__confirm-panel",children:[(0,a.jsx)("div",{className:v().confirmPanel__icon,children:(0,a.jsx)(h.J,{name:"adultContentLogo"})}),(0,a.jsxs)("div",{className:l()(v().confirmPanel__content,{[v().confirmPanel__content__mobile]:o}),children:[(0,a.jsx)("div",{className:v().confirmPanel__wrapper,children:(0,a.jsx)("div",{className:l()(v().confirmPanel__text,{[v().confirmPanel__text__mobile]:o}),children:(0,a.jsx)("span",{children:t("Результаты содержат контент для взрослых. Скрывать его на сайте?")})})}),(0,a.jsxs)("div",{className:v().confirmPanel__buttons,children:[(0,a.jsx)(m.k$,{width:"auto",height:"auto",verticalPadding:"6px",fontSize:"14px",style:{paddingLeft:"12px",paddingRight:"12px",textTransform:"none",fontWeight:"normal"},variant:m.Ay.primary,color:m.r1.orange,className:v().button_orange,onClick:r,children:t("Скрывать")}),(0,a.jsx)(m.k$,{width:"auto",height:"auto",verticalPadding:"6px",fontSize:"14px",style:{paddingLeft:"12px",paddingRight:"12px",textTransform:"none",fontWeight:"normal"},variant:m.Ay.primary,color:m.r1.gray,onClick:n,children:t("Показывать")})]})]}),(0,a.jsx)("button",{type:"button",className:v()["confirmPanel__close-button"],onClick:i,"data-testid":"safemode__close-button","aria-label":t("Закрыть"),children:(0,a.jsx)(f.uQ,{name:"close",size:16})})]})};var b=r(20239),x=r(56837),S=r.n(x);let w=e=>{let{onClose:t,isVisible:r=!0}=e,{t:n}=(0,g.$G)(),i=(0,c.CG)(e=>e.browser.pda)?"/pages/my_settings/":"/pages/personal_cabinet_about_me/";return r?(0,a.jsxs)("div",{className:S().successPanel,"data-testid":"safemode__success-panel",children:[(0,a.jsx)("div",{className:S().successPanel__icon,children:(0,a.jsx)(f.uQ,{name:"successLogo",size:20})}),(0,a.jsx)("div",{className:S().successPanel__content,children:(0,a.jsx)("span",{children:(0,a.jsx)(g.cC,{i18nKey:'Настройки сохранены. Вы можете изменить их в <a href="{link}" target="_blank">профиле</a>',defaults:'Настройки сохранены. Вы можете изменить их в <a href="{link}" target="_blank">профиле</a>',values:{link:i},components:{a:(0,a.jsx)(b.I,{})}})})}),(0,a.jsx)("button",{type:"button",className:S()["successPanel__close-button"],onClick:t,"data-testid":"safemode__close-button","aria-label":n("Закрыть"),children:(0,a.jsx)(f.uQ,{name:"close",size:16})})]}):null};var k=r(44731);let E=e=>{let{internalSource:t,isActive:r}=e;k.TM.sendEvent(["LITRES_TRACKER"],{eventType:"safemode_click",params:{source_internal:t,isActive:r}})},C=e=>{let{internalSource:t}=e;k.TM.sendEvent(["LITRES_TRACKER"],{eventType:"safemode_view",params:{source_internal:t}})};var T=r(62094);let j=e=>{let t=new Date;t.setFullYear(t.getFullYear()+1),(0,d.d8)("safemode",e.toString(),{expires:t})},A=()=>{(0,d.kT)("safemode")};(function(e){e.confirm="confirm",e.success="success",e.close="close"})(n||(n={})),function(e){e[e.show=0]="show",e[e.hide=1]="hide"}(i||(i={})),function(e){e.undefined="undefined",e.disabled="disabled",e.enabled="enabled"}(o||(o={}));let R=()=>{let e=(0,T.uH)(),t=e&&(0,d.ej)("safemode")||"",r=e&&(0,d.ej)("isClosedSafeMode")||"",n=(0,c.TL)(),a=(0,c.CG)(e=>e.foundationUser),u=(0,s.useMemo)(()=>!!(a.id&&a.login),[a]),l=!0===(0,s.useRef)(u).current&&!1===u,p=(0,c.CG)(e=>e.foundationUser.settings.is_safemode_enabled),f=(0,s.useRef)(!1),h=(0,s.useRef)(!1),m=(0,s.useMemo)(()=>{let e=null===p?o.undefined:p?o.enabled:o.disabled;return u&&null!==e?e:t?"1"===t?o.enabled:o.disabled:e},[p,t]),g=(0,s.useRef)(m),_=m===o.enabled&&m!==g.current,v=t=>{if(!e||f.current||h.current)return;f.current=!0;let r=t?i.hide:i.show;(0,d.ej)("safemode")!==r.toString()&&(j(r),n(c.hi.browser.setHeader(["Safemode-Enabled","".concat(r)]))),!!p!==t&&n(c.hi.foundationUser.setFoundationUserAccountSettings({is_safemode_enabled:t})),f.current=!1},y=()=>{h.current=!0,A(),n(c.hi.browser.removeHeader("Safemode-Enabled")),n(c.hi.foundationUser.setFoundationUserAccountSettings({is_safemode_enabled:null})),h.current=!1};return(0,s.useEffect)(()=>{l&&y()},[l,u]),(0,s.useEffect)(()=>{m===o.undefined||_||v(m===o.enabled)},[e,m,u,t]),{isClosedSafeMode:r,safeModeStatus:m,isSafeModeEnabled:_,changeSafeMode:v}};var O=r(24647),P=r.n(O);let L=864e5;var I=e=>{let{customClass:t="",analyticsData:r,isVisible:u=!0,onSafeModeApply:p,customContent:f}=e,{safeModeStatus:h,changeSafeMode:m}=R(),g=(0,c.TL)(),{internalSource:_=""}=r||{},v=(0,c.CG)(e=>e.foundationUser.safemode_active_step),[b]=c.r7.useSetSafemodeMutation(),x=e=>{g(c.hi.foundationUser.setFoundationUserSafemodeStep(e))};(0,s.useEffect)(()=>{if(v===n.close){let e=new Date(Date.now()+L);(0,d.d8)("isClosedSafeMode","1",{expires:e})}v||x("confirm")},[v]);let S=(0,c.CG)(e=>e.foundationUser),k=(0,s.useMemo)(()=>S.id&&S.login,[S]),T=(0,d.ej)("isClosedSafeMode"),j=h!==o.undefined;(0,s.useEffect)(()=>{_&&v===n.confirm&&!j&&C({internalSource:_})},[_,v,j]);let A=e=>{b({is_safemode_enabled:e===i.hide}).unwrap().then(()=>{m(!!e)}).catch(e=>{var t;console.error("Ошибка",null===(t=e.error)||void 0===t?void 0:t.title)})},O=e=>{e.stopPropagation(),x(n.success),_&&E({internalSource:_,isActive:!!i.hide}),k?A(i.hide):m(!0),p&&p()},I=e=>{e.stopPropagation(),x(n.success),_&&E({internalSource:_,isActive:!!i.show}),k?A(i.show):m(!1)},N=e=>{e.stopPropagation(),x(n.close)};return((0,s.useEffect)(()=>{if("1"!==T&&(v===n.close||!u||j&&v!==n.success)){let e=new Date(Date.now()+L);(0,d.d8)("isClosedSafeMode","1",{expires:e})}},[]),v===n.close||"1"===T||!u||j&&v!==n.success)?null:(0,a.jsxs)(a.Fragment,{children:[f,(0,a.jsxs)("div",{className:l()(P().safemodeContainer,t),"data-testid":"safemode__container",children:[v===n.confirm&&(0,a.jsx)(y,{onApply:O,onCancel:I,onClose:N}),(0,a.jsx)(w,{isVisible:v===n.success,onClose:N})]})]})}},20239:function(e,t,r){"use strict";let n;r.d(t,{I:function(){return f},Z:function(){return h}});var i=r(31549),o=r(44194),a=r(29787),s=r.n(a),u=r(71607),l=r.n(u),c=r(61794);let d=e=>!!e&&[/^\/$/gm,/^\/genre\//gm,/^\/pages\/new_genres\/$/gm,/^\/pages\/my_views\/$/gm,/^\/pages\/library_fund\/$/gm,/^\/new\/$/gm,/^\/popular\/$/gm,/^(\/book\/|\/podcast\/|\/audiobook\/)(?!.*(\/(citaty|citata|pohozhie))\/)/gm,/^\/search\//gm,/^\/vibor-redaktsii\/$/gm,/(\/author\/)/gm,/^(\/collections\/)/gm,/^\/drafts\/$/gm,/^\/comics\/$/gm,/^\/audiobooks\/$/gm,/^\/selfpublishing\/$/gm,/^\/podcasts\/$/gm,/^\/my-books\/$|\/my-books\/(?=cloud\/$|cart\/$|library\/$|purchased\/$|read-and-listen\/$|archived\/$|(shelfs\/(\d+)?)|campaigns\/$|liked\/$|my-authors\/$)/gm,/^\/certificate-present\/$/gm,/^\/app\/$/gm,/^\/journal\//gm,/^\/landings\//gm,/^\/litres_subscription\/$/gm,/^\/payment\/(ppd|subscription|proceed|success|error)\//gm,/^\/tags\//gm,/^\/series\//gm,/^\/recommended\//gm,/^\/recommend\/$/gm,/^\/company\/vacancies\//gm,/^\/me\//gm,/^\/pages\/libhouse_map\/$/gm,/^\/subscription-cancel-survey\//gm,/^\/landing\//gm,/^\/pages\/2024-year-in-review\//gm].some(t=>t.test(e)),p=r(18030);s()(p)||(n=p.default);let f=(0,o.forwardRef)((e,t)=>{let{href:r,children:o,e2eId:a,onClick:u=l(),...f}=e,h=(0,c.CG)(e=>e.browser.isRobot),m=!s()(p)&&d(r),g=!h&&m&&"_blank"!==e.target,_=e=>{window.customReferrer=window.location.href,u(e)},v=t=>{if(u(t),e.href&&!t.defaultPrevented&&"_blank"!==e.target){if(t.preventDefault(),void 0!==window.parent){window.parent.location.href=e.href;return}window.location.href=e.href}};return g?(0,i.jsx)(n,{ref:t,prefetch:!1,"data-testid":a,href:r,tabIndex:0,...f,onClick:e=>{_(e)},onKeyDown:e=>{("Enter"===e.key||"button"===f.role&&" "===e.key)&&(window.customReferrer=window.location.href,"button"===f.role&&e.stopPropagation(),u(e))},children:o}):(0,i.jsx)("a",{ref:t,"data-testid":a,href:r,tabIndex:0,...f,onClick:v,onKeyDown:e=>{("Enter"===e.key||"button"===f.role&&" "===e.key)&&("button"===f.role&&e.stopPropagation(),v(e))},children:o})});f.displayName="SmartLink";var h=f},61794:function(e,t,r){"use strict";let n;r.d(t,{dM:function(){return f},cf:function(){return ty},eJ:function(){return o},ce:function(){return sf},RQ:function(){return sh},w7:function(){return sg},hi:function(){return sp},yh:function(){return sR},qL:function(){return s_},C9:function(){return sv},iJ:function(){return sF},c:function(){return sD},KI:function(){return sz},wk:function(){return sU},Nd:function(){return sG},JA:function(){return sW},Wo:function(){return s$},kx:function(){return sJ},ri:function(){return sQ},Um:function(){return uR},ih:function(){return s3},oq:function(){return sX},Cy:function(){return sY},r7:function(){return rY},aG:function(){return s0},HT:function(){return sr},R3:function(){return uC},ff:function(){return M},gm:function(){return s1},xf:function(){return s2},Df:function(){return s4},sG:function(){return uA},YR:function(){return ue},n:function(){return sl},BT:function(){return s8},Hr:function(){return s6},Ce:function(){return sM},Gt:function(){return u_},kn:function(){return s9},g$:function(){return ur},K:function(){return un},c_:function(){return s5},hK:function(){return uE},iV:function(){return ui},fR:function(){return uo},wQ:function(){return s7},_U:function(){return uw},ir:function(){return us},$d:function(){return uc},zy:function(){return ua},dv:function(){return uu},UY:function(){return eV},Ue:function(){return n7},oc:function(){return ud},kS:function(){return uf},Bh:function(){return up},H4:function(){return uh},_z:function(){return uk},aq:function(){return um},TL:function(){return sc},CG:function(){return sd},oR:function(){return h.useStore},w1:function(){return ug},cM:function(){return uj},Lu:function(){return uT},YE:function(){return uv}});var i,o,a,s,u,l,c,d,p,f,h=r(91270),m=r(8555);let{Axios:g,AxiosError:_,CanceledError:v,isCancel:y,CancelToken:b,VERSION:x,all:S,Cancel:w,isAxiosError:k,spread:E,toFormData:C,AxiosHeaders:T,HttpStatusCode:j,formToJSON:A,getAdapter:R,mergeConfig:O}=m.default;var P=r(59838);let L=!0,I=P.kg.child({context:"axios"}),N=m.default.create({});function F(e){let{response:t}=e,r={status:Number(t.status),method:t.config.method||"",url:t.config.url||"",responseHeaders:{...t.headers},requestHeaders:{...t.config.headers},requestData:t.config.params};P.Ym&&(0,P.Zj)({category:"api",level:"info",message:"".concat(t.config.method||""," ").concat(t.config.url||""),data:r}),!P.Ym&&L&&I.info(r)}N.interceptors.response.use(e=>(F({response:e}),e),e=>(k(e)&&e.response&&F({response:e.response}),Promise.reject(e)));var D=N;function M(e){return"object"==typeof e&&null!=e&&"meta"in e}var U=r(72624),q=r(35175),B=r(84716),z=r(90432),G=r(44194);r(73656);var W=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},$=Object.defineProperty,H=Object.defineProperties,V=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=function(e,t,r){return t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},X=function(e,t){for(var r in t||(t={}))K.call(t,r)&&Q(e,r,t[r]);if(Z)for(var n=0,i=Z(t);n<i.length;n++){var r=i[n];J.call(t,r)&&Q(e,r,t[r])}return e},Y=function(e,t){return H(e,V(t))};function ee(e,t,r,n){var i=(0,G.useMemo)(function(){return{queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:r,endpointName:n}):e}},[e,t,r,n]),o=(0,G.useRef)(i);return(0,G.useEffect)(function(){o.current.serialized!==i.serialized&&(o.current=i)},[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var et=Symbol();function er(e){var t=(0,G.useRef)(e);return(0,G.useEffect)(function(){(0,h.shallowEqual)(t.current,e)||(t.current=e)},[e]),(0,h.shallowEqual)(t.current,e)?t.current:e}var en=WeakMap?new WeakMap:void 0,ei=function(e){var t=e.endpointName,r=e.queryArgs,n="",i=null==en?void 0:en.get(r);if("string"==typeof i)n=i;else{var o=JSON.stringify(r,function(e,t){return(0,q.isPlainObject)(t)?Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{}):t});(0,q.isPlainObject)(r)&&(null==en||en.set(r,o)),n=o}return t+"("+n+")"},eo="undefined"!=typeof window&&window.document&&window.document.createElement?G.useLayoutEffect:G.useEffect,ea=function(e){return e},es=function(e){return e.isUninitialized?Y(X({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:B.QueryStatus.pending}):e};function eu(e){var t=e.api,r=e.moduleOptions,n=r.batch,i=r.useDispatch,o=r.useSelector,a=r.useStore,s=r.unstable__sideEffectsInRender,u=e.serializeQueryArgs,l=e.context,c=s?function(e){return e()}:G.useEffect;return{buildQueryHooks:f,buildMutationHook:m,usePrefetch:p};function d(e,t,r){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var n=t.endpointName,i=l.endpointDefinitions[n];u({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:n})===u({queryArgs:r,endpointDefinition:i,endpointName:n})&&(t=void 0)}var o=e.isSuccess?e.data:null==t?void 0:t.data;void 0===o&&(o=e.data);var a=void 0!==o,s=e.isLoading,c=!a&&s,d=e.isSuccess||s&&a;return Y(X({},e),{data:o,currentData:e.data,isFetching:s,isLoading:c,isSuccess:d})}function p(e,r){var n=i(),o=er(r);return(0,G.useCallback)(function(r,i){return n(t.util.prefetch(e,r,X(X({},o),i)))},[e,n,o])}function f(e){var r=function(r,n){var o=void 0===n?{}:n,a=o.refetchOnReconnect,s=o.refetchOnFocus,u=o.refetchOnMountOrArgChange,d=o.skip,p=void 0!==d&&d,f=o.pollingInterval,h=void 0===f?0:f,m=t.endpoints[e].initiate,g=i(),_=ee(p?B.skipToken:r,ei,l.endpointDefinitions[e],e),v=er({refetchOnReconnect:a,refetchOnFocus:s,pollingInterval:h}),y=(0,G.useRef)(!1),b=(0,G.useRef)(),x=b.current||{},S=x.queryCacheKey,w=x.requestId,k=!1;S&&w&&(k=!!g(t.internalActions.internal_probeSubscription({queryCacheKey:S,requestId:w})));var E=!k&&y.current;return c(function(){y.current=k}),c(function(){E&&(b.current=void 0)},[E]),c(function(){var e,t=b.current;if(_===B.skipToken){null==t||t.unsubscribe(),b.current=void 0;return}var r=null==(e=b.current)?void 0:e.subscriptionOptions;if(t&&t.arg===_)v!==r&&t.updateSubscriptionOptions(v);else{null==t||t.unsubscribe();var n=g(m(_,{subscriptionOptions:v,forceRefetch:u}));b.current=n}},[g,m,u,_,v,E]),(0,G.useEffect)(function(){return function(){var e;null==(e=b.current)||e.unsubscribe(),b.current=void 0}},[]),(0,G.useMemo)(function(){return{refetch:function(){var e;if(!b.current)throw Error("Cannot refetch a query that has not been started yet.");return null==(e=b.current)?void 0:e.refetch()}}},[])},s=function(r){var o=void 0===r?{}:r,a=o.refetchOnReconnect,s=o.refetchOnFocus,u=o.pollingInterval,l=void 0===u?0:u,d=t.endpoints[e].initiate,p=i(),f=(0,G.useState)(et),h=f[0],m=f[1],g=(0,G.useRef)(),_=er({refetchOnReconnect:a,refetchOnFocus:s,pollingInterval:l});c(function(){var e,t;_!==(null==(e=g.current)?void 0:e.subscriptionOptions)&&(null==(t=g.current)||t.updateSubscriptionOptions(_))},[_]);var v=(0,G.useRef)(_);c(function(){v.current=_},[_]);var y=(0,G.useCallback)(function(e,t){var r;return void 0===t&&(t=!1),n(function(){var n;null==(n=g.current)||n.unsubscribe(),g.current=r=p(d(e,{subscriptionOptions:v.current,forceRefetch:!t})),m(e)}),r},[p,d]);return(0,G.useEffect)(function(){return function(){var e;null==(e=null==g?void 0:g.current)||e.unsubscribe()}},[]),(0,G.useEffect)(function(){h===et||g.current||y(h,!0)},[h,y]),(0,G.useMemo)(function(){return[y,h]},[y,h])},p=function(r,n){var i=void 0===n?{}:n,s=i.skip,c=void 0!==s&&s,p=i.selectFromResult,f=t.endpoints[e].select,m=ee(c?B.skipToken:r,u,l.endpointDefinitions[e],e),g=(0,G.useRef)(),_=(0,G.useMemo)(function(){return(0,z.P1)([f(m),function(e,t){return t},function(e){return m}],d)},[f,m]),v=(0,G.useMemo)(function(){return p?(0,z.P1)([_],p):_},[_,p]),y=o(function(e){return v(e,g.current)},h.shallowEqual),b=_(a().getState(),g.current);return eo(function(){g.current=b},[b]),y};return{useQueryState:p,useQuerySubscription:r,useLazyQuerySubscription:s,useLazyQuery:function(e){var t=s(e),r=t[0],n=t[1],i=p(n,Y(X({},e),{skip:n===et})),o=(0,G.useMemo)(function(){return{lastArg:n}},[n]);return(0,G.useMemo)(function(){return[r,i,o]},[r,i,o])},useQuery:function(e,t){var n=r(e,t),i=p(e,X({selectFromResult:e===B.skipToken||(null==t?void 0:t.skip)?void 0:es},t)),o=i.data,a=i.status,s=i.isLoading,u=i.isSuccess,l=i.isError,c=i.error;return(0,G.useDebugValue)({data:o,status:a,isLoading:s,isSuccess:u,isError:l,error:c}),(0,G.useMemo)(function(){return X(X({},i),n)},[i,n])}}}function m(e){return function(r){var a=void 0===r?{}:r,s=a.selectFromResult,u=void 0===s?ea:s,l=a.fixedCacheKey,c=t.endpoints[e],d=c.select,p=c.initiate,f=i(),m=(0,G.useState)(),g=m[0],_=m[1];(0,G.useEffect)(function(){return function(){(null==g?void 0:g.arg.fixedCacheKey)||null==g||g.reset()}},[g]);var v=(0,G.useCallback)(function(e){var t=f(p(e,{fixedCacheKey:l}));return _(t),t},[f,p,l]),y=(g||{}).requestId,b=o((0,G.useMemo)(function(){return(0,z.P1)([d({fixedCacheKey:l,requestId:null==g?void 0:g.requestId})],u)},[d,g,u,l]),h.shallowEqual),x=null==l?null==g?void 0:g.arg.originalArgs:void 0,S=(0,G.useCallback)(function(){n(function(){g&&_(void 0),l&&f(t.internalActions.removeMutationResult({requestId:y,fixedCacheKey:l}))})},[f,l,g,y]),w=b.endpointName,k=b.data,E=b.status,C=b.isLoading,T=b.isSuccess,j=b.isError,A=b.error;(0,G.useDebugValue)({endpointName:w,data:k,status:E,isLoading:C,isSuccess:T,isError:j,error:A});var R=(0,G.useMemo)(function(){return Y(X({},b),{originalArgs:x,reset:S})},[b,x,S]);return(0,G.useMemo)(function(){return[v,R]},[v,R])}}}function el(e){return e.type===i.query}function ec(e){return e.type===i.mutation}function ed(e){return e.replace(e[0],e[0].toUpperCase())}function ep(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Object.assign.apply(Object,W([e],t))}!function(e){e.query="query",e.mutation="mutation"}(i||(i={}));var ef=Symbol(),eh=function(e){var t=void 0===e?{}:e,r=t.batch,n=void 0===r?h.batch:r,i=t.useDispatch,o=void 0===i?h.useDispatch:i,a=t.useSelector,s=void 0===a?h.useSelector:a,u=t.useStore,l=void 0===u?h.useStore:u,c=t.unstable__sideEffectsInRender,d=void 0!==c&&c;return{name:ef,init:function(e,t,r){var i=t.serializeQueryArgs,a=e,u=eu({api:e,moduleOptions:{batch:n,useDispatch:o,useSelector:s,useStore:l,unstable__sideEffectsInRender:d},serializeQueryArgs:i,context:r}),c=u.buildQueryHooks,p=u.buildMutationHook;return ep(a,{usePrefetch:u.usePrefetch}),ep(r,{batch:n}),{injectEndpoint:function(t,r){if(el(r)){var n=c(t),i=n.useQuery,o=n.useLazyQuery,s=n.useLazyQuerySubscription,u=n.useQueryState,l=n.useQuerySubscription;ep(a.endpoints[t],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:s,useQueryState:u,useQuerySubscription:l}),e["use"+ed(t)+"Query"]=i,e["useLazy"+ed(t)+"Query"]=o}else if(ec(r)){var d=p(t);ep(a.endpoints[t],{useMutation:d}),e["use"+ed(t)+"Mutation"]=d}}}}}},em=(0,B.buildCreateApi)((0,B.coreModule)(),eh()),eg=r(51135),e_=r.n(eg);let ev="https://api.litres.ru",ey=e=>{let t=e.split("."),r=t.pop(),n=t.join("."),i=ev.replace(/\.[^/.]+$/,"");return e.endsWith("litres-tr.com")?"".concat(i,"-tr.com"):r&&(n.includes("litres")||n.includes("fbhub"))?"".concat(i,".").concat(r):ev};P.Ym&&window.location.port&&window.location.port;let eb=P.Ym?window.location.origin:"",ex=e=>{if("storybook"===({}).APP_ENV&&({}).API_URL)return e?"".concat({}.API_URL,"/").concat(e):({}).API_URL;if(P.Ym&&("www.fbhub.ru"===window.location.hostname||"pda.fbhub.ru"===window.location.hostname))return e?"http://master.api.b.litres.ru/".concat(e):"http://master.api.b.litres.ru";if(e_()){var t;let r=e_()();if(null==r?void 0:null===(t=r.publicRuntimeConfig)||void 0===t?void 0:t.apiUrl)return e?"".concat(r.publicRuntimeConfig.apiUrl,"/").concat(e):r.publicRuntimeConfig.apiUrl}return P.Ym?e?"".concat(ey(window.location.hostname),"/").concat(e):ey(window.location.hostname):e?"https://api.litres.ru/".concat(e):"https://api.litres.ru"};var eS=r(50249),ew=r(73352),ek=r.n(ew),eE=r(13546),eC=r.n(eE),eT=r(45346),ej=r.n(eT);let eA="__NEXT_REDUX_WRAPPER_HYDRATE__";function eR(e,t){return e.addCase(eA,(e,r)=>{if(ej()(r.payload,t))return{...e,...eC()(r.payload,t)}})}let eO={screen:{width:null,height:null},urlParams:{},pda:!1,clientHost:"www.litres.ru",headers:{},isRobot:!1},eP=e=>e.browser.headers,eL=(0,q.createSlice)({name:"browser",initialState:eO,reducers:{setBrowserParams:(e,t)=>({...e,...t.payload}),setHeader:(e,t)=>{let{payload:r}=t,[n,i]=r;e.headers={...e.headers,[n]:i}},removeHeader:(e,t)=>{let{payload:r}=t;e.headers=ek()(e.headers,[r])}},extraReducers:e=>{eR(e,"browser")}}),{setBrowserParams:eI,setHeader:eN,removeHeader:eF}=eL.actions;var eD=eL.reducer;let eM=5e3,eU=["/api/purchase-sets"],eq=(n={foundation:{client:4e4,ssr:5e3},advertising:{client:4e4,ssr:800}},(e,t,r)=>!t&&eU.some(e=>r.includes(e))?2*eM:n[e][t?"client":"ssr"]),eB=e=>{let{baseUrl:t}=e;return async(e,r)=>{let{url:n,method:i="get",body:o,params:a,headers:s}=e,{getState:u,endpoint:l}=r;try{let e={};if("getArtTableContent"!==l&&"getVarioqubData"!==l){let t;let r=u(),n=eP(r);t=P.Ym?(0,P.ej)("SID")||"":r.foundationUser.SID,e["app-id"]="115",t&&(e["Session-Id"]=t),e["Ui-Language-Code"]=r.face.language||"ru",e={...n,...e,...s}}let r="getArtTableContent"===l||"getVarioqubData"===l?n:t+n,c="getArtTableContent"!==l&&"getVarioqubData"!==l,d=await D({url:r,headers:e,data:o,method:i,params:a,withCredentials:c,paramsSerializer:e=>eS.stringify(e,{arrayFormat:"none"}),timeout:eq(n.includes("foundation")?"foundation":"advertising",P.Ym,r)}),p=d.headers["request-session-id"]||"";if(n.indexOf("foundation")>=0&&p){let e=5184e6;(0,P.d8)("SID",p,{"max-age":e})}return{data:d.data,meta:{headers:{...d.headers}}}}catch(t){var c,d,p,f,h;let e=t;return{error:{code:e.code,status:null===(c=e.response)||void 0===c?void 0:c.status,data:(null===(d=e.response)||void 0===d?void 0:d.data)||e.message,meta:{headers:null!==(h=null===(p=e.response)||void 0===p?void 0:p.headers)&&void 0!==h?h:{},url:null===(f=e.response)||void 0===f?void 0:f.config.url,requestUrl:n}}}}}};function ez(e){return"object"==typeof e&&null!==e&&"object"==typeof e.error&&"type"in e.error&&"InvalidTokenCaptchaError"===e.error.type}!function(e){e.FOLDERS="Folders",e.ART="Art",e.ART_SHORT_LIST="ArtShortList",e.CART="Cart",e.OFFER="Offer",e.MY_BOOKS="MyBooks",e.SEARCH="Search",e.COLLECTION="Collection",e.QUOTE="Quote",e.REVIEW="Review",e.USER_MONETIZATION_DATA="UserMonetizationData",e.REBILLS="Rebills",e.USER_DETAILED_DATA="UserDetailedData",e.NOTIFICATIONS="Notifications",e.USER_REFERRALS="UserReferrals",e.USER_OPERATIONS="UserOperations",e.TAG_FACETS="TagFacets",e.GA_EXTENDS="GA_EXTENDS",e.POPUPS="Popups"}(o||(o={}));let eG=r(25868).uc.feature("RequestRequiresCaptcha"),eW="recaptcha_jwt_token";async function e$(e,t,r,n){var i,o;let a=await t({url:"/foundation/api/auth/captcha-check",method:"POST",body:{answer:e}},r,n);if(a.error)throw eG("BackendInteractionError","API: /auth/captcha-check");let s=null===(o=a.data.payload)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.token;return(0,P.d8)(eW,s,{expires:new Date(Date.now()+12e4)}),s}function eH(e,t){return async(r,n,i)=>{let o=(0,P.ej)(eW),a={...r,headers:{...r.headers,...o?{"CAPTCHA-TOKEN":o}:{}}},s=await e(a,n,i);if(s.error){var u,l,c,d,p,f,h,m;let o=s.error,a=null!==(l=null===(u=o.meta)||void 0===u?void 0:u.headers)&&void 0!==l?l:{};if((null==o?void 0:o.status)===429&&a["captcha-required"]||(null==o?void 0:o.status)===400&&ez(o.data)){if(!(null===(d=window.grecaptcha)||void 0===d?void 0:null===(c=d.enterprise)||void 0===c?void 0:c.execute))return eG("FrontendLogicError","ReCAPTCHA not initialized").emit(),s;try{let o=await (null===(h=window.grecaptcha)||void 0===h?void 0:null===(f=h.enterprise)||void 0===f?void 0:f.execute(t,{action:null!==(m=null===(p=r.url)||void 0===p?void 0:p.replace(/-/g,"_"))&&void 0!==m?m:"default_action"})),a=await e$(String(o),e,n,i);s=await e({...r,headers:{...r.headers,"CAPTCHA-TOKEN":a}},n,i)}catch(e){return eG("FrontendLogicError","Couldn't processe ReCAPTCHA flow validation").emit({error:e,originalError:s.error}),{error:e}}}}return s}}let eV=em({reducerPath:"rtkqApi",baseQuery:(0,B.retry)(eH(eB({baseUrl:ex()}),"6Lcg05ooAAAAAOEqySkltXch1UOeWXXuuEY9QVz1"),{maxRetries:0}),tagTypes:Object.values(o),endpoints:()=>({}),extractRehydrationInfo(e,t){let{reducerPath:r}=t;if(e.type===eA)return e.payload[r]}});var eZ=r(23356);let eK={baseURL:"".concat(eb,"/catalitv2"),secretKey:"iOpDvZqDCZ53doSkajYjMes11OabXliP3BhT8nBoK9ab2zVAPqSpq4BgAgMdvib4RyWRcS",appID:"115"};!function(e){e.Axios="Axios",e.Cat2="Cat2",e.Cat3="Cat3",e.Advertising="Advertising",e.Orders="Orders",e.Tracker="Tracker",e.GUJ="GUJ",e.CSRF="CSRF",e.Foundation="Foundation"}(a||(a={}));class eJ extends Error{constructor(e){super(e),this.name="ApiError",Object.setPrototypeOf(this,eJ.prototype)}}class eQ{static getInstance(){if(!eQ.instance){let e=(0,P.ej)("SID");eQ.instance=new eQ(eK,e)}return eQ.instance}makeCatalitRequestItem(e){var t;return{func:e.provider.func||e.provider.id||"UNDEFINED_FUNC",id:e.provider.id||"UNDEFINED_ID",param:(null===(t=e.request)||void 0===t?void 0:t.params)?e.request.params:void 0}}async makeAxiosRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new FormData,n=this.makeCatalitRequestItem(e);e.file&&(r.append("upload_file",e.file),n.param={...n.param||{},upload_file:"upload_file"}),r.append("jdata",JSON.stringify({sid:this.SID,time:this.getCurrentTime(),requests:[n],mobile_app:this.appID,sha:this.generateSha256()}));let i=e.url&&"/"!==e.url?this.baseURL+e.url:this.baseURL,o=e.request?e.request.method:"POST";return D({url:i,method:o,data:r,timeout:4e4,headers:{"Content-Type":"multipart/form-data;"},...t}).then(t=>{if(t.data.error_code||t.data.error_message)throw{request:e,response:{status:t.data.error_code,statusText:t.data.error_message}};if(e.provider.id&&t.data[e.provider.id]){let i=t.data[e.provider.id];if((null==i?void 0:i.success)!==!0){var r,n;throw{request:e,response:{status:null===(r=t.data[e.provider.id])||void 0===r?void 0:r.error_code,statusText:null===(n=t.data[e.provider.id])||void 0===n?void 0:n.error_message}}}}return P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484;",t.data[e.provider.id],e),e.onSuccess&&e.onSuccess({request:e,response:t.data[e.provider.id]}),delete e.onError,delete e.onSuccess,{request:e,response:t.data[e.provider.id]}}).catch(t=>{var n,s,u,l,c,d,p,f,h,m,g,_,v,y;return((null===(n=t.response)||void 0===n?void 0:n.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:i,method:o,data:JSON.stringify(r)}],tags:{api_name:a.Cat2}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",t),e.onError&&e.onError({request:e,error:{status:null===(h=t.response)||void 0===h?void 0:h.status,type:null===(g=t.response)||void 0===g?void 0:null===(m=g.data.error)||void 0===m?void 0:m.type,title:null===(v=t.response)||void 0===v?void 0:null===(_=v.data.error)||void 0===_?void 0:_.title}}),delete e.onError,delete e.onSuccess,(null===(s=t.response)||void 0===s?void 0:s.status)&&(null===(u=t.response)||void 0===u?void 0:u.statusText))?{request:e,error:{status:t.response.status,statusText:null===(y=t.response)||void 0===y?void 0:y.statusText}}:{request:e,error:{status:null===(l=t.response)||void 0===l?void 0:l.status,type:null===(d=t.response)||void 0===d?void 0:null===(c=d.data.error)||void 0===c?void 0:c.type,title:null===(f=t.response)||void 0===f?void 0:null===(p=f.data.error)||void 0===p?void 0:p.title}}})}getCurrentTime(){let e=new Date,t=-e.getTimezoneOffset(),r=t>=0?"+":"-",n=e=>{let t=Math.floor(Math.abs(e));return(t<10?"0":"")+String(t)};return"".concat(e.getFullYear(),"-").concat(n(e.getMonth()+1),"-").concat(n(e.getDate()),"T").concat(n(e.getHours()),":").concat(n(e.getMinutes()),":").concat(n(e.getSeconds())).concat(r).concat(n(t/60),":").concat(n(t%60)).toString()}generateSha256(){let e=this.getCurrentTime()+this.secretKey;return(0,eZ.sha256)(e).toString()}constructor(e,t){this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL",this.appID=e.appID||"DEFAULT_APP_ID",this.secretKey=e.secretKey||"DEFAULT_APP_KEY"}}let eX={baseURL:eb};class eY{static getInstance(){if(!eY.instance){let e=(0,P.ej)("SID");eY.instance=new eY(eX,e)}return eY.instance}async makeAxiosRequest(e){let t=()=>{let e={};return this.SID&&(e.Authorization="".concat(this.SID)),e},r=e.url&&"/"!==e.url?this.baseURL+e.url:this.baseURL,n=e.request?e.request.method:"POST",i=e.request?e.request.data:{},o=e.request?e.request.params:{},s=t();return D({url:r,method:n,data:i,params:o,headers:s,timeout:4e4}).then(t=>(P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",t.data,e),e.onSuccess&&e.onSuccess({request:e,response:t.data}),delete e.onError,delete e.onSuccess,{request:e,response:t.data})).catch(t=>{var u,l,c,d,p,f,h,m,g,_,v;return(null===(u=t.response)||void 0===u?void 0:u.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:r,method:n,params:JSON.stringify(o),headers:s,data:JSON.stringify(i)}],tags:{api_name:a.Cat3}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",t),e.onError&&e.onError({request:e,error:{status:null===(h=t.response)||void 0===h?void 0:h.status,type:null===(g=t.response)||void 0===g?void 0:null===(m=g.data.error)||void 0===m?void 0:m.type,title:null===(v=t.response)||void 0===v?void 0:null===(_=v.data.error)||void 0===_?void 0:_.title}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(l=t.response)||void 0===l?void 0:l.status,type:null===(d=t.response)||void 0===d?void 0:null===(c=d.data.error)||void 0===c?void 0:c.type,title:null===(f=t.response)||void 0===f?void 0:null===(p=f.data.error)||void 0===p?void 0:p.title}}})}constructor(e,t){this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL"}}class e0{static getInstance(e){if(!e0.instance){let t=(0,P.ej)("SID");"DEFAULT_SID"===t&&(t=void 0),e0.instance=new e0(e,t)}return e0.instance}makeAxiosRequest(e){let t=()=>{let e={};return e["app-id"]="115",this.SID&&(e["Session-Id"]="".concat(this.SID)),P.Ym?e["Ui-Language-Code"]=(0,P.ej)("Ui-Language-Code")||window.location.hostname.split(".").slice(-1)[0]:e["Ui-Language-Code"]=this.UIlang,e},r=e.url&&"/"!==e.url?e.url.indexOf("foundation")>=0?e.url:this.baseURL+e.url:this.baseURL,n=e.request?e.request.method:"POST",i=e.request?e.request.data:{},o=e.request?e.request.params:{},s={...t(),...e.headers};return D({url:r,method:n,data:i,params:o,headers:s,paramsSerializer:e=>eS.stringify(e,{arrayFormat:"none"}),withCredentials:!0,timeout:eq("foundation",P.Ym,r)}).then(t=>{P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",t.data,e),e.onSuccess&&e.onSuccess({request:e,response:t.data}),delete e.onError,delete e.onSuccess;let n=(null==t?void 0:t.headers["request-session-id"])||"";if(r.indexOf("foundation")>=0&&n){let e=5184e6;(0,P.d8)("SID",n,{"max-age":e})}return{request:e,response:t.data}}).catch(t=>{var u,l,c,d,p,f,h,m,g,_,v,y,b;return(null===(u=t.response)||void 0===u?void 0:u.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:r,method:n,params:JSON.stringify(o),headers:s,data:JSON.stringify(i)}],tags:{api_name:a.Foundation}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",t),e.onError&&e.onError({request:e,error:{status:null===(g=t.response)||void 0===g?void 0:g.status,type:null===(v=t.response)||void 0===v?void 0:null===(_=v.data.error)||void 0===_?void 0:_.type,title:null===(b=t.response)||void 0===b?void 0:null===(y=b.data.error)||void 0===y?void 0:y.title}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(l=t.response)||void 0===l?void 0:l.status,type:null===(d=t.response)||void 0===d?void 0:null===(c=d.data.error)||void 0===c?void 0:c.type,title:null===(f=t.response)||void 0===f?void 0:null===(p=f.data.error)||void 0===p?void 0:p.title,redirectUrl:null===(m=t.response)||void 0===m?void 0:null===(h=m.headers)||void 0===h?void 0:h["redirect-url"]}}})}constructor(e,t){this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL",this.UIlang="ru"}}class e1{static getInstance(e){if(!e1.instance){let t=(0,P.ej)("SID");"DEFAULT_SID"===t&&(t=void 0),e1.instance=new e1(e,t)}return e1.instance}async makeAxiosRequest(e){let t=()=>{let e={};return e["app-id"]="115",this.SID&&(e["Session-Id"]="".concat(this.SID)),P.Ym?e["Ui-Language-Code"]=(0,P.ej)("Ui-Language-Code")||window.location.hostname.split(".").slice(-1)[0]:e["Ui-Language-Code"]=this.UIlang,e},r=e.url&&"/"!==e.url?e.url.indexOf("foundation")>=0?e.url:this.baseURL+e.url:this.baseURL,n=e.request?e.request.method:"POST",i=e.request?e.request.data:{},o=e.request?e.request.params:{},s={...t(),...e.headers};return D({url:r,method:n,data:i,params:o,headers:s,paramsSerializer:e=>eS.stringify(e,{arrayFormat:"none"}),withCredentials:!0,timeout:eq("advertising",P.Ym,r)}).then(t=>(P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",t.data,e),e.onSuccess&&e.onSuccess({request:e,response:t.data}),delete e.onError,delete e.onSuccess,{request:e,response:t.data})).catch(t=>{var u,l,c,d,p,f,h,m,g,_,v;return(null===(u=t.response)||void 0===u?void 0:u.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:r,method:n,params:JSON.stringify(o),headers:s,data:JSON.stringify(i)}],tags:{api_name:a.Advertising}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",t),e.onError&&e.onError({request:e,error:{status:null===(h=t.response)||void 0===h?void 0:h.status,type:null===(g=t.response)||void 0===g?void 0:null===(m=g.data.error)||void 0===m?void 0:m.type,title:null===(v=t.response)||void 0===v?void 0:null===(_=v.data.error)||void 0===_?void 0:_.title}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(l=t.response)||void 0===l?void 0:l.status,type:null===(d=t.response)||void 0===d?void 0:null===(c=d.data.error)||void 0===c?void 0:c.type,title:null===(f=t.response)||void 0===f?void 0:null===(p=f.data.error)||void 0===p?void 0:p.title}}})}constructor(e,t){this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL",this.UIlang="ru"}}class e2{static getInstance(){return e2.instance||(e2.instance=new e2),e2.instance}async makeAxiosRequest(e){let t=e.url||"/",r=e.request?e.request.method:"GET",n=e.request;return await D({url:t,withCredentials:!0,method:e.request?e.request.method:"GET",timeout:4e4,...e.request}).then(t=>(P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",t.data,e),e.onSuccess&&e.onSuccess({request:e,response:t.data,error:void 0}),delete e.onError,delete e.onSuccess,{request:e,response:t.data,error:void 0})).catch(i=>{var o,s,u,l,c,d,p,f,h,m,g;return(null===(o=i.response)||void 0===o?void 0:o.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:t,method:r,params:JSON.stringify(n)}],tags:{api_name:a.Axios}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",i),e.onError&&e.onError({request:e,error:{status:null===(p=i.response)||void 0===p?void 0:p.status,type:null===(h=i.response)||void 0===h?void 0:null===(f=h.data.error)||void 0===f?void 0:f.type,title:null===(g=i.response)||void 0===g?void 0:null===(m=g.data.error)||void 0===m?void 0:m.title}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(s=i.response)||void 0===s?void 0:s.status,type:null===(l=i.response)||void 0===l?void 0:null===(u=l.data.error)||void 0===u?void 0:u.type,title:null===(d=i.response)||void 0===d?void 0:null===(c=d.data.error)||void 0===c?void 0:c.title}}})}constructor(){}}let e5={baseURL:eb};var e4=r(23396);class e3{init(){this.renderPopup(),this.insertPopupBody(),this.show()}renderPopup(){this.popup||(this.popup=document.createElement("div"),this.popup.setAttribute("id",this.id),this.popup.classList.add(this.id),document.body.appendChild(this.popup),this.loadPopupCss())}show(){var e;null===(e=this.popup)||void 0===e||e.classList.add(this.id+"_open")}hide(e){"close-react-captcha-frame"===e.data&&this.popup.classList.remove(this.id+"_open")}insertPopupBody(){if(this.popup){var e;this.popup.innerHTML="<a class='close'></a>",null===(e=this.popup)||void 0===e||e.appendChild(this.createPopupIframe())}}createPopupIframe(){let e=document.createElement("iframe");switch(e.setAttribute("name","litres-"+this.reason+"-react"),e.setAttribute("scrolling","auto"),e.setAttribute("marginheight","0"),e.setAttribute("marginwidth","0"),e.classList.add("trouble-popup__iframe"),e.classList.add(this.reason+"-popup-iframe"),this.reason){case"captcha":e.setAttribute("src",-1===window.location.origin.indexOf("litres.ru")?"https://www.litres.ru/?captcha":"".concat(window.location.href,"&captcha"));break;case"error-500":e.setAttribute("src","https://www.litres.ru/static/error_pages/litres.ru-500.html")}return this.iframe=e,e}loadPopupCss(){let e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href="https://www.litres.ru/static/gu_ajax/trouble_popup.css?v1",document.getElementsByTagName("head")[0].appendChild(e)}constructor(e){return e3.instance||(e3.instance=this),this.id="trouble-popup",this.popup=document.getElementById(this.id),this.reason=e.reason,this.iframe=null,window.addEventListener("message",this.hide.bind(this),!1),e3.instance}}class e8{static getInstance(){if(!e8.instance){let e=(0,P.ej)("SID");e8.instance=new e8(e5,e)}return e8.instance}async makeAxiosRequest(e){var t;let r=new FormData,n=null===(t=e.request)||void 0===t?void 0:t.data;void 0!==n&&Object.keys(n).forEach(e=>{r.append(e,String(n[e]))});let i="/"===e.url?this.baseURL+"/pages/ajax_empty2/":e.url&&-1===e.url.indexOf("http")?"".concat(this.baseURL).concat("/pages/ajax_empty2/"===e.url?"/pages/ajax_empty2/":e.url):e.url,o=e.request?e.request.method:"POST",s=e.request?r:{},u=e.request?e.request.params:{};return D({url:i,method:o,data:s,params:u,timeout:4e4}).then(t=>{var r;let n=(0,e4.N)(t.data);if(null===n)throw{request:e,response:{status:0,statusText:"Ответ не найден"}};if(P.Ym&&(n.need_captcha||(null===(r=n.actions_output)||void 0===r?void 0:r.need_captcha))&&(this.troublePopup=new e3({reason:"captcha"}),this.troublePopup.init()),(null==n?void 0:n.error_code)||(null==n?void 0:n.error_msg))throw{request:e,response:{status:n.error_code,statusText:n.error_msg}};return P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",n,e),e.onSuccess&&e.onSuccess({request:e,response:n}),delete e.onError,delete e.onSuccess,{request:e,response:n}}).catch(t=>{var r,n,l,c,d,p,f,h,m,g,_;return(null===(r=t.response)||void 0===r?void 0:r.status)===500&&(0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:i,method:o,params:JSON.stringify(u),data:JSON.stringify(s)}],tags:{api_name:a.GUJ}}),P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",t),e.onError&&e.onError({request:e,error:{status:null===(f=t.response)||void 0===f?void 0:f.status,type:null===(m=t.response)||void 0===m?void 0:null===(h=m.data.error)||void 0===h?void 0:h.type,title:null===(_=t.response)||void 0===_?void 0:null===(g=_.data.error)||void 0===g?void 0:g.title}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(n=t.response)||void 0===n?void 0:n.status,type:null===(c=t.response)||void 0===c?void 0:null===(l=c.data.error)||void 0===l?void 0:l.type,title:null===(p=t.response)||void 0===p?void 0:null===(d=p.data.error)||void 0===d?void 0:d.title}}})}constructor(e,t){this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL",this.troublePopup=null}}let e6=e=>{let t=e9(e);return(0,eZ.sha256)(t).toString()},e9=e=>{let t="";return Object.entries(e).sort((e,t)=>e[0]-t[0]).forEach(e=>{"object"==typeof e[1]&&(null===e[1]?t+="null":t+=e9(e[1])),("string"==typeof e[1]||"number"==typeof e[1]||"boolean"==typeof e[1]||void 0===e[1])&&(t+="".concat(e[0].toString()).concat(void 0===e[1]?"undefined":e[1].toString(),";"))}),t},e7=6,te=500,tt=2,tr=4,tn=1;class ti{static getInstance(){let e=(0,P.ej)("SID"),t=!!P.Ym&&!!window.localStorage&&(0,P.fp)("litres.csrf.user")===e;if(!ti.instance||!t){let r=P.Ym&&window.localStorage?(0,P.fp)("litres.csrf"):null,n=[];if(t&&r)try{n=JSON.parse(r)}catch(e){P.NR&&console.error("Не удалось спарсить CSRF из localStorage:",e),(0,P.m8)({"litres.csrf":[]}),n=[]}else(0,P.m8)({"litres.csrf":[]}),n=[];ti.instance=new ti(e5,e,n)}return ti.instance}async makeAxiosRequest(e){let t=e6({SID:this.SID,params:e});this.registerRequestInHashtable(e);let r="/"===e.url?this.baseURL+"/pages/ajax_empty2/":e.url&&-1===e.url.indexOf("http")?"".concat(this.baseURL).concat("/pages/ajax_empty2/"===e.url?"/pages/ajax_empty2/":e.url):e.url,n=e.request?e.request.method:"POST",i=await this.getFormdataFromParams(e),o=e.request?e.request.params:{},s=D({url:r,method:n,data:i,params:o}).then(async r=>{var n;let i=(0,e4.N)(r.data);if((null==i?void 0:i.csrf)&&(this.tokensArray.push([String(i.csrf),new Date().getTime()]),this.saveTokens(this.tokensArray)),null===i)throw{request:e,response:{status:0,statusText:"Ответ не найден"}};if(P.Ym&&(i.need_captcha||(null===(n=i.actions_output)||void 0===n?void 0:n.need_captcha)))throw this.troublePopup=new e3({reason:"captcha"}),this.troublePopup.init(),{request:e,response:{status:"need_captcha",statusText:null}};if(null==i?void 0:i.error_code){if("csrf_retry"===i.error_code&&this.requestsHashtable[t].retryNumber<tr)return new Promise(r=>{setTimeout(async()=>{console.error("Произошла ошибка в запросе ".concat(e.provider.id,", делаю ретрай №").concat(this.requestsHashtable[t].retryNumber+1)),r(await this.retryRequest(t))},this.requestsHashtable[t].retryTimeout)});throw{request:e,response:{status:i.error_code,statusText:i.error_msg}}}if((null==i?void 0:i.error_msg)&&!i.redirect)throw{request:e,response:{status:i.actions_output&&"error_code"in i.actions_output?i.actions_output.error_code:i.error_code,statusText:i.error_msg}};return P.NR&&console.info("%cRES: ".concat(e.provider.id),"background: #abff5f; padding: 2px 12px; color: #848484",i,e),this.requestsHashtable[t]={retryNumber:0,retryTimeout:200,requestKeyID:e.provider.id,requestParams:e},e.onSuccess&&e.onSuccess({request:e,response:i,error:void 0}),delete e.onError,delete e.onSuccess,{request:e,response:i,error:void 0}}).catch(async s=>{var u,l,c,d,p;if((null===(u=s.response)||void 0===u?void 0:u.status)===500){if((0,P.RY)(new eJ("API Error (500)"),{contextProperties:["REQUEST_PARAMS",{url:r,method:n,params:JSON.stringify(o),data:JSON.stringify(i)}],tags:{api_name:a.CSRF}}),this.requestsHashtable[t].retryNumber<tr)return new Promise(r=>{setTimeout(async()=>{console.error("Произошла ошибка в запросе ".concat(e.provider.id,", делаю ретрай №").concat(this.requestsHashtable[t].retryNumber+1)),r(await this.retryRequest(t))},this.requestsHashtable[t].retryTimeout)});"login"===this.requestsHashtable[t].requestKeyID&&this.requestsHashtable[t].retryNumber>=tr&&P.Ym&&window.location.reload()}return P.NR&&console.error("%cERR: ".concat(e.provider.id),"background: #f55e5e; padding: 2px 12px; color: #fff",s),e.onError&&e.onError({request:e,error:{status:null===(d=s.response)||void 0===d?void 0:d.status,statusText:null===(p=s.response)||void 0===p?void 0:p.statusText}}),delete e.onError,delete e.onSuccess,{request:e,error:{status:null===(l=s.response)||void 0===l?void 0:l.status,statusText:null===(c=s.response)||void 0===c?void 0:c.statusText}}});return new Promise((e,t)=>{s.then(t=>{e(t)}),s.catch(()=>{t()})})}async requestFreeTokens(){let e=[];this.requestFreeTokensCounter=this.requestFreeTokensCounter+1;try{var t,r;let n=new tb.GUJ({url:"/pages/get_some_csrfs/",provider:{id:"GET_SOME_CSRFS"},request:{method:"POST",data:{num:e7}}}),i=await n.fetch(),o=null===(r=i.response)||void 0===r?void 0:null===(t=r.csrfs)||void 0===t?void 0:t.csrf;o&&o.length>0&&o.forEach(t=>{e.push([t,new Date().getTime()])})}catch(e){P.NR&&console.error("Не удалось спарсить CSRF через ручку get_some_csrf:",e)}return e}checkTokensTimeAndClean(){let e=this.tokensArray.filter(e=>Number(new Date)-e[1]<864e5);this.saveTokens(e)}saveTokens(e){this.tokensArray=e,(0,P.m8)({"litres.csrf.user":this.SID||""}),(0,P.m8)({"litres.csrf":this.tokensArray})}async getActiveToken(){if(0===this.tokensArray.length){if(!(this.requestFreeTokensCounter<tn))return["ERROR: REACHED_LIMIT_FREE_TOKENS_REQUEST",new Date().getTime()];this.saveTokens(await this.requestFreeTokens())}if(this.tokensArray.length>0){let e=this.tokensArray.shift();if((null==e?void 0:e[1])&&Number(new Date)-e[1]<864e5)return e}return await this.getActiveToken()}constructor(e,t,r){this.registerRequestInHashtable=e=>{let t=e6({SID:this.SID,params:e});this.requestsHashtable[t]||(this.requestsHashtable[t]={retryNumber:0,retryTimeout:te,requestKeyID:e.provider.id,requestParams:e})},this.retryRequest=async e=>{let t=this.requestsHashtable[e];return t.retryNumber=t.retryNumber+1,t.retryTimeout=t.retryTimeout*tt,console.log("Таймаут ".concat(t.retryTimeout)),await this.makeAxiosRequest(t.requestParams)},this.getFormdataFromParams=async e=>{var t;let r=new FormData,n=null===(t=e.request)||void 0===t?void 0:t.data;if(void 0!==n){Object.keys(n).forEach(e=>{r.append(e,n[e]instanceof Blob?n[e]:String(n[e]))});let e=await this.getActiveToken();e.length&&r.append("csrf",e[0])}return r},this.SID=t||void 0,this.baseURL=e.baseURL||"DEFAULT_BASE_URL",this.tokensArray=r||[],this.troublePopup=null,this.requestsHashtable={},this.requestFreeTokensCounter=0,this.checkTokensTimeAndClean()}}let to={baseURL:ex("foundation")},ta={baseURL:ex("advertising")},ts={baseURL:ex("orders")},tu={baseURL:ex("tracker")};class tl{constructor(e){this.params=e,this.payload={},P.NR&&console.log("%cREQ: ".concat(this.params.provider.id),"background: #edff88; padding: 2px 12px; color: #888",this.params)}}class tc extends tl{constructor(e){super(e),this.fetch=async()=>{let e=this.axiosProvider;return await e.makeAxiosRequest(this.params)},this.axiosProvider=e2.getInstance()}}class td extends tl{constructor(e,t){super(e),this.fetch=async()=>{let e=this.catalit2Provider;return await e.makeAxiosRequest(this.params,this.config)},this.config=t,this.catalit2Provider=eQ.getInstance()}}class tp extends tl{constructor(e){super(e),this.fetch=async()=>{let e=this.catalit3Provider;return await e.makeAxiosRequest(this.params)},this.catalit3Provider=eY.getInstance()}}class tf extends tl{constructor(e){super(e),this.fetch=async()=>await this.provider.makeAxiosRequest(this.params),this.provider=e0.getInstance(to)}}class th extends tl{constructor(e){super(e),this.fetch=async()=>await this.provider.makeAxiosRequest(this.params),this.provider=e1.getInstance(ta)}}class tm extends tl{constructor(e){super(e),this.fetch=async()=>await this.provider.makeAxiosRequest(this.params),this.provider=e0.getInstance(ts)}}class tg extends tl{constructor(e){super(e),this.fetch=async()=>await this.provider.makeAxiosRequest(this.params),this.provider=e0.getInstance(tu)}}class t_ extends tl{constructor(e){super(e),this.fetch=async()=>{let e=this.gujProvider;return await e.makeAxiosRequest(this.params)},this.gujProvider=e8.getInstance()}}class tv extends tl{constructor(e){super(e),this.fetch=async()=>{let e=this.csrfProvider;return await e.makeAxiosRequest(this.params)},this.csrfProvider=ti.getInstance()}}let ty={Axios:tc,Cat2:td,Cat3:tp,Foundation:tf,Advertising:th,Orders:tm,Tracker:tg,GUJ:t_,CSRF:tv};var tb=ty;let tx={actions:{changePasswordCSRF:{},changeProfilePrivacyCSRF:{},setMarketingConsentCSRF:{}}},tS=(0,q.createAsyncThunk)("user/accountSettings/changePasswordCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"changePasswordCSRF"},request:{method:"POST",data:{action:"change_password",gu_ajax:!0,checkmail:1,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),tw=(0,q.createAsyncThunk)("user/accountSettings/changeProfilePrivacyCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"update_my_data_ajax"},request:{method:"POST",data:{action:"update_my_data_ajax",gu_ajax:!0,profile_privacy:e.data.profile_privacy}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),tk=(0,q.createAsyncThunk)("user/accountSettings/setMarketingConsent",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"set_marketing_consent"},request:{method:"POST",data:{action:"set_marketing_consent",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),tE=(0,q.createSlice)({name:"user/accountSettings",initialState:tx,reducers:{setUserAccountSettings:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"pages.personalCabinet.paymentsHistory"),e.addCase(tS.pending,e=>{e.actions.changePasswordCSRF.isLoading=!0,e.actions.changePasswordCSRF.error=void 0}),e.addCase(tS.fulfilled,(e,t)=>{e.actions.changePasswordCSRF=t.payload,e.actions.changePasswordCSRF.isLoading=!1}),e.addCase(tw.pending,e=>{e.actions.changeProfilePrivacyCSRF.isLoading=!0,e.actions.changeProfilePrivacyCSRF.error=void 0}),e.addCase(tw.fulfilled,(e,t)=>{e.actions.changeProfilePrivacyCSRF=t.payload,e.actions.changeProfilePrivacyCSRF.isLoading=!1}),e.addCase(tk.pending,e=>{e.actions.setMarketingConsentCSRF.isLoading=!0,e.actions.setMarketingConsentCSRF.error=void 0}),e.addCase(tk.fulfilled,(e,t)=>{e.actions.setMarketingConsentCSRF=t.payload,e.actions.setMarketingConsentCSRF.isLoading=!1})}}),{setUserAccountSettings:tC}=tE.actions;var tT=tE.reducer;let tj={attachedSocnets:[]},tA=(0,q.createSlice)({name:"user/socnet",initialState:tj,reducers:{setUserSocnets:(e,t)=>{e.attachedSocnets=t.payload.attachedSocnets}}}),{setUserSocnets:tR}=tA.actions;var tO=tA.reducer;let tP=()=>Math.round(1e3*Math.random()).toString(),tL={availability:!1,avatarHash:tP(),actions:{uploadAvatarCSRF:{}}},tI=(0,q.createAsyncThunk)("user/avatar/uploadAvatarCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"uploadAvatarCSRF"},request:{method:"POST",data:{action:"store_user_avatar",...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),tN=(0,q.createSlice)({name:"user/avatar",initialState:tL,reducers:{setUserAvatar:(e,t)=>{let{availability:r}=t.payload;"boolean"==typeof r&&(e.availability=r)}},extraReducers:e=>{eR(e,"user.avatar"),e.addCase(tI.pending,e=>{e.actions.uploadAvatarCSRF.isLoading=!0,e.actions.uploadAvatarCSRF.error=void 0}),e.addCase(tI.fulfilled,(e,t)=>{e.actions.uploadAvatarCSRF.isLoading=!1,e.avatarHash=tP(),t.payload.error&&(console.error("Ошибка запроса uploadAvatarCSRF",t.payload.error),e.actions.uploadAvatarCSRF.error=t.payload.error)})}}),{setUserAvatar:tF}=tN.actions;var tD=tN.reducer;let tM={account:0,bonus:0,accountFull:0},tU=(0,q.createSlice)({name:"user/balance",initialState:tM,reducers:{setUserBalance:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.balance")}}),{setUserBalance:tq}=tU.actions;var tB=tU.reducer;let tz={inBasket:0,inDeferred:0,purchased:0},tG=(0,q.createSlice)({name:"user/basket",initialState:tz,reducers:{setUserBasket:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.basket")}}),{setUserBasket:tW}=tG.actions;var t$=tG.reducer;let tH={collections:[]},tV=(0,q.createSlice)({name:"user/boughtCollections",initialState:tH,reducers:{setUserBoughtCollection:(e,t)=>{e.collections=t.payload.collections}},extraReducers:e=>{eR(e,"user.boughtCollections")}}),{setUserBoughtCollection:tZ}=tV.actions;var tK=tV.reducer;let tJ={isAnon:!0,userID:"0",userSID:"anonimous-empty-sid",name:"Anonymous",groups:[8,16],lfrom:"",actions:{changeCredentialsCSRF:{}}},tQ=(0,q.createAsyncThunk)("user/credentialsSlice/changeCredentialsCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"update_my_data_ajax"},request:{method:"POST",data:{action:"update_my_data_ajax",gu_ajax:!0,...(e.data.firstName||""===e.data.firstName)&&{first_name:e.data.firstName},...(e.data.lastName||""===e.data.lastName)&&{last_name:e.data.lastName},...(e.data.nickname||""===e.data.nickname)&&{nickname:e.data.nickname},...(e.data.description||""===e.data.description)&&{descr:e.data.description},...(e.data.birthDate||""===e.data.birthDate)&&{birth_date:e.data.birthDate}}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),tX=(0,q.createSlice)({name:"user/credentialsSlice",initialState:tJ,reducers:{setUserCredentials:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.credentials"),e.addCase(tQ.pending,e=>{e.actions.changeCredentialsCSRF.isLoading=!0}),e.addCase(tQ.fulfilled,(e,t)=>{e.actions.changeCredentialsCSRF=t.payload,e.actions.changeCredentialsCSRF.isLoading=!1,t.payload.error&&(console.error("Ошибка запроса credentialsCSRF",t.payload.error),e.actions.changeCredentialsCSRF.error=t.payload.error)})}}),{setUserCredentials:tY}=tX.actions;var t0=tX.reducer;let t1={},t2=(0,q.createSlice)({name:"user/library",initialState:t1,reducers:{setUserLibrary:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.library")}}),{setUserLibrary:t5}=t2.actions;var t4=t2.reducer;let t3={isLoading:!1,unreadedCount:0,allCount:0,list:[]},t8=(0,q.createAsyncThunk)("user/notifications/getUserNotifications",async()=>{let e=new ty.Cat3({url:"/account/spam/",provider:{id:"GET_USER_NOTIFICATIONS"}});return await e.fetch()}),t6=(0,q.createSlice)({name:"user/notifications",initialState:t3,reducers:{setUserNotifications:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.notifications"),e.addCase(t8.pending,e=>{e.isLoading=!0,e.error=void 0}),e.addCase(t8.fulfilled,(e,t)=>{if(e.isLoading=!1,t.payload.error){console.error("Ошибка запроса getUserNotifications",t.payload.error);return}if("object"==typeof t.payload.response&&t.payload.response.list)return{...e,...t.payload.response}})}}),{setUserNotifications:t9}=t6.actions;var t7=t6.reducer;let re={receipts:[],actions:{getPaymentReceipts:{}}},rt=(0,q.createAsyncThunk)("pages/paymentReceipts/getPaymentReceipts",async e=>{let t=new ty.Cat3({url:"/receipt/",provider:{id:"GET_PAYMENT_RECEIPTS"},request:{params:e}});return await t.fetch()}),rr=(0,q.createSlice)({name:"pages/paymentReceipts",initialState:re,reducers:{setPaymentReceipts:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"pages.paymentReceipts"),e.addCase(rt.pending,e=>{e.actions.getPaymentReceipts.isLoading=!0,e.actions.getPaymentReceipts.error=void 0}),e.addCase(rt.fulfilled,(e,t)=>{e.actions.getPaymentReceipts.isLoading=!1,e.receipts=t.payload.response||[],t.payload.error&&(console.error("Ошибка запроса getPaymentReceipts",t.payload.error),e.actions.getPaymentReceipts.error=t.payload.error)})}}),{setPaymentReceipts:rn}=rr.actions;var ri=rr.reducer;let ro={active:!1,price:"399"},ra=(0,q.createSlice)({name:"user/abonement",initialState:ro,reducers:{setUserAbonement:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.abonement")}}),{setUserAbonement:rs}=ra.actions;var ru=ra.reducer;let rl={subscriptionClass:[{id:1,trial:!0,month:1,price:"0",pricePerMonth:"0",basePrice:"399"},{id:2,trial:!1,month:1,price:"399",pricePerMonth:"399",basePrice:"399"}],active:!1},rc=(0,q.createSlice)({name:"user/subscription",initialState:rl,reducers:{setUserSubscription:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.subscription")}}),{setUserSubscription:rd}=rc.actions;var rp=rc.reducer;let rf={},rh=(0,q.createSlice)({name:"user/tests",initialState:rf,reducers:{setUserABTests:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.tests")}}),{setUserABTests:rm}=rh.actions;var rg=rh.reducer;let r_={status:!1},rv=(0,q.createSlice)({name:"user/webPushes",initialState:r_,reducers:{setUserWebpushes:(e,t)=>{e.status=t.payload.status}},extraReducers:e=>{eR(e,"user.webpushes")}}),{setUserWebpushes:ry}=rv.actions;var rb=rv.reducer;let rx={actions:{checkPassCorrectCSRF:{},otpinLoginCSRF:{},loginCSRF:{},attachSocnetCSRF:{},socnetCSRF:{},checkSocnetCSRF:{}}},rS=(0,q.createAsyncThunk)("user/authorization/loginCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"login"},request:{method:"POST",data:{pre_action:"login",gu_ajax:!0,remember_me:"on",can_have_short_sessions:1,redir_off:1,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rw=(0,q.createAsyncThunk)("user/authorization/checkPassCorrectCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"checkPassCorrect"},request:{method:"POST",data:{action:"ajax_login_pass_correct",gu_ajax:!0,checkmail:1,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rk=(0,q.createAsyncThunk)("user/authorization/otpinLoginCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"otpinLoginCSRF"},request:{method:"POST",data:{action:"otpin_login",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rE=(0,q.createAsyncThunk)("user/authorization/attachSocnetCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"attachSocnetCSRF"},request:{method:"POST",data:{action:"attach_socnet",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rC=(0,q.createAsyncThunk)("user/authorization/detachSocnetCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"detachSocnetCSRF"},request:{method:"POST",data:{action:"detach_socnet",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rT=(0,q.createAsyncThunk)("user/authorization/socnetCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"socnetCSRF"},request:{method:"POST",data:{pre_action:"socnet",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rj=(0,q.createAsyncThunk)("user/authorization/checkSocnetCSRF",async e=>{let t=new ty.CSRF({url:"/pages/check_socnet/",provider:{id:"checkSocnetCSRF"},request:{method:"POST",data:{gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()});var rA=(0,q.createSlice)({name:"user/authorization",initialState:rx,reducers:{},extraReducers:e=>{eR(e,"user.authorization"),e.addCase(rS.pending,e=>{e.actions.loginCSRF.isLoading=!0,e.actions.loginCSRF.error=void 0}),e.addCase(rS.fulfilled,(e,t)=>{e.actions.loginCSRF=t.payload,e.actions.loginCSRF.isLoading=!1}),e.addCase(rw.pending,e=>{e.actions.checkPassCorrectCSRF.isLoading=!0,e.actions.checkPassCorrectCSRF.error=void 0}),e.addCase(rw.fulfilled,(e,t)=>{e.actions.checkPassCorrectCSRF=t.payload,e.actions.checkPassCorrectCSRF.isLoading=!1}),e.addCase(rk.pending,e=>{e.actions.otpinLoginCSRF.isLoading=!0,e.actions.otpinLoginCSRF.error=void 0}),e.addCase(rk.fulfilled,(e,t)=>{e.actions.otpinLoginCSRF=t.payload,e.actions.otpinLoginCSRF.isLoading=!1}),e.addCase(rE.pending,e=>{e.actions.attachSocnetCSRF.isLoading=!0,e.actions.attachSocnetCSRF.error=void 0}),e.addCase(rE.fulfilled,(e,t)=>{e.actions.attachSocnetCSRF=t.payload,e.actions.attachSocnetCSRF.isLoading=!1}),e.addCase(rT.pending,e=>{e.actions.socnetCSRF.isLoading=!0,e.actions.socnetCSRF.error=void 0}),e.addCase(rT.fulfilled,(e,t)=>{e.actions.socnetCSRF=t.payload,e.actions.socnetCSRF.isLoading=!1}),e.addCase(rj.pending,e=>{e.actions.checkSocnetCSRF.isLoading=!0,e.actions.checkSocnetCSRF.error=void 0}),e.addCase(rj.fulfilled,(e,t)=>{e.actions.checkSocnetCSRF=t.payload,e.actions.checkSocnetCSRF.isLoading=!1})}}).reducer;let rR={actions:{checkEmailAvailabilityGUJ:{},verifyPhoneCSRF:{},recoverPasswordCSRF:{},registrationCSRF:{}}},rO=(0,q.createAsyncThunk)("user/registration/checkEmailAvailabilityGUJ",async e=>{let t=new ty.GUJ({url:"/pages/ajax_check_email_availability/",provider:{id:"checkEmailAvailabilityGUJ"},request:{method:"POST",data:{gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rP=(0,q.createAsyncThunk)("user/registration/verifyPhoneCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"verifyPhoneCSRF"},request:{method:"POST",data:{action:"verify_phone",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rL=(0,q.createAsyncThunk)("user/registration/recoverPasswordCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"recoverPasswordCSRF"},request:{method:"POST",data:{action:"recover_password",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rI=(0,q.createAsyncThunk)("user/registration/confirmRecoverPasswordCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"confirmRecoverPasswordCSRF"},request:{method:"POST",data:{action:"recover_pass_generate",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),rN=(0,q.createAsyncThunk)("user/registration/registrationCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"registrationCSRF"},request:{method:"POST",data:{action:"register_user",iaccept:1,autopwd:1,sw:1,gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()});var rF=(0,q.createSlice)({name:"user/registration",initialState:rR,reducers:{},extraReducers:e=>{eR(e,"user.registration"),e.addCase(rO.pending,e=>{e.actions.checkEmailAvailabilityGUJ.isLoading=!0,e.actions.checkEmailAvailabilityGUJ.error=void 0}),e.addCase(rO.fulfilled,(e,t)=>{e.actions.checkEmailAvailabilityGUJ=t.payload,e.actions.checkEmailAvailabilityGUJ.isLoading=!1}),e.addCase(rP.pending,e=>{e.actions.verifyPhoneCSRF.isLoading=!0,e.actions.verifyPhoneCSRF.error=void 0}),e.addCase(rP.fulfilled,(e,t)=>{e.actions.verifyPhoneCSRF=t.payload,e.actions.verifyPhoneCSRF.isLoading=!1}),e.addCase(rL.pending,e=>{e.actions.recoverPasswordCSRF.isLoading=!0,e.actions.recoverPasswordCSRF.error=void 0}),e.addCase(rL.fulfilled,(e,t)=>{e.actions.recoverPasswordCSRF=t.payload,e.actions.recoverPasswordCSRF.isLoading=!1}),e.addCase(rN.pending,e=>{e.actions.registrationCSRF.isLoading=!0,e.actions.registrationCSRF.error=void 0}),e.addCase(rN.fulfilled,(e,t)=>{e.actions.registrationCSRF=t.payload,e.actions.registrationCSRF.isLoading=!1})}}).reducer;function rD(e){return void 0!==e.otp_id}let rM=53,rU=54;class rq extends Error{constructor(e,t){super(e),this.status=t,this.name=this.constructor.name}}class rB extends rq{constructor(e="Client Timeout Error"){super(e,rU)}}class rz extends rq{constructor(e="Network Error"){super(e,rM)}}function rG(){return!P.Ym||void 0===navigator.onLine||navigator.onLine}function rW(e){return"ECONNABORTED"===e.code&&"string"==typeof e.data&&e.data.includes("timeout")?new rB:"ERR_NETWORK"!==e.code||rG()?e:new rz}let r$=[500,501,502,503,504],rH={maxRetry:3,statusCodes:r$,delay:3e3,shouldRetryOnNetworkError:!0,shouldRetryOnTimeoutError:!0},rV={maxRetry:2,statusCodes:r$,delay:2e3,shouldRetryOnNetworkError:!1,shouldRetryOnTimeoutError:!0};function rZ(e){var t,r;return P.Ym?Object.assign({},rH,null!==(t=e.client)&&void 0!==t?t:{}):Object.assign({},rV,null!==(r=e.server)&&void 0!==r?r:{})}function rK(e){let t=[];e.shouldRetryOnNetworkError&&t.push(rM),e.shouldRetryOnTimeoutError&&t.push(rU),0!==t.length&&(e.statusCodes=e.statusCodes.concat(t))}function rJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rZ(e);return rK(t),t}let rQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rJ(e);return{retryCondition(e,r,n){let{attempt:i}=n,o=rW(e),a="number"==typeof o.status&&t.statusCodes.includes(o.status),s=i<=t.maxRetry;return a&&s},backoff:async()=>{await (0,P._v)(t.delay)}}},rX=rQ(),rY=eV.injectEndpoints({endpoints:e=>({getUserData:e.query({query:e=>{let{SID:t}=e;return{url:"/foundation/api/users/me",headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload.data}),getUserDataForSSR:e.query({query:e=>({url:"/foundation/api/users/me",headers:e?{"Session-Id":e}:void 0}),transformResponse:e=>e.payload.data,extraOptions:{...rQ({server:{maxRetry:1,delay:100},client:{maxRetry:0}})}}),getMonetizationDetails:e.query({query:()=>({url:"/foundation/api/users/me/monetization-details",headers:{"accept-version":"2"}}),transformResponse:e=>e.payload.data,providesTags:[o.USER_MONETIZATION_DATA]}),getAbTests:e.query({query:e=>{let{SID:t}=e;return{url:"/foundation/api/ab-tests",method:"POST",headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload.data}),setUserPhone:e.mutation({query:e=>({url:"/foundation/api/users/me/set-phone",method:"POST",body:{...e}}),invalidatesTags:[o.USER_DETAILED_DATA],transformResponse:e=>e.payload.data.is_phone_confirmed}),setUserEmail:e.mutation({query:e=>{let t;return{url:"/foundation/api/users/me/email",method:"PUT",body:t=rD(e)?{otp_id:e.otp_id,code:e.code,mail_subscriptions_allowed:e.mail_subscriptions_allowed}:{email:e.email}}}}),getFoundationUserDetailedInfo:e.query({query:()=>({url:"/foundation/api/users/me/detailed",method:"GET"}),providesTags:[o.USER_DETAILED_DATA],transformResponse:e=>e.payload.data}),getBonuses:e.query({query:()=>({url:"/foundation/api/users/me/loyalty/balance/bonuses",method:"GET"}),transformResponse:e=>e.payload.data}),getSafemode:e.query({query:()=>({url:"/foundation/api/users/me/safemode",method:"GET"}),transformResponse:e=>e.payload.data}),setSafemode:e.mutation({query:e=>({url:"/foundation/api/users/me/safemode",method:"PUT",body:e})}),setPrivacy:e.mutation({query:e=>({url:"/foundation/api/users/me/privacy",method:"PUT",body:e})}),updateUserInfo:e.mutation({query:e=>({url:"/foundation/api/users/me",method:"PATCH",body:e}),invalidatesTags:[o.USER_DETAILED_DATA]}),updateUserAvatar:e.mutation({query:e=>({url:"/foundation/api/users/me/avatar",method:"POST",headers:{"Content-Type":"multipart/form-data"},body:e})})})}),r0=e=>{var t;if((0,P.xb)(e,["i","experiments","flags"]),(0,P.sM)(e.i,"string"),(0,P.sM)(e.experiments,"string"),(0,P.sM)(e.flags,"array"),e.testids&&(0,P.sM)(e.testids,"array"),e.flags.length){let t=e.flags[0];(0,P.sM)(t,"object"),(0,P.xb)(t,["n","v","t"]),(0,P.sM)(t.n,"string"),(0,P.sM)(t.v,"string"),(0,P.sM)(t.t,"string")}return(null===(t=e.testids)||void 0===t?void 0:t.length)&&(0,P.sM)(e.testids[0],"number"),e},r1={i:"",experiments:"",flags:[],testids:[]},r2=eV.injectEndpoints({endpoints:e=>({getVarioqubData:e.query({query(e){let{client_id:t,url:r,i:n,userAgent:i}=e;return{url:"https://uaas.yandex.ru/v1/exps",method:"GET",params:{client_id:"metrika.".concat(t),url:r,i:n},headers:{Referer:r,"User-Agent":i}}},transformResponse:e=>{try{return r0(e)}catch(e){return(0,P.RY)(e.message,{tags:{type:"critical"},logLevel:"fatal"}),r1}}})})}),r5={id:0,login:"",BSK:[],LKS:[],is_staff:!1,isOfficeUser:!1,profile:{has_folder_arts:!1},account:{display:0,real:0,full:0,bonus:0},settings:{profile_privacy:"default",is_safemode_enabled:null},socials:[],library_info:{title:null,logo:{},host:null,is_school_user:!1},abonement:{id:null,is_active:!1,price:null,rebill_id:null,valid_till:null,grace_period_start:null,gift_arts_refresh_at:null,payment_system_id:null,purchase_origin:null},subscription:{id:null,grace_period_start:null,rebill_id:null,payment_system_id:null,purchase_origin:null},partner_subscriptions:{has_active:!1,subscriptions:[]},phone:{},ab_tests:[],isLoading:!1,error:{},isAsking:!1,actions:{teleport_CSRF:{}},varioqubTests:{ymabParam:"",flags:{},testIds:[],initialized:!1,initializingError:!1},loyalty:{is_loyalty_user:!1,bonuses_info:null},is_tester:!1},r4=(0,q.createAsyncThunk)("foundationUser/teleport_CSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"teleport_CSRF"},request:{method:"POST",data:{action:"teleport",gu_ajax:!0,...e.data}}});return await t.fetch()}),r3=(0,q.createAsyncThunk)("foundationUser/readReport",async e=>{let t=new ty.Cat2({url:"/",provider:{func:"w_read_report",id:"w_read_report"},request:{method:"POST",params:e}});return await t.fetch()}),r8=(0,q.createAsyncThunk)("foundation/requestBiblioArt",async e=>{let t=new ty.Cat2({url:"/",provider:{func:"w_biblio_request",id:"w_biblio_request_art"},request:{method:"POST",params:{art:e.art,strict:e.strict}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),r6=(0,q.createAsyncThunk)("foundation/cancelRequestBiblioArt",async e=>{let t=new ty.Cat2({url:"/",provider:{func:"w_cancel_biblio_request",id:"cancel_biblio_request"},request:{method:"POST",params:{art:e.art}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),r9=(0,q.createAsyncThunk)("foundationUser/getPresentBook",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"getPresentBook"},request:{method:"POST",data:{action:"get_present_book",art:e.artId,subscription:e.subId}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),r7=(0,q.createAsyncThunk)("foundationUser/decrUserGifts",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"decrUserGifts"},request:{method:"POST",data:{action:"decr_user_gifts",art:e.artId}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),ne=(0,q.createAsyncThunk)("foundationUser/proceedPayment",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"proceedPayment"},request:{method:"POST",data:{action:"proceed_payment",descr:91,custom_set:e.customSet,csrf:e.csrf,ajax:!0,js:1,gu_ajax:!0,success_redirect_url:e.successRedirectUrl,fail_redirect_url:e.failRedirectUrl}},onSuccess:e.onSuccess,onError:t=>{(0,P.RY)("proceed_payment is failed",{contextProperties:["params",{error:JSON.stringify(t)}],tags:{type:"critical"},logLevel:"fatal"}),e.onError&&e.onError()}});return await t.fetch()}),nt=(0,q.createAsyncThunk)("foundationUser/getABTests",async(e,t)=>{let{SID:r}=e,{getState:n}=t,i=new ty.Foundation({url:"/api/ab-tests",request:{method:"POST"},provider:{id:"getABTests"},headers:{...eP(n()),"Session-Id":r}});return await i.fetch()}),nr=(0,q.createSlice)({name:"foundationUser",initialState:r5,reducers:{setUserSID:(e,t)=>{e.SID=t.payload.SID},setUserID:(e,t)=>{e.id=t.payload.id},setFoundationUserLogin:(e,t)=>{e.login=t.payload.login},setFoundationUserProfile:(e,t)=>{e.profile={...e.profile,...t.payload}},setFoundationUserBalance:(e,t)=>{e.account={...e.account,...t.payload}},setCustomCookieValue:(e,t)=>{Array.isArray(t.payload.BSK)&&(e.BSK=t.payload.BSK.filter(e=>!!e)),Array.isArray(t.payload.LKS)&&(e.LKS=t.payload.LKS.filter(e=>!!e))},setFoundationUserLibrary:(e,t)=>{e.library_info={...e.library_info,...t.payload}},setFoundationUserAccountSettings:(e,t)=>{e.settings={...e.settings,...t.payload}},setFoundationUserSafemodeStep:(e,t)=>{e.safemode_active_step=t.payload},setFoundationUserSocnets:(e,t)=>{e.socials=t.payload},setFoundationUserAbonement:(e,t)=>{e.abonement={...e.abonement,...t.payload}},setFoundationUserPartnersSubscriptions:(e,t)=>{e.partner_subscriptions={...e.partner_subscriptions,...t.payload}},setFoundationUserSubscription:(e,t)=>{e.subscription={...e.subscription,...t.payload}},setFoundationUserAvatar:(e,t)=>{e.profile.avatar_url=t.payload},setFoundationUserABTests:(e,t)=>{e.ab_tests=t.payload},setIsOfficeUser:(e,t)=>{e.isOfficeUser=t.payload},setVarioqubTests:(e,t)=>{if("i"in t.payload){var r;let n=t.payload.flags.reduce((e,t)=>({...e,[t.n]:t.v}),{});e.varioqubTests={...e.varioqubTests,flags:n,ymabParam:t.payload.isForCache?"":t.payload.i,testIds:null!==(r=t.payload.testids)&&void 0!==r?r:[],initialized:!0}}else e.varioqubTests={...e.varioqubTests,...t.payload}}},extraReducers:e=>{eR(e,"foundationUser"),e.addCase(r4.pending,e=>{e.actions.teleport_CSRF.isLoading=!0,e.actions.teleport_CSRF.error=void 0}),e.addCase(r4.fulfilled,(e,t)=>{if(e.actions.teleport_CSRF.isLoading=!1,e.actions.teleport_CSRF=t.payload,t.payload.error){e.actions.teleport_CSRF.error=t.payload.error;return}}),e.addMatcher(rY.endpoints.getUserDataForSSR.matchFulfilled,(e,t)=>({...e,...t.payload,error:{},isLoading:!1,isAsking:!1,BSK:e.BSK,LKS:e.LKS,actions:{teleport_CSRF:{}},ab_tests:e.ab_tests})),e.addMatcher(rY.endpoints.getAbTests.matchFulfilled,(e,t)=>{e.ab_tests=t.payload}),e.addMatcher(r2.endpoints.getVarioqubData.matchFulfilled,(e,t)=>{var r;let{payload:n}=t,i=n.flags.reduce((e,t)=>({...e,[t.n]:t.v}),{});e.varioqubTests={...e.varioqubTests,flags:i,ymabParam:n.i,testIds:null!==(r=n.testids)&&void 0!==r?r:[],initialized:!0}}),e.addMatcher(r2.endpoints.getVarioqubData.matchRejected,e=>{e.varioqubTests={...e.varioqubTests,initializingError:!0}})}}),{setUserSID:nn,setUserID:ni,setFoundationUserLogin:no,setFoundationUserProfile:na,setFoundationUserBalance:ns,setFoundationUserLibrary:nu,setFoundationUserAccountSettings:nl,setFoundationUserSocnets:nc,setFoundationUserPartnersSubscriptions:nd,setFoundationUserSubscription:np,setFoundationUserAvatar:nf,setFoundationUserSafemodeStep:nh,setFoundationUserABTests:nm,setIsOfficeUser:ng,setCustomCookieValue:n_,setVarioqubTests:nv,setFoundationUserAbonement:ny}=nr.actions;var nb=nr.reducer;let nx={playerSettings:{url:"",drm3key:"",isPlaying:!1,volume:.5,playbackRate:1,muted:!1,isContentsOpen:!1,downloadForbidden:!1,readOnly:!1,isAnon:!0,isChapterLoading:!1,contentsData:[]},currentTime:0,playerData:{error:null,event:null,isReady:!1,loadedTime:0,duration:0,totalDuration:0,isHalf:!1,canBackward:!1,canForward:!0,stats:{hits:0,secondsListened:0}}},nS=(0,q.createSlice)({name:"player",initialState:nx,reducers:{setTimeStart:(e,t)=>{e.playerSettings.timeStart=t.payload},setUrl:(e,t)=>{e.playerSettings.url=t.payload},setVolume:(e,t)=>{e.playerSettings.volume=t.payload},setPlaybackRate:(e,t)=>{e.playerSettings.playbackRate=t.payload},setPlaying:(e,t)=>{e.playerSettings.isPlaying=t.payload,e.playerData.error=null},setCurrentTime:(e,t)=>{e.currentTime=t.payload},setMuted:(e,t)=>{e.playerSettings.muted=t.payload},setDownloadForbidden:(e,t)=>{e.playerSettings.downloadForbidden=t.payload},setReadOnly:(e,t)=>{e.playerSettings.readOnly=t.payload},setContentsOpen:(e,t)=>{e.playerSettings.isContentsOpen=t.payload},setContentsData:(e,t)=>{e.playerSettings.contentsData=t.payload},setPlayerError(e,t){var r;e.playerData.error=null!==(r=t.payload)&&void 0!==r?r:null},setPlayerEvent:(e,t)=>{e.playerData.event=t.payload},setPlayerReady:(e,t)=>{e.playerData.isReady=t.payload},setPlayerSettings:(e,t)=>{for(let r in t.payload){let n=r,i=t.payload[n];e.playerSettings[n]=i}},setPlayerData:(e,t)=>{for(let r in t.payload){let n=r,i=t.payload[n];e.playerData[n]=i}},setPlayerStats:(e,t)=>{e.playerData.stats=t.payload},setTotalDuration:(e,t)=>{e.playerData.totalDuration=t.payload}}}),{setPlayerData:nw,setPlayerError:nk,setPlayerEvent:nE,setPlayerReady:nC,setTimeStart:nT,setContentsOpen:nj,setPlaying:nA,setCurrentTime:nR,setUrl:nO,setVolume:nP,setPlaybackRate:nL,setMuted:nI,setPlayerSettings:nN,setDownloadForbidden:nF,setReadOnly:nD,setContentsData:nM,setPlayerStats:nU,setTotalDuration:nq}=nS.actions;var nB=nS.reducer,nz=r(18370);let nG={activeStep:nz.MZ.authenticationByEmail,fallbackStep:nz.H$.init,stepsHistory:[],formData:{},isRateLimitError:!1},nW=(0,q.createSlice)({name:"global/auth",initialState:nG,reducers:{resetState:()=>nG,setActiveStepHard:(e,t)=>{e.activeStep=t.payload},setActiveStep:(e,t)=>{e.stepsHistory.push(e.activeStep),e.activeStep=t.payload},setFallbackStep:(e,t)=>{e.fallbackStep=t.payload},goToPreviousStep:e=>{let t=e.stepsHistory.pop();e.activeStep=t||nz.MZ.authenticationByPhone},setFormData:(e,t)=>({...e,formData:{...e.formData,...t.payload}}),setRateLimitError:(e,t)=>{e.isRateLimitError=t.payload}},extraReducers:e=>{eR(e,"global.auth")}}),{setActiveStep:n$,setActiveStepHard:nH,goToPreviousStep:nV,setFormData:nZ,resetState:nK,setFallbackStep:nJ,setRateLimitError:nQ}=nW.actions;var nX=nW.reducer;let nY={isAuthPopupVisible:!1,analyticsData:{}},n0=(0,q.createSlice)({name:"global/header/auth",initialState:nY,reducers:{setAuthPopupVisibility:(e,t)=>{e.isAuthPopupVisible=t.payload},setAnalyticsData:(e,t)=>{e.analyticsData={...e.analyticsData,...t.payload}}},extraReducers:e=>{eR(e,"global.header.auth")}}),{setAuthPopupVisibility:n1,setAnalyticsData:n2}=n0.actions;var n5=n0.reducer;(function(e){e.all="all",e.books="books",e.person="person",e.series="series",e.tag="tag",e.text_book="text_book",e.audiobook="audiobook",e.collection="collection",e.genre="genre",e.podcast_episode="podcast_episode",e.podcast="podcast",e.publisher="publisher",e.books_filtered_by_libraries="books_filtered_by_libraries"})(s||(s={})),function(e){e.text_book="text_book",e.audiobook="audiobook",e.podcast="podcast"}(u||(u={}));let n4=["person","series","tag","text_book","audiobook","collection","genre","podcast_episode","podcast","publisher"],n3=["text_book","audiobook","podcast","podcast_episode"],n8=["text_book","audiobook"],n6=["text_book","audiobook","person","collection","series","genre","tag","podcast_episode","podcast","publisher"],n9=e=>{if(e.includes("all"))return n4;if(e.includes("books"))return n3;if(e.includes("books_filtered_by_libraries"))return n8;if(e.includes("podcast")&&!e.includes("podcast_episode")||!e.includes("podcast")&&e.includes("podcast_episode")){let t=[...e,"podcast","podcast_episode"];return t.filter((e,r)=>t.indexOf(e)===r)}return e},n7=eV.injectEndpoints({endpoints:e=>({getSuggestions:e.query({query:e=>{let{q:t}=e;return{url:"/foundation/api/search/suggestions",params:{q:t}}},transformResponse:e=>e.payload.data}),getSearch:e.query({query:e=>{let t={...e};return delete t.shouldRewriteItems,{url:"/foundation/api/search",params:{...t,types:(null==t?void 0:t.types)?n9(t.types):[]},headers:{"accept-version":"2"}}},transformResponse:e=>e.payload}),getSearchExtra:e.query({query:e=>({url:"/foundation/api/search",params:{...e,types:n6},headers:{"accept-version":"2"}}),transformResponse:e=>e.payload.extra}),getSearchData:e.query({query:e=>({url:"/foundation/api/search",params:e,headers:{"accept-version":"2"}}),transformResponse:e=>e.payload,providesTags:(e,t,r)=>{let{types:n}=r,i=["text_book","audiobook","podcast","podcast_episode","webtoon"];return(null==n?void 0:n.filter(e=>!i.includes(e)).length)===0?e?[...e.data.map(e=>{let{instance:{id:t}}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]:[]},async onQueryStarted(e,t){let{q:r,is_for_pda:n,skip_correction:i}=e,{dispatch:o,queryFulfilled:a}=t;try{let{data:e}=await a;o(n7.util.updateQueryData("getSearchExtra",{q:r,is_for_pda:n,skip_correction:i},t=>{Object.assign(t,e.extra)}))}catch(e){console.log(e)}}})})}),ie={query:"",searchResults:[],history:[],loading:!1,error:{},isInitiated:!1},it=(0,q.createAsyncThunk)("global/search/getSearchData",async e=>{let{query:t,onSuccess:r=()=>{},onError:n=()=>{}}=e,i=new ty.GUJ({url:"/pages/search_slice/",provider:{id:"SEARCH"},request:{method:"GET",params:{json:1,limit:9,gu_ajax:!0,q:t}},onSuccess:r,onError:n});return await i.fetch()}),ir=(0,q.createSlice)({name:"global/search",initialState:ie,reducers:{setSearchData:(e,t)=>{e.searchResults=t.payload},setSearchHistory:(e,t)=>{e.history=t.payload},refreshSearchResults:e=>{e.searchResults=[]}},extraReducers:e=>{eR(e,"global.search"),e.addCase(it.pending,e=>{e.loading=!0}),e.addCase(it.fulfilled,(e,t)=>{var r,n;e.loading=!1,e.searchResults=null===(r=t.payload.response)||void 0===r?void 0:r.result,e.query=null===(n=t.payload.response)||void 0===n?void 0:n.search_string,t.payload.error&&console.error("Ошибка запроса getSearchData",t.payload.error)}),e.addMatcher(n7.endpoints.getSearch.matchPending,(e,t)=>{e.loading=!0,e.query=t.meta.arg.originalArgs.q,e.error={}}),e.addMatcher(n7.endpoints.getSearch.matchFulfilled,(e,t)=>{let{payload:r}=t;if(r){let{data:t}=r;e.searchResults=t,e.isInitiated=!0,e.loading=!1}}),e.addMatcher(n7.endpoints.getSearch.matchRejected,e=>{e.loading=!1,e.isInitiated=!0})}}),{setSearchData:ii,setSearchHistory:io,refreshSearchResults:ia}=ir.actions;var is=ir.reducer;let iu={query:""};var il=(0,q.createSlice)({name:"global/searchPage",initialState:iu,reducers:{},extraReducers:e=>{eR(e,"global.searchPage"),e.addMatcher(n7.endpoints.getSearchData.matchPending,(e,t)=>{e.query=t.meta.arg.originalArgs.q}),e.addMatcher(n7.endpoints.getSearchData.matchFulfilled,(e,t)=>{let{payload:r}=t;r&&(e.appliedCorrection=r.extra.applied_correction)})}}).reducer;let ic={recommendationBlocks:[],loading:!1,error:{},isListInitiated:!1,isInfoInitiated:!1,data:{[nz.Us.arts]:{data:[],pagination:{next_page:null,previous_page:null},loading:!1},[nz.Us.persons]:{data:[],pagination:{next_page:null,previous_page:null},loading:!1},[nz.Us.series]:{data:[],pagination:{next_page:null,previous_page:null},loading:!1},[nz.Us.tags]:{data:[],pagination:{next_page:null,previous_page:null},loading:!1}}},id=(0,q.createAsyncThunk)("global/zeroSearch/",async(e,t)=>{let{requestId:r,getState:n}=t,i="/api/recommendations-dashboard",o=new ty.Foundation({url:i,request:{method:"GET"},headers:{...eP(n())},provider:{id:r}});return await o.fetch()}),ip=(0,q.createAsyncThunk)("global/zeroSearch/info",async(e,t)=>{let{requestId:r,getState:n}=t,{url:i,onSuccess:o=()=>{},onError:a=()=>{}}=e,s="".concat(i),u=new ty.Foundation({url:s,request:{method:"GET"},headers:{...eP(n())},provider:{id:r},onSuccess:o,onError:a});return await u.fetch()});var ih=(0,q.createSlice)({name:"global/zeroSearchPage",initialState:ic,reducers:{},extraReducers:e=>{e.addCase(id.pending,e=>{e.loading=!0}),e.addCase(id.fulfilled,(e,t)=>{var r;let n=null===(r=t.payload.response)||void 0===r?void 0:r.payload;n&&(e.recommendationBlocks=n.data,e.isListInitiated=!0)}),e.addCase(id.rejected,e=>{e.loading=!1,e.isListInitiated=!1}),e.addCase(ip.pending,(e,t)=>{let r=t.meta.arg.type;e.data[r].loading=!0}),e.addCase(ip.fulfilled,(e,t)=>{var r;let n=null===(r=t.payload.response)||void 0===r?void 0:r.payload,i=t.meta.arg.type;n&&(e.data[i].pagination=n.pagination,e.data[i].data=[...e.data[i].data,...n.data],e.data[i].loading=!1,e.isInfoInitiated=!0)}),e.addCase(ip.rejected,(e,t)=>{e.isInfoInitiated=!1;let r=t.meta.arg.type;e.data[r].loading=!1}),eR(e,"global.zeroSearchPage")}}).reducer;let im={loginPopupError:{isOpen:!1},stickyPlayer:{isOpen:!1},bookUpsalePopup:{isOpen:!1},isPageWithPlayer:!0,checkoutBox:{isOpen:!1,height:0},helpdesk:{isOpen:!1},spamTickets:{isOpen:!1,isHtmlFetched:!1},paymentPopup:{isOpen:!1},reviewComplainPopup:{isOpen:!1,id:0},forceScroll:{scrollToReviewForm:!1,scrollToReviewId:0},notRecommendArts:{arts:[]},sharingPopup:{reviewId:0,userName:"",userId:0,rating:0,comment:"",date:"",hasAvatar:!1,isOpen:!1,isReply:!1},headerHeight:0},ig=(0,q.createAsyncThunk)("interface/sendClickTrackGUJ",async(e,t)=>{let{requestId:r}=t,n=new ty.GUJ({url:"/clctrack/",provider:{id:r},request:{method:"GET",params:{...e}}});return await n.fetch()}),i_=(0,q.createSlice)({name:"global/interface",initialState:im,reducers:{setLoginPopupError:(e,t)=>{e.loginPopupError=t.payload},setStickyPlayer:(e,t)=>{e.stickyPlayer=t.payload},setCheckoutBox:(e,t)=>{e.checkoutBox=t.payload},setHelpdeskConfig:(e,t)=>{e.helpdesk=t.payload},setSpamTicketsConfig:(e,t)=>{e.spamTickets=t.payload},setPaymentPopup:(e,t)=>{e.paymentPopup=t.payload},setReviewComplainPopup:(e,t)=>{e.reviewComplainPopup=t.payload},setForceScrollToReviewForm:(e,t)=>{e.forceScroll=t.payload},setSharingPopup:(e,t)=>{e.sharingPopup=t.payload},setHeaderHeight:(e,t)=>{e.headerHeight=t.payload},setIsPageWithPlayer:(e,t)=>{e.isPageWithPlayer=t.payload},setBookUpsalePopup:(e,t)=>{e.bookUpsalePopup=t.payload},setNotRecommendArts:(e,t)=>{e.notRecommendArts=t.payload}}}),{setLoginPopupError:iv,setStickyPlayer:iy,setBookUpsalePopup:ib,setCheckoutBox:ix,setHelpdeskConfig:iS,setSpamTicketsConfig:iw,setPaymentPopup:ik,setReviewComplainPopup:iE,setForceScrollToReviewForm:iC,setSharingPopup:iT,setHeaderHeight:ij,setIsPageWithPlayer:iA,setNotRecommendArts:iR}=i_.actions;var iO=i_.reducer;let iP={arts:[],isLoading:!1,error:null},iL=(0,q.createSlice)({name:"global/lastViewedBooksWidget",initialState:iP,reducers:{setLastViewedWidgetData:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"global.lastViewedBooksWidget")}}),{setLastViewedWidgetData:iI}=iL.actions;var iN=iL.reducer;let iF={authValues:{code:"",email:"",pwd:"",phoneCode:{id:"91",tel_codes:[{tel_mask:"7 XXX XXX XX XX",tel_code:"7"}],code:"RU",name:"Россия"},phone:"",otpin:""},activeStep:"welcome",strategy:"email",isBiblioLogin:!1,isOldUser:!1,isVerifyPhone:!1,isLoading:!1,loginFormat:"email",passRecovery:{method:"email",isTimerActive:!1},prevSteps:["welcome"],usersMerges:!1,isLoginReserved:!1,serverError:null},iD=(0,q.createSlice)({name:"global/login",initialState:iF,reducers:{setEmail:(e,t)=>{e.authValues.email=t.payload},setPhoneCode:(e,t)=>{e.authValues.phoneCode=t.payload},setPhone:(e,t)=>{e.authValues.phone=t.payload},setAppCode:(e,t)=>{e.authValues.otpin=t.payload},setLibrary:(e,t)=>{e.authValues.code=t.payload},setLibraryStatus:(e,t)=>{e.isBiblioLogin=t.payload},setCurrentStep:(e,t)=>{e.activeStep=t.payload},setStrategy:(e,t)=>{e.strategy=t.payload},setUserStatus:(e,t)=>{e.isOldUser=t.payload},setIsBiblioLogin:(e,t)=>{e.isBiblioLogin=t.payload},setIsLoading:(e,t)=>{e.isLoading=t.payload},setIsOldUser:(e,t)=>{e.isOldUser=t.payload},setIsVerifyPhone:(e,t)=>{e.isVerifyPhone=t.payload},setLoginFormat:(e,t)=>{e.loginFormat=t.payload},setPassRecoveryMethod:(e,t)=>{e.passRecovery.method=t.payload},setPassRecoveryMask:(e,t)=>{e.passRecovery.mask={...e.passRecovery.mask,...t.payload}},setPassRecoveryTimer:(e,t)=>{e.passRecovery.isTimerActive=t.payload},setPrevSteps:(e,t)=>{e.prevSteps=t.payload},setUsersMerges:(e,t)=>{e.usersMerges=t.payload},setLoginReserved:(e,t)=>{e.isLoginReserved=t.payload},setServerError:(e,t)=>{e.serverError=t.payload}},extraReducers:e=>{eR(e,"global.login")}}),{setEmail:iM,setUserStatus:iU,setLibraryStatus:iq,setLibrary:iB,setPhone:iz,setPhoneCode:iG,setStrategy:iW,setAppCode:i$,setCurrentStep:iH,setIsBiblioLogin:iV,setIsLoading:iZ,setIsOldUser:iK,setIsVerifyPhone:iJ,setLoginFormat:iQ,setPassRecoveryMethod:iX,setPassRecoveryMask:iY,setPassRecoveryTimer:i0,setPrevSteps:i1,setUsersMerges:i2,setLoginReserved:i5,setServerError:i4}=iD.actions;var i3=iD.reducer;let i8={countriez:"",actions:{getPhonecodes:{isLoading:!1}}},i6=(0,q.createAsyncThunk)("global/phonecodes/getPhoneCodes",async e=>{let t=new ty.Axios({url:"/pages/countriez_phones/",provider:{id:"phonecodes"},request:{method:"POST",params:{gu_ajax:!0}},onSuccess:null==e?void 0:e.onSuccess,onError:null==e?void 0:e.onError});return await t.fetch()}),i9=(0,q.createSlice)({name:"global/phonecodes",initialState:i8,reducers:{setPhoneCodes:(e,t)=>{e.countriez=t.payload}},extraReducers:e=>{eR(e,"global.phonecodes"),e.addCase(i6.pending,e=>{e.actions.getPhonecodes.isLoading=!0,e.actions.getPhonecodes.error=void 0}),e.addCase(i6.fulfilled,(e,t)=>{var r;e.actions.getPhonecodes.isLoading=!1,(null===(r=t.payload.response)||void 0===r?void 0:r.countriez)&&(e.countriez=JSON.stringify(t.payload.response.countriez)),t.payload.error&&(console.error("Ошибка запроса phonecodesSlice",t.payload.error),e.actions.getPhonecodes.error=t.payload.error)})}}),{setPhoneCodes:i7}=i9.actions;var oe=i9.reducer;let ot={isOpen:!1},or=(0,q.createSlice)({name:"global/header/onboarding",initialState:ot,reducers:{setOpenOnboarding:(e,t)=>{e.isOpen=t.payload.isOpen}}}),{setOpenOnboarding:on}=or.actions;var oi=or.reducer;let oo={updateMyRegCSRF:{},uniteUsersCSRF:{}},oa=(0,q.createAsyncThunk)("user/actions/updateMyRegCSRF",async e=>{let t=new ty.CSRF({url:"/",provider:{id:"UPDATE_MY_REG_GUJ"},request:{method:"POST",data:{action:"update_my_reg",ajax:1,save_email:1,skip_email_check:1,gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),os=(0,q.createAsyncThunk)("user/actions/uniteUsersCSRF",async e=>{let t=new ty.CSRF({url:"/",provider:{id:"UNITE_USERS_CSRF"},request:{method:"POST",data:{action:"unite_users",id:"all",gu_ajax:!0}},onSuccess:null==e?void 0:e.onSuccess,onError:null==e?void 0:e.onError});return await t.fetch()});var ou=(0,q.createSlice)({name:"user/actions",initialState:oo,reducers:{},extraReducers:e=>{eR(e,"user.actions"),e.addCase(oa.pending,e=>{e.updateMyRegCSRF.isLoading=!0,e.updateMyRegCSRF.error=void 0}),e.addCase(oa.fulfilled,(e,t)=>{e.updateMyRegCSRF.isLoading=!1,e.updateMyRegCSRF=t.payload,t.payload.error&&(console.error("updateMyRegCSRF",t.payload.error),e.updateMyRegCSRF.error=t.payload.error)}),e.addCase(os.pending,e=>{e.uniteUsersCSRF.isLoading=!0,e.uniteUsersCSRF.error=void 0}),e.addCase(os.fulfilled,(e,t)=>{e.uniteUsersCSRF.isLoading=!1,e.uniteUsersCSRF=t.payload,t.payload.error&&(console.error("Ошибка запроса uniteUsersCSRF",t.payload.error),e.uniteUsersCSRF.error=t.payload.error)})}}).reducer;let ol={popup:{history:[],currentGenre:null,isOpen:!1}},oc=(0,q.createSlice)({name:"global/header/genres",initialState:ol,reducers:{setCurrentGenre:(e,t)=>{e.popup.currentGenre=t.payload},setHistory:(e,t)=>{e.popup.history=t.payload},setOpenPopup:(e,t)=>{e.popup.isOpen=t.payload}},extraReducers:e=>{eR(e,"global.genres")}}),{setCurrentGenre:od,setHistory:op,setOpenPopup:of}=oc.actions;var oh=oc.reducer;let om={subscr:{isActive:!1},onlyLitres:{isActive:!1},promotion:{isActive:!1},audioSubscr:{isActive:!1},tvCampaignBanner:{isActive:!1}},og=(0,q.createSlice)({name:"global/header/banners",initialState:om,reducers:{setSubscrBanner:(e,t)=>{e.subscr.isActive=t.payload.isActive},setOnlyLitresBanner:(e,t)=>{e.onlyLitres.isActive=t.payload.isActive},setPromotionBanner:(e,t)=>{e.promotion.isActive=t.payload.isActive},setAudioSubscrBanner:(e,t)=>{e.audioSubscr.isActive=t.payload.isActive},setTvCampaignBanner:(e,t)=>{e.tvCampaignBanner.isActive=t.payload.isActive}},extraReducers:e=>{eR(e,"global.header.banners")}}),{setSubscrBanner:o_,setOnlyLitresBanner:ov,setPromotionBanner:oy,setAudioSubscrBanner:ob,setTvCampaignBanner:ox}=og.actions;var oS=og.reducer;let ow={offersList:[]},ok=(0,q.createSlice)({name:"user/offers",initialState:ow,reducers:{setUserOffers:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.offers")}}),{setUserOffers:oE}=ok.actions;var oC=ok.reducer;let oT={payments:{paginator:{page:0,limit:0,maxPageNumber:0,items:0},pages:[]},actions:{paymentsHistoryCSRF:{}}},oj=(0,q.createAsyncThunk)("pages/personalCabinet/paymentsHistoryCSFR",async e=>{let t=new ty.CSRF({url:"/pages/personal_cabinet_history_log/?gu_ajax=1&lite=1",provider:{id:"GET_PAYMENTS_HISTORY"},request:{method:"GET",params:{pagenum:e.page}}});return await t.fetch()}),oA=(0,q.createSlice)({name:"pages/personalCabinet/paymentsHistory",initialState:oT,reducers:{setHistoryData:(e,t)=>{e.payments=t.payload}},extraReducers:e=>{eR(e,"pages.personalCabinet.paymentsHistory"),e.addCase(oj.pending,e=>{e.actions.paymentsHistoryCSRF.isLoading=!0,e.actions.paymentsHistoryCSRF.error=void 0}),e.addCase(oj.fulfilled,(e,t)=>{var r,n,i;e.actions.paymentsHistoryCSRF=t.payload,e.actions.paymentsHistoryCSRF.isLoading=!1;let o=null===(i=t.payload.request)||void 0===i?void 0:null===(n=i.request)||void 0===n?void 0:null===(r=n.params)||void 0===r?void 0:r.pagenum;if(o&&t.payload.response&&(e.payments.pages[o]=t.payload.response[o],e.payments.paginator=t.payload.response.paginator),t.payload.error){e.actions.paymentsHistoryCSRF.error=t.payload.error;return}})}}),{setHistoryData:oR}=oA.actions;var oO=oA.reducer;let oP={libraries:[],actions:{teleportCSRF:{},unsubscribeCSRF:{},uniteCSRF:{},uniteCSRFV2:{},getUserLibrariesCSRF:{}}},oL=(0,q.createAsyncThunk)("pages/personalCabinet/libraryTeleportCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"teleport"},request:{method:"POST",data:{action:"teleport",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),oI=(0,q.createAsyncThunk)("pages/personalCabinet/libraryUnsubscribeCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"delete_biblio_user"},request:{method:"POST",data:{action:"delete_biblio_user",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),oN=(0,q.createAsyncThunk)("pages/personalCabinet/libraryUniteCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"unite_libhouse_users"},request:{method:"POST",data:{action:"unite_libhouse_users",gu_ajax:!0,...e}}});return await t.fetch()}),oF=(0,q.createAsyncThunk)("pages/personalCabinet/libraryUniteCSRFV2",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"unite_libhouse_users"},request:{method:"POST",data:{action:"unite_libhouse_users",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),oD=(0,q.createAsyncThunk)("pages/personalCabinet/getUserLibrariesCSRF",async()=>{let e=new ty.CSRF({url:"/pages/personal_cabinet_libraries/?gu_ajax=1&lite=1",provider:{id:"GET_LIBRARIES_DATA"},request:{method:"GET"}});return await e.fetch()}),oM=(0,q.createSlice)({name:"pages/personalCabinet/library",initialState:oP,reducers:{addLibrary:(e,t)=>{e.libraries.push(t.payload)},setLibraries:(e,t)=>{e.libraries=t.payload}},extraReducers:e=>{eR(e,"pages.personalCabinet.userLibraries"),e.addCase(oL.pending,e=>{e.actions.teleportCSRF.isLoading=!0,e.actions.teleportCSRF.error=void 0}),e.addCase(oL.fulfilled,(e,t)=>{if(e.actions.teleportCSRF=t.payload,e.actions.teleportCSRF.isLoading=!1,t.payload.error){e.actions.teleportCSRF.error=t.payload.error;return}}),e.addCase(oN.pending,e=>{e.actions.uniteCSRF.isLoading=!0,e.actions.uniteCSRF.error=void 0}),e.addCase(oN.fulfilled,(e,t)=>{var r;if(e.actions.uniteCSRF=t.payload,e.actions.uniteCSRF.isLoading=!1,t.payload.error){e.actions.uniteCSRF.error=t.payload.error;return}(null===(r=t.payload.response)||void 0===r?void 0:r.status)==="ok"&&location.reload()}),e.addCase(oF.pending,e=>{e.actions.uniteCSRFV2.isLoading=!0,e.actions.uniteCSRFV2.error=void 0}),e.addCase(oF.fulfilled,(e,t)=>{if(e.actions.uniteCSRFV2=t.payload,e.actions.uniteCSRFV2.isLoading=!1,t.payload.error){e.actions.uniteCSRFV2.error=t.payload.error;return}}),e.addCase(oI.pending,e=>{e.actions.unsubscribeCSRF.isLoading=!0,e.actions.unsubscribeCSRF.error=void 0}),e.addCase(oI.fulfilled,(e,t)=>{var r;if(e.actions.unsubscribeCSRF=t.payload,e.actions.unsubscribeCSRF.isLoading=!1,t.payload.error){e.actions.unsubscribeCSRF.error=t.payload.error;return}(null===(r=t.payload.response)||void 0===r?void 0:r.status)==="ok"&&(e.libraries=e.libraries.filter(e=>{var r,n,i;return e.puid!==(null===(i=t.payload.request)||void 0===i?void 0:null===(n=i.request)||void 0===n?void 0:null===(r=n.params)||void 0===r?void 0:r.puid)}))}),e.addCase(oD.pending,e=>{e.actions.getUserLibrariesCSRF.isLoading=!0,e.actions.getUserLibrariesCSRF.error=void 0}),e.addCase(oD.fulfilled,(e,t)=>{var r;if(e.actions.getUserLibrariesCSRF=t.payload,e.actions.getUserLibrariesCSRF.isLoading=!1,e.libraries=(null===(r=t.payload.response)||void 0===r?void 0:r.libhouses)?t.payload.response.libhouses:[],t.payload.error){e.actions.getUserLibrariesCSRF.error=t.payload.error;return}})}}),{addLibrary:oU}=oM.actions;var oq=oM.reducer;let oB={list:[],actions:{changeLoyaltyCSRF:{},getLoyaltyCardsCSRF:{}}},oz=(0,q.createAsyncThunk)("pages/personalCabinet/getLoyaltyCardsCSRF",async()=>{let e=new ty.CSRF({url:"/pages/personal_cabinet_loyalties/?lite=1&gu_ajax=1",provider:{id:"get_loyalty_cards"},request:{method:"GET"}});return await e.fetch()}),oG=(0,q.createAsyncThunk)("pages/personalCabinet/changeLoyaltyCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"change_loyalty"},request:{method:"POST",data:{action:"change_loyalty",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),oW=(0,q.createSlice)({name:"pages/personalCabinet/loyalty",initialState:oB,reducers:{setLoyaltyCards:(e,t)=>{e.list=t.payload}},extraReducers:e=>{eR(e,"pages.personalCabinet.loyaltyCards"),e.addCase(oz.pending,e=>{e.actions.getLoyaltyCardsCSRF.isLoading=!0,e.actions.getLoyaltyCardsCSRF.error=void 0}),e.addCase(oz.fulfilled,(e,t)=>{var r,n;e.actions.getLoyaltyCardsCSRF=t.payload,e.actions.getLoyaltyCardsCSRF.isLoading=!1,(null===(n=t.payload.response)||void 0===n?void 0:null===(r=n.cards)||void 0===r?void 0:r.length)&&(e.list=t.payload.response.cards),t.payload.error&&(console.error("Ошибка запроса addItemRatingCSRF",t.payload.error),e.actions.getLoyaltyCardsCSRF.error=t.payload.error)}),e.addCase(oG.pending,e=>{e.actions.changeLoyaltyCSRF.isLoading=!0}),e.addCase(oG.fulfilled,(e,t)=>{e.actions.changeLoyaltyCSRF=t.payload,e.actions.changeLoyaltyCSRF.isLoading=!1,t.payload.error&&(console.error("Ошибка запроса addItemRatingCSRF",t.payload.error),e.actions.changeLoyaltyCSRF.error=t.payload.error)})}}),{setLoyaltyCards:o$}=oW.actions;var oH=oW.reducer;let oV={list:{},actions:{deletePaymentCardCSRF:{},getRebillsGUJ:{}}},oZ=(0,q.createAsyncThunk)("user/rebills/getRebillsGUJ",async()=>{let e=new ty.CSRF({url:"/pages/personal_cabinet_payment_methods/?lite=1&gu_ajax=1",provider:{id:"get_rebills"},request:{method:"GET"}});return await e.fetch()}),oK=(0,q.createAsyncThunk)("user/rebills/deletePaymentCardCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"delete_payment_card"},request:{method:"POST",data:{action:e.actionType,gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()});var oJ=(0,q.createSlice)({name:"user/rebills",initialState:oV,reducers:{},extraReducers:e=>{eR(e,"user.rebills"),e.addCase(oZ.pending,e=>{e.actions.getRebillsGUJ.isLoading=!0,e.actions.getRebillsGUJ.error=void 0}),e.addCase(oZ.fulfilled,(e,t)=>{var r;e.actions.getRebillsGUJ.isLoading=!1,(null===(r=t.payload.response)||void 0===r?void 0:r.rebills)&&(e.list=t.payload.response.rebills),t.payload.error&&(console.error("Ошибка запроса paymentMethodsCSRF",t.payload.error),e.actions.getRebillsGUJ.error=t.payload.error)}),e.addCase(oK.pending,e=>{e.actions.deletePaymentCardCSRF.isLoading=!0}),e.addCase(oK.fulfilled,(e,t)=>{e.actions.deletePaymentCardCSRF=t.payload,e.actions.deletePaymentCardCSRF.isLoading=!1,t.payload.error&&(console.error("Ошибка запроса addItemRatingCSRF",t.payload.error),e.actions.deletePaymentCardCSRF.error=t.payload.error)})}}).reducer;let oQ=(0,q.createAsyncThunk)("global/arts/reviews/addArtReviewLike",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/reviews/".concat(e,"/likes"),provider:{id:"ADD_ART_REVIEW_LIKE"},request:{method:"PUT"},headers:{...eP(r())}});return await n.fetch()}),oX=(0,q.createAsyncThunk)("global/arts/reviews/removeArtReviewLike",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/reviews/".concat(e,"/likes"),provider:{id:"REMOVE_ART_REVIEW_LIKE"},request:{method:"DELETE"},headers:{...eP(r())}});return await n.fetch()}),oY=(0,q.createAsyncThunk)("global/arts/reviews/addReviewDislike",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/reviews/".concat(e,"/dislikes"),provider:{id:"ADD_ART_REVIEW_DISLIKE"},request:{method:"PUT"},headers:{...eP(r())}});return await n.fetch()}),o0=(0,q.createAsyncThunk)("global/arts/reviews/removeArtReviewDislike",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/reviews/".concat(e,"/dislikes"),provider:{id:"REMOVE_ART_REVIEW_DISLIKE"},request:{method:"DELETE"},headers:{...eP(r())}});return await n.fetch()}),o1=e=>{e.addCase(oQ.pending,(e,t)=>{let r=t.meta.arg;void 0===e.actions.addArtReviewLike[r]&&(e.actions.addArtReviewLike[r]={}),e.actions.addArtReviewLike[r].isLoading=!0,e.actions.addArtReviewLike[r].error=void 0}),e.addCase(oQ.fulfilled,(e,t)=>{let r=t.meta.arg;if(void 0===e.actions.addArtReviewLike[r]&&(e.actions.addArtReviewLike[r]={}),e.actions.addArtReviewLike[r].isLoading=!1,t.payload.error){console.error("Ошибка запроса addArtReviewLike",t.payload.error),e.actions.addArtReviewLike[r].error=t.payload.error;return}o5(e,r,t.payload.response)}),e.addCase(oX.pending,(e,t)=>{let r=t.meta.arg;void 0===e.actions.removeArtReviewLike[r]&&(e.actions.removeArtReviewLike[r]={}),e.actions.removeArtReviewLike[r].isLoading=!0,e.actions.removeArtReviewLike[r].error=void 0}),e.addCase(oX.fulfilled,(e,t)=>{let r=t.meta.arg;if(void 0===e.actions.removeArtReviewLike[r]&&(e.actions.removeArtReviewLike[r]={}),e.actions.removeArtReviewLike[r].isLoading=!1,t.payload.error){console.error("Ошибка запроса removeArtReviewLike",t.payload.error),e.actions.removeArtReviewLike[r].error=t.payload.error;return}o5(e,r,t.payload.response)})},o2=e=>{e.addCase(oY.pending,(e,t)=>{let r=t.meta.arg;void 0===e.actions.addArtReviewDislike[r]&&(e.actions.addArtReviewDislike[r]={}),e.actions.addArtReviewDislike[r].isLoading=!0,e.actions.addArtReviewDislike[r].error=void 0}),e.addCase(oY.fulfilled,(e,t)=>{let r=t.meta.arg;if(void 0===e.actions.addArtReviewDislike[r]&&(e.actions.addArtReviewDislike[r]={}),e.actions.addArtReviewDislike[r].isLoading=!1,t.payload.error){console.error("Ошибка запроса addArtReviewDislike",t.payload.error),e.actions.addArtReviewDislike[r].error=t.payload.error;return}o5(e,r,t.payload.response)}),e.addCase(o0.pending,(e,t)=>{let r=t.meta.arg;void 0===e.actions.removeArtReviewDislike[r]&&(e.actions.removeArtReviewDislike[r]={}),e.actions.removeArtReviewDislike[r].isLoading=!0,e.actions.removeArtReviewDislike[r].error=void 0}),e.addCase(o0.fulfilled,(e,t)=>{let r=t.meta.arg;if(void 0===e.actions.removeArtReviewDislike[r]&&(e.actions.removeArtReviewDislike[r]={}),e.actions.removeArtReviewDislike[r].isLoading=!1,t.payload.error){console.error("Ошибка запроса removeArtReviewDislike",t.payload.error),e.actions.removeArtReviewDislike[r].error=t.payload.error;return}o5(e,r,t.payload.response)})},o5=(e,t,r)=>{if("number"==typeof t){var n;let i=o4(t,e.list);-1!==i&&(null==r?void 0:null===(n=r.payload)||void 0===n?void 0:n.data)&&!Array.isArray(r.payload.data)&&(e.list[i]=r.payload.data)}},o4=(e,t)=>{let r=[];for(let n=0;n<t.length;n++){if(t[n].id===e)return n;if(Array.isArray(t[n].replies)){r=t[n].replies;for(let t=0;t<r.length;t++)if(r[t].id===e)return n}}return -1},o3={list:[],idMap:{},sortType:"popular",pagination:{next:null,previous:null},userReview:null,lastGetRequestDate:new Date().toString(),actions:{getArtsReviews:{},addArtsReview:{},getUserArtsReviews:{},addArtReviewLike:{},removeArtReviewLike:{},addArtReviewDislike:{},removeArtReviewDislike:{},addReviewReply:{}}},o8=(0,q.createAsyncThunk)("global/arts/reviews/getArtsReviews",async(e,t)=>{let{getState:r}=t,{url:n,o:i,limit:o,with_reply_id:a,with_review_id:s}=e,u=new ty.Foundation({url:n||"/api/arts/".concat(e.artId,"/reviews"),provider:{id:"GET_ARTS_REVIEWS"},request:{method:"GET",params:{o:i,limit:o,with_reply_id:a,with_review_id:s}},headers:{...eP(r())}});return await u.fetch()}),o6=(0,q.createAsyncThunk)("global/arts/reviews/addArtsReview",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/arts/".concat(e.artId,"/reviews"),provider:{id:"ADD_ART_REVIEW"},request:{method:"POST",data:{text:e.text}},headers:{...eP(r())}});return await n.fetch()}),o9=(0,q.createAsyncThunk)("global/arts/reviews/getUserArtsReviews",async(e,t)=>{let{getState:r}=t,{limit:n=10}=e,i=new ty.Foundation({url:"/api/arts/".concat(e.artId,"/user-reviews"),provider:{id:"GET_USER_ARTS_REVIEWS"},request:{method:"GET",params:{limit:n,before:e.before,after:e.after}},headers:{...eP(r())}});return await i.fetch()}),o7=e=>{e.addCase(o8.pending,e=>{e.actions.getArtsReviews.isLoading=!0,e.actions.getArtsReviews.error=void 0}),e.addCase(o8.fulfilled,(e,t)=>{var r,n;e.actions.getArtsReviews.isLoading=!1;let i=t.meta.arg.isPrevious,o=t.payload.response,a=t.meta.arg.o;(null==o?void 0:null===(r=o.payload)||void 0===r?void 0:r.data)&&Array.isArray(o.payload.data)&&(e.sortType!==a&&(e.idMap={},e.sortType=a),i?e.list=[...o.payload.data,...e.list]:o.payload.data.forEach(function(t){e.idMap[t.id]||(e.idMap[t.id]=t.id,e.list.push(t))})),(null==o?void 0:null===(n=o.payload)||void 0===n?void 0:n.pagination)&&(void 0===i?(e.pagination.previous=o.payload.pagination.previous_page,e.pagination.next=o.payload.pagination.next_page):i?e.pagination.previous=o.payload.pagination.previous_page:e.pagination.next=o.payload.pagination.next_page),t.payload.error&&(console.error("Ошибка запроса getArtsReviews",t.payload.error),e.actions.getArtsReviews.error=t.payload.error)})},ae=e=>{e.addCase(o6.pending,e=>{e.actions.addArtsReview.isLoading=!0,e.actions.addArtsReview.error=void 0}),e.addCase(o6.fulfilled,(e,t)=>{var r;if(e.actions.addArtsReview.isLoading=!1,t.payload.error){console.error("Ошибка запроса addArtsReview",t.payload.error),e.actions.addArtsReview.error=t.payload.error;return}let n=t.payload.response;(null==n?void 0:null===(r=n.payload)||void 0===r?void 0:r.data)&&!Array.isArray(n.payload.data)&&(e.userReview=n.payload.data,e.idMap[e.userReview.id]=e.userReview.id)})},at=e=>{e.addCase(o9.pending,e=>{e.actions.getUserArtsReviews.isLoading=!0,e.actions.getUserArtsReviews.error=void 0}),e.addCase(o9.fulfilled,(e,t)=>{var r;if(e.actions.getUserArtsReviews.isLoading=!1,t.payload.error){console.error("Ошибка запроса getUserArtsReviews",t.payload.error),e.actions.getUserArtsReviews.error=t.payload.error;return}let n=t.payload.response;(null==n?void 0:null===(r=n.payload)||void 0===r?void 0:r.data)&&Array.isArray(n.payload.data)&&n.payload.data.length>0&&(e.userReview=n.payload.data[0])})},ar=(0,q.createAsyncThunk)("global/reviews/addReviewReply",async(e,t)=>{let{getState:r}=t,{reviewId:n,text:i}=e.data,o=new ty.Foundation({url:"/api/reviews/".concat(n,"/replies"),provider:{id:"ADD_REVIEW_REPLY"},request:{method:"POST",data:{text:i}},headers:{...eP(r())},onSuccess:e.onSuccess,onError:e.onError});return await o.fetch()}),an=e=>{e.addCase(ar.pending,e=>{e.actions.addReviewReply.isLoading=!0,e.actions.addReviewReply.error=void 0}),e.addCase(ar.fulfilled,(e,t)=>{var r;let n=t.meta.arg.data.reviewId;if(e.actions.addReviewReply.isLoading=!1,t.payload.error){console.error("Ошибка запроса addReviewReply",t.payload.error),e.actions.addReviewReply.error=t.payload.error;return}let i=t.payload.response;(null==i?void 0:null===(r=i.payload)||void 0===r?void 0:r.data)&&!Array.isArray(i.payload.data)&&o5(e,n,i)})},ai=(0,q.createSlice)({name:"global/arts/reviews",initialState:o3,reducers:{setArtReviews:(e,t)=>{e.list=t.payload},setArtReviewsMapId:(e,t)=>{e.idMap=t.payload},setLastGetRequestDate:(e,t)=>{e.lastGetRequestDate=t.payload}},extraReducers:e=>{eR(e,"global.arts.reviews"),o7(e),ae(e),at(e),o1(e),o2(e),an(e)}}),{setArtReviews:ao,setLastGetRequestDate:aa,setArtReviewsMapId:as}=ai.actions;var au=ai.reducer;let al=(0,q.createAsyncThunk)("global/reviews/updateReview",async(e,t)=>{let{getState:r}=t,n=new ty.Foundation({url:"/api/reviews/".concat(e.reviewId),provider:{id:"UPDATE_REVIEW"},request:{method:"PUT",data:{text:e.text}},headers:{...eP(r())}});return await n.fetch()}),ac=(0,q.createAsyncThunk)("global/reviews/addReviewComplain",async(e,t)=>{let{getState:r}=t,{text:n,reason:i}=e,o=new ty.Foundation({url:"/api/reviews/".concat(e.reviewId,"/complain"),provider:{id:"ADD_REVIEW_COMPLAIN"},request:{method:"PUT",data:{reason:i,text:n}},headers:{...eP(r())}});return await o.fetch()}),ad=e=>{e.addCase(ac.pending,e=>{e.actions.addReviewComplain.isLoading=!0,e.actions.addReviewComplain.error=void 0}),e.addCase(ac.fulfilled,(e,t)=>{if(e.actions.addReviewComplain.isLoading=!1,t.payload.error){console.error("Ошибка запроса addReviewComplain",t.payload.error),e.actions.addReviewComplain.error=t.payload.error;return}})},ap={actions:{addReviewComplain:{}},activeReply:-1};var af=(0,q.createSlice)({name:"global/reviews",initialState:ap,reducers:{},extraReducers:e=>{eR(e,"global.reviews"),ad(e)}}).reducer;let ah={xmlProps:null},am=(0,q.createSlice)({name:"global/arts",initialState:ah,reducers:{setArts:(e,t)=>{e.xmlProps=t.payload},setUserRating:(e,t)=>{e.xmlProps&&(e.xmlProps.userRating=t.payload)}},extraReducers:e=>{eR(e,"global.arts.details")}}),{setArts:ag,setUserRating:a_}=am.actions;var av=am.reducer;let ay={list:{},actions:{getAvailableBonusesListGUJ:{}}},ab=(0,q.createAsyncThunk)("pages/personalCabinet/getAvailableBonusesListGUJ",async e=>{let t=new ty.CSRF({url:"/pages/personal_cabinet_login/?lite=1&social_logins=1&gu_ajax=1",provider:{id:"get_available_bonuses_list"},request:{method:"GET"},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()});var ax=(0,q.createSlice)({name:"global/avaliableBonuses",initialState:ay,reducers:{},extraReducers:e=>{eR(e,"global.availableBonuses"),e.addCase(ab.pending,e=>{e.actions.getAvailableBonusesListGUJ.isLoading=!0,e.actions.getAvailableBonusesListGUJ.error=void 0}),e.addCase(ab.fulfilled,(e,t)=>{e.actions.getAvailableBonusesListGUJ.isLoading=!1,t.payload.response&&(e.list=t.payload.response),t.payload.error&&(console.error("Ошибка запроса phonecodesSlice",t.payload.error),e.actions.getAvailableBonusesListGUJ.error=t.payload.error)})}}).reducer;let aS={isAnyPartnerSubscriptionActive:!1,isMegafonSubscriptionActive:!1,isRostelecomSubscriptionActive:!1,isYotaSubscriptionActive:!1,isA1SubscriptionActive:!1,isKCellSubscriptionActive:!1,isInlabSubscriptionActive:!1,isTinkoffSubscriptionActive:!1,isLifebelSubscriptionActive:!1},aw=(0,q.createSlice)({name:"user/partnersSubscriptions",initialState:aS,reducers:{setUserPartnersSubscriptions:(e,t)=>({...e,...t.payload})},extraReducers:e=>{eR(e,"user.partnersSubscriptions")}}),{setUserPartnersSubscriptions:ak}=aw.actions;var aE=aw.reducer;let aC={bonusExpiration:[],actions:{getBonusExpirationGUJ:{}}},aT=(0,q.createAsyncThunk)("pages/personalCabinet/getBonusExpirationGUJ",async()=>{let e=new ty.GUJ({url:"/pages/personal_cabinet_my_bonus/?lite=1&gu_ajax=1",provider:{id:"GET_BONUS_EXPIRATION"},request:{method:"GET"}});return await e.fetch()}),aj=(0,q.createSlice)({name:"user/bonusesSlice",initialState:aC,reducers:{setBonusesExpiration:(e,t)=>{e.bonusExpiration=t.payload}},extraReducers:e=>{eR(e,"pages.personalCabinet.bonuses"),e.addCase(aT.pending,e=>{e.actions.getBonusExpirationGUJ.isLoading=!0}),e.addCase(aT.fulfilled,(e,t)=>{var r,n;e.actions.getBonusExpirationGUJ=t.payload,e.actions.getBonusExpirationGUJ.isLoading=!1,(null===(n=t.payload.response)||void 0===n?void 0:null===(r=n.bonusExpiration)||void 0===r?void 0:r.length)&&(e.bonusExpiration=t.payload.response.bonusExpiration),t.payload.error&&(console.error("Ошибка запроса getBonusExpirationGUJ",t.payload.error),e.actions.getBonusExpirationGUJ.error=t.payload.error)})}}),{setBonusesExpiration:aA}=aj.actions;var aR=aj.reducer;let aO={userChannels:[],userLangs:[],actions:{updateChannelsCSRF:{},getUserChannelsGUJ:{},getUserLangsGUJ:{}}},aP=(0,q.createAsyncThunk)("pages/personalCabinet/updateSpamCSRF",async e=>{let t=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"update_my_channels_and_langs"},request:{method:"POST",data:{action:"update_my_channels_and_langs",gu_ajax:!0,...e.data}},onSuccess:e.onSuccess,onError:e.onError});return await t.fetch()}),aL=(0,q.createAsyncThunk)("pages/personalCabinet/getUserLangsGUJ",async()=>{let e=new ty.GUJ({url:"/pages/personal_cabinet_subscriptions/?lite=1&gu_ajax=1&user_langs=1",provider:{id:"GET_USER_LANGS"},request:{method:"GET"}});return await e.fetch()}),aI=(0,q.createAsyncThunk)("pages/personalCabinet/getUserChannelsGUJ",async()=>{let e=new ty.GUJ({url:"/pages/personal_cabinet_subscriptions/?lite=1&gu_ajax=1&user_channels=1",provider:{id:"GET_USER_CHANNELS"},request:{method:"GET"}});return await e.fetch()}),aN=(0,q.createSlice)({name:"pages/personalCabinset/userSpam",initialState:aO,reducers:{setUserChannels:(e,t)=>{e.userChannels=t.payload},setUserLangs:(e,t)=>{e.userLangs=t.payload}},extraReducers:e=>{eR(e,"pages.personalCabinet.spam"),e.addCase(aI.pending,e=>{e.actions.getUserChannelsGUJ.isLoading=!0,e.actions.getUserChannelsGUJ.error=void 0}),e.addCase(aI.fulfilled,(e,t)=>{var r;e.actions.getUserChannelsGUJ=t.payload,e.actions.getUserChannelsGUJ.isLoading=!1,e.userChannels=(null===(r=t.payload.response)||void 0===r?void 0:r.userChannels)?t.payload.response.userChannels:[]}),e.addCase(aP.pending,e=>{e.actions.updateChannelsCSRF.isLoading=!0,e.actions.updateChannelsCSRF.error=void 0}),e.addCase(aP.fulfilled,(e,t)=>{e.actions.updateChannelsCSRF=t.payload,e.actions.updateChannelsCSRF.isLoading=!1}),e.addCase(aL.pending,e=>{e.actions.getUserLangsGUJ.isLoading=!0,e.actions.getUserLangsGUJ.error=void 0}),e.addCase(aL.fulfilled,(e,t)=>{var r;e.actions.getUserLangsGUJ=t.payload,e.actions.getUserLangsGUJ.isLoading=!1,e.userLangs=(null===(r=t.payload.response)||void 0===r?void 0:r.userLangs)?t.payload.response.userLangs:[]})}}),{setUserLangs:aF,setUserChannels:aD}=aN.actions;var aM=aN.reducer;let aU={language:null,host:null},aq=(0,q.createSlice)({name:"global/face",initialState:aU,reducers:{setFaceLang:(e,t)=>{e.language=t.payload},setFaceHost:(e,t)=>{e.host=t.payload}},extraReducers:e=>{eR(e,"face")}}),{setFaceLang:aB,setFaceHost:az}=aq.actions;var aG=aq.reducer;let aW={actions:{takeBookCSRF:{}},rating:[]},a$=(0,q.createAsyncThunk)("global/book/takeBook",async(e,t)=>{let{getState:r}=t,n=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"TAKE_BOOK"},request:{method:"POST",data:{action:"decr_user_gifts",art:e.art_id,a_url:e.art_url,gu_ajax:!0}},headers:{...eP(r())},onSuccess:e.onSuccess,onError:e.onError});return await n.fetch()}),aH=(0,q.createSlice)({name:"pages/global/take",initialState:aW,reducers:{setTakenBook:()=>{}},extraReducers:e=>{eR(e,"global.take.take"),e.addCase(a$.pending,e=>{e.actions.takeBookCSRF.isLoading=!0,e.actions.takeBookCSRF.error=void 0}),e.addCase(a$.fulfilled,(e,t)=>{e.actions.takeBookCSRF=t.payload,e.actions.takeBookCSRF.isLoading=!1})}}),{setTakenBook:aV}=aH.actions;var aZ=aH.reducer;let aK=(0,q.createAsyncThunk)("payment/actions/createCustomSet",async e=>{var t;let r=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"createCustomSet"},request:{method:"POST",data:e.basket?{action:"create_custom_set",basket:"true",buy_now:e.buy_now?"true":void 0}:{action:"create_custom_set",js:1,arts:e.arts.join(",")}},onSuccess:e.onSuccess,onError:t=>{(0,P.RY)("create_custom_set is failed",{contextProperties:["params",{error:JSON.stringify(t)}],tags:{type:"critical"},logLevel:"fatal"}),e.onError&&e.onError(t)}}),n=await r.fetch();return(null===(t=n.response)||void 0===t?void 0:t.error_msg)&&(0,P.RY)("create_custom_set is failed",{contextProperties:["params",{error:JSON.stringify(n.response)}],tags:{type:"critical"},logLevel:"fatal"}),n}),aJ=(0,q.createAsyncThunk)("payment/actions/createSeriesCustomSet",async e=>{var t;let r=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"createSeriesCustomSet"},request:{method:"POST",data:{action:"create_sequence_set_all",js:1,gu_ajax:!0,sequence:e.sequence,atype:e.atype?"audio":""}},onSuccess:e.onSuccess,onError:t=>{(0,P.RY)("create_series_custom_set is failed",{contextProperties:["params",{error:JSON.stringify(t)}],tags:{type:"critical"},logLevel:"error"}),e.onError&&e.onError(t)}}),n=await r.fetch();return(null===(t=n.response)||void 0===t?void 0:t.error_msg)&&(0,P.RY)("create_series_custom_set is failed",{contextProperties:["params",{error:JSON.stringify(n.response)}],tags:{type:"critical"},logLevel:"error"}),n}),aQ=(0,q.createAsyncThunk)("payment/actions/createPodcastSet",async e=>{var t;let r=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"createPodcastSet"},request:{method:"POST",data:{action:"create_podcast_set_all",js:1,podcast:e.podcastId}},onSuccess:e.onSuccess,onError:t=>{(0,P.RY)("create_podcast_set is failed",{contextProperties:["params",{error:JSON.stringify(t)}],tags:{type:"critical"},logLevel:"fatal"}),e.onError&&e.onError(t)}}),n=await r.fetch();return(null===(t=n.response)||void 0===t?void 0:t.error_msg)&&(0,P.RY)("create_podcast_set is failed",{contextProperties:["params",{error:JSON.stringify(n.response)}],tags:{type:"critical"},logLevel:"fatal"}),n}),aX=(0,q.createAsyncThunk)("payment/actions/doOrder",async e=>{var t;let r=new ty.CSRF({url:"/pages/ajax_empty2/",provider:{id:"doOrder"},request:{method:"POST",data:{action:"do_order",custom_set:e.customSetId}},onSuccess:e.onSuccess,onError:t=>{(0,P.RY)("do_order is failed",{contextProperties:["params",{error:JSON.stringify(t)}],tags:{type:"critical"},logLevel:"fatal"}),e.onError&&e.onError(t)}}),n=await r.fetch();return(null===(t=n.response)||void 0===t?void 0:t.error_msg)&&(0,P.RY)("do_order is failed",{contextProperties:["params",{error:JSON.stringify(n.response)}],tags:{type:"critical"},logLevel:"fatal"}),n});var aY=(0,q.createSlice)({name:"payment/actions",initialState:null,reducers:{}}).reducer;let a0=()=>{let e=new Date,t=-e.getTimezoneOffset(),r=t>=0?"+":"-",n=e=>{let t=Math.floor(Math.abs(e));return(t<10?"0":"")+String(t)};return"".concat(e.getFullYear(),"-").concat(n(e.getMonth()+1),"-").concat(n(e.getDate()),"T").concat(n(e.getHours()),":").concat(n(e.getMinutes()),":").concat(n(e.getSeconds())).concat(r).concat(n(t/60),":").concat(n(t%60))},a1=(e,t)=>{function r(e){let t=(2654435761*e%4294967296).toString().substr(0,10);for(;t.length<10;)t+="0";return t}function n(){return Math.floor(1e16*Math.random())}let i=Number(e+t)||0;return"000000"+n().toString()+r(i)},a2=(0,q.createAsyncThunk)("audioNotes/getAudioNotes",async(e,t)=>{let{getState:r}=t,{art:n=""}=r().player.notes;if(!n)return;let i=new ty.Cat2({url:"/",provider:{func:"r_my_audio_notes",id:"my_notes"},request:{method:"POST",params:{art:n,group:"0"}},onSuccess:e.onSuccess});return await i.fetch()}),a5=(0,q.createAsyncThunk)("audioNotes/updateAudioNotes",async(e,t)=>{var r,n;let{getState:i,dispatch:o}=t,a=i(),{art:s="",lock_id:u="",my_notes:l=[]}=a.player.notes;if(!(s&&u))return;let{playerData:c,playerSettings:d,currentTime:p}=a.player.data,f=(null==c?void 0:c.totalDuration)||(null==c?void 0:c.duration),h=null===(r=d.contentsData)||void 0===r?void 0:r.findIndex(e=>e.url===d.url),m=(null==c?void 0:c.totalDuration)?((null===(n=d.contentsData)||void 0===n?void 0:n.slice(0,h).reduce((e,t)=>e+t.duration,0))||0)+p:p,g=f?Math.round(m/f*100):0,_=(d.url||"").split("/").slice(-1)[0],v=[{id:l.length&&l[0].filename===_?l[0].id:a1(s,_),group:"0",percent:g.toFixed(),time_start:p.toFixed(),time_end:p.toFixed(),last_update:a0(),file:String(a.player.notes.order),filename:_}],y=new ty.Cat2({url:"/",provider:{func:"w_replace_my_audio_notes",id:"w_replace_my_audio_notes"},request:{method:"POST",params:{art:s,my_notes:v,lock_id:u}},onSuccess:()=>{o(a9(v))}});return await y.fetch()}),a4=(0,q.createAsyncThunk)("audioNotes/lockAudioNotes",async(e,t)=>{let{getState:r}=t,{art:n=""}=r().player.notes;if(!n)return;let i=new ty.Cat2({url:"/",provider:{func:"w_set_audio_bookmark_lock",id:"w_set_audio_bookmark_lock"},request:{method:"POST",params:{art:n}}});return await i.fetch()}),a3={order:0},a8=(0,q.createSlice)({name:"audioNotes",initialState:a3,reducers:{setArtId:(e,t)=>{e.art=t.payload},setMyNotes:(e,t)=>{e.my_notes=t.payload},setOrder:(e,t)=>{e.order=t.payload}},extraReducers:e=>{eR(e,"player.notes"),e.addCase(a4.fulfilled,(e,t)=>{var r;let{payload:n}=t;(null==n?void 0:null===(r=n.response)||void 0===r?void 0:r.lock_id)&&(e.lock_id=n.response.lock_id)})}}),{setArtId:a6,setMyNotes:a9,setOrder:a7}=a8.actions;var se=a8.reducer;let st=745654,sr=em({reducerPath:"HeadHunterApi",baseQuery:(0,B.fetchBaseQuery)({baseUrl:"https://api.hh.ru/"}),endpoints:e=>({getEmployerData:e.query({query:()=>({url:"/employers/".concat(st)})}),getVacancyList:e.query({query:()=>({url:"/vacancies?employer_id=".concat(st)})}),getVacancy:e.query({query:e=>({url:"https://api.hh.ru/vacancies/".concat(e.vacancy_id),params:e})})})}),sn={visibilityState:"init"},si=(0,q.createSlice)({name:"global/modals",initialState:sn,reducers:{setGlobalModalsShowStatus:(e,t)=>{e.visibilityState=t.payload}}}),{setGlobalModalsShowStatus:so}=si.actions;var sa=si.reducer;let ss=(0,U.UY)({[eV.reducerPath]:eV.reducer,[sr.reducerPath]:sr.reducer,user:(0,U.UY)({accountSettings:tT,credentials:t0,balance:tB,basket:t$,library:t4,boughtCollections:tK,notifications:t7,abonement:ru,subscription:rp,partnersSubscriptions:aE,socnet:tO,avatar:tD,tests:rg,webpushes:rb,offers:oC,actions:ou,authorization:rA,registration:rF,rebills:oJ}),foundationUser:nb,browser:eD,player:(0,U.UY)({data:nB,notes:se}),payment:aY,pages:(0,U.UY)({personalCabinet:(0,U.UY)({paymentsHistory:oO,userLibraries:oq,loyaltyCards:oH,spam:aM,bonuses:aR}),paymentReceipts:ri}),global:(0,U.UY)({auth:nX,header:(0,U.UY)({auth:n5,banners:oS}),globalModals:sa,availableBonuses:ax,login:i3,search:is,interface:iO,lastViewedBooksWidget:iN,phonecodes:oe,onboarding:oi,genres:oh,arts:(0,U.UY)({details:av,reviews:au}),take:(0,U.UY)({take:aZ}),reviews:af,searchPage:il,zeroSearchPage:ih}),face:aG}),su=(e,t)=>("RESET_APP"===t.type&&(e=void 0),ss(e,t)),sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Litres Store",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,q.configureStore)({reducer:su,middleware:e=>e({serializableCheck:{ignoredActionPaths:["payload.meta.headers","meta.arg.originalArgs","payload.onHide","meta.arg.onSuccess","meta.arg.onError"],ignoredPaths:[/.*error\.meta\.headers$/,/meta\.arg\.originalArgs/]}}).concat(eV.middleware).concat(sr.middleware),devTools:{name:e},preloadedState:t})},sc=()=>(0,h.useDispatch)(),sd=h.useSelector,sp={user:{authorization:{checkPassCorrectCSRF:rw,otpinLoginCSRF:rk,loginCSRF:rS,checkSocnetCSRF:rj,attachSocnetCSRF:rE,detachSocnetCSRF:rC,socnetCSRF:rT},registration:{checkEmailAvailabilityGUJ:rO,verifyPhoneCSRF:rP,recoverPasswordCSRF:rL,confirmRecoverPasswordCSRF:rI,registrationCSRF:rN},credentials:{setUserCredentials:tY,changeCredentialsCSRF:tQ},balance:{setUserBalance:tq},accountSettings:{setUserAccountSettings:tC,changePasswordCSRF:tS,changeProfilePrivacyCSRF:tw,setMarketingConsentCSRF:tk},socnet:{setUserSocnets:tR},library:{setUserLibrary:t5},webpushes:{setUserWebpushes:ry},tests:{setUserABTests:rm},notifications:{setUserNotifications:t9,getUserNotifications:t8},basket:{setUserBasket:tW},boughtCollections:{setUserBoughtCollection:tZ},abonement:{setUserAbonement:rs},subscription:{setUserSubscription:rd},partnersSubscriptions:{setUserPartnersSubscriptions:ak},avatar:{setUserAvatar:tF,uploadAvatarCSRF:tI},offers:{setUserOffers:oE},rebills:{getRebillsGUJ:oZ,deletePaymentCardCSRF:oK},actions:{updateMyRegCSRF:oa,uniteUsersCSRF:os}},foundationUser:{getABTests:nt,setUserSID:nn,setUserID:ni,setFoundationUserLogin:no,setFoundationUserProfile:na,setFoundationUserBalance:ns,setCustomCookieValue:n_,setFoundationUserLibrary:nu,setFoundationUserAccountSettings:nl,setFoundationUserSocnets:nc,setFoundationUserPartnersSubscriptions:nd,setFoundationUserSubscription:np,setFoundationUserSafemodeStep:nh,setFoundationUserAvatar:nf,setFoundationUserABTests:nm,setFoundationUserAbonement:ny,setIsOfficeUser:ng,setVarioqubTests:nv,teleport_CSRF:r4,getPresentBook_CSRF:r9,decrUserGifts_CSRF:r7,readReport:r3,requestBiblioArt:r8,cancelRequestBiblioArt:r6,proceedPayment:ne},player:{data:{setPlayerData:nw,setPlayerError:nk,setPlayerEvent:nE,setPlayerReady:nC,setContentsOpen:nj,setPlaying:nA,setCurrentTime:nR,setUrl:nO,setVolume:nP,setPlaybackRate:nL,setMuted:nI,setPlayerSettings:nN,setDownloadForbidden:nF,setReadOnly:nD,setContentsData:nM,setTimeStart:nT,setPlayerStats:nU,setTotalDuration:nq},notes:{updateAudioNotes:a5,getAudioNotes:a2,lockAudioNotes:a4,setArtId:a6,setMyNotes:a9,setOrder:a7}},payment:{createCustomSet:aK,createSeriesCustomSet:aJ,createPodcastSet:aQ,doOrder:aX},global:{modals:{setGlobalModalsShowStatus:so},auth:{setActiveStep:n$,setActiveStepHard:nH,setFallbackStep:nJ,goToPreviousStep:nV,setFormData:nZ,resetState:nK,setRateLimitError:nQ},header:{auth:{setAuthPopupVisibility:n1,setAnalyticsData:n2},banners:{setSubscrBanner:o_,setOnlyLitresBanner:ov,setPromotionBanner:oy,setAudioSubscrBanner:ob,setTvCampaignBanner:ox}},availableBonuses:{getAvailableBonusesListGUJ:ab},search:{getSearchData:it,setSearchData:ii,setSearchHistory:io,refreshSearchResults:ia},zeroSearch:{getZeroSearchRecommendationsList:id,getZeroSearchRecommendation:ip},lastViewedWidget:{setLastViewedWidgetData:iI},interfaceRequests:{setLoginPopupError:iv,setStickyPlayer:iy,setBookUpsalePopup:ib,setCheckoutBox:ix,setHelpdeskConfig:iS,setIsPageWithPlayer:iA,setNotRecommendArts:iR,setSpamTicketsConfig:iw,setPaymentPopup:ik,setReviewComplainPopup:iE,setForceScrollToReviewForm:iC,setSharingPopup:iT,sendClickTrack:ig,setHeaderHeight:ij},phoneCodes:{getPhoneCodes:i6},login:{setEmail:iM,setStrategy:iW,setUserStatus:iU,setAppCode:i$,setPhoneCode:iG,setPhone:iz,setCurrentStep:iH,setLibraryStatus:iq,setLibrary:iB,setIsBiblioLogin:iV,setIsLoading:iZ,setIsOldUser:iK,setIsVerifyPhone:iJ,setLoginFormat:iQ,setPassRecoveryMethod:iX,setPassRecoveryMask:iY,setPassRecoveryTimer:i0,setPrevSteps:i1,setUsersMerges:i2,setLoginReserved:i5,setServerError:i4},genres:{setCurrentGenre:od,setHistory:op,setOpenPopup:of},arts:{setArts:ag,setUserRating:a_,reviews:{setArtReviews:ao,setArtReviewsMapId:as,getArtsReviews:o8,addArtsReview:o6,getUserArtsReviews:o9,addArtReviewLike:oQ,removeArtReviewLike:oX,addArtReviewDislike:oY,removeArtReviewDislike:o0,addReviewReply:ar,setLastGetRequestDate:aa}},reviews:{updateReview:al,addReviewComplain:ac},take:{takeBookCSRF:a$},onboarding:{setOpenOnboarding:on}},pages:{personalCabinet:{paymentsHistory:{paymentsHistoryCSRF:oj,setHistoryData:oR},userLibraries:{teleportCSRF:oL,unsubscribeCSRF:oI,uniteCSRF:oN,uniteCSRFV2:oF,getUserLibrariesCSRF:oD,addLibrary:oU},loyaltyCards:{getLoyaltyCardsCSRF:oz,setLoyaltyCards:o$,changeLoyaltyCSRF:oG},spam:{userLangs:{setUserLangs:aF,getUserLangsGUJ:aL},userChannels:{setUserChannels:aD,getUserChannelsGUJ:aI},updateSpamCSRF:aP},bonuses:{getBonusExpirationGUJ:aT,setBonusesExpiration:aA}},paymentReceipts:{setPaymentReceipts:rn,getPaymentReceipts:rt}},browser:{setBrowserParams:eI,setHeader:eN,removeHeader:eF},face:{setFaceLang:aB,setFaceHost:az}},sf=eV.injectEndpoints({endpoints:e=>({getUserAbonementInfo:e.query({query:()=>({url:"/foundation/api/users/me/abonement/detailed"}),transformResponse:e=>e.payload.data,extraOptions:{...rX}})})}),sh=eV.injectEndpoints({endpoints:e=>({getAbonementExclusives:e.query({query:e=>{let{limit:t=50}=e;return{url:"/foundation/api/arts/abonement-exclusives",params:{limit:t}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]})})}),sm=(0,P.ej)("SID"),sg=eV.injectEndpoints({endpoints:e=>({getBanners:e.query({query:e=>{let{place:t,isPDA:r}=e;return{url:"/advertising/api/services/litres/places/".concat(t,"/banners"),params:{device_type:r?"mobile":"default"},method:"GET"}},transformResponse:e=>e.payload.data}),getGenreBanners:e.query({query:e=>{let{place:t,genreId:r,isPDA:n}=e;return{url:"/advertising/api/services/litres/places/".concat(t,"/genres/").concat(r,"/banners"),method:"GET",params:{device_type:n?"mobile":"default"},headers:{"Session-Id":"".concat(sm)}}},transformResponse:e=>e.payload.data})})}),s_=eV.injectEndpoints({endpoints:e=>({getArtData:e.query({query:e=>{let{artIdOrSlug:t}=e;return{url:"/foundation/api/arts/".concat(t)}},transformResponse:(e,t)=>{let r=t.headers.Audio_drm3_key||t.headers.audio_drm3_key;return{...e.payload.data,audio_drm3_key:r||null}},providesTags:e=>void 0!==e?[{type:o.ART,id:e.id}]:[{type:o.ART,id:"ART"}]}),getArtFiles:e.query({query:e=>{let{artId:t}=e;return{url:"/foundation/api/arts/".concat(t,"/files/grouped")}},transformResponse:e=>{var t;return(null===(t=e.payload.data)||void 0===t?void 0:t.reduce((e,t)=>[...e,...t.files.map(e=>({...e,encoding_type:t.file_type}))],[]))||[]}}),getArtPersonalRecommendation:e.query({query:e=>{let{SID:t,artGroup:r,limit:n}=e;return{url:"/foundation/api/arts/personal-recommendations?art_group=".concat(null!=r?r:0,"&limit=").concat(null!=n?n:10),headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getSimilarArtsForRecommendation:e.query({query:e=>{let{SID:t,artIDorSlug:r,limit:n=24,offset:i=0}=e;return{url:"/foundation/api/arts/".concat(r,"/similar"),params:{limit:n,offset:i},headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getAdvertisingSimilarArtsForRecommendation:e.query({query:e=>{let{SID:t,artIDorSlug:r,limit:n=24,offset:i=0}=e;return{url:"/foundation/api/arts/".concat(r,"/advertising-similar"),params:{limit:n,offset:i},headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getArtQuotes:e.query({query:e=>{let{artId:t,url:r="",limit:n,SID:i,offset:o}=e,a=r;if(r){let[e,t]=r.split("?");if(t){let r=new URLSearchParams(t);n&&r.delete("limit"),o&&r.delete("offset"),a="".concat(e,"?").concat(r.toString())}}return{url:a?"/foundation/".concat(a):"/foundation/api/arts/".concat(t,"/quotes"),params:{limit:n,...o&&{offset:o}},headers:i?{"Session-Id":i}:void 0}},providesTags:e=>e?[...e.payload.data.map(e=>{let{uuid:t}=e;return{type:o.QUOTE,id:t.split("-").join("")}})]:[{type:o.QUOTE,id:"QUOTE_LIST"}]}),addArtRating:e.mutation({query:e=>{let{artId:t,rating:r}=e;return{url:"/foundation/api/arts/".concat(t,"/rating"),method:"PUT",body:{rating:r}}},onQueryStarted:async(e,t)=>{let{dispatch:r,queryFulfilled:n}=t,i=r(s_.util.updateQueryData("getArtData",{artIdOrSlug:e.artIdOrSlug||e.artId},t=>{var r;Object.assign(t,{rating:{...t.rating,user_rating:e.rating,...(null===(r=t.rating)||void 0===r?void 0:r.rated_total_count)&&!t.rating.user_rating?{rated_total_count:t.rating.rated_total_count+1}:{}}})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.ART,id:n}]}}),deleteArtRating:e.mutation({query:e=>{let{artId:t}=e;return{url:"/foundation/api/arts/".concat(t,"/rating"),method:"DELETE"}},onQueryStarted:async(e,t)=>{let{dispatch:r,queryFulfilled:n}=t,i=r(s_.util.updateQueryData("getArtData",{artIdOrSlug:e.artIdOrSlug||e.artId},e=>{var t;Object.assign(e,{rating:{...e.rating,user_rating:0,...(null===(t=e.rating)||void 0===t?void 0:t.rated_total_count)?{rated_total_count:e.rating.rated_total_count-1}:{}}})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.ART,id:n}]}}),getPodcastEpisodes:e.query({query:e=>{let{podcastId:t,limit:r=10,SID:n,url:i="",with_episode_id:o}=e;return{url:i?"/foundation/".concat(i):"/foundation/api/podcasts/".concat(t,"/episodes"),params:{with_episode_id:o,limit:r},headers:n?{"Session-Id":n}:void 0}}}),getArtTableContent:e.query({query:e=>{let{url:t}=e;return{url:t,method:"GET",responseHandler:e=>e.text()}}}),getWebtoonArtTableContent:e.query({query:e=>{let{artIdOrSlug:t,limit:r=10}=e;return{url:"/foundation/api/webtoons/".concat(t,"/chapters?limit=").concat(r),method:"GET"}},transformResponse:e=>e.payload.data}),getArtUrlReferral:e.query({query:e=>{let{SID:t,artId:r}=e;return{url:"/foundation/api/users/referral/".concat(r),headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload.data}),getReasonsComplaint:e.query({query:()=>({url:"/foundation/api/arts/complaints/reasons",method:"GET"})}),getMegafonByClick:e.query({query:e=>{let{artId:t}=e;return{url:"/foundation/api/arts/".concat(t,"/megafon-one-click")}}}),sendArtComplaint:e.mutation({query:e=>{let{artId:t,reason_ids:r,text:n,email:i}=e;return{url:"/foundation/api/arts/".concat(t,"/complain"),method:"POST",body:{reason_ids:r,text:n,email:i}}}}),getArtPages:e.query({query:e=>{let{artIdOrSlug:t,page:r=1}=e;return{url:"/foundation/api/arts/".concat(t,"/pages?page=").concat(r)}},transformResponse:e=>e.payload.data}),getOftenSearched:e.query({query:e=>{let{itemId:t}=e;return{url:"/foundation/api/arts/often-searched?item_id=".concat(t)}},transformResponse:e=>e.payload.data}),getArtBundle:e.query({query:e=>{let{artIdOrSlug:t}=e;return{url:"/foundation/api/arts/".concat(t,"/bundle")}},transformResponse:e=>e.payload.data}),getArtJournalCollection:e.query({query:e=>{let{artIdOrSlug:t}=e;return{url:"/foundation/api/arts/".concat(t,"/collections")}},transformResponse:e=>e.payload.data})})}),sv=eV.injectEndpoints({endpoints:e=>({getAbonementExclusiveArts:e.query({query:e=>({url:"/foundation/api/arts/abonement-exclusives",params:e}),transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getArts:e.query({query:e=>({url:"/foundation/api/arts",params:e}),transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getPresaleArts:e.query({query:e=>{let{artId:t}=e;return{url:"/foundation/api/arts/".concat(t,"/upsale")}},transformResponse:e=>e.payload.data.upsales})})});var sy=r(85466),sb=r.n(sy);function sx(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{let r;"data"in t&&Array.isArray(t.data)&&(r=t.data),"arts"in t&&Array.isArray(t.arts)&&(r=t.arts),"art"in t&&t.art&&t.art.id===e&&(t.art.is_finished=!0),r&&r.forEach(t=>{t.id===e&&(t.is_finished=!0)})}))}function sS(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{let r;"data"in t&&Array.isArray(t.data)&&(r=t.data),"arts"in t&&Array.isArray(t.arts)&&(r=t.arts),"art"in t&&t.art&&t.art.id===e&&(t.art.is_finished=!1),r&&r.forEach(t=>{t.id===e&&(t.is_finished=!1)})}))}function sw(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{t.data.forEach(t=>{Array.isArray(e)?e.includes(t.id)&&(t.in_user_cart_status="in_cart"):t.id===e&&(t.in_user_cart_status="in_cart")})}))}function sk(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{t.data.forEach(t=>{Array.isArray(e)?e.includes(t.id)&&(t.in_user_cart_status="not_in_cart"):t.id===e&&(t.in_user_cart_status="not_in_cart")})}))}function sE(e,t,r,n){var i;let o=t.map(e=>({folder_id:e,is_public:!1}));return r(null===(i=eV.util)||void 0===i?void 0:i.updateQueryData(n.endpointName,n.originalArgs,t=>{t.data.forEach(t=>{if(e===t.id){var r;(null===(r=t.in_folders)||void 0===r?void 0:r.length)?t.in_folders.push(...o):t.in_folders=[...o]}})}))}function sC(e,t,r,n){var i;return r(null===(i=eV.util)||void 0===i?void 0:i.updateQueryData(n.endpointName,n.originalArgs,r=>{r.data.forEach(r=>{e===r.id&&(r.in_folders=t.length&&r.in_folders?r.in_folders.filter(e=>!t.includes(e.folder_id)):[])})}))}function sT(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{let r;"data"in t&&Array.isArray(t.data)&&(r=t.data),"arts"in t&&Array.isArray(t.arts)&&(r=t.arts),r?r.forEach(t=>{let r="instance"in t?t.instance:t;Array.isArray(e)?e.includes(r.id)&&(r.is_liked=!0):r.id===e&&(r.is_liked=!0)}):("art"in t&&t.art&&(Array.isArray(e)&&e.includes(t.art.id)||t.art.id===e)&&(t.art.is_liked=!0),"quotes"in t&&t.quotes.length&&t.quotes.forEach(t=>{Array.isArray(e)?e.includes(t.art_id)&&(t.art_is_liked=!0):t.art_id===e&&(t.art_is_liked=!0)}))}))}function sj(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{let r;"data"in t&&Array.isArray(t.data)&&(r=t.data),"arts"in t&&Array.isArray(t.arts)&&(r=t.arts),r?r.forEach(t=>{let r="instance"in t?t.instance:t;r.id===e&&(r.is_liked=!1)}):("art"in t&&t.art&&t.art.id===e&&(t.art.is_liked=!1),"quotes"in t&&t.quotes.length&&t.quotes.forEach(t=>{Array.isArray(e)?e.includes(t.art_id)&&(t.art_is_liked=!1):t.art_id===e&&(t.art_is_liked=!1)}))}))}function sA(e,t,r){var n;return t(null===(n=eV.util)||void 0===n?void 0:n.updateQueryData(r.endpointName,r.originalArgs,t=>{Object.assign(t,{data:t.data.filter(t=>Array.isArray(e)?!e.includes(t.id):t.id!==e)})}))}let sR=eV.injectEndpoints({endpoints:e=>({getArchivedArts:e.query({query:e=>{let{limit:t,art_groups:r,after:n,only_in_subscription_id:i}=e;return{url:"/foundation/api/users/me/arts/archive",params:{limit:t,art_groups:r,after:n,only_in_subscription_id:i}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),archiveUserArts:e.mutation({query:e=>{let{artIds:t}=e;return{url:"/foundation/api/users/me/archive/arts",method:"POST",body:{art_ids:t}}},invalidatesTags:(e,t,r)=>{let{artIds:n}=r;return[...n.map(e=>({type:o.MY_BOOKS,id:e})),{type:o.MY_BOOKS,id:"STATS"},"Folders"]},async onQueryStarted(e,t){let{artIds:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=eV.util.selectInvalidatedBy(s,[...r.map(e=>({type:o.MY_BOOKS,id:e}))]).filter(e=>"getArchivedArts"!==e.endpointName).map(e=>sA(r,n,e));try{await a}catch(e){console.log(e),u.forEach(e=>{e.undo()})}}}),restoreFromArchive:e.mutation({query:e=>{let{artId:t}=e;return{url:"/foundation/api/users/me/arts/".concat(t,"/archive"),method:"DELETE"}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.MY_BOOKS,id:n},{type:o.MY_BOOKS,id:"STATS"},"Folders"]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).filter(e=>"getArchivedArts"===e.endpointName).map(e=>sA(r,n,e));try{await a}catch(e){console.log(e),u.forEach(e=>{e.undo()})}}})})}),sO={sberid:"sb",yandex:"ya",mailru:"ma",facebook:"fb",google:"gp",vk:"vkid",vkid:"vkid",apple:"apple",x:"tw"},sP=e=>"otp_id"in e&&"code"in e,sL=e=>"login"in e&&"password"in e,sI=e=>"phone"in e&&"country_code"in e,sN=e=>"code"in e&&!("otp_id"in e),sF=eV.injectEndpoints({endpoints:e=>({getOneTimeSid:e.mutation({query:()=>({url:"/foundation/api/auth/onetime-sid",method:"POST"}),transformResponse:e=>e.payload.data.onetime_sid}),getUserSid:e.mutation({query:e=>({url:"/foundation/api/auth/login/onetime-sid",method:"POST",body:{onetime_sid:e}}),transformResponse:e=>e.payload.data.sid}),register:e.mutation({query(e){let t=(0,P.ej)("safemode"),r={"Anonymous-Discount":void 0};return{url:"/foundation/api/auth/register",method:"POST",body:e,headers:t?{...r,"Safemode-Enabled":t}:r}},transformResponse:e=>e.payload.data.sid}),login:e.mutation({query(e){let t;let r=(0,P.ej)("safemode"),n={"Anonymous-Discount":void 0};if(sI(e))t={phone:e.phone,country_code:e.country_code,password:e.password};else if(sL(e))t={login:e.login,password:e.password};else if(sP(e))t={otp_id:e.otp_id,code:e.code};else if(sN(e))t={code:e.code};else throw TypeError('Invalid "/foundation/api/auth/login" payload');return{url:"/foundation/api/auth/login",method:"POST",body:t,headers:r?{...n,"Safemode-Enabled":r}:n}},transformResponse:e=>e.payload.data.sid}),logout:e.mutation({query:()=>({url:"/foundation/api/auth/logout",method:"POST"})}),changePassword:e.mutation({query(e){let{password:t,password_repeated:r}=e;return{url:"/foundation/api/auth/change-password",method:"POST",body:{password:t,password_repeated:r}}}}),loginBySocialNetworkCallback:e.mutation({query(e){let{network:t,code:r,redirect_uri:n,code_verifier:i}=e,o=i?{code:r,redirect_uri:n,code_verifier:i}:{code:r,redirect_uri:n};return{url:"/foundation/api/auth/".concat(t,"/login"),method:"POST",body:o}},transformResponse:e=>e.payload.data.sid}),disconnectSocialNetwork:e.mutation({query:e=>({url:"/foundation/api/auth/disconnect/".concat(e),method:"POST"})}),connectSocialNetwork:e.mutation({query(e){let{network:t,code:r,redirect_uri:n,code_verifier:i}=e,o=i?{code:r,redirect_uri:n,code_verifier:i}:{code:r,redirect_uri:n};return{url:"/foundation/api/auth/connect/".concat(t),method:"POST",body:o,headers:{"client-host":window.location.host.includes("localhost")||window.location.hostname.includes("stage")?"www.litres.ru":window.location.host}}}}),getAvailableSocialNetworks:e.query({query:()=>({url:"/foundation/api/auth/socials",method:"GET"}),transformResponse:e=>e.payload.data.map(e=>({...e,provider:sO[e.provider]||e.provider}))}),checkLoginAvailability:e.mutation({query:e=>({url:"/foundation/api/auth/login-available",method:"POST",body:{login:e}}),transformResponse:e=>e.payload.data.available}),checkPhoneAvailability:e.mutation({query:e=>({url:"/foundation/api/auth/phone-available",method:"POST",body:{...e}}),transformResponse:e=>e.payload.data.available}),sendOTPcode:e.mutation({query(e){let{login:t,country_code:r,otpCascadeKey:n}=e;return{url:"/foundation/api/auth/send-otp",method:"POST",body:r?{phone:t,country_code:r}:{email:t},headers:{...n?{"OTP-Cascade-Key":n}:{}}}},transformResponse:(e,t)=>({otp_id:e.payload.data.otp_id,retry_counter:null==t?void 0:t.headers["retry-after"]})}),getMFAInfo:e.query({query:e=>({url:"/foundation/api/auth/mfa/".concat(e),method:"GET"}),transformResponse:e=>e.payload.data}),otpCheck:e.mutation({query:e=>({url:"/foundation/api/auth/otp-check",method:"POST",body:e})}),captchaCheck:e.mutation({query:e=>({url:"/foundation/api/auth/captcha-check",method:"POST",body:e}),transformResponse:e=>e.payload.data}),getAllowedPhoneCodes:e.query({query:()=>({url:"/foundation/api/auth/countries/allowed",method:"GET"}),transformResponse:e=>e.payload.data.countries}),getAuthenticationMethod:e.mutation({query:e=>({url:"/foundation/api/auth/authentication-method",method:"POST",body:e}),transformResponse:e=>e.payload.data})})}),sD=eV.injectEndpoints({endpoints:e=>({getBrandIdentity:e.query({query:()=>({url:"/foundation/api/brand-identity/details"}),transformResponse:e=>e.payload.data}),getBrandIdentityByID:e.query({query:e=>{let{subId:t}=e;return{url:"/foundation/api/brand-identity/subscriptions/".concat(t,"/details")}},transformResponse:e=>e.payload.data}),getUserBrandIdentities:e.query({query:()=>({url:"/foundation/api/brand-identity/subscriptions"}),transformResponse:e=>e.payload.data}),getBrandIdentityActiveDetails:e.query({query:()=>({url:"/foundation/api/brand-identity/subscriptions/active/details"}),transformResponse:e=>e.payload.data})})}),sM=eV.injectEndpoints({endpoints:e=>({getFourArtOffer:e.query({query:()=>({url:"/foundation/api/offers/fourth-art-gift"}),transformResponse:e=>e.payload.data,providesTags:[{type:o.OFFER,id:"FOUR-ART-GIFT"}]})})}),sU=eV.injectEndpoints({endpoints:e=>({getArtsInCart:e.query({query:e=>{let{SID:t,availability:r=1,url:n,limit:i,after:o}=e;return{url:n?"/foundation/".concat(n):"/foundation/api/cart/arts".concat(i?"?limit=".concat(i):""),headers:t?{"Session-Id":t}:void 0,params:{availability:r,after:o}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.CART,id:t}}),{type:o.CART,id:"ARTS"},...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[{type:o.CART,id:"ARTS"},o.ART_SHORT_LIST],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getCartStatus:e.query({query:e=>{let{SID:t}=e;return{url:"/foundation/api/cart/status",headers:t?{"Session-Id":t}:void 0}},transformResponse:e=>e.payload.data,providesTags:[{type:o.CART,id:"STATUS"}]}),addToCart:e.mutation({query(e){let{artIds:t}=e;return{url:"/foundation/api/cart/arts/add",method:"PUT",body:{art_ids:t}}},invalidatesTags:(e,t,r)=>{let{artIds:n}=r;return[...n.map(e=>({type:o.MY_BOOKS,id:e})),...n.map(e=>({type:o.ART_SHORT_LIST,id:e})),...n.map(e=>({type:o.SEARCH,id:e})),{type:o.CART,id:"ARTS"},{type:o.CART,id:"STATUS"},{type:o.OFFER,id:"FOUR-ART-GIFT"},{type:o.MY_BOOKS,id:"STATS"},o.FOLDERS,o.USER_MONETIZATION_DATA]},async onQueryStarted(e,t){let{artIds:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=eV.util.selectInvalidatedBy(s,[...r.map(e=>({type:o.MY_BOOKS,id:e}))]).map(e=>sw(r,n,e));s.foundationUser.id||sB(s,r,n);try{await a}catch(e){console.log(e),u.forEach(e=>{e.undo()}),s.foundationUser.id||sq(s,r,n)}}}),removeFromCart:e.mutation({query(e){let{artIds:t}=e;return{url:"/foundation/api/cart/arts/remove",method:"PUT",body:{art_ids:t}}},invalidatesTags:(e,t,r)=>{let{artIds:n}=r;return[...n.map(e=>({type:o.CART,id:e})),...n.map(e=>({type:o.MY_BOOKS,id:e})),...n.map(e=>({type:o.ART_SHORT_LIST,id:e})),...n.map(e=>({type:o.SEARCH,id:e})),{type:o.CART,id:"ARTS"},{type:o.CART,id:"STATUS"},{type:o.OFFER,id:"FOUR-ART-GIFT"},{type:o.MY_BOOKS,id:"STATS"},o.FOLDERS,o.USER_MONETIZATION_DATA]},async onQueryStarted(e,t){let{artIds:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=eV.util.selectInvalidatedBy(s,[...r.map(e=>({type:o.MY_BOOKS,id:e}))]),l=eV.util.selectInvalidatedBy(s,[...r.map(e=>({type:o.CART,id:e}))]).filter(e=>"getArtsInCart"===e.endpointName),c=u.map(e=>sk(r,n,e));c.push(...l.map(e=>sA(r,n,e))),c.push(n(sM.util.updateQueryData("getFourArtOffer",void 0,e=>{Object.assign(e,{offer_detail:{...e.offer_detail,arts:e.offer_detail.arts.filter(e=>!r.includes(e.id))}})}))),s.foundationUser.id||sq(s,r,n);try{await a}catch(e){c.forEach(e=>{e.undo()}),s.foundationUser.id||sB(s,r,n),console.log(e)}}})})}),sq=(e,t,r)=>{let n=(e.foundationUser.BSK?e.foundationUser.BSK:[]).filter(e=>!t.includes(Number(e))),i=n.join(",");(0,P.d8)("BSK_LAST",String(n.length)),(0,P.d8)("BSK",String(i)),r(n_({BSK:n})),r(eN(["Basket",i]))},sB=(e,t,r)=>{let n=e.foundationUser.BSK?e.foundationUser.BSK:[],i=[...n,...t.map(e=>String(e)).filter(e=>!n.includes(e))],o=i.join(",");(0,P.d8)("BSK_LAST",String(i.length)),(0,P.d8)("BSK",String(o)),r(n_({BSK:i})),r(eN(["Basket",o]))},sz=eV.injectEndpoints({endpoints:e=>({cancelSubscription:e.query({query:e=>{let{id:t,auto_renew_status:r}=e;return{url:"/foundation/api/users/me/subscriptions/".concat(t,"/auto-renew-status"),method:"PUT",body:{auto_renew_status:r}}},transformResponse:e=>e?e.payload.data:null}),getPoll:e.query({query:e=>{let{id:t}=e;return{url:"/foundation/api/polls/".concat(t)}},transformResponse:e=>e.payload.data}),sendPollResults:e.mutation({query:e=>{let{choice:t,onetime_sid:r,note:n,payload:i}=e;return{url:"/foundation/api/poll-votes",method:"POST",body:{choice:t,onetime_sid:r,note:n,payload:i}}}})})}),sG=eV.injectEndpoints({endpoints:e=>({addCertificateApplication:e.mutation({query(e){let{name:t,phone:r,email:n,company:i,comment:o}=e;return{url:"/foundation/api/corporate/certificate/application",method:"POST",body:{name:t,phone:r,email:n,company:i,comment:o}}}})})}),sW=eV.injectEndpoints({endpoints:e=>({getCmsEntityList:e.query({query:e=>{let{entity:t,...r}=e;return{url:"/foundation/api/".concat(t),params:r}},serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e;return"".concat(t,"_").concat(r.entity,"_").concat(r.limit)},merge:(e,t)=>{e.payload.pagination=t.payload.pagination,e.payload.data.push(...t.payload.data)},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return(null==t?void 0:t.after)!==(null==r?void 0:r.after)}}),getCmsEntity:e.query({query:e=>{let{entity:t,idOrSlug:r}=e;return{url:"/foundation/api/".concat(t,"/").concat(r)}},transformResponse:e=>{let t=e.payload.data.content.replaceAll(/(\[cdata\]|\[\/cdata\])/g,"").trim();return{...e.payload.data,content:t}}})})}),s$=eV.injectEndpoints({endpoints:e=>({getCollectionList:e.query({query:e=>{let{group_type:t,limit:r,offset:n,type:i,rubric_id:o}=e;return{url:o?"/foundation/api/collections?rubric_id=".concat(o):"/foundation/api/collections",params:{group_type:t,offset:n,limit:r,type:i}}},transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{queryArgs:t,endpointName:r}=e,{group_type:n,type:i,rubric_id:o}=t;return r+(n?"_".concat(n):"")+(i?"_".concat(i):"")+(o?"_".concat(o):"")},merge:(e,t,r)=>{let{arg:n}=r;n.offsetTrigger?e.data.unshift(...t.data):n.offset&&!n.skipMerge?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getCollection:e.query({query:e=>{let{collectionIdOrSlug:t}=e;return{url:"/foundation/api/collections/".concat(t),headers:{"accept-version":"2"}}},transformResponse:e=>e.payload.data}),getCollectionGenres:e.query({query:e=>{let{collectionIdOrSlug:t}=e;return{url:"/foundation/api/collections/".concat(t,"/genres")}},transformResponse:e=>e.payload.data}),getCollectionArts:e.query({query:e=>{let{collectionIdOrSlug:t,...r}=e;return{url:"/foundation/api/collections/".concat(t,"/arts"),params:r,headers:{"accept-version":"2"}}},transformResponse:e=>e.payload,providesTags:(e,t,r)=>{let{collectionIdOrSlug:n}=r;return e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST,{type:o.COLLECTION,id:n}]:[{type:o.COLLECTION,id:n},o.ART_SHORT_LIST]}}),getCollectionFacets:e.query({query:e=>{let{collectionIdOrSlug:t,...r}=e;return{url:"/foundation/api/collections/".concat(t,"/arts/facets"),params:r,headers:{"accept-version":"2"}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]})})});var sH=r(29787),sV=r.n(sH);let sZ=(e,t,r)=>{switch(t.type){case nz.R7.authorsSlider:return{authors:e};case nz.R7.editorialCollections:case nz.R7.collectionsSlider:return{collections:e};case nz.R7.genreSlider:case nz.R7.genresList:case nz.R7.genresSliderSecondary:return{genres:e};case nz.R7.tagsList:return{tags:e};case nz.R7.banners:return{banners:r};case nz.R7.nextArtInSeries:return{art:e};case nz.R7.quotesSlider:return{quotes:e};default:return{arts:e}}},sK=async e=>new Promise(t=>{fetch(e,{method:"HEAD"}).then(e=>{t(e.ok)}).catch(()=>{t(!1)})}),sJ=eV.injectEndpoints({endpoints:e=>({getDashboard:e.query({query:e=>{let{dashboardSlug:t}=e;return{url:"/foundation/api/dashboards/".concat(t)}},transformResponse:e=>e.payload.data}),getHomepageDashboard:e.query({async queryFn(e,t,r,n){let{isPDA:i}=e,o=await n({url:"/foundation/api/homepage",headers:{"Accept-Version":2},params:{is_for_pda:i}}),a=o.data;return(!a||o.error||sV()(a.payload.data[0].content))&&(0,P.RY)("HomePage: tabs content is empty",{contextProperties:["params",{}],tags:{type:"critical"},logLevel:"fatal"}),{data:null==a?void 0:a.payload.data[0]}}}),getContentForPageWithDashboards:e.query({async queryFn(e,t,r,n){try{var i,o,a,s,u,l;let t;let{item:r}=e,c=r.type===nz.R7.banners?"/advertising":"/foundation",d=[],p=n({url:c.concat(r.type===nz.R7.genreBlock?r.top_arts_url:r.content_url),headers:{"accept-version":"2"}});d.push(p);let f=r.additional_genres_url;if(r.type===nz.R7.genreBlock&&f){let e=n({url:"/foundation".concat(f)});d.push(e)}let[h,m]=await Promise.all(d);(null==m?void 0:null===(o=m.data)||void 0===o?void 0:null===(i=o.payload)||void 0===i?void 0:i.data)&&(t=null==m?void 0:null===(l=m.data)||void 0===l?void 0:null===(u=l.payload)||void 0===u?void 0:u.data);let g=[];if(r.type===nz.R7.banners)for(let e of h.data.payload.data)await sK((null==e?void 0:e.image_url)||"")&&g.push(e);return{data:{...h.data?sZ(h.data.payload.data,r,g):{},subgenres:t,recommendationModelVersion:null==h?void 0:null===(s=h.data)||void 0===s?void 0:null===(a=s.payload)||void 0===a?void 0:a.recommendation_model_version}}}catch(e){return console.log(e),{data:{}}}},providesTags:e=>(null==e?void 0:e.arts)?[...e.arts.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:(null==e?void 0:e.art)?[{type:o.ART_SHORT_LIST,id:e.art.id}]:(null==e?void 0:e.quotes)?[...e.quotes.map(e=>{let{art_id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[]})})}),sQ=eV.injectEndpoints({endpoints:e=>({getEditorChoiceArts:e.query({query:e=>({url:"/foundation/api/arts/editor-choice",params:e}),transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getEditorChoiceGenres:e.query({query:e=>({url:"/foundation/api/arts/editor-choice/genres",params:e}),transformResponse:e=>e.payload})})}),sX=eV.injectEndpoints({endpoints:e=>({getFinishedArts:e.query({query:e=>{let{limit:t,art_groups:r,after:n,only_in_subscription_id:i}=e;return{url:"/foundation/api/users/me/arts/finished",params:{limit:t,art_groups:r,after:n,only_in_subscription_id:i}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),setArtFinished:e.mutation({query(e){let{userId:t,artId:r}=e;return{url:"/foundation/api/users/".concat(t,"/arts/").concat(r,"/finish"),method:"PUT"}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.ART,id:"ART"},{type:o.MY_BOOKS,id:n},{type:o.MY_BOOKS,id:"STATS"},"Folders"]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,queryFulfilled:i,getState:a}=t,s=a(),u=eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getFinishedArts"!==e.endpointName&&"getUserProgressArts"!==e.endpointName),l=eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).filter(e=>"getUserProgressArts"===e.endpointName),c=u.map(e=>sx(r,n,e));c.push(...l.map(e=>sA(r,n,e)));try{await i}catch(e){console.log(e),c.forEach(e=>{e.undo()})}}}),unsetArtFinished:e.mutation({query(e){let{userId:t,artId:r}=e;return{url:"/foundation/api/users/".concat(t,"/arts/").concat(r,"/unfinish"),method:"PUT"}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.ART,id:"ART"},{type:o.MY_BOOKS,id:n},{type:o.MY_BOOKS,id:"STATS"},"Folders"]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,queryFulfilled:i,getState:a}=t,s=a(),u=eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getFinishedArts"!==e.endpointName),l=eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).filter(e=>"getFinishedArts"===e.endpointName),c=u.map(e=>sS(r,n,e));c.push(...l.map(e=>sA(r,n,e)));try{await i}catch(e){console.log(e),c.forEach(e=>{e.undo()})}}})})}),sY=eV.injectEndpoints({endpoints:e=>({getFoldersList:e.query({query:()=>({url:"/foundation/api/users/me/folders"}),providesTags:e=>(null==e?void 0:e.payload)?[...e.payload.data.map(e=>{let{folder_id:t}=e;return{type:o.FOLDERS,id:t}}),{type:o.FOLDERS,id:"LIST"}]:[{type:o.FOLDERS,id:"LIST"}]}),getFolderArts:e.query({query:e=>{let{folderId:t,limit:r,after:n}=e;return{url:"/foundation/api/folders/".concat(t,"/arts"),params:{limit:r,after:n}}},transformResponse:e=>e.payload,providesTags:(e,t,r)=>{let{folderId:n}=r;return e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),o.ART_SHORT_LIST,{type:o.FOLDERS,id:n}]:[{type:o.FOLDERS,id:n},o.ART_SHORT_LIST,o.MY_BOOKS]},serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e;return"".concat(t,":").concat(r.folderId)},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination}}),getFolder:e.query({query:e=>{let{folderId:t}=e;return{url:"/foundation/api/folders/".concat(t)}},providesTags:(e,t,r)=>{let{folderId:n}=r;return[{type:o.FOLDERS,id:n}]},transformResponse:e=>e.payload.data}),addFolder:e.mutation({query:e=>({url:"/foundation/api/users/me/folders",method:"POST",body:e}),invalidatesTags:[{type:o.FOLDERS,id:"LIST"},{type:o.MY_BOOKS,id:"STATS"}]}),deleteFolder:e.mutation({query(e){let{folderId:t}=e;return{url:"/foundation/api/users/me/folders/".concat(t),method:"DELETE"}},invalidatesTags:[{type:o.FOLDERS,id:"LIST"},{type:o.MY_BOOKS,id:"STATS"}]}),renameFolder:e.mutation({query(e){let{folderId:t,title:r}=e;return{url:"/foundation/api/users/me/folders/".concat(t),method:"PATCH",body:{title:r}}},invalidatesTags:(e,t,r)=>{let{folderId:n}=r;return[{type:o.FOLDERS,id:n}]}}),addToFolder:e.mutation({query(e){let{folderId:t,artIds:r}=e;return{url:"/foundation/api/users/me/folders/".concat(t,"/add-arts"),method:"POST",body:{art_ids:r}}},invalidatesTags:(e,t,r)=>{let{folderId:n}=r;return[{type:o.FOLDERS,id:n}]}}),removeFromFolder:e.mutation({query:e=>{let{artIds:t,folderId:r}=e,n="/foundation/api/users/me/folders";return r&&(n+="/".concat(r)),{url:"".concat(n,"/remove-arts"),method:"POST",body:{art_ids:t}}},invalidatesTags:(e,t,r)=>{let{folderId:n}=r;return[{type:o.FOLDERS,id:n||"LIST"}]}}),reFetchAfterAdd:e.mutation({queryFn:()=>({data:null}),invalidatesTags:(e,t,r)=>{let{artId:n,folderIds:i}=r;return[...i.map(e=>({type:o.FOLDERS,id:e})),{type:o.MY_BOOKS,id:n}]},onQueryStarted(e,t){let{artId:r,folderIds:n}=e,{dispatch:i,getState:a}=t,s=a();eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).map(e=>sE(r,n,i,e)),eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getRecommendation"===e.endpointName).map(e=>sE(r,n,i,e))}}),reFetchAfterRemove:e.mutation({queryFn:()=>({data:null}),invalidatesTags:(e,t,r)=>{let{artId:n,folderIds:i}=r;return[...i.map(e=>({type:o.FOLDERS,id:e})),{type:o.MY_BOOKS,id:n}]},onQueryStarted(e,t){let{artId:r,folderIds:n}=e,{dispatch:i,getState:a}=t,s=a();eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).map(e=>sC(r,n,i,e)),eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getRecommendation"===e.endpointName).map(e=>sC(r,n,i,e))}}),addLikeToFolder:e.mutation({query:e=>{let{folderId:t}=e;return{url:"/foundation/api/folders/".concat(t,"/likes"),method:"PUT"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(sY.util.updateQueryData("getFolder",e,e=>{let t="dislike"===e.user_reaction;Object.assign(e,{user_reaction:"like",likes_count:e.likes_count+1,...t&&{dislikes_count:e.dislikes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeLikeFromFolder:e.mutation({query:e=>{let{folderId:t}=e;return{url:"/foundation/api/folders/".concat(t,"/likes"),method:"DELETE"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(sY.util.updateQueryData("getFolder",e,e=>{Object.assign(e,{user_reaction:"no_reaction",likes_count:e.likes_count-1})}));try{await n}catch(e){i.undo()}}}),addDislikeToFolder:e.mutation({query:e=>{let{folderId:t}=e;return{url:"/foundation/api/folders/".concat(t,"/dislikes"),method:"PUT"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(sY.util.updateQueryData("getFolder",e,e=>{let t="like"===e.user_reaction;Object.assign(e,{user_reaction:"dislike",dislikes_count:e.dislikes_count+1,...t&&{likes_count:e.likes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeDislikeFromFolder:e.mutation({query:e=>{let{folderId:t}=e;return{url:"/foundation/api/folders/".concat(t,"/dislikes"),method:"DELETE"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(sY.util.updateQueryData("getFolder",e,e=>{Object.assign(e,{user_reaction:"no_reaction",dislikes_count:e.dislikes_count-1})}));try{await n}catch(e){i.undo()}}})})}),s0=eV.injectEndpoints({endpoints:e=>({getAllGenres:e.query({query:e=>({url:"/foundation/api/genres",params:e,headers:{"accept-version":"2"}}),transformResponse:e=>e.payload.data}),getGenreData:e.query({query:e=>{let{genre_id_or_slug:t,...r}=e;return{url:"/foundation/api/genres/".concat(t),params:{is_redirect_by_id:!0,...r},headers:{"accept-version":"2"}}},transformResponse:e=>e.payload.data[0]}),getGenreFacets:e.query({query:e=>{let{genre_id:t,...r}=e;return{url:"/foundation/api/genres/".concat(t,"/arts/facets"),params:r,headers:{"accept-version":"2"}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getRootFacets:e.query({query:e=>({url:"/foundation/api/arts/facets",params:e,headers:{"accept-version":"2"}}),transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]})})}),s1=eV.injectEndpoints({endpoints:e=>({getJournalArticleBySlug:e.query({query:e=>({url:"/foundation/api/collections/journal/".concat(e),headers:{"cache-control":"no-cache"}}),transformResponse:e=>e.payload.data,providesTags:(e,t,r)=>[{type:o.COLLECTION,id:r}]}),getJournalArticleArts:e.query({query:e=>{let{slug:t,offset:r,limit:n}=e;return{url:"/foundation/api/collections/journal/".concat(t,"/arts"),params:{limit:n,offset:r},headers:{"accept-version":"2"}}},serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e;return"".concat(t,"_").concat(r.slug)},merge:(e,t)=>({...t,data:[...e.data,...t.data]}),forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getJournalSimilarArticlesBySlug:e.query({query:e=>{let{slug:t,limit:r}=e;return{url:"/foundation/api/collections/journal/".concat(t,"/similar"),params:{limit:r}}},transformResponse:e=>e.payload.data}),addLikeToJournalArticleBySlug:e.mutation({query:e=>({url:"/foundation/api/collections/journal/".concat(e,"/likes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(s1.util.updateQueryData("getJournalArticleBySlug",e,e=>{let t="disliked"===e.user_reaction;Object.assign(e,{user_reaction:"liked",likes:e.likes+1,...t&&{dislikes:e.dislikes-1}})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>[{type:o.COLLECTION,id:r}]}),removeLikeFromJournalArticleBySlug:e.mutation({query:e=>({url:"/foundation/api/collections/journal/".concat(e,"/likes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(s1.util.updateQueryData("getJournalArticleBySlug",e,e=>{Object.assign(e,{user_reaction:"none",likes:e.likes-1})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>[{type:o.COLLECTION,id:r}]}),addDislikeToJournalArticleBySlug:e.mutation({query:e=>({url:"/foundation/api/collections/journal/".concat(e,"/dislikes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(s1.util.updateQueryData("getJournalArticleBySlug",e,e=>{let t="liked"===e.user_reaction;Object.assign(e,{user_reaction:"disliked",dislikes:e.dislikes+1,...t&&{likes:e.likes-1}})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>[{type:o.COLLECTION,id:r}]}),removeDislikeFromJournalArticleBySlug:e.mutation({query:e=>({url:"/foundation/api/collections/journal/".concat(e,"/dislikes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(s1.util.updateQueryData("getJournalArticleBySlug",e,e=>{Object.assign(e,{user_reaction:"none",dislikes:e.dislikes-1})}));try{await n}catch(e){i.undo()}},invalidatesTags:(e,t,r)=>[{type:o.COLLECTION,id:r}]}),getRubrics:e.query({query:()=>({url:"/foundation/api/editorial-collection-rubrics"}),transformResponse:e=>e.payload.data.rubrics}),getRubricBySlug:e.query({query:e=>{let{slug:t}=e;return{url:"/foundation/api/editorial-collection-rubrics/".concat(t)}},transformResponse:e=>e.payload.data})})}),s2=eV.injectEndpoints({endpoints:e=>({getLanding:e.query({query(e){let{slug:t,previewKey:r}=e;return{url:r?"/foundation/api/landings/".concat(t,"?preview_key=").concat(r):"/foundation/api/landings/".concat(t),method:"GET"}},transformResponse:e=>e.payload.data})})}),s5=eV.injectEndpoints({endpoints:e=>({getIsEligibleForMerge:e.query({query:()=>({url:"/foundation/api/users/me/merge-eligible",method:"GET"}),transformResponse:e=>e.payload.data.is_eligible_for_merge})})}),s4=eV.injectEndpoints({endpoints:e=>({addUserReferral:e.mutation({query(e){let{referral_id:t,referral_pin:r,art_id:n}=e;return{url:"/foundation/api/users/referral",method:"POST",body:{referral_id:t,referral_pin:r,art_id:n}}}}),getReferrerPayDays:e.query({query(e){let{referrer_id:t}=e;return{url:"/foundation/api/referrals/referrers/".concat(t),method:"GET"}},transformResponse:e=>e.payload.data.pay_days}),getReferrerType:e.query({query(e){let{referrer_id:t}=e;return{url:"/foundation/api/referrals/referrers/".concat(t),method:"GET"}},transformResponse:e=>e.payload.data.type}),registerFirstLfromVisit:e.mutation({query(e){let{referral_id:t}=e;return{url:"/foundation/api/referrals/click",method:"POST",body:{referral_id:t}}}})})}),s3=eV.injectEndpoints({endpoints:e=>({addAdvCakeReferral:e.mutation({query(e){let{track_id:t,track_url:r}=e;return{url:"/foundation/api/users/external-referral",method:"PUT",body:{track_id:t,track_url:r}}}}),createLead:e.mutation({query(e){let{name:t,email:r,question:n}=e;return{url:"/foundation/api/referrals/leads",method:"POST",body:{name:t,email:r,question:n}}}})})}),s8=eV.injectEndpoints({endpoints:e=>({getNotifications:e.query({query:e=>({url:"/foundation/api/users/me/notifications/personal-account",method:"GET",params:e}),transformResponse:e=>e.payload,providesTags:e=>(null==e?void 0:e.data)?[...e.data.map(e=>{let{id:t}=e;return{type:o.NOTIFICATIONS,id:t}}),{type:o.NOTIFICATIONS,id:"NOTIFICATION-ITEMS"}]:[{type:o.NOTIFICATIONS,id:"NOTIFICATION-ITEMS"}],merge:(e,t,r)=>{let{arg:n}=r;if(null==n?void 0:n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},serializeQueryArgs:e=>{let{endpointName:t}=e;return t}}),setStatus:e.mutation({query:e=>({url:"/foundation/api/users/me/notifications/status",method:"PUT",body:e}),invalidatesTags:(e,t,r)=>{let{notifications:n}=r;return[...n.map(e=>({type:o.NOTIFICATIONS,id:e.id})),o.USER_DETAILED_DATA]},onQueryStarted(e,t){let{notifications:r}=e,{dispatch:n}=t;n(s8.util.updateQueryData("getNotifications",{},e=>{let t=r.map(e=>{let{id:t}=e;return t});e.data.filter(e=>t.includes(e.id)).forEach(e=>{e.is_viewed=!0}),Object.assign(e,{data:e.data.slice()})}))}}),createNotification:e.mutation({query:e=>({url:"/foundation/api/users/me/notifications/subscriptions/email",method:"PUT",body:e})}),getNotificationsSettings:e.query({query:()=>({url:"/foundation/api/users/me/notifications/settings",method:"GET"}),transformResponse:e=>e.payload.data,providesTags:[{type:o.NOTIFICATIONS,id:"SETTINGS"}]}),updateNotificationsSettings:e.mutation({query:e=>({url:"/foundation/api/users/me/notifications/personal-account/settings",method:"PATCH",body:e}),invalidatesTags:[{type:o.NOTIFICATIONS,id:"SETTINGS"}]})})}),s6=eV.injectEndpoints({endpoints:e=>({authorize:e.mutation({query:e=>({url:"/foundation/api/oauth/authorize",params:e}),transformResponse:e=>e.payload.data.redirect_uri}),oauthScopes:e.query({query:()=>({url:"/foundation/api/oauth/scopes",method:"GET"}),transformResponse:e=>e.payload.data.scopes}),getClients:e.query({query:e=>({url:"/foundation/api/oauth/clients/".concat(e.client_id),method:"GET"}),transformResponse:e=>e.payload.data.title}),allowScopes:e.mutation({query:e=>({url:"/foundation/api/oauth/allow-scopes",method:"POST",body:e}),transformResponse:e=>e.payload.data.redirect_uri}),deviceConfirm:e.mutation({query:e=>({url:"/foundation/api/oauth/device/confirm",method:"POST",body:e}),transformResponse:e=>e.payload.data})})});!function(e){e["www.litres.ru"]="www.litres.ru",e["litres.com"]="litres.com",e["litres-tr.com"]="litres-tr.com",e["litres.az"]="litres.az",e["litres.ee"]="litres.ee",e["litres.pl"]="litres.pl",e["litres.de"]="litres.de",e["litres.es"]="litres.es",e["litres.ua"]="litres.ua",e["litres.uz"]="litres.uz",e["litres.eu"]="litres.eu"}(l||(l={}));let s9=eV.injectEndpoints({endpoints:e=>({getOrder:e.query({query:e=>{let{orderId:t,shouldUseFakePaymentUiUrl:r=!1}=e,n="/foundation/api/orders/".concat(t);return!0===r&&(n+="?fake_payment_ui_url=1"),{url:n}},transformResponse:e=>e.payload.data,extraOptions:{...rX}}),createOrder:e.mutation({queryFn:async(e,t)=>{let r=(0,B.retry)(eB({baseUrl:ex()}),{...rX}),n=t.getState().browser.pda,i=t.getState().browser.clientHost,o=i;n&&Object.values(l).includes(i)&&(o="www.litres.ru"===i?"pda.litres.ru":"litres.ua"===i?"pda.litres.ua":"m."+i);let a=await r({url:"/foundation/api/orders",method:"POST",body:{...e},headers:{"client-host":o}},t,{});return a.error?{error:a.error}:{...a.data.payload}}}),getOrderAnalytics:e.query({query:e=>({url:"/foundation/api/orders/".concat(e,"/analytics")}),transformResponse:e=>e.payload.data,extraOptions:{...rX}}),updateGAextendesCookies:e.query({query:()=>({url:"/foundation/api/internal/transferred-cookies",method:"POST"}),transformResponse:e=>e.payload.data,providesTags:()=>[o.GA_EXTENDS]})})});!function(e){e["www.litres.ru"]="www.litres.ru",e["litres.com"]="litres.com",e["litres-tr.com"]="litres-tr.com",e["litres.az"]="litres.az",e["litres.ee"]="litres.ee",e["litres.pl"]="litres.pl",e["litres.de"]="litres.de",e["litres.es"]="litres.es",e["litres.ua"]="litres.ua",e["litres.uz"]="litres.uz",e["litres.eu"]="litres.eu"}(c||(c={}));let s7=eV.injectEndpoints({endpoints:e=>({getPurchasesOrder:e.query({query:e=>{let t="/foundation/api/purchases/orders/".concat(e.orderId),r=new URLSearchParams;return"consider-bonuses"===e.mode&&r.append("consider_bonuses","1"),!0===e.shouldUseFakeFakePaymentUiUrl&&r.append("fake_payment_ui_url","1"),r.size>0&&(t+="?"+r.toString()),{url:t}},transformResponse:e=>e.payload.data,extraOptions:{...rX}}),createPurchasesOrder:e.mutation({queryFn:async(e,t)=>{let r=(0,B.retry)(eB({baseUrl:ex()}),{...rX}),n=t.getState().browser.pda,i=t.getState().browser.clientHost,o=i;n&&Object.values(c).includes(i)&&(o="www.litres.ru"===i?"pda.litres.ru":"litres.ua"===i?"pda.litres.ua":"m."+i);let a=await r({url:"/foundation/api/purchases/orders",method:"POST",body:{...e},headers:{"client-host":o}},t,{});return a.error?{error:a.error}:{...a.data.payload}}}),confirmPurchasesOrder:e.mutation({query:e=>{let{order_id:t,...r}=e;return{url:"/foundation/api/purchases/orders/".concat(t,"/confirm"),method:"PUT",body:{...r}}},transformResponse:e=>e.payload.data,extraOptions:{...rX}}),getOrderAnalytics:e.query({query:e=>({url:"/foundation/api/purchases/orders/".concat(e,"/analytics")}),transformResponse:e=>e.payload.data,extraOptions:{...rX}})})}),ue=eV.injectEndpoints({endpoints:e=>({registerLoyalty:e.mutation({query:()=>({url:"/loyalty/api/loyalty/register",method:"POST"})})})}),ut=e=>eS.stringify(e,{arrayFormat:"none"}),ur=eV.injectEndpoints({endpoints:e=>({getAuthor:e.query({query:e=>({url:"/foundation/api/authors/".concat(e),headers:{"accept-version":"2"}}),transformResponse:e=>e.payload.data}),getPersonArts:e.query({query:e=>{let{authorIdOrSlug:t,limit:r,art_groups:n,show_unavailable:i,is_recommendation:o,sort:a,language:s,requestUrl:u}=e;return{url:u?"/foundation".concat(u):"/foundation/api/authors/".concat(t,"/arts").concat(o?"/recommended":"","?").concat(ut({art_groups:n})),headers:{"accept-version":"2"},params:u?void 0:{limit:r||24,show_unavailable:i||!1,o:a||nz.g3.popular,language:s}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getAuthorsQuotesWithArts:e.query({query:e=>{let{authorIdOrSlug:t,offset:r,limit:n}=e;return{url:"/foundation/api/authors/".concat(t,"/quotes"),headers:{"accept-version":"2"},params:{offset:r,limit:n}}},transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;n.offset>0&&n.needMerge?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination,e.total_count=t.total_count},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getAuthorsRecommend:e.query({query:e=>{let{authorIdOrSlug:t,offset:r,limit:n}=e;return{url:"/foundation/api/authors/".concat(t,"/arts/recommended"),headers:{"accept-version":"2"},params:{offset:r,limit:n}}},transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;n.offset>0?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getSimilarAuthors:e.query({query:e=>{let{authorIdOrSlug:t,limit:r}=e;return{url:"/foundation/api/authors/".concat(t,"/similar"),headers:{"accept-version":"2"},params:{limit:r||5}}},transformResponse:e=>e.payload.data}),getPopularAuthors:e.query({query:e=>({url:"/foundation/api/authors/popular",headers:{"accept-version":"2"},params:e}),transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;n.after?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getPromoArts:e.query({query:e=>{let{authorIdOrSlug:t}=e;return{url:"/foundation/api/authors/".concat(t,"/promo-art"),headers:{"accept-version":"2"}}},transformResponse:e=>e.payload.data}),subscribeAction:e.mutation({query:e=>{let{authorId:t,shouldSubscribe:r}=e;return{url:"/foundation/api/persons/".concat(t,"/subscribe"),method:r?"PUT":"DELETE"}},async onQueryStarted(e,t){let r,{authorId:n,source:i}=e,{dispatch:o,queryFulfilled:a}=t;"my authors page"===i&&(r=o(ur.util.updateQueryData("getUsersAuthors",{},e=>{e.data=e.data.filter(e=>e.id!==n)})));try{await a}catch(e){console.log(e),null==r||r.undo()}},invalidatesTags:[{type:o.MY_BOOKS,id:"STATS"}]}),getUsersAuthors:e.query({query:e=>({url:"/foundation/api/users/me/authors",params:e}),transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;n.after?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getAuthorInterview:e.query({query:e=>({url:"/foundation/api/persons/".concat(e.personIdOrSlug,"/interviews/").concat(e.interviewId)}),transformResponse:e=>e.payload.data}),addLikeToInterview:e.mutation({query:e=>({url:"/foundation/api/persons/interviews/".concat(e.interviewId,"/likes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(ur.util.updateQueryData("getAuthorInterview",e,e=>{let t="dislike"===e.user_reaction;Object.assign(e,{user_reaction:"like",likes_count:e.likes_count+1,...t&&{dislikes_count:e.dislikes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeLikeFromInterview:e.mutation({query:e=>({url:"/foundation/api/persons/interviews/".concat(e.interviewId,"/likes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(ur.util.updateQueryData("getAuthorInterview",e,e=>{Object.assign(e,{user_reaction:null,likes_count:e.likes_count-1})}));try{await n}catch(e){i.undo()}}}),addDislikeToInterview:e.mutation({query:e=>({url:"/foundation/api/persons/interviews/".concat(e.interviewId,"/dislikes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(ur.util.updateQueryData("getAuthorInterview",e,e=>{let t="like"===e.user_reaction;Object.assign(e,{user_reaction:"dislike",dislikes_count:e.dislikes_count+1,...t&&{likes_count:e.likes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeDislikeFromInterview:e.mutation({query:e=>({url:"/foundation/api/persons/interviews/".concat(e.interviewId,"/dislikes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(ur.util.updateQueryData("getAuthorInterview",e,e=>{Object.assign(e,{user_reaction:null,dislikes_count:e.dislikes_count-1})}));try{await n}catch(e){i.undo()}}})})}),un=eV.injectEndpoints({endpoints:e=>({getSettings:e.query({query(e){let t="/foundation/api/users/me/settings/player";return e&&(t+="?art_id=".concat(e)),{url:t,method:"GET"}},transformResponse:e=>e.payload.data}),setSettings:e.mutation({query:e=>{let{artId:t,speed:r}=e;return{url:"/foundation/api/users/me/settings/player",method:"PUT",body:{art_playback_speed:{art_id:t,speed:r}}}}})})});!function(e){e.POPULAR="popular",e.NEW="new"}(d||(d={}));let ui=eV.injectEndpoints({endpoints:e=>({getPublisherDescription:e.query({query:e=>{let{publisherSlug:t}=e;return{url:"/foundation/api/publishers/".concat(t)}},transformResponse:e=>e.payload.data}),getPublisherFacets:e.query({query:e=>{let{publisherSlug:t,limit:r=24,offset:n="0",...i}=e;return{url:"/foundation/api/publishers/".concat(t,"/arts/facets"),params:{...i,limit:r,offset:n}}},transformResponse:e=>e.payload})})});eV.injectEndpoints({endpoints:e=>({getPhoneCodes:e.query({query:()=>({url:"/pages/countriez_phones/",method:"POST",params:{gu_ajax:!0}}),transformResponse:e=>e.countriez})})});let uo=eV.injectEndpoints({endpoints:e=>({getArtsInPurchaseSet:e.query({query:e=>{let{purchaseSetId:t,limit:r}=e;return{url:"/foundation/api/purchase-sets/".concat(t,"/arts?limit=").concat(r,"&count=true")}},transformResponse:e=>e.payload,extraOptions:{...rX}}),getBonusesInPurchaseSet:e.query({query:e=>{let{purchaseSetId:t}=e;return{url:"/foundation/api/purchase-sets/".concat(t,"/bonuses")}},transformResponse:e=>e.payload.data}),getPurchaseSetPrices:e.query({query:e=>{let{purchaseSetId:t}=e;return{url:"/foundation/api/purchase-sets/".concat(t)}},transformResponse:e=>e.payload.data,extraOptions:{...rX}}),createPurchaseSet:e.mutation({query:e=>({url:"/foundation/api/purchase-sets",method:"POST",body:e}),transformResponse:e=>e.payload.data,extraOptions:{...rX}})})}),ua=eV.injectEndpoints({endpoints:e=>({getRecommendation:e.query({query:e=>({url:"/foundation/api/arts/personal-recommendations",params:e}),transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{queryArgs:t}=e,{limit:r,offset:n,...i}=t,o=Object.fromEntries(Object.entries(i).map(e=>{let[t,r]=e;return""===t?["remove",null]:[t,r]}));return eS.stringify(o,{skipNull:!0})},merge:(e,t,r)=>{var n,i,o,a,s,u;let{arg:l}=r,c=Number(l.offset),d=(null===(n=e.pagination)||void 0===n?void 0:n.next_page)?new URLSearchParams(null===(i=e.pagination)||void 0===i?void 0:i.next_page).get("offset"):null,p=(null===(o=e.pagination)||void 0===o?void 0:o.previous_page)?new URLSearchParams(null===(a=e.pagination)||void 0===a?void 0:a.previous_page).get("offset"):null,f=d&&c>=Number(d),h=p&&c<=Number(d);(d||p)&&(f||h)?f?e.data.push(...t.data):h&&e.data.unshift(...t.data):e.data=t.data,e.pagination={...t.pagination,...h?{next_page:null===(s=e.pagination)||void 0===s?void 0:s.next_page}:{},...f?{previous_page:null===(u=e.pagination)||void 0===u?void 0:u.previous_page}:{}}},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),markArtAsNOTRecommended:e.mutation({query:e=>{let{artId:t}=e;return{url:"/foundation/api/users/me/arts/recommendations/exclusions/".concat(t),method:"POST"}}}),markArtAsRecommended:e.mutation({query:e=>{let{artId:t}=e;return{url:"/foundation/api/users/me/arts/recommendations/exclusions/".concat(t),method:"DELETE"}}})})}),us=eV.injectEndpoints({endpoints:e=>({getUserRebills:e.query({query:e=>{let t=e?"?payment_system_ids=".concat(e.join("&payment_system_ids=")):"";return{url:"/foundation/api/users/me/payments/rebills".concat(t)}},providesTags:[o.REBILLS],transformResponse:e=>e.payload.data,extraOptions:{...rX}}),deleteUserRebill:e.mutation({query:e=>({url:"/foundation/api/users/me/payments/rebills/".concat(e),method:"DELETE"}),invalidatesTags:[o.REBILLS]})})}),uu=eV.injectEndpoints({endpoints:e=>({getReview:e.query({query:e=>{let{reviewId:t}=e;return{url:"/foundation/api/reviews/".concat(t)}},transformResponse:e=>e.payload.data,providesTags:(e,t,r)=>[{type:o.REVIEW,id:r.reviewId}]}),getArtReviews:e.query({query:e=>{let{url:t,artId:r,limit:n=5,sortType:i="popular",SID:o,withReplyId:a,withReviewId:s,offset:u}=e,l=t;if(t){let[e,r]=t.split("?");if(r){let t=new URLSearchParams(r);n&&t.delete("limit"),u&&t.delete("offset"),i&&t.delete("o"),a&&t.delete("with_reply_id"),s&&t.delete("with_review_id"),l="".concat(e,"?").concat(t.toString())}}return{url:l?"/foundation/".concat(l):"/foundation/api/arts/".concat(r,"/reviews"),params:{limit:n,o:i,with_reply_id:a,with_review_id:s,offset:u},headers:o?{"Session-Id":o}:void 0}},providesTags:e=>e?[...e.payload.data.map(e=>{let{id:t}=e;return{type:o.ART,id:t}}),{type:o.ART,id:"LIST"}]:[{type:o.ART,id:"LIST"}]}),getUserArtReviews:e.query({query:e=>{let{artId:t,limit:r=10,SID:n}=e;return{url:"/foundation/api/arts/".concat(t,"/user-reviews"),params:{limit:r},headers:n?{"Session-Id":n}:void 0}}}),addArtReview:e.mutation({query:e=>{let{artId:t,text:r}=e;return{url:"/foundation/api/arts/".concat(t,"/reviews"),method:"POST",body:{text:r}}}}),getSeriesReviews:e.query({query:e=>{let{url:t,seriesId:r,limit:n,sortType:i="popular",withReplyId:o,withReviewId:a}=e,s=t;if(t){let[e,r]=t.split("?");if(r){let t=new URLSearchParams(r);n&&t.delete("limit"),i&&t.delete("o"),o&&t.delete("with_reply_id"),a&&t.delete("with_review_id"),s="".concat(e,"?").concat(t.toString())}}return{url:s?"/foundation/".concat(s):"/foundation/api/series/".concat(r,"/reviews"),params:{limit:n,o:i,with_reply_id:o,with_review_id:a}}}}),getUserSeriesReviews:e.query({query:e=>{let{seriesId:t,limit:r=10}=e;return{url:"/foundation/api/series/".concat(t,"/user-reviews"),params:{limit:r}}}}),addSeriesReview:e.mutation({query:e=>{let{seriesId:t,text:r}=e;return{url:"/foundation/api/series/".concat(t,"/reviews"),method:"POST",body:{text:r}}}}),updateReview:e.mutation({query:e=>{let{reviewId:t,text:r}=e;return{url:"/foundation/api/reviews/".concat(t),method:"PUT",body:{text:r}}}}),addReviewLike:e.mutation({query:e=>{let{reviewId:t}=e;return{url:"/foundation/api/reviews/".concat(t,"/likes"),method:"PUT"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uu.util.updateQueryData("getReview",e,e=>{let t=e.is_disliked_by_current_user;Object.assign(e,{is_liked_by_current_user:!0,likes_count:e.likes_count+1,...t&&{is_disliked_by_current_user:!1,dislikes_count:e.dislikes_count-1}})}));try{await n}catch(e){i.undo()}}}),deleteReviewLike:e.mutation({query:e=>{let{reviewId:t}=e;return{url:"/foundation/api/reviews/".concat(t,"/likes"),method:"DELETE"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uu.util.updateQueryData("getReview",e,e=>{Object.assign(e,{is_liked_by_current_user:!1,likes_count:e.likes_count-1})}));try{await n}catch(e){i.undo()}}}),addReviewDislike:e.mutation({query:e=>{let{reviewId:t}=e;return{url:"/foundation/api/reviews/".concat(t,"/dislikes"),method:"PUT"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uu.util.updateQueryData("getReview",e,e=>{let t=e.is_liked_by_current_user;Object.assign(e,{is_disliked_by_current_user:!0,dislikes_count:e.dislikes_count+1,...t&&{is_liked_by_current_user:!1,likes_count:e.likes_count-1}})}));try{await n}catch(e){i.undo()}}}),deleteReviewDislike:e.mutation({query:e=>{let{reviewId:t}=e;return{url:"/foundation/api/reviews/".concat(t,"/dislikes"),method:"DELETE"}},async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uu.util.updateQueryData("getReview",e,e=>{Object.assign(e,{is_disliked_by_current_user:!1,dislikes_count:e.dislikes_count-1})}));try{await n}catch(e){i.undo()}}}),addReviewReply:e.mutation({query:e=>{let{reviewId:t,text:r}=e;return{url:"/foundation/api/reviews/".concat(t,"/replies"),method:"POST",body:{text:r}}}}),addReviewComplain:e.mutation({query:e=>{let{reviewId:t,text:r,reason:n}=e;return{url:"/foundation/api/reviews/".concat(t,"/complain"),method:"PUT",body:{text:r,reason:n}}}}),getAuthorReviews:e.query({query:e=>{let{authorIdOrSlug:t,limit:r,offset:n,url:i,sortType:o="popular",withReplyId:a,withReviewId:s}=e,u=i;if(i){let[e,t]=i.split("?");if(t){let i=new URLSearchParams(t);r&&i.delete("limit"),n&&i.delete("offset"),o&&i.delete("o"),a&&i.delete("with_reply_id"),s&&i.delete("with_review_id"),u="".concat(e,"?").concat(i.toString())}}return{url:u?"/foundation/".concat(u):"/foundation/api/persons/".concat(t,"/reviews"),params:{limit:r,offset:n,o:o,with_reply_id:a,with_review_id:s}}}}),getUserAuthorReviews:e.query({query:e=>{let{authorId:t,limit:r=10}=e;return{url:"/foundation/api/persons/".concat(t,"/user-reviews"),params:{limit:r}}}}),addAuthorReview:e.mutation({query:e=>{let{authorId:t,text:r}=e;return{url:"/foundation/api/persons/".concat(t,"/reviews"),method:"POST",body:{text:r}}}})})});var ul=r(77857);let uc=eV.injectEndpoints({endpoints:e=>({getReceipts:e.query({queryFn:async(e,t)=>{let r=(0,ul.retry)(eB({baseUrl:"https://www.litres.ru"}),{...rX}),n=await r({url:"/receipt/?mm=".concat(e.receiptId),method:"GET",headers:{Authorization:t.getState().foundationUser.SID,cookie:"SID=".concat(t.getState().foundationUser.SID,";")}},t,{});return n.error?{error:n.error}:{data:n.data}}})})}),ud=eV.injectEndpoints({endpoints:e=>({getSeriesArts:e.query({query:e=>{let{series_id:t,limit:r=12,...n}=e;return{url:"/foundation/api/series/".concat(t,"/arts"),params:{limit:r,...n}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getSeriesArtsByArtId:e.query({query:e=>{let{artId:t,limit:r=12,...n}=e;return{url:"/foundation/api/arts/".concat(t,"/series/arts"),params:{limit:r,...n}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getSeriesFacets:e.query({query:e=>{let{seriesIdOrSlug:t,limit:r=24,offset:n="0",...i}=e;return{url:"/foundation/api/series/".concat(t,"/arts/facets"),params:{...i,limit:r,offset:n},headers:{"accept-version":"2"}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]}),getSeriesMetaInfo:e.query({query:e=>{let{seriesIdOrSlug:t}=e;return{url:"/foundation/api/series/".concat(t)}},transformResponse:e=>e.payload.data}),getSeriesPrices:e.query({query:e=>{let{seriesIdOrSlug:t}=e;return{url:"/foundation/api/series/".concat(t,"/price")}},transformResponse:e=>e.payload.data})})}),up=eV.injectEndpoints({endpoints:e=>({getSubscriptionPrices:e.query({query:e=>{let{subscriptionType:t}=e,r=new URLSearchParams({subscription_type:String(t),experimental:"true",deprecated:"true",all:"true"});return{url:"/foundation/api/subscriptions?".concat(r.toString())}},transformResponse:e=>e.payload.data,extraOptions:{...rX}}),getUserSubscriptionsInfo:e.query({query:()=>({url:"/foundation/api/users/me/subscriptions/detailed"}),transformResponse:e=>e.payload.data,extraOptions:{...rX}}),changeSubscriptionRebill:e.mutation({query(e){let{rebillId:t,subscriptionId:r}=e;return{url:"/foundation/api/users/me/subscriptions/".concat(r,"/rebill/change"),method:"PUT",body:{rebill_id:t}}},extraOptions:{...rX}}),subscribeToWink:e.mutation({query:()=>({url:"/foundation/api/subscriptions/wink",method:"POST"})})})}),uf=eV.injectEndpoints({endpoints:e=>({cancelSubscriptionProduct:e.mutation({query:e=>{let{id:t,new_auto_renew_status:r}=e;return{url:"/foundation/api/users/me/subscriptions/".concat(t,"/auto-renew-status"),method:"PUT",body:{auto_renew_status:r}}}})})}),uh=eV.injectEndpoints({endpoints:e=>({getTagsNaming:e.query({query:e=>{let{tagIdOrSlug:t}=e;return{url:"/foundation/api/tags/".concat(t)}},transformResponse:e=>e.payload.data}),getTagFacets:e.query({query:e=>{let{tagIdOrSlug:t,limit:r=24,offset:n="0",...i}=e;return{url:"/foundation/api/tags/".concat(t,"/arts/facets"),params:{...i,limit:r,offset:n},headers:{"accept-version":"2"}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST,{type:o.TAG_FACETS,id:"TAG_FACETS"}]:[{type:o.TAG_FACETS,id:"TAG_FACETS"},o.ART_SHORT_LIST]})})}),um=eV.injectEndpoints({endpoints:e=>({getUserUploadedArts:e.query({query:()=>({url:"/foundation/api/users/me/arts/upload"}),transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS]}),uploadArt:e.mutation({query:e=>{let{file:t}=e;return{url:"/foundation/api/users/me/arts/upload",method:"POST",body:{art:t},headers:{"Content-Type":"multipart/form-data"}}}}),uploadArtByHash:e.mutation({query:e=>{let{hash:t}=e;return{url:"/foundation/api/users/me/arts/".concat(t,"/upload"),method:"POST",headers:{"Content-Type":"multipart/form-data"}}}}),getUserUploadsStatus:e.query({query:()=>({url:"/foundation/api/users/me/uploads"}),transformResponse:e=>e.payload.data}),getUserUploadStatus:e.query({query:e=>{let{upload_id:t}=e;return{url:"/foundation/api/users/me/uploads/".concat(t,"/status")}},transformResponse:e=>e.payload.data})})}),ug=eV.injectEndpoints({endpoints:e=>({getUserArtsStats:e.query({query:()=>({url:"/foundation/api/users/me/arts/stats"}),transformResponse:e=>e.payload.data,providesTags:[{type:o.MY_BOOKS,id:"STATS"}]}),getUserProgressArts:e.query({query:e=>{let{limit:t,art_groups:r,after:n,only_in_subscription_id:i}=e;return{url:"/foundation/api/users/me/arts/in-progress",params:{limit:t,art_groups:r,after:n,only_in_subscription_id:i}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getUserArts:e.query({query:e=>{let{limit:t,art_groups:r,read_status:n,after:i}=e;return{url:"/foundation/api/users/me/arts",params:{limit:t,art_groups:r,read_status:n,after:i}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getUserLibraryArts:e.query({query:e=>{let{limit:t,art_groups:r,library_request_verdicts:n,read_status:i,after:o}=e;return{url:"/foundation/api/users/me/arts/library",params:{limit:t,art_groups:r,library_request_verdicts:n,read_status:i,after:o}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),removeArt:e.mutation({query:e=>{let{artId:t}=e;return{url:"/foundation/api/users/me/arts/".concat(t,"/remove"),method:"PUT"}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.MY_BOOKS,id:n},{type:o.MY_BOOKS,id:"STATS"},"Folders"]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,queryFulfilled:i,getState:a}=t,s=a(),u=eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).map(e=>sA(r,n,e));try{await i}catch(e){console.log(e),u.forEach(e=>{e.undo()})}}}),getUserLastViewedArts:e.query({query:e=>{let{limit:t,art_groups:r,exclude_user_arts:n,after:i}=e;return{url:"/foundation/api/users/me/arts/last-viewed",params:{limit:t,art_groups:r,exclude_user_arts:n,after:i},headers:{"Accept-Version":2}}},transformResponse:e=>e.payload,providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]})})}),u_=eV.injectEndpoints({endpoints:e=>({getOnboardingGenres:e.query({query:()=>({url:"/foundation/api/onboarding/genres"}),transformResponse:e=>e.payload.data}),getOnboardingArtsByGenres:e.query({query:e=>{let{genresIds:t}=e;return{url:"/foundation/api/onboarding/arts",params:{genres_ids:t}}},transformResponse:e=>e.payload.data}),getUserSettingsPopup:e.query({query:()=>({url:"/foundation/api/users/me/settings/popup"}),transformResponse:e=>e.payload.data,providesTags:[o.POPUPS]}),saveViewedPopup:e.mutation({query:e=>{let{popupIds:t}=e;return{url:"/foundation/api/users/me/settings/popup",method:"PUT",body:{viewed_popups:t}}},invalidatesTags:[o.POPUPS]}),saveUserPreferences:e.mutation({query:e=>{let{preferences:t}=e;return{url:"/foundation/api/users/me/onboarding",method:"PUT",body:t}},onQueryStarted:async(e,t)=>{let{dispatch:r,queryFulfilled:n}=t,i=r(u_.util.updateQueryData("getUserSettingsPopup",void 0,e=>{var t;null===(t=e.viewed_popups)||void 0===t||t.push("onboarding")}));try{await n}catch(e){i.undo()}}})})}),uv=eV.injectEndpoints({endpoints:e=>({getWishlistArts:e.query({query:e=>{let{limit:t,art_groups:r,after:n,only_in_subscription_id:i}=e;return{url:"/foundation/api/wishlist/arts",params:{limit:t,art_groups:r,after:n,only_in_subscription_id:i},headers:{"accept-version":"2"}}},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.MY_BOOKS,id:t}}),...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST,o.MY_BOOKS],transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),addToWishlist:e.mutation({query(e){let{artId:t}=e;return{url:"/foundation/api/wishlist/arts/".concat(t),method:"PUT",headers:{"accept-version":"2"}}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.CART,id:n},{type:o.MY_BOOKS,id:n},{type:o.ART,id:n},{type:o.MY_BOOKS,id:"STATS"},o.FOLDERS,o.USER_MONETIZATION_DATA]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=!!s.foundationUser.id;u||ux(s,r,n);let l=eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getWishlistArts"!==e.endpointName),c=eV.util.selectInvalidatedBy(s,[{type:o.ART,id:r}]).filter(e=>"getArtData"===e.endpointName),d=l.map(e=>sT(r,n,e));d.push(...c.map(e=>{var t;return n(null===(t=eV.util)||void 0===t?void 0:t.updateQueryData(e.endpointName,e.originalArgs,e=>{Object.assign(e,{is_liked:!0})}))}));try{await a}catch(e){console.log(e),d.forEach(e=>{e.undo()}),u||uS(s,r,n)}}}),removeFromWishlist:e.mutation({query(e){let{artId:t}=e;return{url:"/foundation/api/wishlist/arts/".concat(t),method:"DELETE",headers:{"accept-version":"2"}}},invalidatesTags:(e,t,r)=>{let{artId:n}=r;return[{type:o.CART,id:n},{type:o.MY_BOOKS,id:n},{type:o.ART,id:n},{type:o.MY_BOOKS,id:"STATS"},o.FOLDERS,o.USER_MONETIZATION_DATA]},async onQueryStarted(e,t){let{artId:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i(),u=!!s.foundationUser.id;u||uS(s,r,n);let l=eV.util.selectInvalidatedBy(s,[{type:o.ART_SHORT_LIST,id:r}]).filter(e=>"getWishlistArts"!==e.endpointName),c=eV.util.selectInvalidatedBy(s,[{type:o.MY_BOOKS,id:r}]).filter(e=>"getWishlistArts"===e.endpointName),d=eV.util.selectInvalidatedBy(s,[{type:o.ART,id:r}]).filter(e=>"getArtData"===e.endpointName),p=l.map(e=>sj(r,n,e));p.push(...c.map(e=>sA(r,n,e))),p.push(...d.map(e=>{var t;return n(null===(t=eV.util)||void 0===t?void 0:t.updateQueryData(e.endpointName,e.originalArgs,e=>{Object.assign(e,{is_liked:!1})}))}));try{await a}catch(e){console.log(e),p.forEach(e=>{e.undo()}),u||ux(s,r,n)}}}),addArtsListToWishlist:e.mutation({query(e){let{artIds:t}=e;return{url:"/foundation/api/wishlist/arts",method:"POST",body:{art_ids:t},headers:{"accept-version":"2"}}},invalidatesTags:(e,t,r)=>{let{artIds:n}=r;return[...n.map(e=>({type:o.CART,id:e})),...n.map(e=>({type:o.MY_BOOKS,id:e})),o.FOLDERS,o.USER_MONETIZATION_DATA]},async onQueryStarted(e,t){let{artIds:r}=e,{dispatch:n,getState:i,queryFulfilled:a}=t,s=i();s.foundationUser.id||uy(s,r,n);let u=eV.util.selectInvalidatedBy(s,[...r.map(e=>({type:o.MY_BOOKS,id:e}))]).filter(e=>"getWishlistArts"!==e.endpointName).map(e=>sT(r,n,e));try{await a}catch(e){console.log(e),u.forEach(e=>{e.undo()}),s.foundationUser.id||ub(s,r,n)}}})})}),uy=(e,t,r)=>{let n=e.foundationUser.LKS,i=[...n,...t.map(e=>String(e)).filter(e=>!n.includes(e))],o=i.join(",");(0,P.d8)("LKS_LAST",String(i.length)),(0,P.d8)("LKS",o),r(n_({LKS:i})),r(eN(["Wishlist",o]))},ub=(e,t,r)=>{let n=e.foundationUser.LKS.filter(e=>!t.includes(Number(e))),i=n.join(",");(0,P.d8)("LKS_LAST",String(n.length)),(0,P.d8)("LKS",i),r(n_({LKS:n})),r(eN(["Wishlist",i]))},ux=(e,t,r)=>{let n=[...e.foundationUser.LKS,"".concat(t)],i=n.join(",");(0,P.d8)("LKS_LAST",String(n.length)),(0,P.d8)("LKS",i),r(n_({LKS:n})),r(eN(["Wishlist",i]))},uS=(e,t,r)=>{let n=e.foundationUser.LKS.filter(e=>t!==Number(e)),i=n.join(",");(0,P.d8)("LKS_LAST",String(n.length)),(0,P.d8)("LKS",i),r(n_({LKS:n})),r(eN(["Wishlist",i]))},uw=eV.injectEndpoints({endpoints:e=>({getQuote:e.query({query:e=>({url:"/foundation/api/arts/".concat(e.artIDorSlug,"/quotes/").concat(e.quoteUUID)}),transformResponse:e=>e.payload.data,providesTags:(e,t,r)=>[{type:o.QUOTE,id:r.quoteUUID}]}),addLikeToQuoteByUuid:e.mutation({query:e=>({url:"/foundation/api/quotes/".concat(e.quoteUUID,"/likes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uw.util.updateQueryData("getQuote",e,e=>{let t="dislike"===e.user_reaction;Object.assign(e,{user_reaction:"like",likes_count:e.likes_count+1,...t&&{dislikes_count:e.dislikes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeLikeFromQuoteByUuid:e.mutation({query:e=>({url:"/foundation/api/quotes/".concat(e.quoteUUID,"/likes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uw.util.updateQueryData("getQuote",e,e=>{Object.assign(e,{user_reaction:"no_reaction",likes_count:e.likes_count-1})}));try{await n}catch(e){i.undo()}}}),addDislikeToToQuoteByUuid:e.mutation({query:e=>({url:"/foundation/api/quotes/".concat(e.quoteUUID,"/dislikes"),method:"PUT"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uw.util.updateQueryData("getQuote",e,e=>{let t="like"===e.user_reaction;Object.assign(e,{user_reaction:"dislike",dislikes_count:e.dislikes_count+1,...t&&{likes_count:e.likes_count-1}})}));try{await n}catch(e){i.undo()}}}),removeDislikeFromQuoteByUuid:e.mutation({query:e=>({url:"/foundation/api/quotes/".concat(e.quoteUUID,"/dislikes"),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:r,queryFulfilled:n}=t,i=r(uw.util.updateQueryData("getQuote",e,e=>{Object.assign(e,{user_reaction:"no_reaction",dislikes_count:e.dislikes_count-1})}));try{await n}catch(e){i.undo()}}})})});eV.injectEndpoints({endpoints:e=>({getCollections:e.query({query:()=>({url:"/foundation/api/subscription-landing/collections",method:"GET"}),transformResponse:e=>e.payload.data})})});let uk=eV.injectEndpoints({endpoints:e=>({getUserInfo:e.query({query:e=>{let{userId:t}=e;return{url:"/foundation/api/users/".concat(t),params:{}}},transformResponse:e=>e.payload.data,forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getUserReviews:e.query({query:e=>{let{userId:t,after:r,limit:n}=e;return{url:"/foundation/api/user/".concat(t,"/reviews"),params:{limit:n,after:r}}},transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t}=e;return t},merge:(e,t,r)=>{let{arg:n}=r;n.after?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getUserQuotes:e.query({query:e=>{let{userId:t,limit:r,offset:n}=e;return{url:"/foundation/api/users/".concat(t,"/quotes"),params:{limit:r,offset:n}}},serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e;return"".concat(t,"_").concat(r.userId)},merge:(e,t)=>({...t,data:[...e.data,...t.data]}),transformResponse:e=>e.payload,forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}}),getUserFolders:e.query({query:e=>{let{userId:t,limit:r,offset:n}=e;return{url:"/foundation/api/users/".concat(t,"/folders"),params:{limit:r,offset:n}}},serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e;return"".concat(t,"_").concat(r.userId)},merge:(e,t)=>({...t,data:[...e.data,...t.data]}),transformResponse:e=>e.payload,forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}})})}),uE=eV.injectEndpoints({endpoints:e=>({redeem:e.mutation({query(e){let{code:t}=e;return{url:"/foundation/api/promocodes/redeem",method:"POST",body:{code:t}}},transformResponse:e=>e})})}),uC=eV.injectEndpoints({endpoints:e=>({createTicket:e.mutation({query:e=>{let t=new FormData;for(let[r,n]of Object.entries(e))t.append(r,n);return t.append("log",new Blob([""])),{url:"/foundation/api/helpdesk/tickets",method:"POST",headers:{"Content-Type":"multipart/form-data;"},body:t,formData:!0}}})})}),uT=eV.injectEndpoints({endpoints:e=>({getFoundationUserReferralPurchase:e.query({query:e=>{let{limit:t,offset:r}=e;return{url:"/foundation/api/users/me/friends-shopping",params:{limit:t,offset:r}}},providesTags:[o.USER_REFERRALS],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>e.payload,merge:(e,t,r)=>{let{arg:n}=r;n.offset?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}})})}),uj=eV.injectEndpoints({endpoints:e=>({getUserOperations:e.query({query:e=>{let{limit:t,offset:r}=e;return{url:"/foundation/api/users/me/operations",params:{limit:t,offset:r}}},providesTags:[o.USER_OPERATIONS],serializeQueryArgs:e=>{let{endpointName:t}=e;return t},transformResponse:e=>e.payload,merge:(e,t,r)=>{let{arg:n}=r;n.offset?e.data.push(...t.data):e.data=t.data,e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)}})})});!function(e){e[e.ALL=0]="ALL",e[e.TEXT=1]="TEXT",e[e.AUDIO=2]="AUDIO",e[e.PODCAST=10]="PODCAST",e[e.PODCAST_EPISODE=11]="PODCAST_EPISODE"}(p||(p={}));let uA=eV.injectEndpoints({endpoints:e=>({getLibraryArts:e.query({query:e=>{let{library_ids:t,my_libraries_arts_filter:r,art_groups:n,limit:i,after:o}=e;return{method:"GET",url:"/foundation/api/users/me/libraries/arts",params:{library_ids:t,my_libraries_arts_filter:r,art_groups:n,limit:i,after:o}}},transformResponse:e=>e.payload,serializeQueryArgs:e=>{let{endpointName:t,queryArgs:r}=e,{after:n,...i}=r;return"".concat(t,"_").concat(JSON.stringify(i))},merge:(e,t,r)=>{let{arg:n}=r;if(n.after){let r=t.data.filter(t=>!e.data.find(e=>e.id===t.id));e.data.push(...r)}else e.data=t.data;e.pagination=t.pagination},forceRefetch(e){let{currentArg:t,previousArg:r}=e;return!sb()(t,r)},providesTags:e=>e?[...e.data.map(e=>{let{id:t}=e;return{type:o.ART_SHORT_LIST,id:t}}),o.ART_SHORT_LIST]:[o.ART_SHORT_LIST]})})}),uR=eV.injectEndpoints({endpoints:e=>({getActiveExternalLoyalty:e.query({query(e){let{loyalty_token:t}=e;return{url:"/foundation/api/users/me/loyalty/external/".concat(t),method:"GET"}},transformResponse:e=>e.payload.data}),addMnogoruCard:e.mutation({query(e){let{card:t}=e;return{url:"/foundation/api/users/me/loyalty/external/mnogoru",method:"POST",body:{card:t}}}}),setMnogoruCardActive:e.mutation({query:()=>({url:"/foundation/api/users/me/loyalty/external/mnogoru/set-active",method:"PUT"})})})});!function(e){e.archived="archive",e.cart="cart",e.campaigns="campaigns",e.cloud="cloud",e.library="library",e.wishlist="favorites",e.purchased="my",e.inProgress="read_listen",e.finished="finished",e.folders="user_lists"}(f||(f={}))},23396:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return parseGUAjaxJSONfromHTML}});let parseGUAjaxJSONfromHTML=html=>{let responseJson={};if("string"==typeof html){let isGUAjax=-1!==html.indexOf("var GUAjaxData"),isSimulatedGUAjax=-1!==html.indexOf("var SimulatedGUAjaxData");if(isGUAjax){let dataString=html.toString(),firstBrace=isGUAjax?dataString.indexOf("var GUAjaxData")+17:dataString.indexOf("{"),lastBrace=dataString.lastIndexOf("}")+1;if(firstBrace<=0&&!isGUAjax)return null;let responseJsonString=dataString.slice(firstBrace,lastBrace);try{responseJson=JSON.parse(responseJsonString)}catch(error){console.error("GUJ/CSRF Parsing Error: ",error)}}if(isSimulatedGUAjax){let dataString=html.toString(),firstBrace=dataString.indexOf("var SimulatedGUAjaxData")+26,lastBrace=dataString.lastIndexOf("};//EOF")+1;if(firstBrace<=0)return null;let responseJsonString=dataString.slice(firstBrace,lastBrace);try{responseJson=eval("(".concat(responseJsonString,")"))}catch(error){console.error("GUJ/CSRF(Simulated) Parsing Error: ",error)}}}return"object"==typeof html&&(responseJson=html),responseJson}},59978:function(e,t,r){"use strict";r.d(t,{b:function(){return c},p:function(){return n}});var n,i=r(31549);r(44194);var o=r(51865),a=r.n(o),s=r(4438);!function(e){e.info="info",e.error="error",e.safe="safe"}(n||(n={}));var u=r(8282),l=r.n(u);let c=e=>{let{mode:t,children:r,title:o,accent:u,blank:c,className:d}=e;return(0,i.jsxs)("div",{className:a()(l().alert,{[l().alert_info]:t===n.info,[l().alert_error]:t===n.error,[l().alert_safe]:t===n.safe,[l().alert_accent]:!!u&&!c,[l().alert_blank]:!!c},d),children:[(0,i.jsxs)("div",{className:l().alert__icon,children:[t===n.info&&(0,i.jsx)(s.uQ,{name:"infoFilled",size:16}),t===n.error&&(0,i.jsx)(s.uQ,{name:"alertFilled",size:16}),t===n.safe&&(0,i.jsx)(s.uQ,{name:"safetyFill",size:16})]}),(0,i.jsxs)("div",{children:[o&&(0,i.jsx)("div",{className:l().alert__title,children:o}),r&&(0,i.jsx)("div",{className:l().alert__description,"data-testid":"alert__description",children:r})]})]})}},28061:function(e,t,r){"use strict";r.d(t,{q:function(){return _},f:function(){return n}});var n,i=r(31549),o=r(44194),a=r(51865),s=r.n(a);!function(e){e.Author="author",e.User="user"}(n||(n={}));let u=(e,t,r)=>{let n="".concat("000000000000".substr(0,12-e.toString().length)).concat(e),i="https://cdn.litres.ru/pub/avatar/100/".concat(n.substr(0,2),"/").concat(n.substr(2,2),"/").concat(n.substr(4,2),"/").concat(n.substr(6,2),"/").concat(n.substr(8,2),"/").concat(n.substr(10,2),"/").concat(e,".jpg");return r?i:i.replace("".concat(e,".jpg"),"".concat(e,"_").concat(t,".jpg"))},l=(e,t,r)=>{let n="".concat("000000000000".substr(0,10-e.toString().length)).concat(e),i="https://cdn.litres.ru/pub/authors/1".concat(n.substr(0,2),"/").concat(n.substr(2,2),"/").concat(n.substr(4,2),"/").concat(n.substr(6,2),"/").concat("00000000".substr(0,8-e.toString().length)).concat(e,".jpg");return r?i:i.replace("".concat(e,".jpg"),"".concat(e,"_").concat(t,".jpg"))};var c=r.p+"static/media/noPhoto24.752133b7.svg",d=r.p+"static/media/noPhoto40.58130e5c.svg",p=r.p+"static/media/noPhoto68.7b26812b.svg",f=r.p+"static/media/noPhoto100.f1b178f4.svg",h=r(9776),m=r.n(h),g=r(55714);let _=e=>{let{className:t,onClick:r,contentTop:n,contentBottom:a,imgAnchor:u,e2eId:l,tabIndex:c,...d}=e;return(0,i.jsxs)("div",{className:s()(m().wrapper,{[m().onClick]:!!r},t),onClick:r,"data-testid":l,tabIndex:c,role:"presentation",children:[(0,o.createElement)(u?g.rU:o.Fragment,u?{href:u,className:m().onClick,onClick:e=>{e.preventDefault(),window.location.href=u}}:null,(0,i.jsx)(v,{...d})),(n||a)&&(0,i.jsxs)("div",{className:m().content,children:[(0,i.jsx)("div",{className:m().topContent,children:n}),(0,i.jsx)("div",{className:m().bottomContent,children:a})]})]})},v=e=>{let t="https://cdn.litres.ru",r=e.containerSize||e.size,a=(0,o.useMemo)(()=>(e.type===n.Author?l:u)(e.id,e.size,e.removeSizeFromImgUrl),[e.id,e.removeSizeFromImgUrl,e.size,e.type]),h=(0,o.useMemo)(()=>{if(e.type===n.User){if(r>68);else if(r>40)return p;else if(r>24)return d;else return c}return f},[e.type,r]),g=(0,o.useMemo)(()=>{if(e.imageURL){var r;return e.removeSizeFromImgUrl?"".concat(t).concat(e.imageURL):"".concat(t).concat(null===(r=e.imageURL)||void 0===r?void 0:r.replace(String(e.id),String(e.id)+"_".concat(e.size)))}return e.hasAvatar?e.hash?"".concat(a,"?v=").concat(e.hash):a:h},[e.imageURL,e.hasAvatar,e.hash,a,h]);return(0,i.jsx)("img",{src:g,style:{width:r,height:r,"--fallbackBg":"url(".concat(h,")")},className:s()(m().avatar,e.imgClassName),loading:e.loading,decoding:e.decoding,alt:e.alt,"aria-hidden":"true"})}},66450:function(e,t,r){"use strict";r.d(t,{R:function(){return k}});var n=r(31549),i=r(44194),o=r(59838),a=r(36921),s=r(56321);let u=e=>{let t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t},l=e=>{let{id:t,open:r,children:o}=e,[a,l]=(0,i.useState)();function c(){return e=>{"key"in e&&"Enter"!==e.key&&" "!==e.key||e.stopPropagation()}}return(0,i.useEffect)(()=>{if(r)return l(document.getElementById(t)||u(t)),()=>{a&&document.body.removeChild(a)}},[]),r&&a?(0,n.jsx)("div",{onClick:c(),onKeyDown:c(),children:s.createPortal(o,a)}):null};var c=r(41432);let d=e=>{let[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r(e)},[e]),t},p=300;var f=r(61902),h=r.n(f);let m=e=>{let{open:t,onClose:r}=e,o=(0,i.useRef)(null),a=d(t),s=e=>{e.preventDefault()};return(0,i.useEffect)(()=>{let e=document.body.style.overflow,t=o.current;return document.body.style.overflow="hidden",t&&t.addEventListener("touchmove",s),()=>{document.body.style.overflow=e,t&&t.removeEventListener("touchmove",s)}},[]),(0,n.jsx)(c.Z,{timeout:p,nodeRef:o,in:a,classNames:{enter:h().overlay__enter,enterActive:h().overlay__enter_active,exit:h().overlay__exit,exitActive:h().overlay__exit_active},children:(0,n.jsx)("div",{ref:o,className:h().overlay,onClick:r,"data-testid":"overlay__wrapper"})})};var g=r(51865),_=r.n(g),v=r(4438),y=r(85199),b=r.n(y),x=r(67504);let S=e=>{let{open:t,title:r,onClose:o,children:a,wrapperClassName:s,containerClassName:u,contentTestId:l="overlay__container"}=e,{t:f}=(0,x.b)(),h=(0,i.useRef)(null),m=(0,i.useRef)(null),g=(0,i.useRef)(0),y=(0,i.useRef)(!1),[S,w]=(0,i.useState)(0),k=d(t),E=e=>{g.current=e.touches[0].clientY},C=()=>{y.current&&o()},T=e=>{e.preventDefault();let t=e.touches[0].clientY-g.current;t>=0&&(w(e=>e+t),y.current=!0,g.current=e.touches[0].clientY)};return(0,i.useEffect)(()=>{"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||console.error("Компонент BottomSheet из ui-kit был открыт не на touch-устройстве. Это неправильное использование компонента.");let e=m.current;return e&&(e.addEventListener("touchstart",E),e.addEventListener("touchend",C),e.addEventListener("touchmove",T)),()=>{e&&(e.removeEventListener("touchstart",E),e.removeEventListener("touchend",C),e.removeEventListener("touchmove",T))}},[]),(0,n.jsx)(c.Z,{timeout:p,nodeRef:h,in:k,classNames:{enter:b().container__enter,enterActive:b().container__enter_active,exit:b().container__exit,exitActive:b().container__exit_active},children:(0,n.jsxs)("div",{ref:h,className:_()(b().container,u),style:{transform:"translateY(".concat(S,"px)")},"data-testid":l,children:[(0,n.jsxs)("div",{className:b().header,ref:m,"data-testid":"overlay__header",children:[!!r&&(0,n.jsx)("h4",{className:b().header__title,children:r}),(0,n.jsx)("button",{type:"button","aria-label":f("Закрыть"),tabIndex:0,className:b().header__closeButton,onClick:o,"data-testid":"overlay__closeButton",children:(0,n.jsx)(v.uQ,{name:"close",size:24})})]}),(0,n.jsx)("div",{className:_()(b().content,s),children:a})]})})},w=e=>{let[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let n;return e&&!t?r(!0):!e&&t&&(n=setTimeout(()=>{r(!1)},p)),()=>{n&&clearTimeout(n)}},[e]),t},k=e=>{let{open:t,onClose:r,children:s}=e,u=w(t),c=o.Ym&&u;return((0,i.useEffect)(()=>{c?a.Z.publish("helpdeskeddy-hide-widget"):a.Z.publish("helpdeskeddy-show-widget")},[c]),c)?(0,n.jsxs)(l,{open:u,id:"bottom-sheet-portal",children:[(0,n.jsx)(m,{open:t,onClose:r}),(0,n.jsx)(S,{...e,children:s})]}):null}},39319:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(31549),i=r(44194),o=r(26012);let a=(0,i.forwardRef)((e,t)=>(0,n.jsx)(o.z,{...e,ref:t}));a.displayName="Button"},26012:function(e,t,r){"use strict";r.d(t,{z:function(){return m}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(4438),u=r(12952),l=r.n(u),c=r(286),d=r(96780),p=r(55714);let f=l(),h=e=>{let{loading:t,success:r,text:i,secondaryText:o,icon:u,iconClassName:p,iconPosition:f,textContainerClassName:h,size:m}=e;return(0,n.jsxs)("div",{className:a()(l().buttonContent,{[l().buttonContent_loading]:t,[l().buttonContent_success]:r}),children:[t&&(0,n.jsx)("div",{className:l().buttonLoader,children:"small"===m||"very-small"===m?(0,n.jsx)(c.B,{}):(0,n.jsx)(d.$,{})}),r&&(0,n.jsx)("div",{className:l().buttonCheckmark,children:(0,n.jsx)(s.uQ,{className:l().buttonCheckmarkSpriteIcon,name:"check",size:"small"===m||"very-small"===m?16:24})}),(0,n.jsxs)("div",{className:l().buttonContent__inner,"data-testid":"button__content",children:[u&&"right"!==f&&(0,n.jsx)("div",{className:a()(l().buttonIcon,p),children:u}),(0,n.jsxs)("div",{className:a()(l().textContainer,h),children:[i,o&&"small"!==m&&"very-small"!==m&&(0,n.jsx)("div",{className:l().secondaryText,children:o})]}),u&&"right"===f&&(0,n.jsx)("div",{className:a()(l().buttonIcon,l().buttonIcon_right,p),children:u})]})]})},m=(0,i.forwardRef)((e,t)=>{let{id:r,type:i="button",disabled:o,loading:s,success:u,text:c,textContainerClassName:d,secondaryText:m,icon:g,iconClassName:_,iconPosition:v,size:y,mode:b,customColor:x,fullWidth:S,className:w,onClick:k,href:E,style:C,targetBlank:T,analyticsId:j,e2eId:A,tabIndex:R,...O}=e,P={type:i,tabIndex:R,...O};P=o?{...P,disabled:!0}:P;let L={loading:s,success:u,text:c,textContainerClassName:d,secondaryText:m,icon:g,iconClassName:_,iconPosition:v,size:y},I=a()(l().button,f["button_".concat(y)],x?void 0:f["button_".concat(b)],{[l().button_primary]:!!x,[l().button_fullWidth]:S,[l().button_loading]:s,[l().button_success]:u},w),N=null!=C?C:{};x&&"string"==typeof x?N={"--button-background-default":x,"--button-background-hover":x,"--button-background-active":x}:"string"!=typeof x&&(null==x?void 0:x.default)&&(N={"--button-background-default":x.default,"--button-background-hover":x.hover||x.default,"--button-background-active":x.active||x.default},x.text&&(N={...N,"--button-text-color":x.text}));let F=e=>{"submit"!==i&&"reset"!==i&&("function"==typeof k&&k(e),!e.defaultPrevented&&E&&(e.preventDefault(),T?window.open(E,"_blank"):window.location.href=E))},D=T?"_blank":void 0;return E?(0,n.jsx)(p.rU,{ref:t,href:E,className:I,style:N,onClick:F,target:D,"data-analytics-id":j,"data-testid":A,role:"button",...O,tabIndex:R,id:r,children:(0,n.jsx)(h,{...L})}):(0,n.jsx)("button",{ref:t,...P,className:I,style:N,onClick:F,"data-analytics-id":j,"data-testid":A,id:r,children:(0,n.jsx)(h,{...L})})});m.displayName="Button"},98071:function(e,t,r){"use strict";r.d(t,{X:function(){return n.X}});var n=r(97339)},97339:function(e,t,r){"use strict";r.d(t,{X:function(){return d}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o);function s(e){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}var u=r(79257),l=r.n(u),c=r(286);let d=e=>{let{text:t,isCheckedDefault:r,isLoadingDefault:o,width:u,onChange:d,secondText:p,...f}=e,h=(0,i.useMemo)(()=>{var e;return null!==(e=f.id)&&void 0!==e?e:s(10)},[f.id]),[m,g]=(0,i.useState)(r),[_,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{g(r)},[r]);let y=e=>{d&&d(e.target.checked,v),g(e.target.checked)};return(0,n.jsxs)("div",{className:a()(l().container,f.className),children:[(0,n.jsx)("input",{type:"checkbox",id:h,name:f.name,disabled:f.disabled||_,checked:m,onChange:y,tabIndex:0,"data-testid":"checkboxState".concat(m?"--checked":"--disabled")}),(0,n.jsxs)("label",{htmlFor:h,className:l().label,style:{width:null!=u?u:"auto"},children:[_||o?(0,n.jsx)("div",{className:l().loader,children:(0,n.jsx)(c.B,{mode:"dark"})}):(0,n.jsx)("div",{className:a()(l().fakeCheckbox,f.checkboxClassName),children:(0,n.jsx)("div",{className:l().check,children:(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M3.2 8l3.2 3.2 6.4-6.4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),t,p&&(0,n.jsx)("span",{className:l().secondText,children:p})]})]})}},286:function(e,t,r){"use strict";r.d(t,{B:function(){return u}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(66647),s=r.n(a);let u=e=>{let{mode:t,className:r}=e,i="currentColor";return t&&"light"===t&&(i="#FFFFFF"),t&&"dark"===t&&(i="#979797"),(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o()(r),children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z",stroke:i,strokeOpacity:"0.28",strokeWidth:"2"}),(0,n.jsx)("path",{className:s().animation,d:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1Z",stroke:i,strokeOpacity:"0.84",strokeWidth:"2",strokeLinecap:"round"})]})}},96780:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var n=r(31549);r(44194);var i=r(48143),o=r.n(i);let a=e=>{let{mode:t="light",style:r={}}=e,i="currentColor";return t&&"light"===t&&(i="#868CA2"),t&&"dark"===t&&(i="#5A617C"),(0,n.jsxs)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...r},children:[(0,n.jsx)("path",{opacity:"0.3",fillRule:"evenodd",clipRule:"evenodd",d:"M17 31C24.732 31 31 24.732 31 17C31 9.26801 24.732 3 17 3C9.26801 3 3 9.26801 3 17C3 24.732 9.26801 31 17 31Z",stroke:i,strokeWidth:"6"}),(0,n.jsx)("path",{className:o().animation,d:"M17 31C24.732 31 31 24.732 31 17C31 9.26801 24.732 3 17 3C9.26801 3 3 9.26801 3 17C3 24.732 9.26801 31 17 31Z",stroke:i,strokeWidth:"6",strokeLinecap:"round"})]})}},99038:function(e,t,r){"use strict";r.d(t,{N:function(){return h}});var n=r(31549),i=r(44194),o=function(e){return"object"==typeof e&&null!==e},a=function(e){var t=e.value,r=void 0===t?"":t,n=e.numInputs,a=void 0===n?4:n,s=e.onChange,u=e.onPaste,l=e.renderInput,c=e.shouldAutoFocus,d=void 0!==c&&c,p=e.inputType,f=void 0===p?"text":p,h=e.renderSeparator,m=e.placeholder,g=e.containerStyle,_=e.inputStyle,v=e.skipDefaultStyles,y=void 0!==v&&v,b=i.useState(0),x=b[0],S=b[1],w=i.useRef([]),k=function(){return r?r.toString().split(""):[]},E="number"===f||"tel"===f;i.useEffect(function(){w.current=w.current.slice(0,a)},[a]),i.useEffect(function(){var e;d&&(null===(e=w.current[0])||void 0===e||e.focus())},[d]);var C=function(){if("string"==typeof m){if(m.length===a)return m;m.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},T=function(e){return(E?!isNaN(Number(e)):"string"==typeof e)&&1===e.trim().length},j=function(e){var t=e.target.value;T(t)&&(I(t),L(x+1))},A=function(e){var t=e.nativeEvent,r=e.target.value;T(r)||(r.length!==a||r.split("").some(function(e){return!T(e)})||(N(r.split("")),L(a-1)),null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),I(""),L(x-1)),e.target.value="")},R=function(e){return function(t){S(t),e.target.select()}},O=function(){S(x-1)},P=function(e){var t=k();[e.code,e.key].includes("Backspace")?(e.preventDefault(),I(""),L(x-1)):"Delete"===e.code?(e.preventDefault(),I("")):"ArrowLeft"===e.code?(e.preventDefault(),L(x-1)):"ArrowRight"===e.code?(e.preventDefault(),L(x+1)):e.key===t[x]?(e.preventDefault(),L(x+1)):("Spacebar"===e.code||"Space"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code)&&e.preventDefault()},L=function(e){var t,r,n=Math.max(Math.min(a-1,e),0);w.current[n]&&(null===(t=w.current[n])||void 0===t||t.focus(),null===(r=w.current[n])||void 0===r||r.select(),S(n))},I=function(e){var t=k();t[x]=e[0],N(t)},N=function(e){s(e.join(""))},F=function(e){e.preventDefault();var t,r=k(),n=x,i=e.clipboardData.getData("text/plain").slice(0,a-x).split("");if(!(E&&i.some(function(e){return isNaN(Number(e))}))){for(var o=0;o<a;++o)o>=x&&i.length>0&&(r[o]=null!==(t=i.shift())&&void 0!==t?t:"",n++);L(n),N(r)}};return i.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},o(g)&&g),className:"string"==typeof g?g:void 0,onPaste:u},Array.from({length:a},function(e,t){return t}).map(function(e){var t,r,n;return i.createElement(i.Fragment,{key:e},l({value:null!==(t=k()[e])&&void 0!==t?t:"",placeholder:null!==(n=null===(r=C())||void 0===r?void 0:r[e])&&void 0!==n?n:void 0,ref:function(t){return w.current[e]=t},onChange:j,onFocus:function(t){return R(t)(e)},onBlur:O,onKeyDown:P,onPaste:F,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(y?{}:{width:"1em",textAlign:"center"},o(_)?_:{}),className:"string"==typeof _?_:void 0,type:f,inputMode:E?"numeric":"text",onInput:A},e),e<a-1&&("function"==typeof h?h(e):h))}))},s=r(59838),u=r(51865),l=r.n(u),c=r(21404),d=r.n(c),p=r(96780);let f=(0,i.forwardRef)((e,t)=>{let{dataTestId:r,...i}=e;return(0,n.jsx)("input",{...i,ref:t,className:l()(d().input,{[d().input_isFilled]:!!i.value,[d().input_isDisabled]:i.disabled}),"data-testid":r,autoComplete:"one-time-code",type:"text",inputMode:"decimal"})});f.displayName="CustomInput";let h=e=>{let{onChange:t=s.ZT,code:r="",numInputs:o=4,shouldAutoFocus:u=!1,onFilled:l=s.ZT,isLoading:c=!1,isDisabled:h=!1,errorMessage:m="",dataTestId:g=""}=e,[_,v]=(0,i.useState)(r),y=e=>{t(e),v(e)};return(0,i.useEffect)(()=>{_.length===o&&l(_)},[_]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:d().container,"data-testid":g,children:[(0,n.jsx)(a,{onChange:y,renderInput:(e,t)=>(0,i.createElement)(f,{...e,key:t,dataTestId:"single-input-".concat(t),disabled:c||h}),value:_,numInputs:o,shouldAutoFocus:u,containerStyle:d().inputWrapper,inputType:"number"}),c&&(0,n.jsx)("div",{className:d().spinner,children:(0,n.jsx)(p.$,{})})]}),!!m&&(0,n.jsx)("div",{className:d().error,children:m})]})}},14549:function(e,t,r){"use strict";r.d(t,{xV:function(){return b},Zo:function(){return k},Xh:function(){return d}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(62094),u=r(59838);let l={setContextMenuHidden:u.ZT,setContextMenuOpen:u.ZT},c=(0,i.createContext)(l),d=()=>(0,i.useContext)(c),p=e=>{let{children:t,...r}=e;return(0,n.jsx)(c.Provider,{value:r,children:t})};var f=r(4438),h=r(18160),m=r.n(h),g=r(67504);let _=e=>{let{onClick:t,direction:r,size:i,className:o,isOpen:s}=e,{t:u}=(0,g.b)();return(0,n.jsx)("button",{className:a()(m().contextMenu__button,o),onClick:e=>{e.stopPropagation(),e.preventDefault(),null==t||t()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),e.preventDefault(),null==t||t())},"aria-label":u("Меню"),"aria-expanded":s,"aria-haspopup":"true",children:(0,n.jsx)(f.uQ,{name:"dots",size:"small"===i?16:24,className:a()(m().contextMenu__button__icon,{[m().contextMenu__button__icon_horizontal]:"horizontal"===r}),"data-testid":"overlay__trigger"})})};var v=r(66450),y=r(34257);let b=e=>{let{isDesktop:t=!0,content:r,popoverOffset:o=[4,0],direction:u="vertical",size:l="default",btnClassName:c,onClickMenu:d}=e,f=(0,s.Gc)("breakpoint-700"),h=!t||f,[g,b]=(0,i.useState)(!1),[x,S]=(0,i.useState)(!1),w=()=>{b(e=>!e),d&&d(!g)};return(0,i.useEffect)(()=>{!g&&(S(!1),d&&d(!1))},[g]),(0,n.jsx)(p,{setContextMenuHidden:S,setContextMenuOpen:b,children:h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_,{isOpen:g,onClick:w,direction:u,size:l,className:c}),(0,n.jsx)(v.R,{open:g,onClose:w,children:r})]}):(0,n.jsx)(y.J,{portal:!0,placement:"bottom-start",offset:o,trigger:["none"],visible:g,onVisibleChange:b,content:r,contentClassName:a()(m().contextMenu,{[m().contextMenu_hidden]:x}),disableArrow:!0,customCloseTriggers:["esc","lostIntersect"],closeOnFocusOut:!1,children:(0,n.jsx)(_,{isOpen:g,direction:u,onClick:w,size:l,className:c})})})};var x=r(55714),S=r(28637);let w=e=>e>99?"99+":e.toString(),k=e=>{let{icon:t,onClick:r,text:o,asLink:s,href:u,counter:l,hasBadge:c,hasDiscount:d,className:p,...h}=e;return(0,i.createElement)(s?x.rU:"div",{href:u,className:a()(m().contextMenu__item,p),onClick:e=>{r&&(e.stopPropagation(),s&&u||e.preventDefault(),r())},onKeyDown:s?void 0:e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),s&&u||e.preventDefault(),null==r||r())},role:"button",tabIndex:0,"aria-label":o,"data-testid":"contextMenu__".concat((null==t?void 0:t.name)?"".concat(t.name,"--button"):"button"),...h},(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:a()(m().contextMenu__item__content,{[m().promos]:c}),"data-testid":"contextMenu__".concat((null==t?void 0:t.name)?"".concat(t.name,"--itemContent"):"itemContent"),children:[t&&(0,n.jsx)(f.uQ,{...t,className:m().contextMenu__item__icon}),o]}),!!l&&(0,n.jsx)("span",{className:m().count,children:w(l)}),d&&(0,n.jsx)(S.y,{text:"%",size:"xxs",hasBorder:!1})]}))}},1653:function(e,t,r){"use strict";r.d(t,{F5:function(){return m},S1:function(){return n}});var n,i=r(31549),o=r(44194),a=r(51865),s=r.n(a),u=r(4438),l=r(78568),c=r.n(l);let d=e=>{let{error:t,className:r}=e;return t?(0,i.jsx)("div",{className:s()(c().input__error,r),"data-testid":"textbox--input__error",children:t}):null};!function(e){e.password="password",e.text="text",e.search="search",e.multiline="multiline"}(n||(n={}));var p=r(67504),f=r(55714);let h=(e,t)=>{let{controlMode:r,styleMode:a="default",type:l="text",placeholder:h,onControlChange:m,onControlClear:g,value:_,disabled:v,error:y,fullWidth:b=!1,className:x,children:S,symbolsCounter:w=!1,maxLength:k,minLength:E,hideLabel:C,wrapperCustomClassName:T,autoFocus:j=!1,alwaysShowLabel:A,...R}=e,{t:O}=(0,p.b)(),P=r===n.password,L=r===n.search,I=r===n.multiline,[N,F]=(0,o.useState)(!1),[D,M]=(0,o.useState)(!!_),[U,q]=(0,o.useState)(null),[B,z]=(0,o.useState)(P?"password":l),G=!C&&!L,W=e=>{e.preventDefault(),P&&("password"===B?z(l):z("password"))};(0,o.useEffect)(()=>{"string"==typeof _&&(w&&k?q(k-_.length):w&&E&&q(E-_.length))},[w,k,E,_]);let $=e=>{M(!!e),null==m||m(e),w&&k&&q(k-e.length),w&&!k&&E&&q(E-e.length)},H=(0,o.useRef)(null),V=(0,o.useRef)(null),Z={...R,defaultValue:_,maxLength:k,disabled:v,onChange:e=>{var t;$(e.target.value),null===(t=R.onChange)||void 0===t||t.call(R,e)},onFocus:e=>{var t;F(!0),null===(t=R.onFocus)||void 0===t||t.call(R,e)},onBlur:e=>{var t;F(!1),null===(t=R.onBlur)||void 0===t||t.call(R,e)}};return(0,o.useImperativeHandle)(t,()=>({setValue(e){H.current&&(H.current.value=e,j&&H.current.focus()),V.current&&(V.current.value=e,j&&V.current.focus()),$(e)},clearValue(){H.current&&(H.current.value="",j&&H.current.focus()),V.current&&(V.current.value="",j&&V.current.focus()),$("")},focus(){var e,t;null===(e=H.current)||void 0===e||e.focus(),null===(t=V.current)||void 0===t||t.focus()},scrollIntoView(e){var t;null===(t=H.current)||void 0===t||t.scrollIntoView(e)}}),[j]),(0,o.useEffect)(()=>{j&&setTimeout(()=>{var e,t;I?null===(e=V.current)||void 0===e||e.focus():null===(t=H.current)||void 0===t||t.focus()},0)},[j,I]),(0,i.jsxs)("div",{className:T,children:[(0,i.jsxs)("div",{className:s()(c().input,{[c().searchInput]:L,[c().passwordInput]:P,[c().multilineInput]:I,[c().input_focused]:N,[c().input_filled]:A||(D||N)&&h,[c().input_disabled]:v,[c().input_error]:!!y,[c().input_fullWidth]:b,[c().input_withoutLabel]:!G,[c().input_blank]:"blank"===a},x),"data-testid":"complainForm__input",children:[L&&(0,i.jsx)("div",{className:c().searchInput__icon,children:(0,i.jsx)(u.uQ,{name:"search",size:16})}),G&&h&&(0,i.jsx)("div",{className:c().input__placeholder,children:h}),S,I?(0,i.jsx)("textarea",{...Z,ref:V}):(0,i.jsx)("input",{...Z,type:B,placeholder:G?void 0:h,ref:H}),L&&D&&(0,i.jsx)(f.rU,{className:c().searchInput__clear,onClick:g,children:(0,i.jsx)(u.uQ,{name:"clearFilled",size:16})}),P&&(0,i.jsx)(f.rU,{className:c().passwordInput__eye,onClick:W,children:"password"===B?(0,i.jsx)(u.uQ,{name:"eyeClosed",size:20}):(0,i.jsx)(u.uQ,{name:"eyeOpen",size:20})})]}),w&&(0,i.jsxs)("span",{className:s()(c().symbolsCounter,{[c().symbolsCounter_error]:!!y}),"data-testid":"complainForm__symbol--counter",children:[(E||y)&&(0,i.jsx)("span",{className:c().symbolsCounter__message,children:y?(0,i.jsx)(d,{error:y}):(0,i.jsx)(i.Fragment,{children:k?O("От {min} до {max} символов",{min:E,max:k}):O("Минимум {count} символ",E)})}),!!k&&(0,i.jsxs)("span",{className:c().symbolsCounter__counter,children:[k-(null!=U?U:k),"/",k]}),!k&&!!E&&(0,i.jsxs)("span",{className:c().symbolsCounter__counter,children:[E-(null!=U?U:E),"/",E]})]}),!w&&(0,i.jsx)(d,{error:y})]})};h.displayName="Control";let m=(0,o.forwardRef)(h)},58655:function(e,t,r){"use strict";r.d(t,{u9:function(){return E},uq:function(){return k},We:function(){return _},jG:function(){return g},h5:function(){return m},f$:function(){return h},aE:function(){return C}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(46277),u=r.n(s),l=r(64696),c=r.n(l);r(55714);let d=(e,t)=>"https://cdn.litres.ru/pub/c/cover_".concat(t,"/").concat(e,".jpg"),p=(e,t)=>"https://cdn.litres.ru/pub/c/cover_h".concat(t,"/").concat(e,".jpg"),f=e=>(0,n.jsx)("span",{className:a()(c().loader,e.customClass),style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}),h=e=>{let t=e=>{let t=0;return(t=Math.round(33*e/100/5))>30&&(t=30),t};return(0,n.jsx)("span",{className:a()(c().unloader,e.customClass),style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px")},children:(0,n.jsx)("span",{className:c()["unloader-container"],children:(0,n.jsxs)("span",{className:c()["unloader-container__inner"],children:[(0,n.jsx)("span",{className:c()["unloader-cover__img"]}),e.text&&(0,n.jsxs)("span",{className:c()["unloader-cover__text"],style:{fontSize:"".concat(t(e.height),"px")},children:["Ошибка",(0,n.jsx)("br",{}),"при загрузке",(0,n.jsx)("br",{}),"обложки"]})]})})})},m=e=>{let{width:t,ratio:r,bookId:i,customClass:o,alt:s,customSrc:l}=e,p=Math.round(t/r),m=a()(c().cover,o),g=l||d(i,t),[,_]=u()(g);return(0,n.jsxs)(n.Fragment,{children:["loading"===_&&(0,n.jsx)(f,{width:t,height:p,customClass:m}),"failed"===_&&(0,n.jsx)(h,{width:t,height:p,customClass:m}),"loaded"===_&&(0,n.jsx)("img",{src:g,alt:s,width:t,height:p,className:m})]})},g=e=>{let{height:t,ratio:r,bookId:i,customClass:o,alt:s,customSrc:l}=e,d=Math.round(t*r),m=a()(c().cover,o),g=l||p(i,t),[,_]=u()(g);return(0,n.jsxs)(n.Fragment,{children:["loading"===_&&(0,n.jsx)(f,{width:d,height:t,customClass:m}),"failed"===_&&(0,n.jsx)(h,{width:d,height:t,customClass:m}),"loaded"===_&&(0,n.jsx)("img",{src:g,alt:s,width:d,height:t,className:m})]})},_=e=>(0,n.jsx)("span",{className:c().multiple,children:e.arts.map((t,r)=>{let i=a()(e.customClass,c().childCover,{[c().firstCover]:0===r,[c().secondCover]:1===r,[c().thirdCover]:2===r}),o={bookId:t.id,alt:t.name,ratio:t.ratio,width:e.width||120,height:e.height||270,customClass:i,key:t.id};return"width"===e.using?(0,n.jsx)(m,{...o}):(0,n.jsx)(g,{...o})})});var v=r(62094);let y=(e,t)=>{let{desktopNormal:r,desktopHighDensity:n,mobileNormal:i,mobileHighDensity:o}=t,a="byHeight"in t&&t.byHeight?"h":"";return{fallbackImage:"https://cdn.litres.ru/pub/c/cover_100/".concat(e,".jpg"),srcSetJpgMobile:"\n      https://cdn.litres.ru/pub/c/cover_".concat(a).concat(i,"/").concat(e,".jpg,\n      https://cdn.litres.ru/pub/c/cover_").concat(a).concat(o,"/").concat(e,".jpg 2x\n    "),srcSetJpgDesktop:"\n      https://cdn.litres.ru/pub/c/cover_".concat(a).concat(r,"/").concat(e,".jpg,\n      https://cdn.litres.ru/pub/c/cover_").concat(a).concat(n,"/").concat(e,".jpg 2x\n    "),srcSetWebpMobile:"\n      https://cdn.litres.ru/pub/c/cover_".concat(a).concat(i,"/").concat(e,".webp,\n      https://cdn.litres.ru/pub/c/cover_").concat(a).concat(o,"/").concat(e,".webp 2x\n    "),srcSetWebpDesktop:"\n      https://cdn.litres.ru/pub/c/cover_".concat(a).concat(r,"/").concat(e,".webp,\n      https://cdn.litres.ru/pub/c/cover_").concat(a).concat(n,"/").concat(e,".webp 2x\n    ")}};var b=r.p+"static/media/noCover.d844809b.svg",x=r(97491),S=r.n(x);let w={desktopNormal:200,desktopHighDensity:415,mobileNormal:100,mobileHighDensity:200},k=e=>{let{artId:t,alt:r,imgTagClassName:o,e2eId:s,wrapperClassName:u,coverSizes:l=w,onClick:c,getErrorStatus:d,unloaderSize:p,shouldReturnNothingIfError:f=!1,fallbackImageSrc:h,loading:m="lazy",...g}=e,_=(0,i.useRef)(null),x=(0,i.useRef)(null),k=y(t,l),[E,C]=(0,i.useState)(!1),T=p?{"--unloader-size":"".concat(p,"px")}:void 0,j=()=>{C(!0),d&&d(!0),_.current&&_.current.classList.add(S().errorImg),x.current&&(x.current.classList.add(S().errorBackground),x.current.classList.remove(S().loader))},A=e=>{var t;x.current&&x.current.classList.remove(S().loader),null===(t=g.onLoadedData)||void 0===t||t.call(g,e)};return((0,v.LI)(()=>{var e,t,r;C(!1),x.current&&(null===(e=_.current)||void 0===e?void 0:e.complete)===!0&&x.current.classList.remove(S().loader),(null===(t=_.current)||void 0===t?void 0:t.complete)===!0&&(null===(r=_.current)||void 0===r?void 0:r.naturalWidth)===0&&j()},[t]),E&&f)?null:(0,n.jsx)("div",{className:a()(S().container,S().loader,u),"data-testid":s,ref:x,onClick:c,style:T,role:"presentation",children:(0,n.jsxs)("picture",{children:[(0,n.jsx)("source",{srcSet:E?b:k.srcSetWebpMobile,type:"image/webp",media:"(max-width: ".concat(l.mobileResponsiveWidth||699,"px)")}),(0,n.jsx)("source",{srcSet:E?b:k.srcSetWebpDesktop,type:"image/webp",media:"(min-width: ".concat(l.desktopResponsiveWidth||700,"px)")}),(0,n.jsx)("source",{srcSet:E?b:k.srcSetJpgMobile,media:"(max-width: ".concat(l.mobileResponsiveWidth||699,"px)")}),(0,n.jsx)("source",{srcSet:E?b:k.srcSetJpgDesktop,media:"(min-width: ".concat(l.desktopResponsiveWidth||700,"px)")}),(0,n.jsx)("img",{...g,alt:r,className:a()(S().image,o),"data-testid":"adaptiveCover__img",onLoad:A,onError:j,ref:_,src:E?b:h||k.fallbackImage,"aria-hidden":"true",loading:m})]})})},E=e=>{let{alt:t,artIds:r,wrapperClassName:i,coverSizes:o}=e;return(0,n.jsx)("div",{className:a()(S().collectionCovers,i),children:r.slice(0,3).map((e,r)=>(0,n.jsx)("div",{className:a()(S().collectionCovers__child,{[S().collectionCovers__first]:0===r,[S().collectionCovers__second]:1===r,[S().collectionCovers__third]:2===r}),children:(0,n.jsx)(k,{artId:e,alt:"".concat(t,"-").concat(e),loading:"lazy",decoding:"async",coverSizes:o})},e))})},C=e=>{let{bookId:t,size:r=200,propertyName:n="width"}=e;if(!t)return{jpg:"",webp:""};let i="https://cdn.litres.ru/pub/c/cover_".concat("height"===n?"h":"").concat(r,"/").concat(t);return{jpg:"".concat(i,".jpg"),webp:"".concat(i,".webp")}}},28637:function(e,t,r){"use strict";r.d(t,{y:function(){return u}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(8173),s=r.n(a),u=e=>{let{type:t="percent",size:r="",...i}=e,{hasBorder:a,text:u,labelClass:l,containerClass:c}=i,d=s(),p=u.replace("-","−");return(0,n.jsx)("div",{className:o()(s().container,c),"data-testid":"artDiscount--wrapper",children:(0,n.jsx)("div",{className:o()(d["label_".concat(t)],{[d["label_".concat(t,"_border")]]:a},a?d["label_".concat(r,"_border")]:d["label_".concat(r)]),children:(0,n.jsx)("div",{className:o()(s().textLabel,d["textLabel_".concat(t)],{[d["textLabel_".concat(t,"_border")]]:a,[d["textLabel_".concat(r)]]:!!r,[d["textLabel_".concat(r,"_border")]]:a&&!!r},l),children:p})})})}},14688:function(e,t,r){"use strict";r.d(t,{L:function(){return h}});var n,i=r(31549),o=r(44194),a=r(51865),s=r.n(a),u=r(62094),l=r(4438);let c=e=>null!==e&&e===document.activeElement;!function(e){e.Enter="Enter",e.Space="Space",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.Escape="Escape",e.Tab="Tab"}(n||(n={}));var d=r(94386),p=r.n(d),f=r(67504);function h(e){var t;let{items:r=[],defaultActiveId:a,onChange:d,className:h,menuClassName:m,renderContentItem:g,e2eId:_}=e,{t:v}=(0,f.b)(),[y,b]=(0,o.useState)(a),[x,S]=(0,o.useState)(!1),w=(0,o.useRef)(null),k=(0,o.useRef)(null),E=()=>{S(e=>!e)},C=e=>{b(e),d(e),S(!1)},T=e=>{let{key:t}=e;if(!x||![n.ArrowDown,n.ArrowUp,n.Tab].includes(t))return;let i=k.current?Array.from(k.current.children):[],o=0,a=i.length-1,s=i.findIndex(c);if(x&&t===n.Tab){e.preventDefault(),C(r[s].id);return}let u=c(i[o])?a:s-1,l=c(i[a])?o:s+1;t===n.ArrowDown&&i[-1===s?o:l].focus(),t===n.ArrowUp&&((null==w?void 0:w.current)&&(-1===s||u===a)?w.current.focus():i[-1===s?a:u].focus())};(0,u.OR)("keydown",T),(0,u.Vd)(w,()=>{S(!1)}),(0,u.OR)("keydown",e=>{let{key:t}=e;if(t===n.Escape){var r,i;S(!1),null===(i=w.current)||void 0===i||null===(r=i.children[0])||void 0===r||r.focus()}},w),(0,u.OR)("focusout",e=>{var t;let n=e,i=(null==n?void 0:n.relatedTarget)===(null===(t=w.current)||void 0===t?void 0:t.children[0]);r.some(e=>{var t;return e.id===(null==n?void 0:null===(t=n.relatedTarget)||void 0===t?void 0:t.id)})||i||S(!1)},k),(0,o.useEffect)(()=>(document.body.style.overflow=x?"hidden":"",x&&(k.current?Array.from(k.current.children):[]).forEach(e=>{e.id===y&&e.focus()}),()=>{document.body.style.overflow=""}),[x]);let j=null===(t=r.find(e=>e.id===y))||void 0===t?void 0:t.value;return(0,i.jsxs)("div",{ref:w,className:p().dropdown,children:[(0,i.jsxs)("div",{className:s()(h,p().dropdown__input,{[p().dropdown__input_open]:x}),onClick:E,"data-testid":_,onKeyDown:e=>{(e.code===n.Enter||e.code===n.Space)&&(e.preventDefault(),E())},tabIndex:0,role:"menu","aria-label":"".concat(j,", ").concat(v("Выбрать из списка")," (").concat(v(x?"развернуто":"свернуто"),")"),children:[(0,i.jsx)("span",{className:p().dropdown__input__selected,"data-testid":"sorting__selectedItem",children:j}),(0,i.jsx)(l.uQ,{name:x?"chevronUp":"chevronDown",className:p().dropdown__icon,size:24})]}),x&&(0,i.jsx)("div",{className:s()(p().dropdown__menu,m),role:"listbox",id:"dropdownMenu","aria-activedescendant":y,ref:k,children:r.map(e=>{let{id:t,value:r}=e;return(0,i.jsxs)("div",{onClick:()=>{C(t)},onKeyDown:e=>{if(e.code===n.Enter||e.code===n.Space){var r,i;e.preventDefault(),null===(i=w.current)||void 0===i||null===(r=i.children[0])||void 0===r||r.focus(),C(t)}},id:t,role:"option","aria-selected":t===y,"aria-label":r,tabIndex:-1,className:p().dropdown__menu__item,"data-testid":"sorting__dropDownItem--".concat(t),children:[g?g(t):r,t===y&&(0,i.jsx)(l.uQ,{name:"checkbox",size:16,className:p().dropdown__menu__icon})]},t)})})]})}},88428:function(e,t,r){"use strict";r.d(t,{W:function(){return nb}});var n=r(31549);r(44194);var i=r.p+"static/media/ab.bb950c6c.png",o=r.p+"static/media/ad.4c666f71.png",a=r.p+"static/media/ae.25f31790.png",s=r.p+"static/media/af.b21d3643.png",u=r.p+"static/media/ag.716ea0f3.png",l=r.p+"static/media/ai.e6c89218.png",c=r.p+"static/media/al.25b23bda.png",d=r.p+"static/media/am.c453ddb5.png",p=r.p+"static/media/ao.19976f99.png",f=r.p+"static/media/ar.b8d8fe2e.png",h=r.p+"static/media/as.c52390e6.png",m=r.p+"static/media/at.c0eb7b68.png",g=r.p+"static/media/au.f1ac1f57.png",_=r.p+"static/media/aw.2e843599.png",v=r.p+"static/media/ax.a98ad085.png",y=r.p+"static/media/az.fa434c2b.png",b=r.p+"static/media/ba.17f2a7db.png",x=r.p+"static/media/bb.3d1fac9e.png",S=r.p+"static/media/bd.3314c1d3.png",w=r.p+"static/media/be.69ef26af.png",k=r.p+"static/media/bf.763e9c35.png",E=r.p+"static/media/bg.efde8508.png",C=r.p+"static/media/bh.e5ebb0df.png",T=r.p+"static/media/bi.5e9d4971.png",j=r.p+"static/media/bj.56c30ac9.png",A=r.p+"static/media/bm.1baf6752.png",R=r.p+"static/media/bn.e13d6e85.png",O=r.p+"static/media/bo.fe104c18.png",P=r.p+"static/media/bq.e1ec7d5b.png",L=r.p+"static/media/br.b3548cce.png",I=r.p+"static/media/bs.24447c14.png",N=r.p+"static/media/bt.62b4f5f1.png",F=r.p+"static/media/bv.24dfa455.png",D=r.p+"static/media/bw.fdb6e8ec.png",M=r.p+"static/media/by.4888bdb6.png",U=r.p+"static/media/bz.7fcfe227.png",q=r.p+"static/media/ca.29460f06.png",B=r.p+"static/media/cc.0802beac.png",z=r.p+"static/media/cd.f80e00de.png",G=r.p+"static/media/cf.d41bc7cb.png",W=r.p+"static/media/cg.2e48252f.png",$=r.p+"static/media/ch.d7787847.png",H=r.p+"static/media/ci.13d5ae85.png",V=r.p+"static/media/ck.8485db2f.png",Z=r.p+"static/media/cl.921ae927.png",K=r.p+"static/media/cm.41320532.png",J=r.p+"static/media/cn.c928eafd.png",Q=r.p+"static/media/co.70b5514e.png",X=r.p+"static/media/cr.76719b69.png",Y=r.p+"static/media/cu.5df1e45b.png",ee=r.p+"static/media/cv.7b848b53.png",et=r.p+"static/media/cw.3ed81e93.png",er=r.p+"static/media/cx.5683e324.png",en=r.p+"static/media/cy.99b801a3.png",ei=r.p+"static/media/cz.3adefda5.png",eo=r.p+"static/media/de.58d6be88.png",ea=r.p+"static/media/dj.18798057.png",es=r.p+"static/media/dk.9018075e.png",eu=r.p+"static/media/dm.2a226331.png",el=r.p+"static/media/do.49cdf017.png",ec=r.p+"static/media/dz.9be940a6.png",ed=r.p+"static/media/ec.17bbac7b.png",ep=r.p+"static/media/ee.61d61443.png",ef=r.p+"static/media/eg.e5db855b.png",eh=r.p+"static/media/eh.c9d02600.png",em=r.p+"static/media/er.72180976.png",eg=r.p+"static/media/es.fd0af85b.png",e_=r.p+"static/media/et.6fe274a1.png",ev=r.p+"static/media/fi.eb2cd493.png",ey=r.p+"static/media/fj.a60dddbf.png",eb=r.p+"static/media/fk.4a8d606b.png",ex=r.p+"static/media/fm.ad112423.png",eS=r.p+"static/media/fo.866fa07f.png",ew=r.p+"static/media/fr.917ce858.png",ek=r.p+"static/media/ga.6d1deade.png",eE=r.p+"static/media/gb.4dbf9fd6.png",eC=r.p+"static/media/gd.5c51e8a2.png",eT=r.p+"static/media/ge.a8002809.png",ej=r.p+"static/media/gf.38fda1af.png",eA=r.p+"static/media/gg.6df3a719.png",eR=r.p+"static/media/gh.74d4bd25.png",eO=r.p+"static/media/gi.58404bd8.png",eP=r.p+"static/media/gl.f381ad0e.png",eL=r.p+"static/media/gm.b8f9a67b.png",eI=r.p+"static/media/gn.1ba22b66.png",eN=r.p+"static/media/gq.0873b5b3.png",eF=r.p+"static/media/gr.1a26b26e.png",eD=r.p+"static/media/gt.86bf4743.png",eM=r.p+"static/media/gu.9a91faac.png",eU=r.p+"static/media/gw.dae270fc.png",eq=r.p+"static/media/gy.7ff9e5e4.png",eB=r.p+"static/media/hk.a9c69055.png",ez=r.p+"static/media/hn.858ffe88.png",eG=r.p+"static/media/hr.b3524896.png",eW=r.p+"static/media/ht.2ddce406.png",e$=r.p+"static/media/hu.a972c3bf.png",eH=r.p+"static/media/id.70773fc7.png",eV=r.p+"static/media/ie.6ada331a.png",eZ=r.p+"static/media/il.98c2d79b.png",eK=r.p+"static/media/im.c8882332.png",eJ=r.p+"static/media/in.4bcdc48d.png",eQ=r.p+"static/media/io.e43b44f0.png",eX=r.p+"static/media/iq.76475f4d.png",eY=r.p+"static/media/ir.ffa8197d.png",e0=r.p+"static/media/is.16978e8f.png",e1=r.p+"static/media/it.c0fcbafc.png",e2=r.p+"static/media/je.cb8176f9.png",e5=r.p+"static/media/jm.1b1da4a6.png",e4=r.p+"static/media/jo.bc185318.png",e3=r.p+"static/media/jp.b9fad4a0.png",e8=r.p+"static/media/ke.e65ada7c.png",e6=r.p+"static/media/kg.5e739748.png",e9=r.p+"static/media/kh.4cd15dcf.png",e7=r.p+"static/media/ki.de502351.png",te=r.p+"static/media/km.165db8bd.png",tt=r.p+"static/media/kn.17368635.png",tr=r.p+"static/media/kp.0665bf07.png",tn=r.p+"static/media/kr.2e5f06b3.png",ti=r.p+"static/media/kw.05a13dd0.png",to=r.p+"static/media/ky.e4c052e8.png",ta=r.p+"static/media/kz.df9941d6.png",ts=r.p+"static/media/la.164beaba.png",tu=r.p+"static/media/lb.d2925ab4.png",tl=r.p+"static/media/lc.54de7226.png",tc=r.p+"static/media/li.c62f6f3f.png",td=r.p+"static/media/lk.85fb110b.png",tp=r.p+"static/media/lr.6f499bbd.png",tf=r.p+"static/media/ls.47fde33b.png",th=r.p+"static/media/lt.7ba5f8cf.png",tm=r.p+"static/media/lu.45af3caf.png",tg=r.p+"static/media/lv.d428ba0a.png",t_=r.p+"static/media/ly.b444a6b5.png",tv=r.p+"static/media/ma.18d9b518.png",ty=r.p+"static/media/mc.ae3bfb16.png",tb=r.p+"static/media/md.8fd81f6d.png",tx=r.p+"static/media/me.9775dbe2.png",tS=r.p+"static/media/mg.da44dea5.png",tw=r.p+"static/media/mh.032e7253.png",tk=r.p+"static/media/mk.5a45c883.png",tE=r.p+"static/media/ml.7012eb71.png",tC=r.p+"static/media/mm.abcb087d.png",tT=r.p+"static/media/mn.9c18e8c6.png",tj=r.p+"static/media/mo.cf9a4c0a.png",tA=r.p+"static/media/mp.70cdfc83.png",tR=r.p+"static/media/mr.ed655425.png",tO=r.p+"static/media/ms.e4344f3c.png",tP=r.p+"static/media/mt.a325502a.png",tL=r.p+"static/media/mu.3aa27dad.png",tI=r.p+"static/media/mv.0226c900.png",tN=r.p+"static/media/mw.1284f90b.png",tF=r.p+"static/media/mx.49ba3ce8.png",tD=r.p+"static/media/my.585a78a1.png",tM=r.p+"static/media/mz.f8175115.png",tU=r.p+"static/media/na.4908379d.png",tq=r.p+"static/media/ne.f63068ca.png",tB=r.p+"static/media/nf.60515556.png",tz=r.p+"static/media/ng.381ad9df.png",tG=r.p+"static/media/ni.eb702ba7.png",tW=r.p+"static/media/nl.857384b4.png",t$=r.p+"static/media/no.7249120d.png",tH=r.p+"static/media/np.08d4f70f.png",tV=r.p+"static/media/nr.fe7a09c5.png",tZ=r.p+"static/media/nu.451f4d73.png",tK=r.p+"static/media/nz.905fa269.png",tJ=r.p+"static/media/om.8c9318b2.png",tQ=r.p+"static/media/pa.db97d809.png",tX=r.p+"static/media/pe.ef9b6f16.png",tY=r.p+"static/media/pf.ce00e8f9.png",t0=r.p+"static/media/pg.4c4070a9.png",t1=r.p+"static/media/ph.df49174b.png",t2=r.p+"static/media/pk.a7897d3e.png",t5=r.p+"static/media/pl.fe6f65dc.png",t4=r.p+"static/media/pr.ddcc68dd.png",t3=r.p+"static/media/ps.e92ae84b.png",t8=r.p+"static/media/pt.f876908d.png",t6=r.p+"static/media/pw.f8dfad98.png",t9=r.p+"static/media/py.9badb3bb.png",t7=r.p+"static/media/qa.66cd7f28.png",re=r.p+"static/media/ro.43bab328.png",rt=r.p+"static/media/rs.0ee207b8.png",rr=r.p+"static/media/ru.3d0a5d75.png",rn=r.p+"static/media/rw.fd25b598.png",ri=r.p+"static/media/sa.bd260451.png",ro=r.p+"static/media/sb.8ba0fb94.png",ra=r.p+"static/media/sc.ae27fe3a.png",rs=r.p+"static/media/sd.d1a16f93.png",ru=r.p+"static/media/se.9260c197.png",rl=r.p+"static/media/sg.3fce7304.png",rc=r.p+"static/media/sh.a0e3e42c.png",rd=r.p+"static/media/sh.a2dbf4b4.png",rp=r.p+"static/media/si.0eab20b7.png",rf=r.p+"static/media/sj.aeaaff62.png",rh=r.p+"static/media/sk.bd1140f7.png",rm=r.p+"static/media/sl.885c39b9.png",rg=r.p+"static/media/sm.c8c8d27f.png",r_=r.p+"static/media/sn.d46c16e0.png",rv=r.p+"static/media/so.23a57ce2.png",ry=r.p+"static/media/sr.3aa60f20.png",rb=r.p+"static/media/ss.0d39df06.png",rx=r.p+"static/media/st.435452a4.png",rS=r.p+"static/media/sv.baa13545.png",rw=r.p+"static/media/sx.27709ef8.png",rk=r.p+"static/media/sy.ff6fda72.png",rE=r.p+"static/media/sz.0066e45d.png",rC=r.p+"static/media/tc.df642765.png",rT=r.p+"static/media/td.dc156f9d.png",rj=r.p+"static/media/tf.8704ab87.png",rA=r.p+"static/media/tg.472e79d1.png",rR=r.p+"static/media/th.9f96f561.png",rO=r.p+"static/media/tj.4dd1823c.png",rP=r.p+"static/media/tk.b4c317fa.png",rL=r.p+"static/media/tl.8ed5481a.png",rI=r.p+"static/media/tm.ea38785b.png",rN=r.p+"static/media/tn.8d13c0ee.png",rF=r.p+"static/media/to.b0b27af3.png",rD=r.p+"static/media/tr.9c822601.png",rM=r.p+"static/media/tt.2e399331.png",rU=r.p+"static/media/tv.a27a3449.png",rq=r.p+"static/media/tw.c0366b31.png",rB=r.p+"static/media/tz.0635184c.png",rz=r.p+"static/media/ua.5ba96f2f.png",rG=r.p+"static/media/ug.a9c2f71e.png",rW=r.p+"static/media/us.3b49f13d.png",r$=r.p+"static/media/uy.1c7e213f.png",rH=r.p+"static/media/uz.375e2ac8.png",rV=r.p+"static/media/va.b4539b1c.png",rZ=r.p+"static/media/vc.0cc0649f.png",rK=r.p+"static/media/ve.ceccdefd.png",rJ=r.p+"static/media/vg.85fcfd39.png",rQ=r.p+"static/media/vi.35489bb0.png",rX=r.p+"static/media/vn.a184264a.png",rY=r.p+"static/media/vu.1b199820.png",r0=r.p+"static/media/ws.25214dbc.png",r1=r.p+"static/media/ye.fa2c31bc.png",r2=r.p+"static/media/za.ad281b47.png",r5=r.p+"static/media/zm.632f22b7.png",r4=r.p+"static/media/zw.a3867ceb.png",r3=r.p+"static/media/aw.bc767e1a.png",r8=r.p+"static/media/be.4888bdb6.png",r6=r.p+"static/media/bl.69ef26af.png",r9=r.p+"static/media/bn.e85cb3cf.png",r7=r.p+"static/media/ca.b3b6bc6d.png",ne=r.p+"static/media/cs.3adefda5.png",nt=r.p+"static/media/dr.63df6fe3.png",nr=r.p+"static/media/en.4dbf9fd6.png",nn=r.p+"static/media/eo.46534e55.png",ni=r.p+"static/media/eu.0f4e16e5.png",no=r.p+"static/media/ja.2210e63d.png",na=r.p+"static/media/ku.535ce701.png",ns=r.p+"static/media/mq.838c2562.png",nu=r.p+"static/media/nato.a23c0171.png",nl=r.p+"static/media/pn.182f61a2.png",nc=r.p+"static/media/sw.fac26492.png",nd=r.p+"static/media/tibet.61b1e4a2.png",np=r.p+"static/media/tt.4a458c22.png",nf=r.p+"static/media/tv.60e8b632.png",nh=r.p+"static/media/uk.5ba96f2f.png",nm=r.p+"static/media/zu.ecbd5f2c.png";let ng={ab:i,ad:o,ae:a,af:tU,ag:u,ai:l,al:c,am:d,ao:p,ar:a,as:eJ,at:m,au:g,aw:r3,ay:O,az:y,ba:r.p+"static/media/bash.cf47a695.png",bb:x,bd:S,be:r8,bf:k,bg:E,bh:eJ,bi:T,bj:j,bl:r6,bm:A,bn:r9,bo:O,br:ew,bs:I,bt:N,bw:D,bz:U,ca:r7,cd:z,cf:G,cg:W,ch:$,ci:H,ck:V,cl:Z,cm:K,cn:J,co:Q,cr:X,cs:ne,cu:Y,cv:ee,cw:et,cy:r.p+"static/media/val.c9ee9091.png",cz:ei,da:es,de:eo,dj:ea,dk:es,dm:eu,do:el,dr:nt,dz:ec,ec:ed,ee:ep,eg:ef,el:eF,en:nr,eo:nn,er:em,es:eg,et:ep,eu:ni,fa:eY,fi:ev,fj:ey,fk:eb,fm:ex,fo:eS,fr:ew,ga:eV,gb:eE,gd:r.p+"static/media/gde.89b3c009.png",ge:eT,gg:eA,gh:eR,gi:eO,gl:eP,gm:eL,gn:eI,gq:eN,gr:eF,gt:eD,gu:eM,gw:eU,ha:tz,he:eZ,hi:eJ,hk:eB,hn:ez,hr:eG,ht:eW,hu:e$,hy:d,id:eH,ie:eV,il:eZ,im:eK,in:eH,io:eQ,iq:eX,ir:eY,is:e0,it:e1,ja:no,je:e2,jm:e5,jo:e4,jp:e3,ka:eT,ke:e8,kg:e6,kh:e9,ki:e7,kk:ta,km:te,kn:tt,ko:tr,kp:tr,kr:tn,ku:na,kw:ti,ky:e6,kz:ta,la:rV,lb:tu,li:tc,lk:td,lr:tp,ls:tf,lt:th,lu:tm,lv:tg,ly:t_,ma:tv,mc:ty,md:tb,me:tx,mg:tS,mh:tw,mk:tk,ml:tE,mm:tC,mn:tT,mo:tj,mp:tA,mq:ns,mr:eJ,ms:r9,mt:tP,mu:tL,mv:tI,mw:tN,mx:tF,my:tC,mz:tM,na:tU,nato:nu,ne:tq,nf:tB,ng:tz,ni:tG,nl:tW,no:t$,np:tH,nr:tV,nu:tZ,nz:tK,om:tJ,pa:tQ,pe:tX,pf:tY,pg:t0,ph:t1,pk:t2,pl:t5,pn:nl,pr:t4,ps:t3,pt:t8,pw:t6,py:t9,qa:t7,ro:re,rs:rt,ru:rr,rw:rn,sa:eJ,sb:ro,sc:ra,sd:rs,se:ru,sg:rl,si:td,sh:rd,sk:rh,sl:rp,sm:rg,sn:r_,so:rv,sq:c,sr:rt,ss:rb,st:tf,sv:ru,sw:nc,sx:rw,sy:rk,sz:rE,ta:rl,tc:rC,td:rT,te:eJ,tg:rO,th:rR,tibet:nd,tj:rO,tk:rP,tl:t1,tm:rI,tn:rN,to:rF,tr:rD,ts:r2,tt:np,tv:nf,tw:rq,tz:rB,ua:rz,ug:rG,uk:nh,ur:t2,us:rW,uy:r$,uz:rH,ve:rK,vi:rX,vn:rX,vu:rY,wo:r_,ws:r0,ye:r1,za:r2,zh:J,zm:r5,zu:nm,zw:r4},n_={ab:i,ad:o,ae:a,af:s,ag:u,ai:l,al:c,am:d,ao:p,ar:f,as:h,at:m,au:g,aw:_,ax:v,az:y,ba:b,bb:x,bd:S,be:w,bf:k,bg:E,bh:C,bi:T,bj:j,bl:ew,bm:A,bn:R,bo:O,bq:P,br:L,bs:I,bt:N,bv:F,bw:D,by:M,bz:U,ca:q,cc:B,cd:z,cf:G,cg:W,ch:$,ci:H,ck:V,cl:Z,cm:K,cn:J,co:Q,cr:X,cu:Y,cv:ee,cw:et,cx:er,cy:en,cz:ei,de:eo,dj:ea,dk:es,dm:eu,do:el,dz:ec,ec:ed,ee:ep,eg:ef,eh:eh,er:em,es:eg,et:e_,fi:ev,fj:ey,fk:eb,fm:ex,fo:eS,fr:ew,ga:ek,gb:eE,gd:eC,ge:eT,gf:ej,gg:eA,gh:eR,gi:eO,gl:eP,gm:eL,gn:eI,gp:ew,gq:eN,gr:eF,gt:eD,gu:eM,gw:eU,gy:eq,hk:eB,hn:ez,hr:eG,ht:eW,hu:e$,id:eH,ie:eV,il:eZ,im:eK,in:eJ,io:eQ,iq:eX,ir:eY,is:e0,it:e1,je:e2,jm:e5,jo:e4,jp:e3,ke:e8,kg:e6,kh:e9,ki:e7,km:te,kn:tt,kp:tr,kr:tn,kw:ti,ky:to,kz:ta,la:ts,lb:tu,lc:tl,li:tc,lk:td,lr:tp,ls:tf,lt:th,lu:tm,lv:tg,ly:t_,ma:tv,mc:ty,md:tb,me:tx,mf:ew,mg:tS,mh:tw,mk:tk,ml:tE,mm:tC,mn:tT,mo:tj,mp:tA,mq:ew,mr:tR,ms:tO,mt:tP,mu:tL,mv:tI,mw:tN,mx:tF,my:tD,mz:tM,na:tU,nc:ew,ne:tq,nf:tB,ng:tz,ni:tG,nl:tW,no:t$,np:tH,nr:tV,nu:tZ,nz:tK,om:tJ,pa:tQ,pe:tX,pf:tY,pg:t0,ph:t1,pk:t2,pl:t5,pm:ew,pr:t4,ps:t3,pt:t8,pw:t6,py:t9,qa:t7,re:ew,ro:re,rs:rt,ru:rr,rw:rn,sa:ri,sb:ro,sc:ra,sd:rs,se:ru,sg:rl,sh:rc,si:rp,sj:rf,sk:rh,sl:rm,sm:rg,sn:r_,so:rv,sr:ry,ss:rb,st:rx,sv:rS,sx:rw,sy:rk,sz:rE,tc:rC,td:rT,tf:rj,tg:rA,th:rR,tj:rO,tk:rP,tl:rL,tm:rI,tn:rN,to:rF,tr:rD,tt:rM,tv:rU,tw:rq,tz:rB,ua:rz,ug:rG,us:rW,uy:r$,uz:rH,va:rV,vc:rZ,ve:rK,vg:rJ,vi:rQ,vn:rX,vu:rY,wf:ew,ws:r0,ye:r1,yt:ew,za:r2,zm:r5,zw:r4};var nv=r(852),ny=r.n(nv);let nb=e=>{let{country:t,language:r,width:i=30}=e;return t&&n_[t]?(0,n.jsx)("div",{className:ny().flag,role:"presentation",children:(0,n.jsx)("img",{alt:t,src:n_[t],width:i,fetchpriority:"low","data-testid":"art__languageFlag","aria-hidden":"true",role:"presentation"})}):r&&ng[r]?(0,n.jsx)("div",{className:ny().flag,role:"presentation",children:(0,n.jsx)("img",{alt:r,src:ng[r],width:i,fetchpriority:"low","aria-hidden":"true",role:"presentation"})}):(0,n.jsx)(n.Fragment,{})}},89798:function(e,t,r){"use strict";r.d(t,{L:function(){return d}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(54023),u=r.n(s),l=e=>{let{children:t,className:r}=e,o=e=>(0,n.jsx)(n.Fragment,{children:i.Children.toArray(e).map((e,t)=>(0,n.jsx)("div",{className:a()(u().funcButtonContent__child),children:e},"child-".concat(t)))});return i.isValidElement(t)?i.cloneElement(t,{className:a()(u().funcButtonContent,t.props.className,r),children:o(t.props.children)}):(0,n.jsx)("div",{className:a()(u().funcButtonContent,r),children:o(t)})},c=r(55714),d=e=>{let t;let{mode:r="default",size:i="large",analyticsId:o,e2eId:s,href:d,children:p,className:f,contentClassName:h,onClick:m,targetBlank:g,type:_="button",disabled:v,...y}=e,b=a()(u().funcButton,{[u().funcButton_large]:"large"===i,[u().funcButton_medium]:"medium"===i,[u().funcButton_accent]:"accent"===r,[u().funcButton_delete]:"delete"===r,[u().funcButton_secondary]:"secondary"===r},f),x=e=>{"function"==typeof m&&m(e)};if(d){let e={...y,href:d};g&&(e.target="_blank",e.rel="noopener noreferrer"),t=(0,n.jsx)(c.rU,{...e,href:d,className:b,onClick:x,"data-analytics-id":o,"data-testid":s,role:"button",children:(0,n.jsx)(l,{className:h,children:p})})}else{let e={...y,disabled:v,type:_};t=(0,n.jsx)("button",{...e,className:b,onClick:x,"data-analytics-id":o,"data-testid":s,children:(0,n.jsx)(l,{className:h,children:p})})}return t}},4031:function(e,t,r){"use strict";r.d(t,{J:function(){return B}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r.p+"static/media/closeRound.06973a0f.svg",s=r.p+"static/media/bonusMoney.039c8ecc.svg",u=r.p+"static/media/livelib16.59b2ea22.svg",l=r.p+"static/media/adultContentLogo.e1592107.svg",c=r.p+"static/media/congrats.2a3472dd.svg",d=r.p+"static/media/envelope.6d1d1285.svg",p=r.p+"static/media/masterCard.c1129e6d.svg",f=r.p+"static/media/masterCard-small.fa569170.svg",h=r.p+"static/media/mir.85d1afb1.svg",m=r.p+"static/media/unionPay.1e7062cf.svg",g=r.p+"static/media/unknown.b98df2ee.svg",_=r.p+"static/media/visa.b67e94c5.svg",v=r.p+"static/media/foreignCard.e8e13bb8.svg",y=r.p+"static/media/russianCard.547a618f.svg",b=r.p+"static/media/sberSpasibo.4bff3f9e.svg",x=r.p+"static/media/payPal.2703d5fe.svg",S=r.p+"static/media/payPal-small.208ec58a.svg",w=r.p+"static/media/sbp.a3ca7235.svg",k=r.p+"static/media/fb.a3319b5d.svg",E=r.p+"static/media/gp.e43f8df8.svg",C=r.p+"static/media/ma.e68f9138.svg",T=r.p+"static/media/ok.c1fe4c8e.svg",j=r.p+"static/media/sb.86584182.svg",A=r.p+"static/media/tw.33adf2e9.svg",R=r.p+"static/media/vk.bbf9ebb2.svg",O=r.p+"static/media/vkid.bbf9ebb2.svg",P=r.p+"static/media/apple.cf03f247.svg",L=r.p+"static/media/ya.8fb20660.svg",I=r.p+"static/media/ya-eng.100db0e4.svg",N=r.p+"static/media/check.7adb0810.svg",F=r.p+"static/media/discount.fc4a3182.svg",D=r.p+"static/media/noInternet.f21a7992.svg";let M=new Map([["icons",{adultContentLogo:l,closeRound:a,bonusMoney:s,livelib16:u,congrats:c,envelope:d}],["socialNetworks",{"ya-eng":I,apple:P,ap:P,ya:L,vk:R,vkid:O,gp:E,ma:C,sb:j,ok:T,tw:A,fb:k}],["paymentMethods",{masterCard:p,"masterCard-small":f,mir:h,unionPay:m,unknown:g,visa:_,foreignCard:v,russianCard:y,sberSpasibo:b,payPal:x,"payPal-small":S,sbp:w}],["subscriptionProfits",{star:r.p+"static/media/star.39357fa8.svg",discount:F,sync:r.p+"static/media/sync.b3bd3edc.svg",noInternet:D,check:N}],["loyalty",{chitaiGorod:r.p+"static/media/chitaiGorod.7a6dd401.svg",litres:r.p+"static/media/litres.dd36bced.svg",bukvoed:r.p+"static/media/bukvoed.75e5a631.svg",wink:r.p+"static/media/wink.cc3154d3.svg",litresSubscribe:r.p+"static/media/litresSubscribe.c3d4c9ea.svg"}]]);var U=r(93412),q=r.n(U);let B=e=>{let{name:t,path:r="icons",className:i,onClick:a,onError:s,title:u,...l}=e,c=M.get(r)[t];return(0,n.jsx)("div",{className:o()(q().wrapper,i),onClick:a,title:u,children:(0,n.jsx)("img",{src:c,...l,alt:u||t,onError:s})})}},92400:function(e,t,r){"use strict";r.d(t,{I:function(){return g}});var n=r(31549),i=r(44194),o=r(6279),a=r(59838),s=r(17792),u=r.n(s),l=r(51865),c=r.n(l);let d=()=>(0,n.jsx)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{stroke:"#C4C4C6",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M2.5 7.5s2.5 4 7.5 4 7.5-4 7.5-4M10 12v2M13 11l1 2M16 10l1 1M4 10l-1 1M7 11l-1 2"})})}),p=()=>(0,n.jsxs)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("circle",{id:"a",cx:"10",cy:"9",r:"4"}),(0,n.jsx)("mask",{id:"b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"8",height:"8",fill:"#fff",children:(0,n.jsx)("use",{xlinkHref:"#a"})})]}),(0,n.jsxs)("g",{stroke:"#C4C4C6",fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M2.5 10S5 14.5 10 14.5s7.5-4.5 7.5-4.5M2.5 10S5 5.5 10 5.5s7.5 4.5 7.5 4.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("use",{mask:"url(#b)",strokeWidth:"4",xlinkHref:"#a"})]})]});var f=r(5447),h=r.n(f);let m=["text","search","url","tel","password"],g=(0,i.forwardRef)((e,t)=>{let r=e.type||"text",s=e.id||e.name||"input_".concat(String(Math.floor(9999*Math.random()))),[l,f]=(0,i.useState)(r),g=(0,i.useRef)(null),_=(0,o.q)([g,t]);(0,i.useEffect)(()=>{if(g&&g.current){let t=g.current.value.length;e.autoFocus&&g.current.focus(),m.includes(l)&&g.current.setSelectionRange(t,t)}},[g,l]);let v=c()(h().input,e.className,{[h().error]:e.error,[h().input_icon]:e.eye||e.customIcon&&"password"!==l}),{onChange:y=a.ZT}=e,{onBlur:b=a.ZT}=e,x=e=>{y(e)},S=()=>{"password"===l?f("text"):f("password")};return(0,n.jsxs)("div",{className:c()(h().input_field,e.rootClassName),children:[e.label&&(0,n.jsx)("label",{htmlFor:e.name||s,children:e.label}),(0,n.jsxs)("div",{className:h().input_wrapper,children:[e.mask?(0,n.jsx)(u(),{type:l,disabled:e.disabled,name:e.name||s,className:v,value:e.value,onChange:x,onBlur:e.onBlur,mask:e.mask,maskChar:e.maskChar,alwaysShowMask:e.alwaysShowMask,autoComplete:e.autoComplete,max:e.max||void 0,maxLength:e.maxLength||void 0,autoFocus:e.autoFocus,inputMode:e.inputMode,"aria-label":e["aria-label"],beforeMaskedValueChange:e.beforeMaskedValueChange}):(0,n.jsx)("input",{ref:_,type:l,id:e.id||s,name:e.name||s,value:e.value,onChange:x,onBlur:b,placeholder:e.placeholder,className:v,autoComplete:e.autoComplete,max:e.max||void 0,maxLength:e.maxLength||void 0,autoFocus:e.autoFocus,disabled:e.disabled,"data-testid":e.e2eId}),e.eye&&(0,n.jsx)("div",{className:c()(h().icon,h().pass_eye),onClick:S,children:"text"===l?(0,n.jsx)(p,{}):(0,n.jsx)(d,{})}),e.customIcon&&"password"!==l&&(0,n.jsx)("div",{className:h().icon,children:e.customIcon})]}),e.errorMsg&&(0,n.jsx)("div",{className:h().error_text,children:e.errorMsg}),a.Ym&&e.hint&&!e.errorMsg&&(0,n.jsx)("div",{className:h().hint,children:e.hint})]})})},55714:function(e,t,r){"use strict";r.d(t,{rU:function(){return d},Fg:function(){return p}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(17357),s=r(60164),u=r.n(s);let l=e=>(0,n.jsx)("a",{...e}),c=()=>{let{linkComponent:e}=(0,a.Y)();return void 0===e?{LinkComponent:l}:{LinkComponent:e}},d=e=>{let{e2eId:t,...r}=e,{LinkComponent:i}=c();return(0,n.jsx)(i,{"data-testid":t,...r})},p=e=>{let{className:t,...r}=e;return(0,n.jsx)(d,{...r,className:o()(u().link,t)})}},8594:function(e,t,r){"use strict";r.d(t,{t:function(){return u}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(43297),s=r.n(a);let u=e=>{let{isPDA:t,className:r}=e;return(0,n.jsx)("div",{className:o()(s().loader,r,{[s().pda]:t})})}},47263:function(e,t,r){"use strict";r.d(t,{a:function(){return u}});var n=r(31549);r(44194);var i=r(51865),o=r.n(i),a=r(73468),s=r.n(a);let u=e=>{let{mode:t="light"}=e;return(0,n.jsx)("div",{className:o()(s().wrapper,{[s().dark]:"dark"===t}),children:(0,n.jsx)("div",{className:s().bar})})}},67504:function(e,t,r){"use strict";r.d(t,{b:function(){return m}});var n={"Дата начала продаж {date}":e=>"Satışın başlanma tarixi ".concat(e),Закрыть:"Bağla","Рекламный слайдер":"Reklam slaydı","Используйте клавиши стрелок для переключения слайдов.":"Slaydları dəyişdirmək \xfc\xe7\xfcn ox d\xfcymələrindən istifadə edin.",Ещё:"Daha \xe7ox","Ещё {number}":e=>"".concat(e," dənə daha"),Убрать:"Sil",Меню:"Menyu","От {min} до {max} символов":e=>"".concat(null==e?void 0:e.min," - ").concat(null==e?void 0:e.max," simvol arası"),"Минимум {count} символ":e=>"Ən az ".concat(e," simvol"),"Выбрать из списка":"Siyahıdan se\xe7in",развернуто:"Genişləndirildi",свернуто:"Yığışdırıldı","Модальное окно":"Modal pəncərə",Выбран:"Se\xe7ildi","Не выбран":"Se\xe7ilmədi",Свернуть:"Yığışdır",Эксклюзив:"Ekskl\xfcziv","Хит продаж":"\xc7ox satılan",Новинка:"Yenilik","Все книги, получившие эту награду":"Bu m\xfckafatı qazanan b\xfct\xfcn kitablar","Предыдущий слайд":"Əvvəlki slayd","Следующий слайд":"N\xf6vbəti slayd","Оценить книгу на {count} балл из 5":e=>"Kitabı 5 \xfczərindən ".concat(e," balla qiymətləndirin"),"Снять оценку":"Qiymətləndirməni sil","{star} звезда из 5":e=>"5 \xfczərindən ".concat(e," ulduz"),"предыдущий таб":"Əvvəlki nişan","следующий таб":"N\xf6vbəti nişan"},i={"Дата начала продаж {date}":e=>"Verkaufsstart am ".concat(e),Закрыть:"Schlie\xdfen","Рекламный слайдер":"Werbeslider","Используйте клавиши стрелок для переключения слайдов.":"Verwenden Sie die Pfeiltasten, um die Folien zu wechseln.",Ещё:"Mehr","Ещё {number}":e=>"".concat(e," weitere"),Убрать:"Entfernen",Меню:"Men\xfc","От {min} до {max} символов":e=>"Von ".concat(null==e?void 0:e.min," bis ").concat(null==e?void 0:e.max," Zeichen"),"Минимум {count} символ":e=>"Mindestens ".concat(e," Zeichen"),"Выбрать из списка":"Aus der Liste ausw\xe4hlen",развернуто:"Erweitert",свернуто:"Eingeklappt","Модальное окно":"Modalfenster",Выбран:"Ausgew\xe4hlt","Не выбран":"Nicht ausgew\xe4hlt",Свернуть:"Einklappen",Эксклюзив:"Exklusiv","Хит продаж":"Bestseller",Новинка:"Neuerscheinung","Все книги, получившие эту награду":"Alle B\xfccher, die diese Auszeichnung erhalten haben","Предыдущий слайд":"Vorherige Folie","Следующий слайд":"N\xe4chste Folie","Оценить книгу на {count} балл из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"Bewerten Sie das Buch mit ".concat(e," ").concat(e>1?"Punkten":"Punkt"," von 5")},"Снять оценку":"Bewertung entfernen","{star} звезда из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(e>1?"Sterne":"Stern"," von 5")},"предыдущий таб":"Vorheriger Tab","следующий таб":"N\xe4chster Tab"},o={"Дата начала продаж {date}":e=>"Sales start on ".concat(e),Закрыть:"Close","Рекламный слайдер":"Advertisement slider","Используйте клавиши стрелок для переключения слайдов.":"Use arrow keys to switch slides.",Ещё:"More","Ещё {number}":e=>"".concat(e," more"),Убрать:"Remove",Меню:"Menu","От {min} до {max} символов":e=>"From ".concat(null==e?void 0:e.min," to ").concat(null==e?void 0:e.max," ").concat(((null==e?void 0:e.max)||0)>1?"characters":"character"),"Минимум {count} символ":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"At least ".concat(e," ").concat(e>1?"characters":"character")},"Выбрать из списка":"Select from list",развернуто:"Expanded",свернуто:"Collapsed","Модальное окно":"Modal window",Выбран:"Selected","Не выбран":"Not selected",Свернуть:"Collapse",Эксклюзив:"Exclusive","Хит продаж":"Bestseller",Новинка:"New release","Все книги, получившие эту награду":"All books that received this award","Предыдущий слайд":"Previous slide","Следующий слайд":"Next slide","Оценить книгу на {count} балл из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"Rate the book ".concat(e," ").concat(e>1?"points":"point"," out of 5")},"Снять оценку":"Remove rating","{star} звезда из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(e>1?"stars":"star"," out of 5")},"предыдущий таб":"Previous tab","следующий таб":"Next tab"},a={"Дата начала продаж {date}":e=>"Fecha de inicio de ventas ".concat(e),Закрыть:"Cerrar","Рекламный слайдер":"Deslizador publicitario","Используйте клавиши стрелок для переключения слайдов.":"Use las teclas de flecha para cambiar las diapositivas.",Ещё:"M\xe1s","Ещё {number}":e=>"".concat(e," m\xe1s"),Убрать:"Eliminar",Меню:"Men\xfa","От {min} до {max} символов":e=>"De ".concat(null==e?void 0:e.min," a ").concat(null==e?void 0:e.max," caracteres"),"Минимум {count} символ":e=>"M\xednimo ".concat(e," caracteres"),"Выбрать из списка":"Seleccionar de la lista",развернуто:"Expandido",свернуто:"Colapsado","Модальное окно":"Ventana modal",Выбран:"Seleccionado","Не выбран":"No seleccionado",Свернуть:"Colapsar",Эксклюзив:"Exclusivo","Хит продаж":"\xc9xito de ventas",Новинка:"Novedad","Все книги, получившие эту награду":"Todos los libros que recibieron este premio","Предыдущий слайд":"Diapositiva anterior","Следующий слайд":"Siguiente diapositiva","Оценить книгу на {count} балл из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"Calificar el libro con ".concat(e," ").concat(e>1?"puntos":"punto"," de 5")},"Снять оценку":"Eliminar calificaci\xf3n","{star} звезда из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(e>1?"estrellas":"estrella"," de 5")},"предыдущий таб":"Pesta\xf1a anterior","следующий таб":"Siguiente pesta\xf1a"},s={"Дата начала продаж {date}":e=>"M\xfc\xfcgi alguskuup\xe4ev ".concat(e),Закрыть:"Sulge","Рекламный слайдер":"Reklaami slaider","Используйте клавиши стрелок для переключения слайдов.":"Kasutage slaidide vahetamiseks nooleklahve.",Ещё:"Veel","Ещё {number}":e=>"".concat(e," veel"),Убрать:"Eemalda",Меню:"Men\xfc\xfc","От {min} до {max} символов":e=>"".concat(null==e?void 0:e.min," kuni ").concat(null==e?void 0:e.max," t\xe4hem\xe4rki"),"Минимум {count} символ":e=>"V\xe4hemalt ".concat(e," t\xe4hem\xe4rki"),"Выбрать из списка":"Valige nimekirjast",развернуто:"Laiendatud",свернуто:"Kokku pandud","Модальное окно":"Modaalaken",Выбран:"Valitud","Не выбран":"Pole valitud",Свернуть:"Ahenda",Эксклюзив:"Eksklusiivne","Хит продаж":"Enimm\xfc\xfcdud",Новинка:"Uudis","Все книги, получившие эту награду":"K\xf5ik raamatud, mis said selle auhinna","Предыдущий слайд":"Eelmine slaid","Следующий слайд":"J\xe4rgmine slaid","Оценить книгу на {count} балл из 5":e=>"Hinda raamatut ".concat(e," punktiga viiest"),"Снять оценку":"Eemalda hinnang","{star} звезда из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(e>1?"t\xe4rni":"t\xe4rn"," viiest")},"предыдущий таб":"Eelmine kaart","следующий таб":"J\xe4rgmine kaart"},u={"Дата начала продаж {date}":e=>"Data rozpoczęcia sprzedaży ".concat(e),Закрыть:"Zamknij","Рекламный слайдер":"Slider reklamowy","Используйте клавиши стрелок для переключения слайдов.":"Użyj klawiszy strzałek, aby przełączać slajdy.",Ещё:"Więcej","Ещё {number}":e=>"".concat(e," więcej"),Убрать:"Usuń",Меню:"Menu","От {min} до {max} символов":e=>"Od ".concat(null==e?void 0:e.min," do ").concat(null==e?void 0:e.max," znak\xf3w"),"Минимум {count} символ":e=>"Minimum ".concat(e," znak\xf3w"),"Выбрать из списка":"Wybierz z listy",развернуто:"Rozwinięte",свернуто:"Zwinięte","Модальное окно":"Okno modalne",Выбран:"Wybrany","Не выбран":"Nie wybrany",Свернуть:"Zwiń",Эксклюзив:"Ekskluzywne","Хит продаж":"Bestseller",Новинка:"Nowość","Все книги, получившие эту награду":"Wszystkie książki, kt\xf3re otrzymały tę nagrodę","Предыдущий слайд":"Poprzedni slajd","Следующий слайд":"Następny slajd","Оценить книгу на {count} балл из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"Oceń książkę na ".concat(e," ").concat(1===e?"punkt":"punkty"," z 5")},"Снять оценку":"Usuń ocenę","{star} звезда из 5":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(1===e?"gwiazda":"gwiazdy"," z 5")},"предыдущий таб":"Poprzednia karta","следующий таб":"Następna karta"},l={"Дата начала продаж {date}":e=>"Sotuv boshlanish sanasi ".concat(e),Закрыть:"Yopish","Рекламный слайдер":"Reklama slayderi","Используйте клавиши стрелок для переключения слайдов.":"Slaydlarni oʻzgartirish uchun oʻq tugmalaridan foydalaning.",Ещё:"Ko'proq","Ещё {number}":e=>"".concat(e," ta ko'proq"),Убрать:"Olib tashlash",Меню:"Menyu","От {min} до {max} символов":e=>"".concat(null==e?void 0:e.min," dan ").concat(null==e?void 0:e.max," gacha belgi"),"Минимум {count} символ":e=>"Kamida ".concat(e," belgi"),"Выбрать из списка":"Roʻyxatdan tanlash",развернуто:"Kengaytirilgan",свернуто:"Yig'ilgan","Модальное окно":"Modal oynasi",Выбран:"Tanlangan","Не выбран":"Tanlanmagan",Свернуть:"Yig‘ish",Эксклюзив:"Eksklyuziv","Хит продаж":"Ko‘p sotilgan",Новинка:"Yangi","Все книги, получившие эту награду":"Ushbu mukofotni olgan barcha kitoblar","Предыдущий слайд":"Oldingi slayd","Следующий слайд":"Keyingi slayd","Оценить книгу на {count} балл из 5":e=>"Kitobni 5 dan ".concat(e," ball bilan baholang"),"Снять оценку":"Bahoni olib tashlash","{star} звезда из 5":e=>"5 dan ".concat(e," yulduz"),"предыдущий таб":"Oldingi varaq","следующий таб":"Keyingi varaq"},c={"Дата начала продаж {date}":e=>"Satış başlangı\xe7 tarihi ".concat(e),Закрыть:"Kapat","Рекламный слайдер":"Reklam slaytı","Используйте клавиши стрелок для переключения слайдов.":"Slaytları değiştirmek i\xe7in ok tuşlarını kullanın.",Ещё:"Daha fazla","Ещё {number}":e=>"".concat(e," tane daha"),Убрать:"Kaldır",Меню:"Men\xfc","От {min} до {max} символов":e=>"".concat(null==e?void 0:e.min," ile ").concat(null==e?void 0:e.max," karakter arasında"),"Минимум {count} символ":e=>"En az ".concat(e," karakter"),"Выбрать из списка":"Listeden se\xe7",развернуто:"Genişletildi",свернуто:"Daraltıldı","Модальное окно":"Modal pencere",Выбран:"Se\xe7ildi","Не выбран":"Se\xe7ilmedi",Свернуть:"Daralt",Эксклюзив:"\xd6zel","Хит продаж":"\xc7ok satan",Новинка:"Yeni","Все книги, получившие эту награду":"Bu \xf6d\xfcl\xfc kazanan t\xfcm kitaplar","Предыдущий слайд":"\xd6nceki slayt","Следующий слайд":"Sonraki slayt","Оценить книгу на {count} балл из 5":e=>"Kitabı ".concat(e," \xfczerinden 5 ile değerlendir"),"Снять оценку":"Puanı kaldır","{star} звезда из 5":e=>"5 \xfczerinden ".concat(e," yıldız"),"предыдущий таб":"\xd6nceki sekme","следующий таб":"Sonraki sekme"},d=r(59838),p={"Дата начала продаж {date}":e=>"Дата начала продаж ".concat(e),Закрыть:"Закрыть","Рекламный слайдер":"Рекламный слайдер","Используйте клавиши стрелок для переключения слайдов.":"Используйте клавиши стрелок для переключения слайдов.",Ещё:"Ещё","Ещё {number}":e=>"Ещё ".concat(e),Убрать:"Убрать",Меню:"Меню","От {min} до {max} символов":e=>"От ".concat(null==e?void 0:e.min," до ").concat(null==e?void 0:e.max," ").concat((0,d.pd)((null==e?void 0:e.max)||0,["символа","символов","символов"])),"Минимум {count} символ":e=>"Минимум ".concat(e," ").concat((0,d.pd)(e||0,["символ","символа","символов"])),"Выбрать из списка":"Выбрать из списка",развернуто:"развернуто",свернуто:"свернуто","Модальное окно":"Модальное окно",Выбран:"Выбран","Не выбран":"Не выбран",Свернуть:"Свернуть",Эксклюзив:"Эксклюзив","Хит продаж":"Хит продаж",Новинка:"Новинка","Все книги, получившие эту награду":"Все книги, получившие эту награду","Предыдущий слайд":"Предыдущий слайд","Следующий слайд":"Следующий слайд","Оценить книгу на {count} балл из 5":e=>"Оценить книгу на ".concat(e," ").concat((0,d.pd)(e||0,["балл","балла","баллов"])," из 5"),"Снять оценку":"Снять оценку","{star} звезда из 5":e=>"".concat(e," ").concat((0,d.pd)(e||0,["звезду","звезды","звезд"])," из 5"),"предыдущий таб":"предыдущий таб","следующий таб":"следующий таб"},f=r(17357);function h(e){switch(e){case"az-AZ":return n;case"de-DE":return i;case"en-US":return o;case"es-ES":return a;case"et-EE":return s;case"pl-PL":return u;case"uz-UZ":return l;case"tr-TR":return c;default:return p}}let m=()=>{let{lang:e}=(0,f.Y)(),t=h(e),r=(r,n)=>{let i=t[r];return"function"==typeof i?i(n):"string"==typeof i?i:(console.error("Missing translations, ".concat(e,","),r),r)};return{lang:e,t:r}}},67167:function(e,t,r){"use strict";r.d(t,{o:function(){return v}});var n=r(31549),i=r(44194),o=r(56321),a=r(3995),s=r(51865),u=r.n(s),l=r(59838),c=r(36921),d=r(4438),p=r(24783),f=r.n(p);let h=e=>{let{head:t,onBackClick:r=l.ZT,backArrowVisible:i=!0}=e;return(0,n.jsxs)("div",{className:f().head,children:[i&&(0,n.jsx)("div",{onClick:r,"data-testid":"mobileModalHead__back",children:(0,n.jsx)(d.uQ,{name:"arrowBack",size:24,className:f().head__arrow})}),(0,n.jsx)("div",{className:f().head__title,"data-testid":"mobileModalHead__title",children:t})]})};var m=r(23520),g=r.n(m),_=r(39319);let v=(0,i.memo)(e=>{let{visible:t,head:r,content:s,className:d,contentClassName:p,onBackClick:f=l.ZT,footerButton:m,footerContent:v,backArrowOff:y=!1}=e;return((0,i.useEffect)(()=>{if(!t){c.Z.publish("helpdeskeddy-show-widget");return}return c.Z.publish("helpdeskeddy-hide-widget"),()=>{c.Z.publish("helpdeskeddy-show-widget")}},[t]),t)?(0,o.createPortal)((0,n.jsx)(a.Z,{children:(0,n.jsxs)("div",{className:u()(g().mobileModal,d),"data-testid":"mobileModal",children:[(0,n.jsx)(h,{head:r,backArrowVisible:!y,onBackClick:f}),(0,n.jsx)("div",{className:u()(g().mobileModal__content,p),"data-testid":"mobileModal__content",children:s}),(m||v)&&(0,n.jsxs)("div",{className:g().footer,children:[m&&(0,n.jsx)(_.z,{mode:"secondary",size:"medium",fullWidth:!0,...m}),v]})]})}),document.body):null});v.displayName="MobileModal"},9524:function(e,t,r){"use strict";r.d(t,{u_:function(){return S},PW:function(){return p},ZA:function(){return x}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(4438),u=r(77751),l=r.n(u),c=r(39319),d=r(67504);let p=e=>{let{onClose:t,isMobile:r,noGutters:o,customClass:u,customHeaderClass:p,width:f,e2eId:h,title:m,showCloseButton:g=!0,closeIcon:_,children:v,primaryButton:y,secondaryButton:b,ariaLabel:x}=e,{t:S}=(0,d.b)(),w=e=>{e.preventDefault(),e.stopPropagation(),t()},k=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),t())};return(0,n.jsxs)("div",{className:a()(l().layout,u,{[l().layout_mobile]:r,[l().layout_noGutters]:o}),style:{width:f},"data-testid":h,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":m||x||S("Модальное окно"),"aria-describedby":"dialogDesc",children:[(m||g)&&(0,n.jsxs)("div",{className:a()(l().content__header,p),children:[m&&(0,n.jsx)("h3",{className:l().content__title,children:m}),g&&(0,n.jsx)("div",{className:l().close,"data-testid":"modal__close--button",onClick:w,onKeyDown:k,role:"button","aria-label":S("Закрыть"),tabIndex:0,children:_?i.cloneElement(_):(0,n.jsx)(s.uQ,{name:"close",size:24})})]}),(0,n.jsx)("div",{id:"dialogDesc",className:l().content,"data-testid":"modalWindow--content",children:v}),(y||b)&&(0,n.jsxs)("div",{className:a()(l().controls,{[l().with_one_button]:!b}),children:[y&&(0,n.jsx)(c.z,{mode:"primary",size:"medium",onClick:e=>{null==y||y.onClick(e)},fullWidth:r,className:l().button,text:y.label,secondaryText:y.secondaryLabel,loading:y.loading}),b&&(0,n.jsx)(c.z,{mode:"secondary",size:"medium",onClick:e=>{null==b||b.onClick(e)},fullWidth:r,className:l().button,text:b.label,secondaryText:b.secondaryLabel,loading:b.loading})]})]})};var f=r(56321),h=r(3995),m=r(59838),g=r(62094);let _=e=>{let t=(0,i.useRef)(null),r=()=>(t.current||(t.current=document.createElement("div")),t.current),n=e=>{let t=document.createElement("div");return t.setAttribute("id",e),t},o=e=>{var t;document.body.insertBefore(e,(null===(t=document.body.lastElementChild)||void 0===t?void 0:t.nextElementSibling)||document.body.lastElementChild)};return((0,i.useEffect)(()=>{if(!m.Ym)return;let r=document.querySelector("#".concat(e)),i=r||n(e);return r||o(i),t.current&&i.appendChild(t.current),()=>{t.current&&t.current.remove()}},[e]),m.Ym)?r():null};var v=r.p+"static/media/litresLogo.c92324bd.svg",y=r.p+"static/media/modal-arrow.1185fd0f.svg",b=r(55714);let x=e=>{let{isOpen:t,closeOnClickOutside:r=!1,onClose:o,isMobile:u,isFullScreenMode:c,isCloseButtonShown:d,isFadeBackground:p,customCssProperties:x,arrowCssProperties:S,children:w,e2eId:k="overlay"}=e,E=_("modal"),C=(0,i.useRef)(null),T=(0,i.useRef)(null),[j,A]=(0,i.useState)(u||!1),R=e=>{"Escape"===e.key&&(null==o||o()),"Tab"===e.key&&t&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?(0,m.T4)(T.current):(0,m.su)(T.current))},O=e=>{!r||T.current&&e.target.closest(".".concat(T.current.className))||(e.preventDefault(),null==o||o())};function P(){return e=>{"key"in e?document.body.classList.add("focus-visible-class"):document.body.classList.remove("focus-visible-class"),"key"in e&&"Enter"!==e.key&&" "!==e.key||e.stopPropagation()}}let L=(0,i.useMemo)(()=>i.Children.map(w,e=>i.isValidElement(e)?i.cloneElement(e,{isMobile:j}):e),[w,j]),I=e=>{e.preventDefault(),e.stopPropagation(),t&&T.current&&!T.current.contains(e.relatedTarget)&&(0,m.su)(T.current)};return((0,i.useEffect)(()=>{if(!t)return;let e=C.current;return e&&e.addEventListener("mousedown",O),document.addEventListener("keydown",R),()=>{e&&e.removeEventListener("mousedown",O),document.removeEventListener("keydown",R)}},[t]),(0,i.useEffect)(()=>{let e=document.activeElement;T.current&&t&&((0,m.su)(T.current),window.addEventListener("focusout",I));let r=()=>{setTimeout(()=>{(0,g._H)()&&void 0===u?A(!0):(A(!!u),T.current&&!u&&(T.current.getBoundingClientRect().height<window.innerHeight?C.current&&(C.current.style.alignItems="center"):C.current&&(C.current.style.alignItems="flex-start")))},300)};return r(),window.addEventListener("resize",r),()=>{e&&e.focus(),window.removeEventListener("focusout",I),window.removeEventListener("resize",r)}},[t]),t&&E)?f.createPortal((0,n.jsx)(h.Z,{children:(0,n.jsxs)("div",{className:a()(l().container,{[l().container_mobile]:j,[l().container_isFullScreenMode]:!!c,[l().container__fade]:p}),"data-testid":"modal__".concat(k,"--wrapper"),ref:C,onClick:P(),onKeyDown:P(),children:[c&&(0,n.jsxs)("div",{className:l().container__header,children:[(0,n.jsx)("div",{className:l().container__logoIcon,children:(0,n.jsx)("img",{src:v,width:99,height:16,alt:"Litres logo"})}),d&&(0,n.jsx)(b.rU,{href:"#",className:l().container__closeIcon,onClick:o,children:(0,n.jsx)(s.uQ,{name:"close",size:24})})]}),(0,n.jsx)("div",{className:l().container__inner,"data-testid":"modal__".concat(k,"--container"),ref:T,tabIndex:-1,style:x,children:L}),S&&(0,n.jsx)("div",{style:S,children:(0,n.jsx)("img",{src:y,width:24,height:12})})]})}),E):null},S=e=>{let{isOpen:t,closeOnClickOutside:r=!1,isMobile:i,isFadeBackground:o=!1,customCssProperties:a,arrowCssProperties:s,...u}=e;return(0,n.jsx)(x,{isOpen:t,onClose:u.onClose,closeOnClickOutside:r,isMobile:i,isFadeBackground:o,customCssProperties:a,arrowCssProperties:s,children:(0,n.jsx)(p,{...u})})}},34270:function(e,t,r){"use strict";r.d(t,{P:function(){return q},o:function(){return p}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=r(59838),u=r(4438),l=r(1833),c=r.n(l),d=r(39319);let p=e=>{let{mode:t,onClose:r=s.ZT,showIcon:i,title:o,isClosable:l=!0,message:p,isMobile:f=!1,isFullWidth:h=!1,button:m,buttonClassName:g}=e;return(0,n.jsxs)("div",{className:a()(c().notice,{[c().notice_info]:"info"===t,[c().notice_error]:"error"===t,[c().notice_warning]:"warning"===t,[c().notice_success]:"success"===t,[c().notice_fullWidth]:h,[c().notice_isMobile]:f}),children:[l&&(0,n.jsx)("div",{role:"button",className:c().notice__close,onClick:r,children:(0,n.jsx)(u.uQ,{name:"close",size:24})}),(0,n.jsx)("div",{children:i&&(0,n.jsx)("div",{className:c().notice__icon,children:(0,n.jsx)(u.uQ,{name:"infoFilled",size:24})})}),(0,n.jsxs)("div",{className:c().notice__content,children:[(0,n.jsx)("h4",{className:c().notice__title,children:o}),(0,n.jsx)("p",{children:p}),m&&(0,n.jsx)("div",{className:c().notice__button,children:(0,n.jsx)(d.z,{size:"small",mode:"secondary",text:m.label,className:a()(g),onClick:()=>{m.onClick()}})})]})]})};var f=r(40766),h=r.n(f);let m=30,g=10,_=295,v=110,y=50,b=500,x=1e3,S=(e,t,r,n)=>n?window.innerHeight-(e.y+e.height/2)>=(t||v)/2:window.innerHeight-e.bottom-(r||g)>=(t||v),w=(e,t,r,n)=>n?e.y>(t||v)/2:e.y-(r||g)>(t||v),k=(e,t,r,n,i)=>n?window.innerWidth-(e.x+e.width)>=(t||_)+(r||g):i?window.innerWidth-e.x-e.width/2>=(t||_)/2:e.x+e.width>=(t||_),E=(e,t,r,n,i)=>n?e.x>=(t||_)+(r||g):i?e.x+e.width/2>=(t||_)/2:window.innerWidth-e.x>=(t||_),C=(e,t)=>({top:"".concat(e.y-(t||g),"px"),transform:"translateY(-100%)"}),T=e=>({top:"".concat(e.y+e.height/2,"px"),transform:"translateY(-50%)"}),j=(e,t)=>({top:"".concat(e.y+e.height+(t||g),"px"),transform:"none"}),A=e=>({left:"auto",right:"".concat(window.innerWidth-e.x-e.width,"px")}),R=(e,t)=>({right:"auto",left:"".concat(e.x+e.width+(t||g),"px")}),O=e=>({right:"auto",left:"".concat(e.x,"px")}),P=(e,t)=>({left:"auto",right:"".concat(window.innerWidth-e.x+(t||g),"px")}),L=(e,t,r,n)=>"top"===r&&w(e,t,n)||"bottom"===r&&!S(e,t,n)?C(e,n):j(e,n),I=(e,t,r)=>w(e,t,r,!0)&&S(e,t,r,!0)?T(e):L(e,t,"bottom",r),N=(e,t,r,n)=>"left"===r&&E(e,t,n)||"right"===r&&!k(e,t,n)?O(e):A(e),F=(e,t,r,n,i)=>w(e,r,i,!0)&&S(e,r,i,!0)?"left"===n&&E(e,t,i,!0)||"right"===n&&!k(e,t,i,!0)?P(e,i):R(e,i):N(e,t,"right"===n?"left":"right"),D=(e,t,r,n,i)=>{let{top:o,transform:a}="center"===n?I(e,r):L(e,r,n);return E(e,t,i,!1,!0)&&k(e,t,i,!1,!0)?{top:o,transform:"none"===a?"translateX(-50%)":"translateX(-50%) ".concat(a),left:"".concat(e.x+e.width/2,"px"),right:"auto"}:{...L(e,r,"center"===n?"bottom":n),...N(e,t,"right")}},M=e=>{let{horizontalAlign:t,verticalAlign:r,el:n,notice:o,margin:a,isMobile:s}=e,u=()=>{!n&&o&&("left"===t&&(o.style.left="".concat(a||m,"px")),"right"===t&&(o.style.right="".concat(a||m,"px")),"top"===r&&(o.style.top="".concat(a||m,"px")),"bottom"===r&&(o.style.bottom="".concat(a||m,"px")),"center"===t&&(o.style.left="50%",o.style.transform="translateX(-50%)"),"center"===r&&(o.style.top="50%",o.style.transform="translateY(-50%)"),"center"===t&&"center"===r&&(o.style.transform="translate(-50%, -50%)"))},l=()=>{if(n&&o){let e=o.getBoundingClientRect(),i=n.getBoundingClientRect();if(o.style.bottom="auto","top"===r||"bottom"===r){let{top:t,transform:n}=L(i,e.height,r,a);o.style.top=t,o.style.transform=n}if("left"===t||"right"===t){let{left:r,right:n}=N(i,e.width,t,a);o.style.right=n,o.style.left=r}if("center"===r){let{left:r,right:n}=F(i,e.width,e.height,t,a),{top:s,transform:u}=I(i,e.height,a);o.style.top=s,o.style.transform=u,o.style.right=n,o.style.left=r}if("center"===t){let{top:t,transform:n,left:s,right:u}=D(i,e.width,e.height,r,a);o.style.top=t,o.style.transform=n,o.style.right=u,o.style.left=s}}};(0,i.useEffect)(()=>{if(!s)return u(),l(),window.addEventListener("resize",l),window.addEventListener("scroll",l),()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l)}},[t,r,n,o,a])},U=e=>{let{isMobile:t,notice:r,handleClose:n}=e,[o,a]=(0,i.useState)(0),s=(0,i.useRef)(0),u=(0,i.useRef)(0),l=(0,i.useRef)(!1),c=e=>{let t=e.touches[0].clientX-s.current;0===u.current&&(u.current=e.touches[0].clientX),t>=0&&(a(e=>e+t),l.current=!0,s.current=e.touches[0].clientX)},d=()=>{s.current=0,u.current=0,l.current=!1,a(0)},p=e=>{s.current=e.touches[0].clientX},f=e=>{e.preventDefault(),c(e)},h=()=>{let e=s.current-u.current;l.current&&e>=y?(a(x),setTimeout(()=>{n(),d()},b)):d()};return(0,i.useEffect)(()=>{if(t&&r)return r.addEventListener("touchstart",p),r.addEventListener("touchend",h),r.addEventListener("touchmove",f),()=>{r&&(r.removeEventListener("touchstart",p),r.removeEventListener("touchend",h),r.removeEventListener("touchmove",f))}},[r,t]),{offsetX:o}},q=e=>{let{horizontalAlign:t="right",verticalAlign:r="bottom",time:o=5e3,closeOnClick:u=!1,margin:l,isOpen:c,onClose:d=s.ZT,alignElRef:f,isMobile:m=!1,className:g,..._}=e,[v,y]=(0,i.useState)(!1),b=(0,i.useRef)(null),x=()=>{y(!1),d()};M({horizontalAlign:t,verticalAlign:r,margin:l,el:null==f?void 0:f.current,notice:b.current,isMobile:m});let{offsetX:S}=U({isMobile:m,notice:b.current,handleClose:x});return(0,i.useEffect)(()=>{let e;return y(c),c&&!u&&(e=setTimeout(x,o)),()=>{e&&clearTimeout(e)}},[c]),(0,n.jsx)("div",{className:a()(h().container,g,{[h().container_isMobile]:m}),ref:b,"data-testid":"notification__wrapper",onClick:e=>{e.stopPropagation()},children:v&&(0,n.jsx)("div",{className:h().wrapper,style:{transform:"translateX(".concat(S,"px)")},children:(0,n.jsx)(p,{..._,onClose:x,isMobile:m})})})}},41168:function(e,t,r){"use strict";r.d(t,{r1:function(){return n},Ay:function(){return i},k$:function(){return y}});var n,i,o,a,s=r(31549);r(44194);var u=r(51865),l=r.n(u);let c=e=>{switch(e){case"orange":return"#FF4C00";case"black":case"lightgrey":default:return"#3B393F";case"green":return"#0E920E";case"blue":return"#106EDC";case"purple":return"#9631CA"}};(function(e){e.orange="orange",e.gray="gray",e.green="green",e.lightgrey="lightgrey",e.black="black",e.purple="purple",e.blue="blue"})(n||(n={})),function(e){e.colorOnHover="colorOnHover",e.default="default",e.primary="primary",e.text="text",e.price="price"}(i||(i={})),function(e){e.secondary="secondary"}(o||(o={})),function(e){e.dark="dark",e.light="light"}(a||(a={}));var d=r(4137),p=r.n(d),f=r(47263);let h=e=>{let{icon:t,secondIcon:r,loading:n,children:u,variant:c,priceClass:d,subPrice:h,subPriceType:m}=e,g=c===i.primary?a.light:a.dark;return c===i.price?(0,s.jsxs)("div",{className:p().price_container,children:[(0,s.jsx)("div",{className:d,children:u}),(0,s.jsx)("div",{className:l()(p().subprice,{[p().secondarySubpriceContainer]:m===o.secondary}),children:h})]}):(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("img",{src:t,className:l()(p().icon,{[p().icon_secondIcon]:r}),alt:""}),n&&(0,s.jsx)(f.a,{mode:g}),!n&&(0,s.jsx)("div",{className:l()({[p().container]:r}),children:u}),r&&(0,s.jsx)("div",{className:p().secondIconContainer,children:(0,s.jsx)("img",{src:r,className:p().second_icon,alt:""})})]})};var m=r(18853),g=r.n(m),_=r(55714);let v=e=>{let{children:t,className:r,color:o,variant:a,disabled:u,onClick:d,href:p,icon:f,secondIcon:m,loading:v,style:y,type:b="button",subPrice:x,subPriceType:S,priceClass:w,verticalPadding:k="15px",width:E="180px",height:C="50px",fontSize:T="18px",targetBlank:j,analyticsId:A}=e,R=l()(g().button,r,{[g().button__href]:p,[g().button__text]:a===i.text,[g().button__primary]:a===i.primary,[g().button__hover]:a===i.colorOnHover,[g().button__disabled]:u,[g().button__lightgray]:o===n.lightgrey,[g().button__orange]:o===n.orange,[g().button__gray]:o===n.gray,[g().button__green]:o===n.green,[g().button__black]:o===n.black,[g().button__purple]:o===n.purple,[g().button__blue]:o===n.blue}),O={...y,"--width":E,"--height":C,"--fontSize":T,"--verticalPadding":k,"--main-color":a===i.colorOnHover?c(o):void 0},P={icon:f,secondIcon:m,loading:v,children:t,variant:a,priceClass:w,subPrice:x,subPriceType:S},L=j?"_blank":void 0;return p?(0,s.jsx)(_.rU,{className:R,onClick:d,href:p,target:L,style:O,"data-analytics-id":A,children:(0,s.jsx)(h,{...P})}):(0,s.jsx)("button",{className:R,onClick:d,disabled:u||v,type:b,style:O,"data-analytics-id":A,children:(0,s.jsx)(h,{...P})})},y=e=>(0,s.jsx)(v,{...e})},34257:function(e,t,r){"use strict";r.d(t,{J:function(){return u}});var n=r(31549),i=r(44194),o=r(62094);let a=(0,i.lazy)(()=>Promise.all([r.e(1045),r.e(1113),r.e(6584),r.e(1022)]).then(r.bind(r,11022))),s=e=>{let{content:t}=e;return(0,n.jsx)("div",{style:{visibility:"hidden",position:"absolute",left:"-150px"},children:t})},u=e=>{let t=(0,o.uH)(),[r,u]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{u(!1)},[]),r)?(0,n.jsxs)(n.Fragment,{children:[e.children,e.needForSEO&&!t&&(0,n.jsx)(s,{content:e.content})]}):(0,n.jsx)(i.Suspense,{fallback:e.children,children:(0,n.jsx)(a,{...e})})}},17357:function(e,t,r){"use strict";r.d(t,{J:function(){return s},Y:function(){return a}});var n=r(31549),i=r(44194);let o=(0,i.createContext)({lang:"ru-RU"}),a=()=>(0,i.useContext)(o),s=e=>{let{lang:t,linkComponent:r,children:i}=e;return(0,n.jsx)(o.Provider,{value:{lang:t,linkComponent:r},children:i})}},38112:function(e,t,r){"use strict";r.d(t,{Od:function(){return g},qM:function(){return y},nN:function(){return _},c4:function(){return h},B9:function(){return p},T3:function(){return b},N2:function(){return c}});var n=r(31549),i=r(44194),o=r(51865),a=r.n(o),s=i.createContext(null),u=r(67397),l=r.n(u);let c=e=>{let{count:t=1,offsetLeft:r=0,duration:o=2,columnsCount:u=1,className:c}=e,d=(0,i.useContext)(s),p=[],[f,h]=(0,i.useState)({}),[m,g]=(0,i.useState)({}),_=(0,i.useRef)(null);for(let e=0;e<t;e++){let i=a()(l().skeleton,{[l().skeleton_last]:t>2&&e===t-1}),s=(0,n.jsx)("span",{className:i,style:f,"aria-busy":"true",children:(0,n.jsx)("span",{className:l().skeleton__bg,"aria-busy":"true",children:(0,n.jsx)("span",{"aria-busy":"true",className:l().skeleton__anim,style:{...m,left:-r,animationDuration:"".concat(null!=o?o:2,"s"),"--translate":"".concat(u&&1!==u?100*u:150,"%")}})})},e);p.push(s)}return(0,i.useEffect)(()=>{var e;if(null===(e=_.current)||void 0===e?void 0:e.parentElement){let e=getComputedStyle(_.current.parentElement);h({height:e.lineHeight}),g({width:(null==d?void 0:d.style)?d.style.width:e.width})}else h({height:"22px"}),g({width:(null==d?void 0:d.style)?d.style.width:"400px"})},[_,_.current]),(0,n.jsx)("div",{ref:_,className:a()(l().text,c),children:p})};var d=c;let p=e=>{let{isRounded:t=!1,className:r}=e,o=(0,i.useContext)(s),u=(null==o?void 0:o.style)?{width:o.style.width}:{},[c,d]=(0,i.useState)({}),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.parentElement)&&o&&d({height:getComputedStyle(p.current.parentElement).height})},[p,p.current]),(0,n.jsx)("div",{style:c,ref:p,className:a()(l().cover,{[l().rounded]:t},r),children:(0,n.jsx)("span",{className:l().skeleton,"aria-busy":"true",children:(0,n.jsx)("span",{className:a()(l().skeleton__bg,{[l().skeleton__rounded]:t}),"aria-busy":"true",children:(0,n.jsx)("span",{className:l().skeleton__anim,style:u,"aria-busy":"true"})})})})};var f=p;let h=e=>{let{className:t}=e,r=(0,i.useContext)(s),o=(null==r?void 0:r.style)?{width:r.style.width}:{},[u,c]=(0,i.useState)({}),d=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e;(null===(e=d.current)||void 0===e?void 0:e.parentElement)&&r&&c({height:getComputedStyle(d.current.parentElement).height})},[d,d.current]),(0,n.jsx)("div",{ref:d,className:a()(l().button,t),style:o,children:(0,n.jsx)("span",{className:l().skeleton,style:u,"aria-busy":"true",children:(0,n.jsx)("span",{className:l().skeleton__bg,"aria-busy":"true",children:(0,n.jsx)("span",{className:l().skeleton__anim,"aria-busy":"true"})})})})};var m=h;let g=e=>{let{mode:t,...r}=e;switch(t){case"text":return(0,n.jsx)(d,{...r});case"cover":return(0,n.jsx)(f,{...r});case"button":return(0,n.jsx)(m,{})}},_=e=>{let[t,r]=(0,i.useState)(),o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(o.current){let e=getComputedStyle(o.current);r({height:e.height,width:e.width})}},[o,o.current]),(0,n.jsx)("div",{ref:o,className:e.className,children:(0,n.jsx)(s.Provider,{value:{style:t},children:e.children})})};var v=_;let y=e=>{let{width:t,height:r,className:o,isRounded:u,isInitial:c}=e,d=(0,i.useContext)(s),p=(null==d?void 0:d.style)?{width:d.style.width}:{};return(0,n.jsx)("div",{style:{width:t,height:r},className:o,children:(0,n.jsx)("span",{className:l().skeleton,"aria-busy":"true",children:(0,n.jsx)("span",{className:a()(l().skeleton__bg,{[l().skeleton__rounded]:u}),"aria-busy":"true",children:(0,n.jsx)("span",{className:a()(l().skeleton__anim,{[l().skeleton__anim_isInitial]:c}),style:p,"aria-busy":"true"})})})})},b=e=>{let{coverType:t="default"}=e;return(0,n.jsxs)(v,{className:l().coverBlock,children:[(0,n.jsx)("div",{className:a()(l().coverBlock__cover,{[l().coverBlock__cover_square]:"square"===t}),children:(0,n.jsx)(f,{})}),(0,n.jsxs)("div",{className:l().coverBlock__content,children:[(0,n.jsx)(d,{count:2,offsetLeft:144}),(0,n.jsx)("div",{className:l().coverBlock__label,children:(0,n.jsx)(d,{offsetLeft:144})})]})]})}},59838:function(e,t,r){"use strict";r.d(t,{Rl:function(){return nU},pF:function(){return i},uK:function(){return n},a4:function(){return nq},Hb:function(){return nx},SY:function(){return k},YV:function(){return n$},kC:function(){return s},P6:function(){return nj},XF:function(){return nC},s7:function(){return nE},Ph:function(){return nT},kT:function(){return b},BK:function(){return nl},Ic:function(){return nX},vq:function(){return nY},tM:function(){return nJ},su:function(){return nK},T4:function(){return nQ},z6:function(){return nD},TS:function(){return x},ej:function(){return y},wd:function(){return nH},pd:function(){return S},zm:function(){return nZ},fp:function(){return M},Kk:function(){return B},qZ:function(){return ny},el:function(){return j},J2:function(){return E},aS:function(){return a},Ty:function(){return nm},gf:function(){return n4},vU:function(){return n0},bu:function(){return T},iN:function(){return C},Hm:function(){return n1},qg:function(){return nG},pQ:function(){return nw},vW:function(){return w},zi:function(){return nW},Ym:function(){return _},Dt:function(){return m},a7:function(){return ed},p6:function(){return Z},Af:function(){return eu},tS:function(){return eh},i7:function(){return h},HF:function(){return X},NR:function(){return $},MB:function(){return Y},Yt:function(){return ee},nf:function(){return eo},Sg:function(){return en},gn:function(){return f},zc:function(){return p},iV:function(){return ef},f0:function(){return el},HZ:function(){return nv},kE:function(){return nN},pM:function(){return nF},LS:function(){return J},_r:function(){return ec},Ok:function(){return ei},vo:function(){return es},Gm:function(){return Q},Fo:function(){return ea},Ov:function(){return V},qT:function(){return K},RY:function(){return no},kg:function(){return nu},ZT:function(){return n_},xw:function(){return g},Iy:function(){return n3},vV:function(){return nb},BD:function(){return ng},bZ:function(){return q},gk:function(){return G},H3:function(){return nM},m8:function(){return U},fe:function(){return z},Zj:function(){return na},d8:function(){return v},_v:function(){return nk},xd:function(){return nP},UG:function(){return nI},xb:function(){return nB},sM:function(){return nz}});var n,i,o={};r.r(o),r.d(o,{BaseClient:function(){return eq.W},BrowserMetricsAggregator:function(){return rQ},DEFAULT_ENVIRONMENT:function(){return tx.J},SDK_VERSION:function(){return r8.J},SEMANTIC_ATTRIBUTE_CACHE_HIT:function(){return eT.hJ},SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE:function(){return eT.WJ},SEMANTIC_ATTRIBUTE_CACHE_KEY:function(){return eT.N0},SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME:function(){return eT.JQ},SEMANTIC_ATTRIBUTE_PROFILE_ID:function(){return eT.p6},SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON:function(){return eT.ju},SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT:function(){return eT.E1},SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE:function(){return eT.Wb},SEMANTIC_ATTRIBUTE_SENTRY_OP:function(){return eT.$J},SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:function(){return eT.S3},SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:function(){return eT.TE},SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:function(){return eT.Zj},SPAN_STATUS_ERROR:function(){return ex.jt},SPAN_STATUS_OK:function(){return ex.OP},SPAN_STATUS_UNSET:function(){return ex.pq},Scope:function(){return eD.s},SentryNonRecordingSpan:function(){return eb.b},SentrySpan:function(){return ey.s},ServerRuntimeClient:function(){return e6},SessionFlusher:function(){return eF},TRACING_DEFAULTS:function(){return ev.A},addBreadcrumb:function(){return tS.n},addChildSpanToSpan:function(){return e8.j5},addEventProcessor:function(){return eA.Qy},addIntegration:function(){return tl.M5},addTracingExtensions:function(){return e_},addTracingHeadersToFetchRequest:function(){return rY.U},applyScopeDataToEvent:function(){return tc.gi},applySdkMetadata:function(){return tb.V},captureCheckIn:function(){return eA.c},captureConsoleIntegration:function(){return t5},captureEvent:function(){return eA.eN},captureException:function(){return eA.Tb},captureFeedback:function(){return r2},captureMessage:function(){return eA.uT},captureSession:function(){return eA.cg},close:function(){return eA.xv},closeSession:function(){return eI.RJ},continueTrace:function(){return eS.yn},createCheckInEnvelope:function(){return e2},createEventEnvelope:function(){return ej.Mq},createSessionEnvelope:function(){return ej.Q3},createSpanEnvelope:function(){return ej.uE},createTransport:function(){return e7.q},debugIntegration:function(){return t6},dedupeIntegration:function(){return t9.R},defineIntegration:function(){return tl._I},endSession:function(){return eA.TM},extraErrorDataIntegration:function(){return rt},flush:function(){return eA.yl},functionToStringIntegration:function(){return tw.C},getActiveSpan:function(){return e8.HN},getCapturedScopesOnSpan:function(){return eg.I1},getClient:function(){return eR.s3},getCurrentHub:function(){return r4},getCurrentHubShim:function(){return r5},getCurrentScope:function(){return eR.nZ},getDefaultCurrentScope:function(){return eO.X},getDefaultIsolationScope:function(){return eO.T},getDynamicSamplingContextFromClient:function(){return ew._l},getDynamicSamplingContextFromSpan:function(){return ew.jC},getEnvelopeEndpointWithUrlEncodedAuth:function(){return eU.U},getGlobalScope:function(){return eR.lW},getIntegrationsToSetup:function(){return tl.m8},getIsolationScope:function(){return eR.aF},getMainCarrier:function(){return eL.c},getMetricSummaryJsonForSpan:function(){return rX.y},getReportDialogEndpoint:function(){return eU.h},getRootSpan:function(){return e8.Gx},getSpanDescendants:function(){return e8.Dp},getSpanStatusFromHttpCode:function(){return ex.ix},getStatusMessage:function(){return e8._4},handleCallbackErrors:function(){return t_.i},hasTracingEnabled:function(){return tp.z},inboundFiltersIntegration:function(){return tk.S},initAndBind:function(){return e9.M},instrumentFetchRequest:function(){return rY.m},isEnabled:function(){return eA._k},isInitialized:function(){return eA.dk},isSentryRequestUrl:function(){return tf},lastEventId:function(){return eA.eW},linkedErrorsIntegration:function(){return tR},logSpanEnd:function(){return eC.w},logSpanStart:function(){return eC.Z},makeMultiplexedTransport:function(){return tu},makeOfflineTransport:function(){return ti},makeSession:function(){return eI.Hv},mergeScopeData:function(){return tc.yo},metrics:function(){return rA},metricsDefault:function(){return rJ},moduleMetadataIntegration:function(){return tI},notifyEventProcessors:function(){return eM.R},parameterize:function(){return tv},parseSampleRate:function(){return ty.o},prepareEvent:function(){return td.R},registerSpanErrorInstrumentation:function(){return em.a},requestDataIntegration:function(){return tK},rewriteFramesIntegration:function(){return ri.v},sampleSpan:function(){return eE.R},sessionTimingIntegration:function(){return ru},setAsyncContextStrategy:function(){return eP.$},setCapturedScopesOnSpan:function(){return eg.YJ},setContext:function(){return eA.v},setCurrentClient:function(){return e9.K},setExtra:function(){return eA.sU},setExtras:function(){return eA.rJ},setHttpStatus:function(){return ex.Q0},setMeasurement:function(){return ek.o},setTag:function(){return eA.YA},setTags:function(){return eA.mG},setUser:function(){return eA.av},spanIsSampled:function(){return e8.Tt},spanToBaggageHeader:function(){return ew.uc},spanToJSON:function(){return e8.XU},spanToTraceContext:function(){return e8.wy},spanToTraceHeader:function(){return e8.Hb},startIdleSpan:function(){return ev.R},startInactiveSpan:function(){return eS.qp},startNewTrace:function(){return eS.Iw},startSession:function(){return eA.yj},startSpan:function(){return eS.GK},startSpanManual:function(){return eS.V0},suppressTracing:function(){return eS.hE},thirdPartyErrorFilterIntegration:function(){return r_.L},timedEventsToMeasurements:function(){return ek.l},trpcMiddleware:function(){return r1},updateSession:function(){return eI.CT},withActiveSpan:function(){return eS._d},withIsolationScope:function(){return eR.wi},withMonitor:function(){return eA.sV},withScope:function(){return eR.$e},zodErrorsIntegration:function(){return rg}});let a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("number"==typeof e&&!Number.isNaN(e)&&e!==Number.MAX_VALUE){let n=0;e%1!=0&&(n=2);let i={style:t?"currency":"decimal",currency:null==t?void 0:t.toUpperCase(),currencyDisplay:"narrowSymbol",minimumFractionDigits:n,maximumFractionDigits:n};try{return new Intl.NumberFormat(null!=r?r:"ru-RU",i).format(e)}catch(t){return new Intl.NumberFormat(null!=r?r:"ru-RU",{...i,currencyDisplay:"symbol"}).format(e)}}},s=e=>e.charAt(0).toUpperCase()+e.slice(1);function u(e){var t,r;return null!=window.navigator&&((null===(r=window.navigator)||void 0===r?void 0:null===(t=r.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function l(e){var t,r;return null!=window.navigator&&e.test((null===(r=window.navigator)||void 0===r?void 0:null===(t=r.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function c(){return l(/^Mac/i)}function d(){return l(/^iPhone/i)}function p(){return l(/^iPad/i)||c()&&navigator.maxTouchPoints>1}function f(){return d()||p()}function h(){return u(/Chrome/i)}function m(){return u(/Android/i)}let g=(e,t)=>{if(f()){let r=document.createElement("a");document.body.append(r),r.setAttribute("href",e),t&&r.setAttribute("target",t),r.click(),document.body.removeChild(r)}else window.open(e,t)},_=!0;function v(e,t,r){if(_){(r={path:"/",...r}).expires instanceof Date&&(r.expires=r.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in r)if(Object.prototype.hasOwnProperty.call(r,e)){n+="; "+e;let t=r[e];!0!==t&&(n+="=".concat(t))}document.cookie=n}}function y(e){if(_){let t=e+"=",r=decodeURIComponent(document.cookie).split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}}}function b(e,t,r){if(_){let n=new Date;n.setTime(n.getTime()-864e5);let i=e+"=; expires="+n.toUTCString()+"; path=".concat(null!=r?r:"/");document.cookie=i,t&&(i=e+"=; expires="+n.toUTCString()+"; path=".concat(null!=r?r:"/","; domain=")+t,document.cookie=i)}}let x=e=>Array.from({length:e},(e,t)=>t),S=(e,t)=>{let[r,n,i]=t,o=Math.abs(e);return(o%=100)>=5&&o<=20?i:1==(o%=10)?r:o>=2&&o<=4?n:i},w=e=>{let{privacy:t,firstName:r="",lastName:n="",nickname:i,email:o,name:a}=e;return("public"===t||"default"===t)&&(r.length>0||n.length>0)?"".concat(r).concat(n.length>0?" "+n:""):i||(a?-1!==a.indexOf("@")?a.substring(0,a.indexOf("@")):a:o?o.substring(0,o.indexOf("@")):"anonym")},k={author:"Автор",translator:"Переводчик",agent:"Агент",painter:"Художник",compiler:"Составитель",narrator:"Пересказчик",reader:"Чтец",performer:"Исполнитель",vendor:"Производитель",editor:"Редактор",actor:"Актер",director:"Режиссер",producer:"Продюсер",composer:"Композитор",sound_designer:"Звукорежиссер",publisher:"Издатель",screenwriter:"Сценарист",rights_holder:"Владелец прав",layout_artist:"Верстальщик",adaptation:"Адаптация",dialogues:"Диалоги",concept:"Концепция",review:"Отзыв",foreword:"Предисловие",afterword:"Послесловие",accompanists:"Аккомпаниаторы",citations:"Цитаты",annotation:"Аннотация",related_to:"Связывается с",commentator:"Комментатор",consultant:"Консультант",corrector:"Корректор",scientific_advisor:"Научный советник",probable_author:"Вероятный автор",designer:"Дизайнер",letter_recipient:"Получатель писем",sponsor:"Спонсор",photographer:"Фотограф",other:"Прочее",not_defined:"Не определено",chief_editor:"Главный редактор",member_of_editorial_board:"Член редколлегии",responsible_editor:"Ответственный редактор",co_author:"Соавтор",illustrator:"Иллюстратор",cover_designer:"Дизайнер обложки",lecturer:"Лектор",literary_processing:"Литературная обработка",comments:"Комментарии",notes:"Примечания",text_preparation:"Подготовка текста"},E=e=>k[e]||"",C=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r].id==t)return e[r].group;return!1},T=()=>{var e;if(!_)return;let t=document.referrer||(null!==(e=window.customReferrer)&&void 0!==e?e:"");switch(!0){case t.includes("/book/"):case t.includes("/podcast/"):case t.includes("/audiobook/"):return"book_card";case t.includes("/new_basket/"):return"cart_page";case/^https?:\/\/[^/]+(\/)?$/.test(t):return"homepage";case t.includes("/search/"):return"search";case t.includes("/series/"):return"series_page";case t.includes("/genre/"):return"genre";case t.includes("/new_liked/"):return"deferred";case t.includes("/my_books_fresh/"):return"my_books";case t.includes("/by_subscription/"):return"by_subscription";case t.includes("/rmd_search_fund/"):return"by_library";case t.includes("/my_books_removed/"):return"my_books_removed";case t.includes("/collections/"):case t.includes("/kollekcii-knig/"):return"grid_collection";case t.includes("/abonement/"):return"abonement_landing";case t.includes("/litres_subscription/"):return"subscription_landing";case t.includes("/author/"):return"person_card";case t.includes("/landing/"):return"landing";case t.includes("/me/profile/"):return"profile";case t.includes("/me/subscription/"):return"subscription";case t.includes("/me/abonement/"):return"abonement";case t.includes("/journal/"):return"journal";default:return""}},j=(e,t)=>{let r=t.filter(t=>t.tag2===e||t.tag3===e)[0];return{title:(null==r?void 0:r.title)||"русский",inTitle:r?"".concat(r.on_title):"русском",inTitleWithIn:r?"на ".concat(r.on_title):"на русском"}};var A=r(76705),R=r.n(A),O=r(54256),P=r.n(O);function L(e){try{return window[e]}catch(e){return null}}function I(e){let t="__support_test__";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function N(e,t){try{let r=t.getItem(e);return R()(r)?JSON.parse(r):null}catch(e){return null}}function F(e,t){if(!I(t))throw TypeError("Invalid storage instance");if(!P()(e))throw TypeError("Storage.save only supports object type argument");Object.keys(e).forEach(r=>{let n=e[r];try{n=JSON.stringify(n)}catch(e){}t.setItem(r,n)})}function D(e,t){if(!I(t))throw TypeError("Invalid storage instance");t.removeItem(e)}function M(e){return L("localStorage")?N(e,localStorage):null}function U(e){L("localStorage")&&F(e,localStorage)}function q(e){L("localStorage")&&D(e,localStorage)}function B(e){return L("sessionStorage")?N(e,sessionStorage):null}function z(e){L("sessionStorage")&&F(e,sessionStorage)}function G(e){L("sessionStorage")&&D(e,sessionStorage)}var W=r(73656);let $=void 0!==W&&({}).LOGGER_ENABLED||void 0!==W&&({}).LOGGER_ENABLED||M("logger-enabled")||y("logger-enabled"),H="www.litres.ru",V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return e.includes("litres-tr.com")},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.az","m.litres.az"].some(t=>e.includes(t))},K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.uz","m.litres.uz"].some(t=>e.includes(t))},J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.pl","m.litres.pl"].some(t=>e.includes(t))},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.es","m.litres.es"].some(t=>e.includes(t))},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.com","m.litres.com"].some(t=>e.includes(t))},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.de","m.litres.de"].some(t=>e.includes(t))},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.ee","m.litres.ee"].some(t=>e.includes(t))},et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["litres.eu","m.litres.eu"].some(t=>e.includes(t))},er=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return e.includes("litres.ua")},en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return V(e)||Z(e)||K(e)||X(e)||Y(e)||ee(e)||et(e)||J(e)||Q(e)||er(e)},ei=e=>e.includes("litres.ru"),eo=e=>X(e)||Y(e)||ee(e)||et(e)||J(e)||Q(e),ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["subscription.litres.ru"].some(t=>e.includes(t))},es=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["rusch.litres.ru","pda-rusch.litres.ru","sch.litres.ru","pda-sch.litres.ru","schfree.litres.ru","pda-schfree.litres.ru","megaschool.litres.ru","pda-megaschool.litres.ru","rtkmegaschool.litres.ru","pdartkmegaschool.litres.ru","sch.litres.ru","pda-sch.litres.ru","schfree.litres.ru","pda-schfree.litres.ru"].some(t=>e.includes(t))},eu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return"corporate-business.litres.ru"!==e&&["biblio.litres.ru","pda-biblio.litres.ru","lib.litres.ru","m-lib.litres.ru","rblib.litres.ru","m-rblib.litres.ru","pro.litres.ru","pda-pro.litres.ru","promax.litres.ru","m-promax.litres.ru","univer.litres.ru","pda-univer.litres.ru","business.litres.ru","m-business.litres.ru","student-biblio.litres.ru","pda-student-biblio.litres.ru","liblitres.litres.ru","pda-deti-biblio.litres.ru","al.litres.ru","pda-al.litres.ru","rgbm-biblio.litres.ru","pda-rgbm-biblio.litres.ru","f.litres.ru","m-f.litres.ru","rs.litres.ru","pda-rs.litres.ru","bibliofree.litres.ru","m-bibliofree.litres.ru","ro.litres.ru","pda-ro.litres.ru","nf.litres.ru","m-nf.litres.ru","al.litres.ru","pda-al.litres.ru","rs.litres.ru","pda-rs.litres.ru","f.litres.ru","m-f.litres.ru","nf.litres.ru","m-nf.litres.ru","ro.litres.ru","pda-ro.litres.ru"].some(t=>e.includes(t))},el=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["a1all.litres.ru","a1allpda.litres.ru","a1audio.litres.ru","a1pdaaudio.litres.ru","a1pdaread.litres.ru","a1premium.litres.ru","a1read.litres.ru","all.litres.ru","allmegafon.litres.ru","audiomegafon.litres.ru","azercelllisten.litres.ru","azercellread.litres.ru","beelinerusall.litres.ru","beelineruslisten.litres.ru","beelineruspremium.litres.ru","beelinerusread.litres.ru","beelineuzall.litres.ru","beelineuzlisten.litres.ru","beelineuzpremium.litres.ru","beelineuzread.litres.ru","inlab.litres.ru","inlabpda.litres.ru","kcellpdaread.litres.ru","kcellread.litres.ru","lifebelread.litres.ru","lifebelreadpda.litres.ru","listen.litres.ru","megafon.litres.ru","megafonpluspremium.litres.ru","megafonvip.litres.ru","mtsrball.litres.ru","mtsrbpremium.litres.ru","mtsrbread.litres.ru","mvprostelecom.litres.ru","myschool.litres.ru","pda-myschool.litres.ru","pdaa1premium.litres.ru","pdaall.litres.ru","pdaallmegafon.litres.ru","pdaaudiomegafon.litres.ru","pdaazercelllisten.litres.ru","pdaazercellread.litres.ru","pdabeelinerusall.litres.ru","pdabeelineruslisten.litres.ru","pdabeelineruspremium.litres.ru","pdabeelinerusread.litres.ru","pdabeelineuzall.litres.ru","pdabeelineuzlisten.litres.ru","pdabeelineuzpremium.litres.ru","pdabeelineuzread.litres.ru","pdalisten.litres.ru","pdamegafon.litres.ru","pdamegafonpluspremium.litres.ru","pdamegafonvip.litres.ru","pdamtsrball.litres.ru","pdamtsrbpremium.litres.ru","pdamtsrbread.litres.ru","pdapremium.litres.ru","pdaread.litres.ru","pdareadgenre.litres.ru","pdasbprime.litres.ru","pdasbprimepremium.litres.ru","pdasbprimekzread.litres.ru","pdatele2kzall.litres.ru","pdatele2kzlisten.litres.ru","pdatele2kzread.litres.ru","pdatele2rusall.litres.ru","pdatele2ruslisten.litres.ru","pdatele2ruspremium.litres.ru","pdatele2rusread.litres.ru","pdaucellread.litres.ru","pdayotalisten.litres.ru","pdayotaread.litres.ru","premium.litres.ru","read.litres.ru","readgenre.litres.ru","sbprime.litres.ru","sbprimepremium.litres.ru","sbprimekzread.litres.ru","tele2kzall.litres.ru","tele2kzlisten.litres.ru","tele2kzread.litres.ru","tele2rusall.litres.ru","tele2ruslisten.litres.ru","tele2ruspremium.litres.ru","tele2rusread.litres.ru","tinkoffread.litres.ru","tinkoffreadpda.litres.ru","ucellread.litres.ru","yotalisten.litres.ru","yotaread.litres.ru","volnamobilepremium.litres.ru","volnamobile.litres.ru","mvideo.litres.ru","mvideopda.litres.ru","allyota.litres.ru","pdaallyota.litres.ru","dns.litres.ru","dnspda.litres.ru"].some(t=>e.includes(t))},ec=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["read.litres.ru","listen.litres.ru","all.litres.ru","premium.litres.ru","readgenre.litres.ru","mvprostelecom.litres.ru"].some(t=>e.includes(t))},ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return["megafon.litres.ru","audiomegafon.litres.ru","allmegafon.litres.ru","myschool.litres.ru","megafonvip.litres.ru","pdamegafon.litres.ru","pdaallmegafon.litres.ru","megafonpluspremium.litres.ru","pdamegafonpluspremium.litres.ru","pdamegafonvip.litres.ru","www.litres.ru"].some(t=>e.includes(t))},ep=e=>e.includes("litres.io"),ef=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return ei(e)||en(e)||ea(e)||es(e)||eu(e)||el(e)||ec(e)||ep(e)},eh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return!en(e)&&!es(e)};var em=r(66586),eg=r(98254);function e_(){(0,em.a)()}var ev=r(12913),ey=r(24293),eb=r(13066),ex=r(96738),eS=r(3420),ew=r(3770),ek=r(94328),eE=r(67115),eC=r(58451),eT=r(77545),ej=r(74643),eA=r(39242),eR=r(38274),eO=r(84338),eP=r(85053),eL=r(30934),eI=r(64445),eN=r(45525);class eF{constructor(e,t){this._client=e,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=t}flush(){let e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates=new Map,this._client.sendSession(e))}getSessionAggregates(){let e=Array.from(this._pendingAggregates.values()),t={attrs:this._sessionAttrs,aggregates:e};return(0,eN.Jr)(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=(0,eR.aF)(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){let r=new Date(t).setSeconds(0,0),n=this._pendingAggregates.get(r);switch(n||(n={started:new Date(r).toISOString()},this._pendingAggregates.set(r,n)),e){case"errored":return n.errored=(n.errored||0)+1,n.errored;case"ok":return n.exited=(n.exited||0)+1,n.exited;default:return n.crashed=(n.crashed||0)+1,n.crashed}}}var eD=r(94637),eM=r(83755),eU=r(35806),eq=r(42961),eB=r(49879),ez=r(53986),eG=r(81079),eW=r(67186);function e$(e,t){return e(t.stack||"",1)}function eH(e,t){let r={type:t.name||t.constructor.name,value:t.message},n=e$(e,t);return n.length&&(r.stacktrace={frames:n}),r}function eV(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}function eZ(e){if("name"in e&&"string"==typeof e.name){let t=`'${e.name}' captured as exception`;return"message"in e&&"string"==typeof e.message&&(t+=` with message '${e.message}'`),t}if("message"in e&&"string"==typeof e.message)return e.message;let t=(0,eN.zf)(e);if((0,ez.VW)(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;let r=eK(e);return`${r&&"Object"!==r?`'${r}'`:"Object"} captured as exception with keys: ${t}`}function eK(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}function eJ(e,t,r,n){if((0,ez.VZ)(r))return[r,void 0];if(t.synthetic=!0,(0,ez.PO)(r)){let t=e&&e.getOptions().normalizeDepth,i={__serialized__:(0,eW.Qy)(r,t)},o=eV(r);if(o)return[o,i];let a=eZ(r),s=n&&n.syntheticException||Error(a);return s.message=a,[s,i]}let i=n&&n.syntheticException||Error(r);return i.message=`${r}`,[i,void 0]}function eQ(e,t,r,n){let i=n&&n.data&&n.data.mechanism||{handled:!0,type:"generic"},[o,a]=eJ(e,i,r,n),s={exception:{values:[eH(t,o)]}};return a&&(s.extra=a),(0,eG.Db)(s,void 0,void 0),(0,eG.EG)(s,i),{...s,event_id:n&&n.event_id}}function eX(e,t,r="info",n,i){let o={event_id:n&&n.event_id,level:r};if(i&&n&&n.syntheticException){let r=e$(e,n.syntheticException);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,ez.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return o.logentry={message:e,params:r},o}return o.message=t,o}var eY=r(56142),e0=r(42e3),e1=r(99983);function e2(e,t,r,n,i){let o={sent_at:new Date().toISOString()};r&&r.sdk&&(o.sdk={name:r.sdk.name,version:r.sdk.version}),n&&i&&(o.dsn=(0,e0.RA)(i)),t&&(o.trace=(0,eN.Jr)(t));let a=e5(e);return(0,e1.Jd)(o,[a])}function e5(e){return[{type:"check_in"},e]}var e4=r(19348),e3=r(57301),e8=r(22522);class e6 extends eq.W{constructor(e){(0,em.a)(),super(e)}eventFromException(e,t){return(0,eB.WD)(eQ(this,this._options.stackParser,e,t))}eventFromMessage(e,t="info",r){return(0,eB.WD)(eX(this._options.stackParser,e,t,r,this._options.attachStacktrace))}captureException(e,t,r){if(this._options.autoSessionTracking&&this._sessionFlusher){let e=(0,eR.aF)().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,r)}captureEvent(e,t,r){if(this._options.autoSessionTracking&&this._sessionFlusher&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){let e=(0,eR.aF)().getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,r)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){let{release:e,environment:t}=this._options;e?this._sessionFlusher=new eF(this,{release:e,environment:t}):e4.X&&eY.kg.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,t,r){let n="checkInId"in e&&e.checkInId?e.checkInId:(0,eG.DM)();if(!this._isEnabled())return e4.X&&eY.kg.warn("SDK not enabled, will not capture checkin."),n;let{release:i,environment:o,tunnel:a}=this.getOptions(),s={check_in_id:n,monitor_slug:e.monitorSlug,status:e.status,release:i,environment:o};"duration"in e&&(s.duration=e.duration),t&&(s.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone,failure_issue_threshold:t.failureIssueThreshold,recovery_threshold:t.recoveryThreshold});let[u,l]=this._getTraceInfoFromScope(r);l&&(s.contexts={trace:l});let c=e2(s,u,this.getSdkMetadata(),a,this.getDsn());return e4.X&&eY.kg.info("Sending checkin:",e.monitorSlug,e.status),this.sendEnvelope(c),n}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():e4.X&&eY.kg.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,t,r,n){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,t,r,n)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let t=(0,e3.Y)(e);if(t){let e=(0,e8.Gx)(t);return[(0,ew.jC)(e),(0,e8.wy)(e)]}let{traceId:r,spanId:n,parentSpanId:i,dsc:o}=e.getPropagationContext(),a={trace_id:r,span_id:n,parent_span_id:i};return o?[o,a]:[(0,ew._l)(r,this),a]}}var e9=r(82771),e7=r(90648),te=r(1421);let tt=100,tr=5e3,tn=36e5;function ti(e){function t(...e){e4.X&&eY.kg.info("[Offline]:",...e)}return r=>{let n;let i=e(r);if(!r.createStore)throw Error("No `createStore` function was provided");let o=r.createStore(r),a=tr;function s(e,t,n){return!(0,e1.R)(e,["client_report"])&&(!r.shouldStore||r.shouldStore(e,t,n))}function u(e){n&&clearTimeout(n),"number"!=typeof(n=setTimeout(async()=>{n=void 0;let e=await o.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=new Date().toISOString(),c(e,!0).catch(e=>{t("Failed to retry sending",e)}))},e))&&n.unref&&n.unref()}function l(){n||(u(a),a=Math.min(2*a,tn))}async function c(e,r=!1){if(!r&&(0,e1.R)(e,["replay_event","replay_recording"]))return await o.push(e),u(tt),{};try{let t=await i.send(e),r=tt;if(t){if(t.headers&&t.headers["retry-after"])r=(0,te.JY)(t.headers["retry-after"]);else if(t.headers&&t.headers["x-sentry-rate-limits"])r=6e4;else if((t.statusCode||0)>=400)return t}return u(r),a=tr,t}catch(n){if(await s(e,n,a))return r?await o.unshift(e):await o.push(e),l(),t("Error sending. Event queued.",n),{};throw n}}return r.flushAtStartup&&l(),{send:c,flush:e=>i.flush(e)}}}function to(e,t){let r;return(0,e1.gv)(e,(e,n)=>(t.includes(n)&&(r=Array.isArray(e)?e[1]:void 0),!!r)),r}function ta(e,t){return r=>{let n=e(r);return{...n,send:async e=>{let r=to(e,["event","transaction","profile","replay_event"]);return r&&(r.release=t),n.send(e)}}}}function ts(e,t){return(0,e1.Jd)(t?{...e[0],dsn:t}:e[0],e[1])}function tu(e,t){return r=>{let n=e(r),i=new Map;function o(t,n){let o=n?`${t}:${n}`:t,a=i.get(o);if(!a){let s=(0,e0.U4)(t);if(!s)return;let u=(0,eU.U)(s,r.tunnel);a=n?ta(e,n)({...r,url:u}):e({...r,url:u}),i.set(o,a)}return[t,a]}return{send:async function(e){function r(t){return to(e,t&&t.length?t:["event"])}let i=t({envelope:e,getEvent:r}).map(e=>"string"==typeof e?o(e,void 0):o(e.dsn,e.release)).filter(e=>!!e),a=i.length?i:[["",n]];return(await Promise.all(a.map(([t,r])=>r.send(ts(e,t)))))[0]},flush:async function(e){let t=[...i.values(),n];return(await Promise.all(t.map(t=>t.flush(e)))).every(e=>e)}}}}var tl=r(6036),tc=r(81201),td=r(26802),tp=r(51526);function tf(e,t){let r=t&&t.getDsn(),n=t&&t.getOptions().tunnel;return tm(e,r)||th(e,n)}function th(e,t){return!!t&&tg(e)===tg(t)}function tm(e,t){return!!t&&e.includes(t.host)}function tg(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var t_=r(78719);function tv(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r}var ty=r(61687),tb=r(1053),tx=r(79384),tS=r(19406),tw=r(13836),tk=r(37827),tE=r(20077);let tC="cause",tT=5,tj="LinkedErrors",tA=(e={})=>{let t=e.limit||tT,r=e.key||tC;return{name:tj,preprocessEvent(e,n,i){let o=i.getOptions();(0,tE.Z)(eH,o.stackParser,o.maxValueLength,r,t,e,n)}}},tR=(0,tl._I)(tA);var tO=r(25099);let tP="ModuleMetadata",tL=()=>({name:tP,setup(e){e.on("beforeEnvelope",e=>{(0,e1.gv)(e,(e,t)=>{if("event"===t){let t=Array.isArray(e)?e[1]:void 0;t&&((0,tO.CC)(t),e[1]=t)}})})},processEvent(e,t,r){let n=r.getOptions().stackParser;return(0,tO.GY)(n,e),e}}),tI=(0,tl._I)(tL);function tN(e){let t={},r=0;for(;r<e.length;){let n=e.indexOf("=",r);if(-1===n)break;let i=e.indexOf(";",r);if(-1===i)i=e.length;else if(i<n){r=e.lastIndexOf(";",n-1)+1;continue}let o=e.slice(r,n).trim();if(void 0===t[o]){let r=e.slice(n+1,i).trim();34===r.charCodeAt(0)&&(r=r.slice(1,-1));try{t[o]=-1!==r.indexOf("%")?decodeURIComponent(r):r}catch(e){t[o]=r}}r=i+1}return t}var tF=r(9314);let tD={ip:!1,request:!0,transaction:!0,user:!0},tM=["cookies","data","headers","method","query_string","url"],tU=["id","username","email"];function tq(e,t={}){let r=e.method&&e.method.toUpperCase(),n="",i="url";t.customRoute||e.route?(n=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(n=(0,tF.rt)(e.originalUrl||e.url||""));let o="";return t.method&&r&&(o+=r),t.method&&t.path&&(o+=" "),t.path&&n&&(o+=n),[o,i]}function tB(e,t){switch(t){case"path":return tq(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:{let t=e._reconstructedRoute?e._reconstructedRoute:void 0;return tq(e,{path:!0,method:!0,customRoute:t})[0]}}}function tz(e,t){let r={};return(Array.isArray(t)?t:tU).forEach(t=>{e&&t in e&&(r[t]=e[t])}),r}function tG(e,t){let{include:r=tM}=t||{},n={},i=e.headers||{},o=e.method,a=i.host||e.hostname||e.host||"<no host>",s="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",u=e.originalUrl||e.url||"",l=u.startsWith(s)?u:`${s}://${a}${u}`;return r.forEach(t=>{switch(t){case"headers":n.headers=i,r.includes("cookies")||delete n.headers.cookie;break;case"method":n.method=o;break;case"url":n.url=l;break;case"cookies":n.cookies=e.cookies||i.cookie&&tN(i.cookie)||{};break;case"query_string":n.query_string=t$(e);break;case"data":if("GET"===o||"HEAD"===o)break;void 0!==e.body&&(n.data=(0,ez.HD)(e.body)?e.body:JSON.stringify((0,eW.Fv)(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}}),n}function tW(e,t,r){let n={...tD,...r&&r.include};if(n.request){let r=Array.isArray(n.request)?tG(t,{include:n.request}):tG(t);e.request={...e.request,...r}}if(n.user){let r=t.user&&(0,ez.PO)(t.user)?tz(t.user,n.user):{};Object.keys(r).length&&(e.user={...e.user,...r})}if(n.ip){let r=t.ip||t.socket&&t.socket.remoteAddress;r&&(e.user={...e.user,ip_address:r})}return n.transaction&&!e.transaction&&"transaction"===e.type&&(e.transaction=tB(t,n.transaction)),e}function t$(e){let t=e.originalUrl||e.url||"";if(t){t.startsWith("/")&&(t=`http://dogs.are.great${t}`);try{let r=e.query||new URL(t).search.slice(1);return r.length?r:void 0}catch(e){return}}}let tH={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},tV="RequestData",tZ=(e={})=>{let t={...tH,...e,include:{...tH.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...tH.include.user,...(e.include||{}).user}}};return{name:tV,processEvent(e){let{sdkProcessingMetadata:r={}}=e,n=r.request;return n?tW(e,n,tJ(t)):e}}},tK=(0,tl._I)(tZ);function tJ(e){let t;let{transactionNamingScheme:r,include:{ip:n,user:i,...o}}=e,a=["method"];for(let[e,t]of Object.entries(o))t&&a.push(e);if(void 0===i)t=!0;else if("boolean"==typeof i)t=i;else{let e=[];for(let[t,r]of Object.entries(i))r&&e.push(t);t=e}return{include:{ip:n,user:t,request:0!==a.length?a:void 0,transaction:r}}}var tQ=r(36739),tX=r(80370),tY=r(21778),t0=r(38794);let t1="CaptureConsole",t2=(e={})=>{let t=e.levels||eY.RU;return{name:t1,setup(e){"console"in tQ.GLOBAL_OBJ&&(0,tX.e)(({args:r,level:n})=>{(0,eR.s3)()===e&&t.includes(n)&&t4(r,n)})}}},t5=(0,tl._I)(t2);function t4(e,t){let r={level:(0,tY.V)(t),extra:{arguments:e}};(0,eR.$e)(n=>{if(n.addEventProcessor(e=>(e.logger="console",(0,eG.EG)(e,{handled:!1,type:"console"}),e)),"assert"===t){if(!e[0]){let t=`Assertion failed: ${(0,t0.nK)(e.slice(1)," ")||"console.assert"}`;n.setExtra("arguments",e.slice(1)),(0,eA.uT)(t,r)}return}let i=e.find(e=>e instanceof Error);if(i){(0,eA.Tb)(i,r);return}let o=(0,t0.nK)(e," ");(0,eA.uT)(o,r)})}let t3="Debug",t8=(e={})=>{let t={debugger:!1,stringify:!1,...e};return{name:t3,setup(e){e.on("beforeSendEvent",(e,r)=>{t.debugger,(0,eY.Cf)(()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),r&&Object.keys(r).length&&console.log(JSON.stringify(r,null,2))):(console.log(e),r&&Object.keys(r).length&&console.log(r))})})}}},t6=(0,tl._I)(t8);var t9=r(30451);let t7="ExtraErrorData",re=(e={})=>{let{depth:t=3,captureErrorCause:r=!0}=e;return{name:t7,processEvent(e,n,i){let{maxValueLength:o=250}=i.getOptions();return rr(e,n,t,r,o)}}},rt=(0,tl._I)(re);function rr(e,t={},r,n,i){if(!t.originalException||!(0,ez.VZ)(t.originalException))return e;let o=t.originalException.name||t.originalException.constructor.name,a=rn(t.originalException,n,i);if(a){let t={...e.contexts},n=(0,eW.Fv)(a,r);return(0,ez.PO)(n)&&((0,eN.xp)(n,"__sentry_skip_normalization__",!0),t[o]=n),{...e,contexts:t}}return e}function rn(e,t,r){try{let n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(let t of Object.keys(e)){if(-1!==n.indexOf(t))continue;let o=e[t];i[t]=(0,ez.VZ)(o)||"string"==typeof o?(0,t0.$G)(`${o}`,r):o}if(t&&void 0!==e.cause&&(i.cause=(0,ez.VZ)(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){let t=e.toJSON();for(let e of Object.keys(t)){let r=t[e];i[e]=(0,ez.VZ)(r)?r.toString():r}}return i}catch(e){e4.X&&eY.kg.error("Unable to extract extra data from the Error object:",e)}return null}var ri=r(97378),ro=r(27629);let ra="SessionTiming",rs=()=>{let e=1e3*(0,ro.ph)();return{name:ra,processEvent(t){let r=1e3*(0,ro.ph)();return{...t,extra:{...t.extra,"session:start":e,"session:duration":r-e,"session:end":r}}}}},ru=(0,tl._I)(rs),rl=10,rc="ZodErrors";function rd(e){return(0,ez.VZ)(e)&&"ZodError"===e.name&&Array.isArray(e.errors)}function rp(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function rf(e){let t=new Set;for(let r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);let r=Array.from(t);return`Failed to validate keys: ${(0,t0.$G)(r.join(", "),100)}`}function rh(e,t,r){return t.exception&&t.exception.values&&r&&r.originalException&&rd(r.originalException)&&0!==r.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:rf(r.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":r.originalException.errors.slice(0,e).map(rp)}}:t}let rm=(e={})=>{let t=e.limit||rl;return{name:rc,processEvent:(e,r)=>rh(t,e,r)}},rg=(0,tl._I)(rm);var r_=r(95825);let rv="c",ry="g",rb="s",rx="d",rS=5e3,rw=1e4,rk=1e4;function rE(e,t){let r=(0,tQ.Y)("globalMetricsAggregators",()=>new WeakMap),n=r.get(e);if(n)return n;let i=new t(e);return e.on("flush",()=>i.flush()),e.on("close",()=>i.close()),r.set(e,i),i}function rC(e,t,r,n,i={}){let o=i.client||(0,eR.s3)();if(!o)return;let a=(0,e8.HN)(),s=a?(0,e8.Gx)(a):void 0,u=s&&(0,e8.XU)(s).description,{unit:l,tags:c,timestamp:d}=i,{release:p,environment:f}=o.getOptions(),h={};p&&(h.release=p),f&&(h.environment=f),u&&(h.transaction=u),e4.X&&eY.kg.log(`Adding value of ${n} to ${t} metric ${r}`),rE(o,e).add(t,r,n,l,{...h,...c},d)}function rT(e,t,r,n){rC(e,rx,t,rR(r),n)}function rj(e,t,r,n="second",i){if("function"==typeof r){let n=(0,ro.ph)();return(0,eS.V0)({op:"metrics.timing",name:t,startTime:n,onlyIfParent:!0},o=>(0,t_.i)(()=>r(),()=>{},()=>{let r=(0,ro.ph)();rT(e,t,r-n,{...i,unit:"second"}),o.end(r)}))}rT(e,t,r,{...i,unit:n})}let rA={increment:function(e,t,r=1,n){rC(e,rv,t,rR(r),n)},distribution:rT,set:function(e,t,r,n){rC(e,rb,t,r,n)},gauge:function(e,t,r,n){rC(e,ry,t,rR(r),n)},timing:rj,getMetricsAggregatorForClient:rE};function rR(e){return"string"==typeof e?parseInt(e):e}function rO(e,t,r,n){let i=Object.entries((0,eN.Jr)(n)).sort((e,t)=>e[0].localeCompare(t[0]));return`${e}${t}${r}${i}`}function rP(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t>>>0}function rL(e){let t="";for(let r of e){let e=Object.entries(r.tags),n=e.length>0?`|#${e.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${n}|T${r.timestamp}
`}return t}function rI(e){return e.replace(/[^\w]+/gi,"_")}function rN(e){return e.replace(/[^\w\-.]+/gi,"_")}function rF(e){return e.replace(/[^\w\-./]+/gi,"")}let rD=[["\n","\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function rM(e){for(let[t,r]of rD)if(e===t)return r;return e}function rU(e){return[...e].reduce((e,t)=>e+rM(t),"")}function rq(e){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[rF(r)]=rU(String(e[r])));return t}function rB(e,t){eY.kg.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let r=rz(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(r)}function rz(e,t,r,n){let i={sent_at:new Date().toISOString()};r&&r.sdk&&(i.sdk={name:r.sdk.name,version:r.sdk.version}),n&&t&&(i.dsn=(0,e0.RA)(t));let o=rG(e);return(0,e1.Jd)(i,[o])}function rG(e){let t=rL(e);return[{type:"statsd",length:t.length},t]}class rW{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class r${constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class rH{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class rV{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>"string"==typeof e?rP(e):e).join(":")}}let rZ={[rv]:rW,[ry]:r$,[rx]:rH,[rb]:rV};class rK{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),rw),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*rw/1e3),this._forceFlush=!1}add(e,t,r,n="none",i={},o=(0,ro.ph)()){let a=Math.floor(o),s=rN(t),u=rq(i),l=rI(n),c=rO(e,s,l,u),d=this._buckets.get(c),p=d&&e===rb?d.metric.weight:0;d?(d.metric.add(r),d.timestamp<a&&(d.timestamp=a)):(d={metric:new rZ[e](r),timestamp:a,metricType:e,name:s,unit:l,tags:u},this._buckets.set(c,d));let f="string"==typeof r?d.metric.weight-p:r;(0,e8.yc)(e,s,f,l,i,c),this._bucketsTotalWeight+=d.metric.weight,this._bucketsTotalWeight>=rk&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}let e=Math.floor((0,ro.ph)())-rw/1e3-this._flushShift,t=new Map;for(let[r,n]of this._buckets)n.timestamp<=e&&(t.set(r,n),this._bucketsTotalWeight-=n.metric.weight);for(let[e]of t)this._buckets.delete(e);this._captureMetrics(t)}_captureMetrics(e){if(e.size>0){let t=Array.from(e).map(([,e])=>e);rB(this._client,t)}}}let rJ={increment:function(e,t=1,r){rA.increment(rK,e,t,r)},distribution:function(e,t,r){rA.distribution(rK,e,t,r)},set:function(e,t,r){rA.set(rK,e,t,r)},gauge:function(e,t,r){rA.gauge(rK,e,t,r)},timing:function(e,t,r="second",n){return rA.timing(rK,e,t,r,n)},getMetricsAggregatorForClient:function(e){return rA.getMetricsAggregatorForClient(e,rK)}};class rQ{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),rS)}add(e,t,r,n="none",i={},o=(0,ro.ph)()){let a=Math.floor(o),s=rN(t),u=rq(i),l=rI(n),c=rO(e,s,l,u),d=this._buckets.get(c),p=d&&e===rb?d.metric.weight:0;d?(d.metric.add(r),d.timestamp<a&&(d.timestamp=a)):(d={metric:new rZ[e](r),timestamp:a,metricType:e,name:s,unit:l,tags:u},this._buckets.set(c,d));let f="string"==typeof r?d.metric.weight-p:r;(0,e8.yc)(e,s,f,l,i,c)}flush(){if(0===this._buckets.size)return;let e=Array.from(this._buckets.values());rB(this._client,e),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}var rX=r(12995),rY=r(981);let r0={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};function r1(e={}){return function(t){let{path:r,type:n,next:i,rawInput:o}=t,a=(0,eR.s3)(),s=a&&a.getOptions(),u={procedure_type:n};function l(e){"object"==typeof e&&null!==e&&"ok"in e&&!e.ok&&"error"in e&&(0,eA.Tb)(e.error,r0)}return(void 0!==e.attachRpcInput?e.attachRpcInput:s&&s.sendDefaultPii)&&(u.input=(0,eW.Fv)(o)),(0,eA.v)("trpc",u),(0,eS.V0)({name:`trpc/${r}`,op:"rpc.server",attributes:{[eT.Zj]:"route",[eT.S3]:"auto.rpc.trpc"}},e=>{let t;try{t=i()}catch(t){throw(0,eA.Tb)(t,r0),e.end(),t}return(0,ez.J8)(t)?t.then(t=>(l(t),e.end(),t),t=>{throw(0,eA.Tb)(t,r0),e.end(),t}):(l(t),e.end(),t)})}}function r2(e,t={},r=(0,eR.nZ)()){let{message:n,name:i,email:o,url:a,source:s,associatedEventId:u,tags:l}=e,c={contexts:{feedback:(0,eN.Jr)({contact_email:o,name:i,message:n,url:a,source:s,associated_event_id:u})},type:"feedback",level:"info",tags:l},d=r&&r.getClient()||(0,eR.s3)();return d&&d.emit("beforeSendFeedback",c,t),r.captureEvent(c,t)}function r5(){return{bindClient(e){(0,eR.nZ)().setClient(e)},withScope:eR.$e,getClient:()=>(0,eR.s3)(),getScope:eR.nZ,getIsolationScope:eR.aF,captureException:(e,t)=>(0,eR.nZ)().captureException(e,t),captureMessage:(e,t,r)=>(0,eR.nZ)().captureMessage(e,t,r),captureEvent:eA.eN,addBreadcrumb:tS.n,setUser:eA.av,setTags:eA.mG,setTag:eA.YA,setExtra:eA.sU,setExtras:eA.rJ,setContext:eA.v,getIntegration(e){let t=(0,eR.s3)();return t&&t.getIntegrationByName(e.id)||null},startSession:eA.yj,endSession:eA.TM,captureSession(e){if(e)return(0,eA.TM)();r3()}}}let r4=r5;function r3(){let e=(0,eR.nZ)(),t=(0,eR.s3)(),r=e.getSession();t&&r&&t.captureSession(r)}var r8=r(20266),r6=r(98936),r9=r.n(r6),r7=r(55589),ne=r.n(r7),nt=r(93702),nr=r.n(nt),nn=r(77875),ni=r.n(nn);function no(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{contextProperties:r,logLevel:n="error",tags:i}=t,a="string"==typeof e?Error(e):e;o&&eA._k()&&(r&&ne()(r)&&eA.v(r9()(r),ni()(r)),eR.$e(e=>{nr()(i)&&e.setTags(i),e.setLevel(n),eA.Tb(a)}))}let na=tS.n;var ns=r(5991);let nu=r.n(ns)()({});!function(e){e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.PURCHASE="purchase",e.FIRST_PURCHASE="first_purchase",e.MONEY_ON_ACCOUNT="money_on_account",e.END_LISTEN_FRAGMENT="end_listen_fragment",e.PERCENTAGE_OF_LISTEN="percentage_of_listen",e.START_LISTEN_FRAGMENT="start_listen_fragment"}(n||(n={}));let nl={sendCustomEvent:nc,sendEcommerceEvent:nd,sendEcommerceEventWithArts:nh};function nc(e,t){if(!_)throw Error("GTM dataLayer event sending: cannot send on server side");window.dataLayer||(window.dataLayer=[]);let r=!!y("tracker");if(t&&!r){console.debug("GTM ANALYTICS(External marketing): %c".concat(e.event,"\n"),"font-weight: bold; color: #0d1c5b;",e);return}if(window.dataLayer&&Array.isArray(window.dataLayer))e.ecommerce&&window.dataLayer.push({ecommerce:null}),window.dataLayer.push(e);else throw Error("GTM dataLayer event sending: window.dataLayer is not present")}function nd(e,t){nc(e,t)}let np=e=>{var t;return"genres"in e&&(null===(t=e.genres)||void 0===t?void 0:t.length)?e.genres[0].name:""},nf=e=>{var t;return"persons"in e&&(null===(t=e.persons)||void 0===t?void 0:t.length)?e.persons.map(e=>e.full_name).join(","):void 0};function nh(e,t){let{event:r,payload:n}=e,i=n.arts.map(e=>{var t;return{item_name:e.title,item_id:e.id,price:(null===(t=e.prices)||void 0===t?void 0:t.final_price)||0,item_category:np(e),item_brand:nf(e)}});nd({event:r,ecommerce:{...n.transactionId&&{transaction_id:n.transactionId},value:n.value,currency:n.currency,items:i}},t)}let nm=e=>_&&window.location.href?new URL(window.location.href).searchParams.get(e):null,ng=(e,t)=>{if(!_)return;window.location.reload();let r=new URL(window.location.href);t&&t.forEach(e=>{r.searchParams.delete(e)}),e&&Object.entries(e).forEach(e=>{let[t,n]=e;r.searchParams.set(t,n)}),window.location.href=r.href},n_=()=>{},nv=RegExp(/Mobile|iP(hone|od)|Android|Audiovox|AvantGo|BlackBerry|BB10|EPOC|LGE-|Motorola|IEMobile|Kindle|NetFront|Nitro|Nokia|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Obigo|Palm|Panasonic|Philips|Plucker|RegKing|Sanyo|Smartphone|Sony|Symbian|Blazer|Dolfin|Dolphin|Skyfire|UP\.Browser|WAP\d\.|Windows (?:CE|Phone)|Zune|Xiino|J2ME|MIDP|CLDC/),ny=e=>{let{art:t,user:r,isLibrary:n,isBookCard:i,isAvailableByAnySubscriptions:o,translator:s,lang:u="ru",webtoonChapterId:l,webtoonChapterFileId:c}=e,d=r.id,p=r.library_info.is_librarian,f=r.library_info.is_school_domain,h=r.library_info.is_library_user,m=r.subscription.is_active,g=!!(m&&r.subscription.grace_period_start),v=r.partner_subscriptions.has_active,{art_type:y,my_art_status:b,availability:x,url:S,is_free:w,library_information:k,title:E,id:C,in_gifts:T,prices:j,can_be_preordered:A,persons:R,uuid:O,is_draft:P,is_draft_full_free:L,release_file_id:I,cover_url:N,is_subscription_art:F,is_available_with_subscription:D,art_subscription_status_for_user:M}=t,U=[0,4].includes(Number(y));if([1,22,23].includes(Number(y)))return S||"/";if(0===d&&U&&S&&!i)return"".concat(S,"#read_unreg");let q=(e,t,r)=>s?s(e,r||{}):t||e,B=()=>{var e;let t=null==R?void 0:R.filter(e=>"author"===e.role)[0];return encodeURIComponent("".concat((null==t?void 0:t.full_name)||(null==R?void 0:null===(e=R[0])||void 0===e?void 0:e.full_name)||"",". ").concat(E))},z=_&&window.location.href.indexOf("epubSupport")>0,G=!(t.is_free||t.my_art_status>0)&&1===x&&(m&&!g&&(F||D)||v&&"active_subscription"===M)||o,W=z||24===Number(y)?"or4_adapters":"or4",$=(1!==b||A&&1!==x)&&!G,H=!$&&!G,V=z||H;if(4===Number(y)){let e="",t=1===b||w,r=!!k&&"received"===k.biblio_selfservice;return(t||r||G)&&(e="file=".concat(I)),"/static/or3/view/or.html?"+["art_type=4",e,"bname=".concat(encodeURIComponent(encodeURIComponent(E))),"art=".concat(C),"user=".concat(d),"uuid=".concat(O),"cover=".concat(encodeURIComponent(N||"")),"uilang=".concat(u),$&&!w&&"trial=1",G&&"subscription"].filter(e=>!!e).join("&")}if(25===Number(y))return c&&l?"/static/or5/view/or.html?"+["art_type=25","file=".concat(c),"bname=".concat(encodeURIComponent(encodeURIComponent(E))),"art=".concat(C),"webtoon_chapter_id=".concat(l),"uuid=".concat(O),"cover=".concat(encodeURIComponent(N||"")),"uilang=".concat(u)].filter(e=>!!e).join("&"):"";if(!w&&!L&&!G&&1!==b){let e=()=>n||p?"librarian=1":(null==k?void 0:k.biblio_selfservice)==="instant"?"self_user=1":(null==k?void 0:k.biblio_selfservice)==="requested"?"request_user=1":(null==k?void 0:k.biblio_selfservice)==="delayed"?"buser=1":T&&T>0?"in_gifts=1":"",t=()=>p||!((null==j?void 0:j.currency)&&(null==j?void 0:j.cost_with_bonus))?"":"".concat(a(j.cost_with_bonus,j.currency,void 0)),r=()=>{var e;let r=null!==(e=t())&&void 0!==e?e:0;return p?1===x?"Выдать книгу читателю":"Уведомить":f||h&&(null==k?void 0:k.biblio_selfservice)!=="impossible"?(null==k?void 0:k.biblio_selfservice)==="instant"?"Взять себе":(null==k?void 0:k.biblio_selfservice)==="requested"?"Отменить":x&&x>1?"Уведомить":"Запросить":T&&T>0?"Взять себе":1===x?P?"Доступ к черновику за ".concat(r):q("Купить полную версию за {book_price}","Купить полную версию за ".concat(r),{book_price:r}):A?"Сделать предзаказ за ".concat(r):x&&x>1?"Уведомить":""};return"/static/".concat(W,"/view/or.html?")+["baseurl=/pub/t/".concat(C,"."),"art=".concat(C),"trials=1","user=".concat(d),"file=".concat(I),e(),[1,2].includes(b)&&"preorder_buy=1",(null==j?void 0:j.cost_with_bonus)&&!p&&"price=".concat(j.cost_with_bonus),"texttrialbutton=".concat(encodeURIComponent(r())),"uilang=".concat(u),"catalit2","half=1","track_reading","friendly_url=".concat(B()),V&&"fb3_master=",24===Number(y)&&"fb3_master=2"].filter(e=>!!e).join("&")}return L?"/static/".concat(W,"/view/or.html?")+["baseurl=/pub/t/".concat(C,"."),"art=".concat(C),"user=".concat(d),"file=".concat(I),"uilang=".concat(u),"catalit2","half=1","track_reading","draft_free=1","friendly_url=".concat(B()),V&&"fb3_master=",24===Number(y)&&"fb3_master=2"].filter(e=>!!e).join("&"):"/static/".concat(W,"/view/or.html?")+["baseurl=/download_book".concat(G?"_subscr":"","/").concat(C,"/").concat(I,"/"),"art=".concat(C),"user=".concat(d),"uilang=".concat(u),"catalit2","track_reading",V&&"fb3_master=",24===Number(y)&&"fb3_master=2",G&&"subscription"].filter(e=>!!e).join("&")};async function nb(e){let{teleportData:t,getNewStackOneTimeSid:r,redirectionPathname:n="/",redirectionSearchParams:i=new URLSearchParams}=e;if(!t||"ok"!==t.status&&!t.redirect)throw Error("Incorrect teleport data");let o=new URL(t.redirect.location),a=new URLSearchParams(o.search),s=new URL("".concat(o.origin).concat(n)),u=new URLSearchParams(i),l=a.get("otsid")||"",c=await r();u.set("otsid",l),u.set("nextauth",c),s.search=u.toString(),window.location.href=s.href}class nx{subscribe(){this.subscribed||(this.subscribed=!0,this.events.forEach(e=>{"visibilitychange"===e?document.addEventListener(e,this.handleVisibilityChange):window.addEventListener(e,this.handleUnload)}))}unsubscribe(){this.subscribed&&(this.subscribed=!1,this.events.forEach(e=>{"visibilitychange"===e?document.removeEventListener(e,this.handleVisibilityChange):window.removeEventListener(e,this.handleUnload)}))}constructor(e,t){this.handleVisibilityChange=()=>{"hidden"===document.visibilityState&&this.handleUnload()},this.handleUnload=()=>{this.callback(),this.unsubscribe()},this.callback=e,this.subscribed=!1,this.events=t||["beforeunload","unload","visibilitychange","pagehide"]}}let nS=e=>{let t=/\.([^./?]+)(?:[/?]|$)/,r=e.match(t);return r?r[1]:null},nw=e=>{let t=nS(window.location.host)||"ru";return("gp"===e||"fb"===e||"ya"===e)&&"ru"!==t&&"ua"!==t?"com":t},nk=e=>new Promise(t=>setTimeout(t,e));!function(e){e.ru="ru",e.en="en",e.pl="pl",e.de="de",e.es="es",e.az="az",e.uz="uz",e.tr="tr",e.et="et"}(i||(i={}));let nE=e=>"ru"===e,nC=e=>"en"===e,nT=e=>"tr"===e,nj=e=>"az"===e,nA=new Set(["knigi-fentezi-5018","samorazvitiye-lichnostnyy-rost-5253","knigi-lubovnye-romany-5005","komiksy-i-manga-274060","knigi-detektivy-5022","knigi-sovremennaya-proza-5015","detskie-knigi-5007","knigi-ezoterika-5011","knigi-uzhasy-mistika-5017","young-adult-174918","erotika-seks-5029","istoriya-201599","biografii-memuary-5169","nauchno-populyarnaya-literatura-5031","kompyuternaya-literatura-5024","knigi-fantastika-5004","ezoterika-5011","biznes-5003","biznes-kitablari-5003"]),nR=["/podcasts/"],nO=Array.from(nA).reduce((e,t)=>(e["/genre/".concat(t,"/")]="/showroom/".concat(t,"/"),e),{}),nP=e=>{var t;return null!==(t=nO[e])&&void 0!==t?t:e},nL=(e,t,r)=>{if(t&&r===i.ru&&e.id&&e.url&&!nR.includes(e.url)){let t=e.url.split("/").filter(e=>(null==e?void 0:e.length)>0).at(-1);return{...e,url:"/genre/".concat(t,"-").concat(e.id,"/")}}return e.url&&nO[e.url]?{...e,url:nP(e.url)}:e},nI=(e,t,r)=>e.map(e=>{var n,i;return{...nL(e,t,r),subgenres:null!==(i=null===(n=e.subgenres)||void 0===n?void 0:n.map(e=>nL(e,t,r)))&&void 0!==i?i:[]}}),nN=e=>!isNaN(parseFloat(e))&&isFinite(e),nF=e=>/^\d+$/.test(e),nD=e=>e.replace(/\s|\+|_/g,""),nM=e=>e.trim().replace(/\s+/g,""),nU="allowScopesShared",nq="oauthAuthorizeShared",nB=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Validation Error";return t.forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw Error("".concat(r,". No required key - ").concat(t))}),!0},nz=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Validation Error";if(!("object"===t&&null===e)&&("array"===t&&Array.isArray(e)||typeof e===t))return!0;throw Error("".concat(r," Wrong value type: expected ").concat(t," - received ").concat(typeof e))},nG=e=>{let{isPDA:t,faceLanguage:r}=e;return"az"===r?t?{place:"pda-header-full-width-az"}:{place:"web-header-full-width-az"}:"uz"===r?t?{place:"pda-header-full-width-uz"}:{place:"web-header-full-width-uz"}:t?{place:"pda-header-full-width"}:{place:"web-header-full-width"}},nW=e=>{if(null===/(.jpg|.jpeg)$/gm.exec(e))throw Error("Incorrect image extension. Expected jpg or jpeg");return e.replace(/(.jpg|.jpeg)$/gm,".webp")},n$=e=>{let t=new Date("".concat(e,"T00:00:00")),r=new Date;return Math.ceil((t.getTime()-r.getTime())/864e5)};function nH(e){let t="byHeight"in e&&e.byHeight?"h":"";return"https://cdn.litres.ru/pub/c/cover_".concat(t).concat(e.size,"/").concat(e.artId)}let nV='a:not([disabled]):not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input[type=text]:not([disabled]), textarea:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])';function nZ(e){return Array.prototype.filter.call(e.querySelectorAll(nV),function(t){return t.offsetWidth>0||t.offsetHeight>0||t===e})}function nK(e){var t,r;if((null===(t=document)||void 0===t?void 0:t.activeElement)&&e){let t=nZ(e),n=t.indexOf(document.activeElement);null===(r=t[n+1]||t[0])||void 0===r||r.focus()}}function nJ(e){if(e){let t=nZ(e);t.length&&t[0].focus()}}function nQ(e){var t,r;if((null===(t=document)||void 0===t?void 0:t.activeElement)&&e){let t=nZ(e),n=t.indexOf(document.activeElement);null===(r=t[n-1]||t[t.length-1])||void 0===r||r.focus()}}let nX=e=>e?e.nextElementSibling&&nZ(e.nextElementSibling).length?e.nextElementSibling:nX(e.parentElement):null,nY=e=>e?e.previousElementSibling&&nZ(e.previousElementSibling).length?e.previousElementSibling:nY(e.parentElement):null,n0=e=>"new"===e?e:"popular",n1=(e,t)=>"popular"===e&&t?t:e;var n2=r(49384);function n5(e){let t=(0,n2.Q)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}function n4(){return 86400*(n5(new Date(new Date().getFullYear(),0,1))?366:365)}function n3(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e))+Math.ceil(e))}},8365:function(e){e.exports={tooltip__anchor:"AdvertisingMarking-module__VLZx9q__tooltip__anchor",content:"AdvertisingMarking-module__VLZx9q__content",icon:"AdvertisingMarking-module__VLZx9q__icon",title:"AdvertisingMarking-module__VLZx9q__title",tooltip:"AdvertisingMarking-module__VLZx9q__tooltip",container:"AdvertisingMarking-module__VLZx9q__container",copyLink:"AdvertisingMarking-module__VLZx9q__copyLink",content__text:"AdvertisingMarking-module__VLZx9q__content__text",icon__close:"AdvertisingMarking-module__VLZx9q__icon__close"}},18849:function(e){e.exports={fragmentEnd:"FragmentEnd-module__lm_VTW__fragmentEnd",fragmentEnd__text:"FragmentEnd-module__lm_VTW__fragmentEnd__text"}},96849:function(e){e.exports={promocodeActivationAfter:"PromocodeActivationByQueryParam-module__biZfGq__promocodeActivationAfter"}},32176:function(e){e.exports={promocodeActivationAfter:"PromocodeActivationAfter-module__Ks5Bta__promocodeActivationAfter"}},78532:function(e){e.exports={container:"Layout-module__zk9Eba__container",desktopLayout:"Layout-module__zk9Eba__desktopLayout",wrapper:"Layout-module__zk9Eba__wrapper",debugPanel:"Layout-module__zk9Eba__debugPanel"}},65822:function(e){e.exports={text:"CookieAcceptPopup-module___NInja__text",container_biggerMargin:"CookieAcceptPopup-module___NInja__container_biggerMargin",further:"CookieAcceptPopup-module___NInja__further",container:"CookieAcceptPopup-module___NInja__container",button:"CookieAcceptPopup-module___NInja__button"}},31423:function(e){e.exports={footer__apps__icons:"Footer-module__2iyfJq__footer__apps__icons",footer__data:"Footer-module__2iyfJq__footer__data",footer:"Footer-module__2iyfJq__footer",footer__copyright:"Footer-module__2iyfJq__footer__copyright",footer__block__link:"Footer-module__2iyfJq__footer__block__link",footer__socials:"Footer-module__2iyfJq__footer__socials",footer__socials__item:"Footer-module__2iyfJq__footer__socials__item",footer__block__item:"Footer-module__2iyfJq__footer__block__item",footer__apps__text:"Footer-module__2iyfJq__footer__apps__text",footer__copyright__text:"Footer-module__2iyfJq__footer__copyright__text",footer_ru:"Footer-module__2iyfJq__footer_ru",footer__block:"Footer-module__2iyfJq__footer__block",footer__apps__button:"Footer-module__2iyfJq__footer__apps__button",footer__nav:"Footer-module__2iyfJq__footer__nav",footer__nav_ru:"Footer-module__2iyfJq__footer__nav_ru",footer__inner:"Footer-module__2iyfJq__footer__inner",footer__copyright__address:"Footer-module__2iyfJq__footer__copyright__address",footer__apps__qr:"Footer-module__2iyfJq__footer__apps__qr",footer__apps__storeButtons:"Footer-module__2iyfJq__footer__apps__storeButtons",footer__top:"Footer-module__2iyfJq__footer__top",footer__apps_mobile:"Footer-module__2iyfJq__footer__apps_mobile",footer__fullVersion:"Footer-module__2iyfJq__footer__fullVersion",footer_withPlayer:"Footer-module__2iyfJq__footer_withPlayer",footer__apps:"Footer-module__2iyfJq__footer__apps"}},88806:function(e){e.exports={hidden:"Banners-module__aDQ1da__hidden"}},39156:function(e){e.exports={banner:"MainPromoBanner-module__xFxuiG__banner",advertising:"MainPromoBanner-module__xFxuiG__advertising",wrapper:"MainPromoBanner-module__xFxuiG__wrapper"}},94733:function(e){e.exports={icon:"Bonus-module__KE7qkW__icon",bonusButton:"Bonus-module__KE7qkW__bonusButton",bonusButton_purple:"Bonus-module__KE7qkW__bonusButton_purple"}},93272:function(e){e.exports={dropdownItem:"DropdownLanguageItem-module__zd-NmW__dropdownItem",dropdownItem__value:"DropdownLanguageItem-module__zd-NmW__dropdownItem__value",dropdownItem__content:"DropdownLanguageItem-module__zd-NmW__dropdownItem__content",dropdownItem__title:"DropdownLanguageItem-module__zd-NmW__dropdownItem__title"}},56463:function(e){e.exports={wrapper:"CatalogButton-module__-_mwAG__wrapper"}},41909:function(e){e.exports={"focus-visibility":"HeaderDesktop-module__11BIza__focus-visibility",langDropdown:"HeaderDesktop-module__11BIza__langDropdown",mainSection:"HeaderDesktop-module__11BIza__mainSection",hidden:"HeaderDesktop-module__11BIza__hidden",lowerMenuWrap:"HeaderDesktop-module__11BIza__lowerMenuWrap",genresWrapper:"HeaderDesktop-module__11BIza__genresWrapper",langItem:"HeaderDesktop-module__11BIza__langItem",wrapper_fixed:"HeaderDesktop-module__11BIza__wrapper_fixed",wrapper:"HeaderDesktop-module__11BIza__wrapper",headerGap:"HeaderDesktop-module__11BIza__headerGap",catalogButton:"HeaderDesktop-module__11BIza__catalogButton",newSearch:"HeaderDesktop-module__11BIza__newSearch",narrowWrapper:"HeaderDesktop-module__11BIza__narrowWrapper",lowerMenuWrap__none:"HeaderDesktop-module__11BIza__lowerMenuWrap__none",langBlock:"HeaderDesktop-module__11BIza__langBlock"}},30139:function(e){e.exports={navBar_flex:"NavBar-module__MqIrna__navBar_flex",navBar:"NavBar-module__MqIrna__navBar"}},83019:function(e){e.exports={link_catalog:"HeaderMobile-module__oplxHq__link_catalog",control:"HeaderMobile-module__oplxHq__control",loginText:"HeaderMobile-module__oplxHq__loginText",logo:"HeaderMobile-module__oplxHq__logo",avatar:"HeaderMobile-module__oplxHq__avatar",wrapper:"HeaderMobile-module__oplxHq__wrapper",searchContainer:"HeaderMobile-module__oplxHq__searchContainer",panel:"HeaderMobile-module__oplxHq__panel",container:"HeaderMobile-module__oplxHq__container",bellIcon:"HeaderMobile-module__oplxHq__bellIcon",icon:"HeaderMobile-module__oplxHq__icon",booksButton:"HeaderMobile-module__oplxHq__booksButton",hidden:"HeaderMobile-module__oplxHq__hidden",tabWrap:"HeaderMobile-module__oplxHq__tabWrap",link:"HeaderMobile-module__oplxHq__link",icon__twoDigitCounter:"HeaderMobile-module__oplxHq__icon__twoDigitCounter",link_orange:"HeaderMobile-module__oplxHq__link_orange"}},95607:function(e){e.exports={navBarMobile__safeArea:"NavBarMobile-module__uOLWXq__navBarMobile__safeArea",navBarMobile:"NavBarMobile-module__uOLWXq__navBarMobile"}},26163:function(e){e.exports={wrapper:"Logo-module__CcgAwW__wrapper",mainLogo:"Logo-module__CcgAwW__mainLogo"}},90960:function(e){e.exports={lowerMenu__item_disabled:"LowerMenu-module__tITX-W__lowerMenu__item_disabled",lowerMenu__inner:"LowerMenu-module__tITX-W__lowerMenu__inner",lowerMenu__item:"LowerMenu-module__tITX-W__lowerMenu__item",lowerMenu__inner_pda:"LowerMenu-module__tITX-W__lowerMenu__inner_pda",lowerMenu__item_pda:"LowerMenu-module__tITX-W__lowerMenu__item_pda",lowerMenu__moreButtonWrap:"LowerMenu-module__tITX-W__lowerMenu__moreButtonWrap",lowerMenu__item_orange:"LowerMenu-module__tITX-W__lowerMenu__item_orange",lowerMenu_pda:"LowerMenu-module__tITX-W__lowerMenu_pda",lowerMenu:"LowerMenu-module__tITX-W__lowerMenu"}},8536:function(e){e.exports={popoverContent:"MoreButton-module__JDtsaW__popoverContent",popoverContentWrap:"MoreButton-module__JDtsaW__popoverContentWrap",moreButton:"MoreButton-module__JDtsaW__moreButton"}},73965:function(e){e.exports={logoWrapper:"MobileOperatorLogo-module__uCX_MG__logoWrapper",operator__name:"MobileOperatorLogo-module__uCX_MG__operator__name",operator:"MobileOperatorLogo-module__uCX_MG__operator"}},78450:function(e){e.exports={logo:"MyBooks-module__dh69vW__logo",listWrapper:"MyBooks-module__dh69vW__listWrapper",clickedWrapper:"MyBooks-module__dh69vW__clickedWrapper",newClickedWrapper:"MyBooks-module__dh69vW__newClickedWrapper",info:"MyBooks-module__dh69vW__info",title:"MyBooks-module__dh69vW__title",noPromoCollections:"MyBooks-module__dh69vW__noPromoCollections",popoverContent:"MyBooks-module__dh69vW__popoverContent",myBooksLink:"MyBooks-module__dh69vW__myBooksLink",amount:"MyBooks-module__dh69vW__amount",notifications:"MyBooks-module__dh69vW__notifications",wrapper:"MyBooks-module__dh69vW__wrapper"}},84161:function(e){e.exports={to100AndBack:"Loader-module__Ex1xTa__to100AndBack",wrapper:"Loader-module__Ex1xTa__wrapper",bar:"Loader-module__Ex1xTa__bar"}},60594:function(e){e.exports={popoverContent:"NewSearch-module__ONl6Ta__popoverContent",mobileSearch:"NewSearch-module__ONl6Ta__mobileSearch",searchAB:"NewSearch-module__ONl6Ta__searchAB",errorText:"NewSearch-module__ONl6Ta__errorText"}},33470:function(e){e.exports={mobileList:"ResultsList-module__tz9FCa__mobileList",listAB:"ResultsList-module__tz9FCa__listAB",close:"ResultsList-module__tz9FCa__close",showAll:"ResultsList-module__tz9FCa__showAll",buttons:"ResultsList-module__tz9FCa__buttons",safemodeContainerMobile:"ResultsList-module__tz9FCa__safemodeContainerMobile",scrolledList:"ResultsList-module__tz9FCa__scrolledList"}},51319:function(e){e.exports={input:"SearchForm-module__mZZUFa__input",error:"SearchForm-module__mZZUFa__error",btn:"SearchForm-module__mZZUFa__btn",loader:"SearchForm-module__mZZUFa__loader",clear:"SearchForm-module__mZZUFa__clear",searchFormWrapperAB:"SearchForm-module__mZZUFa__searchFormWrapperAB",focused:"SearchForm-module__mZZUFa__focused"}},26161:function(e){e.exports={close:"SearchHistory-module__Jtu_Za__close",historyListAB:"SearchHistory-module__Jtu_Za__historyListAB",closeIcon:"SearchHistory-module__Jtu_Za__closeIcon",info:"SearchHistory-module__Jtu_Za__info",previousSearches:"SearchHistory-module__Jtu_Za__previousSearches",clear:"SearchHistory-module__Jtu_Za__clear",itemText:"SearchHistory-module__Jtu_Za__itemText",mobileList:"SearchHistory-module__Jtu_Za__mobileList",item:"SearchHistory-module__Jtu_Za__item"}},28435:function(e){e.exports={details:"SellableItem-module__Cc2a7G__details",item:"SellableItem-module__Cc2a7G__item",coverWrapper:"SellableItem-module__Cc2a7G__coverWrapper",coverContainer:"SellableItem-module__Cc2a7G__coverContainer",mobileWrapper:"SellableItem-module__Cc2a7G__mobileWrapper",title:"SellableItem-module__Cc2a7G__title",unloader:"SellableItem-module__Cc2a7G__unloader",sellableItemWrapperAB:"SellableItem-module__Cc2a7G__sellableItemWrapperAB"}},3226:function(e){e.exports={prices__discount:"SellableItemActionBlock-module__gzPsja__prices__discount",button:"SellableItemActionBlock-module__gzPsja__button",price:"SellableItemActionBlock-module__gzPsja__price",prices__final:"SellableItemActionBlock-module__gzPsja__prices__final",sellableItemActionBlockAB:"SellableItemActionBlock-module__gzPsja__sellableItemActionBlockAB",prices:"SellableItemActionBlock-module__gzPsja__prices",prices__full:"SellableItemActionBlock-module__gzPsja__prices__full"}},20310:function(e){e.exports={progress__finished__text:"SellableItemDetails-module__C1KcPa__progress__finished__text",info:"SellableItemDetails-module__C1KcPa__info",progress__progressBar_active:"SellableItemDetails-module__C1KcPa__progress__progressBar_active",sellableItemDetailsAB:"SellableItemDetails-module__C1KcPa__sellableItemDetailsAB",progress__title:"SellableItemDetails-module__C1KcPa__progress__title",authors:"SellableItemDetails-module__C1KcPa__authors",title:"SellableItemDetails-module__C1KcPa__title",progress__finished:"SellableItemDetails-module__C1KcPa__progress__finished",progress:"SellableItemDetails-module__C1KcPa__progress",progress__progressBar:"SellableItemDetails-module__C1KcPa__progress__progressBar"}},91047:function(e){e.exports={childCover:"UnsoldItem-module__KhCevW__childCover",firstCover:"UnsoldItem-module__KhCevW__firstCover",mobileWrapper:"UnsoldItem-module__KhCevW__mobileWrapper",cover:"UnsoldItem-module__KhCevW__cover",type:"UnsoldItem-module__KhCevW__type",details:"UnsoldItem-module__KhCevW__details",multipleCover:"UnsoldItem-module__KhCevW__multipleCover",unsoldItemWrapperAB:"UnsoldItem-module__KhCevW__unsoldItemWrapperAB",removeMargin:"UnsoldItem-module__KhCevW__removeMargin",item:"UnsoldItem-module__KhCevW__item",title:"UnsoldItem-module__KhCevW__title",thirdCover:"UnsoldItem-module__KhCevW__thirdCover",publishingCover:"UnsoldItem-module__KhCevW__publishingCover",coverWrapper:"UnsoldItem-module__KhCevW__coverWrapper",secondCover:"UnsoldItem-module__KhCevW__secondCover"}},27683:function(e){e.exports={to100AndBack:"Loader-module__J32wfa__to100AndBack",wrapper:"Loader-module__J32wfa__wrapper",bar:"Loader-module__J32wfa__bar"}},48071:function(e){e.exports={list:"ResultsList-module__iQnHkW__list",mobileList:"ResultsList-module__iQnHkW__mobileList",buttons:"ResultsList-module__iQnHkW__buttons",close:"ResultsList-module__iQnHkW__close",safemodeContainerMobile:"ResultsList-module__iQnHkW__safemodeContainerMobile",showAll:"ResultsList-module__iQnHkW__showAll"}},87540:function(e){e.exports={mobileSearch:"Search-module__kmbXVW__mobileSearch",search:"Search-module__kmbXVW__search",popoverContent:"Search-module__kmbXVW__popoverContent",errorText:"Search-module__kmbXVW__errorText"}},70210:function(e){e.exports={loader:"SearchForm-module__dgxEiq__loader",errorButton:"SearchForm-module__dgxEiq__errorButton",wrapper:"SearchForm-module__dgxEiq__wrapper",error:"SearchForm-module__dgxEiq__error",button:"SearchForm-module__dgxEiq__button",input:"SearchForm-module__dgxEiq__input"}},16050:function(e){e.exports={close:"SearchHistory-module__uYAuRq__close",clear:"SearchHistory-module__uYAuRq__clear",item:"SearchHistory-module__uYAuRq__item",info:"SearchHistory-module__uYAuRq__info",list:"SearchHistory-module__uYAuRq__list",previousSearches:"SearchHistory-module__uYAuRq__previousSearches",mobileList:"SearchHistory-module__uYAuRq__mobileList"}},73505:function(e){e.exports={authors:"SellableItem-module__XnuzAa__authors",wrapper:"SellableItem-module__XnuzAa__wrapper",button:"SellableItem-module__XnuzAa__button",buttonNewPrice:"SellableItem-module__XnuzAa__buttonNewPrice",litresRuble:"SellableItem-module__XnuzAa__litresRuble",buttonOldPrice:"SellableItem-module__XnuzAa__buttonOldPrice",coverWrapper:"SellableItem-module__XnuzAa__coverWrapper",details:"SellableItem-module__XnuzAa__details",buttonPrice:"SellableItem-module__XnuzAa__buttonPrice",coverContainer:"SellableItem-module__XnuzAa__coverContainer",longButton:"SellableItem-module__XnuzAa__longButton",no_shadow:"SellableItem-module__XnuzAa__no_shadow",ownedArt:"SellableItem-module__XnuzAa__ownedArt",mobileWrapper:"SellableItem-module__XnuzAa__mobileWrapper",title:"SellableItem-module__XnuzAa__title",item:"SellableItem-module__XnuzAa__item"}},6191:function(e){e.exports={secondCover:"UnsoldItem-module__P_XY5G__secondCover",firstCover:"UnsoldItem-module__P_XY5G__firstCover",type:"UnsoldItem-module__P_XY5G__type",details:"UnsoldItem-module__P_XY5G__details",cover:"UnsoldItem-module__P_XY5G__cover",coverWrapper:"UnsoldItem-module__P_XY5G__coverWrapper",item:"UnsoldItem-module__P_XY5G__item",publishingCover:"UnsoldItem-module__P_XY5G__publishingCover",multipleCover:"UnsoldItem-module__P_XY5G__multipleCover",tripleCoverWrapper:"UnsoldItem-module__P_XY5G__tripleCoverWrapper",wrapper:"UnsoldItem-module__P_XY5G__wrapper",title:"UnsoldItem-module__P_XY5G__title",childCover:"UnsoldItem-module__P_XY5G__childCover",mobileWrapper:"UnsoldItem-module__P_XY5G__mobileWrapper",thirdCover:"UnsoldItem-module__P_XY5G__thirdCover"}},82372:function(e){e.exports={mobileSearch:"DesktopSuggestionsSearch-module__kv2eFW__mobileSearch",searchAB:"DesktopSuggestionsSearch-module__kv2eFW__searchAB",popoverContent:"DesktopSuggestionsSearch-module__kv2eFW__popoverContent",errorText:"DesktopSuggestionsSearch-module__kv2eFW__errorText"}},58683:function(e){e.exports={clear:"SearchForm-module__hMZOXa__clear",searchFormWrapperAB:"SearchForm-module__hMZOXa__searchFormWrapperAB",focused:"SearchForm-module__hMZOXa__focused",error:"SearchForm-module__hMZOXa__error",btn:"SearchForm-module__hMZOXa__btn",loader:"SearchForm-module__hMZOXa__loader",input:"SearchForm-module__hMZOXa__input"}},53142:function(e){e.exports={to100AndBack:"Loader-module__bItoKW__to100AndBack",wrapper:"Loader-module__bItoKW__wrapper",bar:"Loader-module__bItoKW__bar"}},76667:function(e){e.exports={errorText:"MobileSuggestionsSearch-module__OHepaa__errorText",popoverContent:"MobileSuggestionsSearch-module__OHepaa__popoverContent",search:"MobileSuggestionsSearch-module__OHepaa__search",mobileSuggestionsSearch:"MobileSuggestionsSearch-module__OHepaa__mobileSuggestionsSearch",mobileSearch:"MobileSuggestionsSearch-module__OHepaa__mobileSearch"}},11214:function(e){e.exports={mobileSearchForm__clear:"SearchForm-module__TTGznq__mobileSearchForm__clear",mobileSearchForm__searchButton:"SearchForm-module__TTGznq__mobileSearchForm__searchButton",mobileSearchForm__searchInput:"SearchForm-module__TTGznq__mobileSearchForm__searchInput",mobileSearchForm:"SearchForm-module__TTGznq__mobileSearchForm"}},72224:function(e){e.exports={mobileList:"SearchResult-module__i1d3Eq__mobileList",close:"SearchResult-module__i1d3Eq__close",searchResultList:"SearchResult-module__i1d3Eq__searchResultList",item:"SearchResult-module__i1d3Eq__item",closeIcon:"SearchResult-module__i1d3Eq__closeIcon",info:"SearchResult-module__i1d3Eq__info",previousSearches:"SearchResult-module__i1d3Eq__previousSearches",itemText:"SearchResult-module__i1d3Eq__itemText",clear:"SearchResult-module__i1d3Eq__clear"}},72233:function(e){e.exports={counter:"Counter-module__0BQrlG__counter"}},17485:function(e){e.exports={tab__wrapper:"Tab-module__w563Ga__tab__wrapper",tab_orange__title:"Tab-module__w563Ga__tab_orange__title",tab_purple__wrapper__number:"Tab-module__w563Ga__tab_purple__wrapper__number",tab_orange__logo:"Tab-module__w563Ga__tab_orange__logo",tab__title:"Tab-module__w563Ga__tab__title",tab_purple__link:"Tab-module__w563Ga__tab_purple__link",tab_purple__title:"Tab-module__w563Ga__tab_purple__title",tab_purple__wrapper__logo_small:"Tab-module__w563Ga__tab_purple__wrapper__logo_small",tab_orange__link:"Tab-module__w563Ga__tab_orange__link",tab:"Tab-module__w563Ga__tab",tab__wrapper__logo:"Tab-module__w563Ga__tab__wrapper__logo",tab_orange__wrapper__logo:"Tab-module__w563Ga__tab_orange__wrapper__logo",tab_orange__link_active:"Tab-module__w563Ga__tab_orange__link_active",tab_purple:"Tab-module__w563Ga__tab_purple",tab_purple__wrapper__logo:"Tab-module__w563Ga__tab_purple__wrapper__logo",tab__link:"Tab-module__w563Ga__tab__link",tab_orange:"Tab-module__w563Ga__tab_orange",tab_orange__wrapper:"Tab-module__w563Ga__tab_orange__wrapper",tab_purple__wrapper:"Tab-module__w563Ga__tab_purple__wrapper"}},59382:function(e){e.exports={wrapper:"Profile-module__p0AxSW__wrapper",wrapperOnLoading:"Profile-module__p0AxSW__wrapperOnLoading",profileLink:"Profile-module__p0AxSW__profileLink"}},24529:function(e){e.exports={profileButton__title:"ProfileButton-module__X_wr3G__profileButton__title",profileButton:"ProfileButton-module__X_wr3G__profileButton",profileButton__logo_container:"ProfileButton-module__X_wr3G__profileButton__logo_container",profileButton__logo_container_gradient:"ProfileButton-module__X_wr3G__profileButton__logo_container_gradient",profileButton__logo:"ProfileButton-module__X_wr3G__profileButton__logo",profileButton_mobile:"ProfileButton-module__X_wr3G__profileButton_mobile"}},15555:function(e){e.exports={wrapper:"User-module__rQTUaW__wrapper",loginPopup:"User-module__rQTUaW__loginPopup",loginPopupParent:"User-module__rQTUaW__loginPopupParent"}},2421:function(e){e.exports={icon:"SpriteIcon-module__5QHWIG__icon"}},24345:function(e){e.exports={description:"MFAOTPPopupConfirmPopup-module__tVUqyG__description",loading:"MFAOTPPopupConfirmPopup-module__tVUqyG__loading",wrapper:"MFAOTPPopupConfirmPopup-module__tVUqyG__wrapper"}},65714:function(e){e.exports={description:"OTPConfirmEmail-module__rG0h4W__description",wrapper:"OTPConfirmEmail-module__rG0h4W__wrapper",truncated:"OTPConfirmEmail-module__rG0h4W__truncated",loading:"OTPConfirmEmail-module__rG0h4W__loading",description__message:"OTPConfirmEmail-module__rG0h4W__description__message"}},5857:function(e){e.exports={wrapper:"OTPConfirmPhonePopup-module__e60Y_a__wrapper",loading:"OTPConfirmPhonePopup-module__e60Y_a__loading",description__message:"OTPConfirmPhonePopup-module__e60Y_a__description__message",truncated:"OTPConfirmPhonePopup-module__e60Y_a__truncated",description:"OTPConfirmPhonePopup-module__e60Y_a__description"}},38606:function(e){e.exports={counter:"OTPCounter-module__xBrfXW__counter",counter__text:"OTPCounter-module__xBrfXW__counter__text",counter__button:"OTPCounter-module__xBrfXW__counter__button"}},36876:function(e){e.exports={outerContainer:"OTPForm-module__QHzgsq__outerContainer",hidden:"OTPForm-module__QHzgsq__hidden"}},82140:function(e){e.exports={title:"AuthContent-module__Dj8sNW__title",subscriptionAllowance:"AuthContent-module__Dj8sNW__subscriptionAllowance",description:"AuthContent-module__Dj8sNW__description",phoneAuthInfoAlert__text:"AuthContent-module__Dj8sNW__phoneAuthInfoAlert__text",closeIcon:"AuthContent-module__Dj8sNW__closeIcon",form__label:"AuthContent-module__Dj8sNW__form__label",counter__button:"AuthContent-module__Dj8sNW__counter__button",oauthHeader__topSection:"AuthContent-module__Dj8sNW__oauthHeader__topSection",emailRegistrationContainer__editLink:"AuthContent-module__Dj8sNW__emailRegistrationContainer__editLink",oauthAuthorizedUser__continueButton:"AuthContent-module__Dj8sNW__oauthAuthorizedUser__continueButton",bold:"AuthContent-module__Dj8sNW__bold",form__submit:"AuthContent-module__Dj8sNW__form__submit",phoneAuthInfoAlert__icon:"AuthContent-module__Dj8sNW__phoneAuthInfoAlert__icon",counter__text:"AuthContent-module__Dj8sNW__counter__text",oauthAuthorizedUser:"AuthContent-module__Dj8sNW__oauthAuthorizedUser",wrapper_isFullScreenModeWithGap:"AuthContent-module__Dj8sNW__wrapper_isFullScreenModeWithGap",oauthHeader:"AuthContent-module__Dj8sNW__oauthHeader",oauthHeader__logoIcon:"AuthContent-module__Dj8sNW__oauthHeader__logoIcon",description__message:"AuthContent-module__Dj8sNW__description__message","oauthAuthorizedUser__buttons-oneRow":"AuthContent-module__Dj8sNW__oauthAuthorizedUser__buttons-oneRow",counter__link:"AuthContent-module__Dj8sNW__counter__link",emailRegistrationContainer__freeEmailMessage:"AuthContent-module__Dj8sNW__emailRegistrationContainer__freeEmailMessage",fadeIn:"AuthContent-module__Dj8sNW__fadeIn",oauthHeader__username:"AuthContent-module__Dj8sNW__oauthHeader__username",hidden:"AuthContent-module__Dj8sNW__hidden",oauthAuthorizedUser__buttons:"AuthContent-module__Dj8sNW__oauthAuthorizedUser__buttons",button:"AuthContent-module__Dj8sNW__button",oauthHeader__user:"AuthContent-module__Dj8sNW__oauthHeader__user",recovery:"AuthContent-module__Dj8sNW__recovery",form__code:"AuthContent-module__Dj8sNW__form__code",phoneAuthInfoAlert:"AuthContent-module__Dj8sNW__phoneAuthInfoAlert",emailRegistrationContainer:"AuthContent-module__Dj8sNW__emailRegistrationContainer",backLink:"AuthContent-module__Dj8sNW__backLink",backLink__fullscreenMode:"AuthContent-module__Dj8sNW__backLink__fullscreenMode",withWordBreak:"AuthContent-module__Dj8sNW__withWordBreak",subtitle:"AuthContent-module__Dj8sNW__subtitle",oauthHeader__permissionsTitle:"AuthContent-module__Dj8sNW__oauthHeader__permissionsTitle",oauthAuthorizedUser__title:"AuthContent-module__Dj8sNW__oauthAuthorizedUser__title",info:"AuthContent-module__Dj8sNW__info",wrapper:"AuthContent-module__Dj8sNW__wrapper",content:"AuthContent-module__Dj8sNW__content",divider:"AuthContent-module__Dj8sNW__divider",emailRegistrationContainer__email:"AuthContent-module__Dj8sNW__emailRegistrationContainer__email",link_withoutLeftGap:"AuthContent-module__Dj8sNW__link_withoutLeftGap",wrapper_isFullScreenMode:"AuthContent-module__Dj8sNW__wrapper_isFullScreenMode",form__control:"AuthContent-module__Dj8sNW__form__control",counter:"AuthContent-module__Dj8sNW__counter",truncated:"AuthContent-module__Dj8sNW__truncated",emailRegistrationContainer__emailContainer:"AuthContent-module__Dj8sNW__emailRegistrationContainer__emailContainer",authInstructions__item:"AuthContent-module__Dj8sNW__authInstructions__item",terms:"AuthContent-module__Dj8sNW__terms",oauthHeader__permissionList:"AuthContent-module__Dj8sNW__oauthHeader__permissionList",loading:"AuthContent-module__Dj8sNW__loading",link:"AuthContent-module__Dj8sNW__link",wrapper_mobile:"AuthContent-module__Dj8sNW__wrapper_mobile",authInstructions:"AuthContent-module__Dj8sNW__authInstructions"}},34461:function(e){e.exports={buttonOverride:"RecoveryPassword-module__OCl3Ha__buttonOverride"}},88048:function(e){e.exports={wrapper_mobile:"ModalStep-module__O5EZhW__wrapper_mobile",loading:"ModalStep-module__O5EZhW__loading",closeButton:"ModalStep-module__O5EZhW__closeButton",backButton:"ModalStep-module__O5EZhW__backButton",wrapper:"ModalStep-module__O5EZhW__wrapper",header:"ModalStep-module__O5EZhW__header",content:"ModalStep-module__O5EZhW__content"}},29415:function(e){e.exports={socials__skeleton:"Socials-module__brBJVa__socials__skeleton",limitedNetworksAlert:"Socials-module__brBJVa__limitedNetworksAlert",socials:"Socials-module__brBJVa__socials",socials__link:"Socials-module__brBJVa__socials__link",socials__link_icon:"Socials-module__brBJVa__socials__link_icon"}},89667:function(e){e.exports={field:"FormField-module__M_RqZW__field"}},46672:function(e){e.exports={header:"FormHeader-module__shCVMa__header"}},41141:function(e){e.exports={header:"FormSubHeader-module__ndNDlq__header"}},888:function(e){e.exports={loading:"ScreenSpinner-module___3k8Cq__loading"}},15203:function(e){e.exports={description:"AddEmailPopup-module__nT87Aq__description",hidden:"AddEmailPopup-module__nT87Aq__hidden",description__message:"AddEmailPopup-module__nT87Aq__description__message"}},29390:function(e){e.exports={description:"AddPhonePopup-module__KWfT5W__description",description__message:"AddPhonePopup-module__KWfT5W__description__message",hidden:"AddPhonePopup-module__KWfT5W__hidden"}},56951:function(e){e.exports={sendToField:"EmailConfirmationWelcomePopup-module__yyb-uq__sendToField",description:"EmailConfirmationWelcomePopup-module__yyb-uq__description",hidden:"EmailConfirmationWelcomePopup-module__yyb-uq__hidden",description__message:"EmailConfirmationWelcomePopup-module__yyb-uq__description__message"}},86581:function(e){e.exports={sendToField:"PhoneConfirmationWelcomePopup-module__h_rPPa__sendToField",description:"PhoneConfirmationWelcomePopup-module__h_rPPa__description",description__message:"PhoneConfirmationWelcomePopup-module__h_rPPa__description__message",hidden:"PhoneConfirmationWelcomePopup-module__h_rPPa__hidden"}},40148:function(e){e.exports={description:"NewEmailPopup-module__9e3jSG__description",hidden:"NewEmailPopup-module__9e3jSG__hidden",description__message:"NewEmailPopup-module__9e3jSG__description__message"}},19486:function(e){e.exports={description__message:"NewPhonePopup-module__3xII_W__description__message",hidden:"NewPhonePopup-module__3xII_W__hidden",description:"NewPhonePopup-module__3xII_W__description"}},48606:function(e){e.exports={buttonBlock:"MergeUsersPopup-module__6fUsSG__buttonBlock",mailText:"MergeUsersPopup-module__6fUsSG__mailText",mailIcon:"MergeUsersPopup-module__6fUsSG__mailIcon",title:"MergeUsersPopup-module__6fUsSG__title"}},9523:function(e){e.exports={description__message:"PhoneOTPLoginPopup-module__AErCka__description__message",loading:"PhoneOTPLoginPopup-module__AErCka__loading",wrapper:"PhoneOTPLoginPopup-module__AErCka__wrapper",description:"PhoneOTPLoginPopup-module__AErCka__description",truncated:"PhoneOTPLoginPopup-module__AErCka__truncated"}},83146:function(e){e.exports={description:"EmailOTPLoginPopup-module__Z1XMua__description",wrapper:"EmailOTPLoginPopup-module__Z1XMua__wrapper",truncated:"EmailOTPLoginPopup-module__Z1XMua__truncated",description__message:"EmailOTPLoginPopup-module__Z1XMua__description__message"}},2992:function(e){e.exports={button:"SuccessFullscreen-module__Hu9WPG__button",wrapper:"SuccessFullscreen-module__Hu9WPG__wrapper",logo:"SuccessFullscreen-module__Hu9WPG__logo",text:"SuccessFullscreen-module__Hu9WPG__text"}},59043:function(e){e.exports={hidden:"TypeEmailPopup-module__p5-mpa__hidden",description:"TypeEmailPopup-module__p5-mpa__description",divider:"TypeEmailPopup-module__p5-mpa__divider"}},99762:function(e){e.exports={"genres-container":"AllGenres-module__LQdHpa__genres-container","close-icon":"AllGenres-module__LQdHpa__close-icon",isLoading:"AllGenres-module__LQdHpa__isLoading",rotation:"AllGenres-module__LQdHpa__rotation",genresLoadingIcon:"AllGenres-module__LQdHpa__genresLoadingIcon","genres-wrapper":"AllGenres-module__LQdHpa__genres-wrapper"}},34678:function(e){e.exports={title:"Column-module__Tc-eGa__title",column:"Column-module__Tc-eGa__column","more-genres":"Column-module__Tc-eGa__more-genres",list:"Column-module__Tc-eGa__list"}},58657:function(e){e.exports={"item-wrapper":"Item-module__gKp5NW__item-wrapper",item:"Item-module__gKp5NW__item"}},78985:function(e){e.exports={container:"GenresTreePopup-module__v-7a4a__container",content:"GenresTreePopup-module__v-7a4a__content",wrapper:"GenresTreePopup-module__v-7a4a__wrapper","all-genres":"GenresTreePopup-module__v-7a4a__all-genres",hidden:"GenresTreePopup-module__v-7a4a__hidden",overlay:"GenresTreePopup-module__v-7a4a__overlay"}},57461:function(e){e.exports={format_oneIcon:"Label-module__mC5mJG__format_oneIcon",format_status:"Label-module__mC5mJG__format_status",format_mini:"Label-module__mC5mJG__format_mini",format:"Label-module__mC5mJG__format",format_sync:"Label-module__mC5mJG__format_sync",wrapper:"Label-module__mC5mJG__wrapper",wrapper__srLabel:"Label-module__mC5mJG__wrapper__srLabel"}},96903:function(e){e.exports={phoneInput__pick:"PhoneInput-module__W9Oyta__phoneInput__pick",codesList:"PhoneInput-module__W9Oyta__codesList",phoneView__value:"PhoneInput-module__W9Oyta__phoneView__value",phoneInput__input_dirty:"PhoneInput-module__W9Oyta__phoneInput__input_dirty",phoneInput__input:"PhoneInput-module__W9Oyta__phoneInput__input",codesList__item:"PhoneInput-module__W9Oyta__codesList__item",codePopup_open:"PhoneInput-module__W9Oyta__codePopup_open",codesList__item__code:"PhoneInput-module__W9Oyta__codesList__item__code",codesList__item_selected:"PhoneInput-module__W9Oyta__codesList__item_selected",phoneView:"PhoneInput-module__W9Oyta__phoneView",phoneView__icon:"PhoneInput-module__W9Oyta__phoneView__icon",codesList__item__name:"PhoneInput-module__W9Oyta__codesList__item__name",phoneInput__input__placeholder:"PhoneInput-module__W9Oyta__phoneInput__input__placeholder",phoneInput__pick__icon:"PhoneInput-module__W9Oyta__phoneInput__pick__icon",codePopup__title:"PhoneInput-module__W9Oyta__codePopup__title",codePopup_mobile:"PhoneInput-module__W9Oyta__codePopup_mobile",codePopup__topBlock:"PhoneInput-module__W9Oyta__codePopup__topBlock",hidden:"PhoneInput-module__W9Oyta__hidden",phoneInput__input_hover:"PhoneInput-module__W9Oyta__phoneInput__input_hover",codePopup__backLink:"PhoneInput-module__W9Oyta__codePopup__backLink",codesList__message:"PhoneInput-module__W9Oyta__codesList__message",phoneInput:"PhoneInput-module__W9Oyta__phoneInput",codePopup:"PhoneInput-module__W9Oyta__codePopup",flag:"PhoneInput-module__W9Oyta__flag",codePopup__header:"PhoneInput-module__W9Oyta__codePopup__header"}},38730:function(e){e.exports={confirmPanel:"ConfirmPanel-module__enL0nq__confirmPanel",confirmPanel__content__mobile:"ConfirmPanel-module__enL0nq__confirmPanel__content__mobile",button_orange:"ConfirmPanel-module__enL0nq__button_orange",confirmPanel__wrapper:"ConfirmPanel-module__enL0nq__confirmPanel__wrapper",confirmPanel__text:"ConfirmPanel-module__enL0nq__confirmPanel__text","confirmPanel__close-button":"ConfirmPanel-module__enL0nq__confirmPanel__close-button",confirmPanel__content:"ConfirmPanel-module__enL0nq__confirmPanel__content",confirmPanel__mobile:"ConfirmPanel-module__enL0nq__confirmPanel__mobile",confirmPanel__text__mobile:"ConfirmPanel-module__enL0nq__confirmPanel__text__mobile",confirmPanel__buttons:"ConfirmPanel-module__enL0nq__confirmPanel__buttons"}},24647:function(e){e.exports={safemodeContainer:"Safemode-module__8oACBa__safemodeContainer"}},56837:function(e){e.exports={successPanel__icon:"SuccessPanel-module__YEL_Sq__successPanel__icon",successPanel__content:"SuccessPanel-module__YEL_Sq__successPanel__content","successPanel__close-button":"SuccessPanel-module__YEL_Sq__successPanel__close-button",successPanel:"SuccessPanel-module__YEL_Sq__successPanel"}},40013:function(e){e.exports={search_button:"SimpleSearch-module__KieGbW__search_button",input:"SimpleSearch-module__KieGbW__input",error:"SimpleSearch-module__KieGbW__error",clearButton:"SimpleSearch-module__KieGbW__clearButton",inputContainer:"SimpleSearch-module__KieGbW__inputContainer",wrapper:"SimpleSearch-module__KieGbW__wrapper"}},8282:function(e){e.exports={alert__title:"Alert-module__ddFl8q__alert__title",alert_accent:"Alert-module__ddFl8q__alert_accent",alert_safe:"Alert-module__ddFl8q__alert_safe",alert__description:"Alert-module__ddFl8q__alert__description",alert_error:"Alert-module__ddFl8q__alert_error",alert__icon:"Alert-module__ddFl8q__alert__icon",alert:"Alert-module__ddFl8q__alert",alert_blank:"Alert-module__ddFl8q__alert_blank",alert_info:"Alert-module__ddFl8q__alert_info"}},9776:function(e){e.exports={topContent:"Avatar-module__WPd5Ra__topContent",bottomContent:"Avatar-module__WPd5Ra__bottomContent",onClick:"Avatar-module__WPd5Ra__onClick",avatar:"Avatar-module__WPd5Ra__avatar",content:"Avatar-module__WPd5Ra__content",wrapper:"Avatar-module__WPd5Ra__wrapper"}},85199:function(e){e.exports={container__enter_active:"BottomSheetContent-module__9co0xa__container__enter_active",container__exit:"BottomSheetContent-module__9co0xa__container__exit",header:"BottomSheetContent-module__9co0xa__header",container__enter:"BottomSheetContent-module__9co0xa__container__enter",header__title:"BottomSheetContent-module__9co0xa__header__title",content:"BottomSheetContent-module__9co0xa__content",container:"BottomSheetContent-module__9co0xa__container",container__exit_active:"BottomSheetContent-module__9co0xa__container__exit_active",header__closeButton:"BottomSheetContent-module__9co0xa__header__closeButton"}},61902:function(e){e.exports={overlay:"Overlay-module__xXN3JW__overlay",overlay__enter:"Overlay-module__xXN3JW__overlay__enter",overlay__exit:"Overlay-module__xXN3JW__overlay__exit",overlay__exit_active:"Overlay-module__xXN3JW__overlay__exit_active",overlay__enter_active:"Overlay-module__xXN3JW__overlay__enter_active"}},12952:function(e){e.exports={button:"Button-module__QumUZq__button",button_very_small:"Button-module__QumUZq__button_very_small",button_loading:"Button-module__QumUZq__button_loading",button_tertiary:"Button-module__QumUZq__button_tertiary",buttonIcon_right:"Button-module__QumUZq__buttonIcon_right",buttonContent_success:"Button-module__QumUZq__buttonContent_success","button_very-small":"Button-module__QumUZq__button_very-small",buttonIcon:"Button-module__QumUZq__buttonIcon",buttonContent:"Button-module__QumUZq__buttonContent",textContainer:"Button-module__QumUZq__textContainer",buttonLoader:"Button-module__QumUZq__buttonLoader",button_secondary:"Button-module__QumUZq__button_secondary",buttonCheckmarkSpriteIcon:"Button-module__QumUZq__buttonCheckmarkSpriteIcon",button_small:"Button-module__QumUZq__button_small",button_primary:"Button-module__QumUZq__button_primary",button_large:"Button-module__QumUZq__button_large",secondaryText:"Button-module__QumUZq__secondaryText",button_medium:"Button-module__QumUZq__button_medium","button_primary-accented":"Button-module__QumUZq__button_primary-accented",button_success:"Button-module__QumUZq__button_success",buttonContent_loading:"Button-module__QumUZq__buttonContent_loading",buttonContent__inner:"Button-module__QumUZq__buttonContent__inner",buttonCheckmark:"Button-module__QumUZq__buttonCheckmark",button_fullWidth:"Button-module__QumUZq__button_fullWidth"}},79257:function(e){e.exports={container:"Checkbox-module__1AI_PW__container",secondText:"Checkbox-module__1AI_PW__secondText",fakeCheckbox:"Checkbox-module__1AI_PW__fakeCheckbox",check:"Checkbox-module__1AI_PW__check",label:"Checkbox-module__1AI_PW__label",loader:"Checkbox-module__1AI_PW__loader"}},66647:function(e){e.exports={rotate:"CircleLoader-module__Jq0n7q__rotate",dash:"CircleLoader-module__Jq0n7q__dash",animation:"CircleLoader-module__Jq0n7q__animation"}},48143:function(e){e.exports={dash:"CircleLoaderV2-module___7QJMq__dash",animation:"CircleLoaderV2-module___7QJMq__animation",rotate:"CircleLoaderV2-module___7QJMq__rotate"}},21404:function(e){e.exports={input_isDisabled:"CodeInput-module__kGeE-W__input_isDisabled",input_isFilled:"CodeInput-module__kGeE-W__input_isFilled",inputWrapper:"CodeInput-module__kGeE-W__inputWrapper",error:"CodeInput-module__kGeE-W__error",input:"CodeInput-module__kGeE-W__input",container:"CodeInput-module__kGeE-W__container",spinner:"CodeInput-module__kGeE-W__spinner"}},18160:function(e){e.exports={contextMenu:"ContextMenu-module__zL-RUq__contextMenu",contextMenu_hidden:"ContextMenu-module__zL-RUq__contextMenu_hidden",contextMenu__button:"ContextMenu-module__zL-RUq__contextMenu__button",contextMenu__item__icon:"ContextMenu-module__zL-RUq__contextMenu__item__icon",contextMenu__item:"ContextMenu-module__zL-RUq__contextMenu__item",promos:"ContextMenu-module__zL-RUq__promos",contextMenu__button__icon:"ContextMenu-module__zL-RUq__contextMenu__button__icon",count:"ContextMenu-module__zL-RUq__count",contextMenu__button__icon_horizontal:"ContextMenu-module__zL-RUq__contextMenu__button__icon_horizontal",contextMenu__item__content:"ContextMenu-module__zL-RUq__contextMenu__item__content"}},78568:function(e){e.exports={multilineInput:"ControlInput-module__dFWW9W__multilineInput",input_fullWidth:"ControlInput-module__dFWW9W__input_fullWidth",passwordInput:"ControlInput-module__dFWW9W__passwordInput",input__placeholder:"ControlInput-module__dFWW9W__input__placeholder",passwordInput__eye:"ControlInput-module__dFWW9W__passwordInput__eye",input_disabled:"ControlInput-module__dFWW9W__input_disabled",input_withoutLabel:"ControlInput-module__dFWW9W__input_withoutLabel",input_hover:"ControlInput-module__dFWW9W__input_hover",input_filled:"ControlInput-module__dFWW9W__input_filled",symbolsCounter_error:"ControlInput-module__dFWW9W__symbolsCounter_error",symbolsCounter__message:"ControlInput-module__dFWW9W__symbolsCounter__message",searchInput__clear:"ControlInput-module__dFWW9W__searchInput__clear",input_blank:"ControlInput-module__dFWW9W__input_blank",input:"ControlInput-module__dFWW9W__input",input_error:"ControlInput-module__dFWW9W__input_error",symbolsCounter:"ControlInput-module__dFWW9W__symbolsCounter",input_focused:"ControlInput-module__dFWW9W__input_focused",input__error:"ControlInput-module__dFWW9W__input__error",searchInput:"ControlInput-module__dFWW9W__searchInput",searchInput__icon:"ControlInput-module__dFWW9W__searchInput__icon"}},97491:function(e){e.exports={loaderAnimation:"AdaptiveCover-module__rzpWqq__loaderAnimation",container__pointer:"AdaptiveCover-module__rzpWqq__container__pointer",container:"AdaptiveCover-module__rzpWqq__container",collectionCovers:"AdaptiveCover-module__rzpWqq__collectionCovers",collectionCovers__first:"AdaptiveCover-module__rzpWqq__collectionCovers__first",errorBackground:"AdaptiveCover-module__rzpWqq__errorBackground",loader:"AdaptiveCover-module__rzpWqq__loader",collectionCovers__second:"AdaptiveCover-module__rzpWqq__collectionCovers__second",collectionCovers__child:"AdaptiveCover-module__rzpWqq__collectionCovers__child",image:"AdaptiveCover-module__rzpWqq__image",collectionCovers__third:"AdaptiveCover-module__rzpWqq__collectionCovers__third",errorImg:"AdaptiveCover-module__rzpWqq__errorImg"}},64696:function(e){e.exports={thirdCover:"Cover-module__EDMv0q__thirdCover",link:"Cover-module__EDMv0q__link",childCover:"Cover-module__EDMv0q__childCover",container:"Cover-module__EDMv0q__container",loader:"Cover-module__EDMv0q__loader",cover:"Cover-module__EDMv0q__cover","unloader-container__inner":"Cover-module__EDMv0q__unloader-container__inner","unloader-container":"Cover-module__EDMv0q__unloader-container","unloader-cover__img":"Cover-module__EDMv0q__unloader-cover__img",firstCover:"Cover-module__EDMv0q__firstCover","unloader-cover__text":"Cover-module__EDMv0q__unloader-cover__text",secondCover:"Cover-module__EDMv0q__secondCover",noCover:"Cover-module__EDMv0q__noCover",multiple:"Cover-module__EDMv0q__multiple",noCoverImg:"Cover-module__EDMv0q__noCoverImg",unloader:"Cover-module__EDMv0q__unloader"}},8173:function(e){e.exports={label_xs:"DiscountLabel-module__b1b2xW__label_xs",label_l:"DiscountLabel-module__b1b2xW__label_l",textLabel_percent:"DiscountLabel-module__b1b2xW__textLabel_percent",textLabel_m:"DiscountLabel-module__b1b2xW__textLabel_m",textLabel_sale_border:"DiscountLabel-module__b1b2xW__textLabel_sale_border",label_sale_border:"DiscountLabel-module__b1b2xW__label_sale_border",textLabel_sale:"DiscountLabel-module__b1b2xW__textLabel_sale",textLabel_l_border:"DiscountLabel-module__b1b2xW__textLabel_l_border",label_new_border:"DiscountLabel-module__b1b2xW__label_new_border",textLabel:"DiscountLabel-module__b1b2xW__textLabel",label_s_border:"DiscountLabel-module__b1b2xW__label_s_border",container:"DiscountLabel-module__b1b2xW__container",label_xl_border:"DiscountLabel-module__b1b2xW__label_xl_border",textLabel_xl:"DiscountLabel-module__b1b2xW__textLabel_xl",label_percent:"DiscountLabel-module__b1b2xW__label_percent",label_l_border:"DiscountLabel-module__b1b2xW__label_l_border",label_xxs:"DiscountLabel-module__b1b2xW__label_xxs",textLabel_xs:"DiscountLabel-module__b1b2xW__textLabel_xs",textLabel_bestseller_border:"DiscountLabel-module__b1b2xW__textLabel_bestseller_border",label_xl:"DiscountLabel-module__b1b2xW__label_xl",textLabel_xl_border:"DiscountLabel-module__b1b2xW__textLabel_xl_border",textLabel_l:"DiscountLabel-module__b1b2xW__textLabel_l",textLabel_xxs_border:"DiscountLabel-module__b1b2xW__textLabel_xxs_border",label_xxs_border:"DiscountLabel-module__b1b2xW__label_xxs_border",label_m:"DiscountLabel-module__b1b2xW__label_m",textLabel_xs_border:"DiscountLabel-module__b1b2xW__textLabel_xs_border",label_sale:"DiscountLabel-module__b1b2xW__label_sale",textLabel_s:"DiscountLabel-module__b1b2xW__textLabel_s",label_bestseller_border:"DiscountLabel-module__b1b2xW__label_bestseller_border",label_xs_border:"DiscountLabel-module__b1b2xW__label_xs_border",textLabel_bestseller:"DiscountLabel-module__b1b2xW__textLabel_bestseller",label:"DiscountLabel-module__b1b2xW__label",label_m_border:"DiscountLabel-module__b1b2xW__label_m_border",label_bestseller:"DiscountLabel-module__b1b2xW__label_bestseller",textLabel_s_border:"DiscountLabel-module__b1b2xW__textLabel_s_border",label_s:"DiscountLabel-module__b1b2xW__label_s",textLabel_new:"DiscountLabel-module__b1b2xW__textLabel_new",textLabel_xxs:"DiscountLabel-module__b1b2xW__textLabel_xxs",textLabel_m_border:"DiscountLabel-module__b1b2xW__textLabel_m_border",textLabel_new_border:"DiscountLabel-module__b1b2xW__textLabel_new_border",label_new:"DiscountLabel-module__b1b2xW__label_new"}},94386:function(e){e.exports={dropdown__menu__item:"Dropdown-module__TgnVuW__dropdown__menu__item",dropdown__input:"Dropdown-module__TgnVuW__dropdown__input",dropdown__input__selected:"Dropdown-module__TgnVuW__dropdown__input__selected",dropdown__input_open:"Dropdown-module__TgnVuW__dropdown__input_open",dropdown__icon:"Dropdown-module__TgnVuW__dropdown__icon",dropdown__menu:"Dropdown-module__TgnVuW__dropdown__menu",dropdown__menu__icon:"Dropdown-module__TgnVuW__dropdown__menu__icon",dropdown:"Dropdown-module__TgnVuW__dropdown"}},852:function(e){e.exports={flag:"Flags-module__dD97MW__flag"}},54023:function(e){e.exports={funcButtonContent:"FunctionalButton-module__989o6q__funcButtonContent",funcButton_delete:"FunctionalButton-module__989o6q__funcButton_delete",funcButton:"FunctionalButton-module__989o6q__funcButton",funcButton_accent:"FunctionalButton-module__989o6q__funcButton_accent",funcButton_medium:"FunctionalButton-module__989o6q__funcButton_medium",funcButton_secondary:"FunctionalButton-module__989o6q__funcButton_secondary",funcButtonContent__child:"FunctionalButton-module__989o6q__funcButtonContent__child",funcButton_large:"FunctionalButton-module__989o6q__funcButton_large"}},93412:function(e){e.exports={wrapper:"Icon-module__dXjP_q__wrapper"}},5447:function(e){e.exports={input_field:"Input-module__DqXcRG__input_field",input:"Input-module__DqXcRG__input",input_icon:"Input-module__DqXcRG__input_icon",error:"Input-module__DqXcRG__error",error_text:"Input-module__DqXcRG__error_text",input_wrapper:"Input-module__DqXcRG__input_wrapper",hint:"Input-module__DqXcRG__hint",icon:"Input-module__DqXcRG__icon",pass_eye:"Input-module__DqXcRG__pass_eye"}},60164:function(e){e.exports={link:"StyledLink-module__9cE5yW__link"}},43297:function(e){e.exports={pda:"LoaderTransition-module__L7pZ6a__pda",animate:"LoaderTransition-module__L7pZ6a__animate",loader:"LoaderTransition-module__L7pZ6a__loader"}},73468:function(e){e.exports={bar:"Loader-module__b0lB4G__bar",progress:"Loader-module__b0lB4G__progress",wrapper:"Loader-module__b0lB4G__wrapper",dark:"Loader-module__b0lB4G__dark"}},23520:function(e){e.exports={mobileModal__content:"MobileModal-module__fVrc0W__mobileModal__content",footer:"MobileModal-module__fVrc0W__footer",mobileModal:"MobileModal-module__fVrc0W__mobileModal"}},24783:function(e){e.exports={head__arrow:"Head-module__fjQgfa__head__arrow",head:"Head-module__fjQgfa__head",head__title:"Head-module__fjQgfa__head__title"}},77751:function(e){e.exports={content:"Modal-module__ckz0XG__content",container__header:"Modal-module__ckz0XG__container__header",layout_mobile:"Modal-module__ckz0XG__layout_mobile",container_mobile:"Modal-module__ckz0XG__container_mobile",container__inner:"Modal-module__ckz0XG__container__inner",sharing:"Modal-module__ckz0XG__sharing",container__fade:"Modal-module__ckz0XG__container__fade",button:"Modal-module__ckz0XG__button",layout_noGutters:"Modal-module__ckz0XG__layout_noGutters",layout:"Modal-module__ckz0XG__layout",content__header:"Modal-module__ckz0XG__content__header",container__logoIcon:"Modal-module__ckz0XG__container__logoIcon",container_isFullScreenMode:"Modal-module__ckz0XG__container_isFullScreenMode",container__closeIcon:"Modal-module__ckz0XG__container__closeIcon",content__title:"Modal-module__ckz0XG__content__title",container:"Modal-module__ckz0XG__container",close:"Modal-module__ckz0XG__close",controls:"Modal-module__ckz0XG__controls",with_one_button:"Modal-module__ckz0XG__with_one_button"}},1833:function(e){e.exports={notice__button:"NotificationLayout-module__u0fV8q__notice__button",notice_fullWidth:"NotificationLayout-module__u0fV8q__notice_fullWidth",notice__close:"NotificationLayout-module__u0fV8q__notice__close",notice__icon:"NotificationLayout-module__u0fV8q__notice__icon",notice_info:"NotificationLayout-module__u0fV8q__notice_info",notice__content:"NotificationLayout-module__u0fV8q__notice__content",notice__title:"NotificationLayout-module__u0fV8q__notice__title",notice_isMobile:"NotificationLayout-module__u0fV8q__notice_isMobile",notice_error:"NotificationLayout-module__u0fV8q__notice_error",notice_success:"NotificationLayout-module__u0fV8q__notice_success",notice_warning:"NotificationLayout-module__u0fV8q__notice_warning","show-message":"NotificationLayout-module__u0fV8q__show-message",notice:"NotificationLayout-module__u0fV8q__notice"}},40766:function(e){e.exports={wrapper:"Notification-module__orymya__wrapper",container_isMobile:"Notification-module__orymya__container_isMobile",container:"Notification-module__orymya__container"}},4137:function(e){e.exports={icon:"OldButtonContent-module__OafpnW__icon",icon_secondIcon:"OldButtonContent-module__OafpnW__icon_secondIcon",subprice:"OldButtonContent-module__OafpnW__subprice",container:"OldButtonContent-module__OafpnW__container",secondIconContainer:"OldButtonContent-module__OafpnW__secondIconContainer",price_container:"OldButtonContent-module__OafpnW__price_container",secondarySubpriceContainer:"OldButtonContent-module__OafpnW__secondarySubpriceContainer",second_icon:"OldButtonContent-module__OafpnW__second_icon"}},18853:function(e){e.exports={button__price:"OldButton-module__De62ca__button__price",button__text:"OldButton-module__De62ca__button__text",button__href:"OldButton-module__De62ca__button__href",button__lightgray:"OldButton-module__De62ca__button__lightgray",button__purple:"OldButton-module__De62ca__button__purple",button__primary:"OldButton-module__De62ca__button__primary",button__green:"OldButton-module__De62ca__button__green",button__gray:"OldButton-module__De62ca__button__gray",button__disabled:"OldButton-module__De62ca__button__disabled",button__black:"OldButton-module__De62ca__button__black",button__orange:"OldButton-module__De62ca__button__orange",button__hover:"OldButton-module__De62ca__button__hover",button__subprice:"OldButton-module__De62ca__button__subprice",button__blue:"OldButton-module__De62ca__button__blue",button:"OldButton-module__De62ca__button"}},67397:function(e){e.exports={skeleton__anim_isInitial:"Skeleton-module__zSHR7a__skeleton__anim_isInitial",cover:"Skeleton-module__zSHR7a__cover",skeleton__bg:"Skeleton-module__zSHR7a__skeleton__bg",skeleton_last:"Skeleton-module__zSHR7a__skeleton_last",textBlock__content:"Skeleton-module__zSHR7a__textBlock__content",textBlock:"Skeleton-module__zSHR7a__textBlock",coverBlock:"Skeleton-module__zSHR7a__coverBlock",coverBlock__cover_square:"Skeleton-module__zSHR7a__coverBlock__cover_square",skeleton:"Skeleton-module__zSHR7a__skeleton",coverBlock__label:"Skeleton-module__zSHR7a__coverBlock__label",rounded:"Skeleton-module__zSHR7a__rounded",skeleton__anim:"Skeleton-module__zSHR7a__skeleton__anim",skeletonAnimation:"Skeleton-module__zSHR7a__skeletonAnimation",coverBlock__cover:"Skeleton-module__zSHR7a__coverBlock__cover",coverBlock__content:"Skeleton-module__zSHR7a__coverBlock__content",button:"Skeleton-module__zSHR7a__button",skeleton__rounded:"Skeleton-module__zSHR7a__skeleton__rounded",text:"Skeleton-module__zSHR7a__text",textBlock__title:"Skeleton-module__zSHR7a__textBlock__title"}},89347:function(){},42533:function(e){var t="/";!function(){"use strict";var r={815:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,o){n=n||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(n);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var d,p,f,h,m=e[c].replace(s,"%20"),g=m.indexOf(i);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),t(a,f)?r(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,a,s){return(o=o||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(i(e),function(i){var s=encodeURIComponent(t(i))+a;return r(e[i])?n(e[i],function(e){return s+encodeURIComponent(t(e))}).join(o):s+encodeURIComponent(t(e[i]))}).join(o):s?encodeURIComponent(t(s))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}},a=!0;try{r[e](o,o.exports,i),a=!1}finally{a&&delete n[e]}return o.exports}i.ab=t+"/";var o={};(function(){var e=o;e.decode=e.parse=i(815),e.encode=e.stringify=i(577)})(),e.exports=o}()},1178:function(e,t,r){e.exports=r(86845)},21138:function(e,t,r){e.exports=r(65149)},18030:function(e,t,r){e.exports=r(86355)},26249:function(e,t,r){e.exports=r(10583)},21535:function(e,t,r){e.exports=r(22204)},73656:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,d=-1;function p(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=s(p);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,u(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},84891:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),!(e in this._values)&&this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=512,u=new t(512),l=new t(s),c=new t(s);function d(e){return u.get(e)||u.set(e,p(e).map(function(e){return e.replace(a,"$2")}))}function p(e){return e.match(r)||[""]}function f(e,t,r){var n,i,o,a,s=e.length;for(i=0;i<s;i++)(n=e[i])&&(_(n)&&(n='"'+n+'"'),o=!(a=h(n))&&/^\d+$/.test(n),t.call(r,n,a,o,i,e))}function h(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function m(e){return e.match(i)&&!e.match(n)}function g(e){return o.test(e)}function _(e){return!h(e)&&(m(e)||g(e))}e.exports={Cache:t,split:p,normalizePath:d,setter:function(e){var t=d(e);return l.get(e)||l.set(e,function(e,r){for(var n=0,i=t.length,o=e;n<i-1;){var a=t[n];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;o=o[t[n++]]}o[t[n]]=r})},getter:function(e,t){var r=d(e);return c.get(e)||c.set(e,function(e){for(var n=0,i=r.length;n<i;){if(null==e&&t)return;e=e[r[n++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(h(t)||n.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,r){f(Array.isArray(e)?e:p(e),t,r)}}},50249:function(e,t,r){"use strict";let n=r(30309),i=r(65140),o=r(36897),a=r(22475),s=e=>null==e,u=Symbol("encodeFragmentIdentifier");function l(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[p(t,e),"[",i,"]"].join("")]:[...r,[p(t,e),"[",p(i,e),"]=",p(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[p(t,e),"[]"].join("")]:[...r,[p(t,e),"[]=",p(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[p(r,e),t,p(i,e)].join("")]:[[n,p(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,p(t,e)]:[...r,[p(t,e),"=",p(n,e)].join("")]}}function c(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&f(r,e).includes(e.arrayFormatSeparator);r=o?f(r,e):r;let a=i||o?r.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===r?r:f(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?f(r,e):r;return}let o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>f(t,e));if(void 0===n[t]){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}function d(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function p(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function h(e){return Array.isArray(e)?e.sort():"object"==typeof e?h(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function m(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function g(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}function _(e){let t=(e=m(e)).indexOf("?");return -1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function y(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=c(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:f(a,t),r(f(e,t),a,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=v(r[e],t);else n[e]=v(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=h(r):e[t]=r,e},Object.create(null))}t.extract=_,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&s(e[r])||t.skipEmptyString&&""===e[r],n=l(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{let i=e[r];return void 0===i?"":null===i?p(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?p(r,t)+"[]":i.reduce(n(r),[]).join("&"):p(r,t)+"="+p(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(_(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:f(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[u]:!0},r);let n=m(e.url).split("?")[0]||"",i=t.extract(e.url),o=Object.assign(t.parse(i,{sort:!1}),e.query),a=t.stringify(o,r);a&&(a=`?${a}`);let s=g(e.url);return e.fragmentIdentifier&&(s=`#${r[u]?p(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${a}${s}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[u]:!1},n);let{url:i,query:o,fragmentIdentifier:s}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:a(o,r),fragmentIdentifier:s},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},89705:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}function r(e,r,n){var i=n&&n.stringify||t,o=1;if("object"==typeof e&&null!==e){var a=r.length+o;if(1===a)return e;var s=Array(a);s[0]=i(e);for(var u=1;u<a;u++)s[u]=i(r[u]);return s.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var c="",d=1-o,p=-1,f=e&&e.length||0,h=0;h<f;){if(37===e.charCodeAt(h)&&h+1<f){switch(p=p>-1?p:0,e.charCodeAt(h+1)){case 100:case 102:if(d>=l||null==r[d])break;p<h&&(c+=e.slice(p,h)),c+=Number(r[d]),p=h+2,h++;break;case 105:if(d>=l||null==r[d])break;p<h&&(c+=e.slice(p,h)),c+=Math.floor(Number(r[d])),p=h+2,h++;break;case 79:case 111:case 106:if(d>=l||void 0===r[d])break;p<h&&(c+=e.slice(p,h));var m=typeof r[d];if("string"===m){c+="'"+r[d]+"'",p=h+2,h++;break}if("function"===m){c+=r[d].name||"<anonymous>",p=h+2,h++;break}c+=i(r[d]),p=h+2,h++;break;case 115:if(d>=l)break;p<h&&(c+=e.slice(p,h)),c+=String(r[d]),p=h+2,h++;break;case 37:p<h&&(c+=e.slice(p,h)),c+="%",p=h+2,h++,d--}++d}++h}return -1===p?e:(p<f&&(c+=e.slice(p)),c)}e.exports=r},35393:function(e,t,r){"use strict";r.d(t,{SV:function(){return a}});var n=r(44194);let i=(0,n.createContext)(null),o={didCatch:!1,error:null};class a extends n.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=o}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];null===(t=(r=this.props).onReset)||void 0===t||t.call(r,{args:i,reason:"imperative-api"}),this.setState(o)}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}componentDidUpdate(e,t){let{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&null!==t.error&&s(e.resetKeys,n)){var i,a;null===(i=(a=this.props).onReset)||void 0===i||i.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(o)}}render(){let{children:e,fallbackRender:t,FallbackComponent:r,fallback:o}=this.props,{didCatch:a,error:s}=this.state,u=e;if(a){let e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)u=t(e);else if(r)u=(0,n.createElement)(r,e);else if(null===o||(0,n.isValidElement)(o))u=o;else throw s}return(0,n.createElement)(i.Provider,{value:{didCatch:a,error:s,resetErrorBoundary:this.resetErrorBoundary}},u)}}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}},17792:function(e,t,r){e.exports=r(4631)},4631:function(e,t,r){"use strict";var n=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(r(44194)),i=r(56321);function o(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),o(e.prototype.constructor=e,t)}function u(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,r,n,i,o,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,o,a,s],c=0;(u=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}};function d(e,t,r){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=r;else{var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",r-t),n.select()}}function p(e){var t=0,r=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,r=e.selectionEnd;else{var n=document.selection.createRange();n.parentElement()===e&&(t=-n.moveStart("character",-e.value.length),r=-n.moveEnd("character",-e.value.length))}return{start:t,end:r,length:r-t}}var f={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},h="_";function m(e,t,r){var n="",i="",o=null,a=[];if(void 0===t&&(t=h),null==r&&(r=f),!e||"string"!=typeof e)return{maskChar:t,formatChars:r,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach(function(e){s=!s&&"\\"===e||(s||!r[e]?(a.push(n.length),n.length===a.length-1&&(i+=e)):o=n.length+1,n+=e,!1)}),{maskChar:t,formatChars:r,prefix:i,mask:n,lastEditablePosition:o,permanents:a}}function g(e,t){return -1!==e.permanents.indexOf(t)}function _(e,t,r){var n=e.mask,i=e.formatChars;return!!r&&(g(e,t)?n[t]===r:new RegExp(i[n[t]]).test(r))}function v(e,t){return t.split("").every(function(t,r){return g(e,r)||!_(e,r,t)})}function y(e,t){var r=e.maskChar,n=e.prefix;if(!r){for(;t.length>n.length&&g(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=n.length,o=t.length;o>=n.length;o--){var a=t[o];if(!g(e,o)&&_(e,o,a)){i=o+1;break}}return i}function b(e,t){return y(e,t)===e.mask.length}function x(e,t){var r=e.maskChar,n=e.mask,i=e.prefix;if(!r){for((t=w(e,"",t,0)).length<i.length&&(t=i);t.length<n.length&&g(e,t.length);)t+=n[t.length];return t}if(t)return w(e,x(e,""),t,0);for(var o=0;o<n.length;o++)g(e,o)?t+=n[o]:t+=r;return t}function S(e,t,r,n){var i=r+n,o=e.maskChar,a=e.mask,s=e.prefix,u=t.split("");if(o)return u.map(function(t,n){return n<r||i<=n?t:g(e,n)?a[n]:o}).join("");for(var l=i;l<u.length;l++)g(e,l)&&(u[l]="");return r=Math.max(s.length,r),u.splice(r,i-r),x(e,t=u.join(""))}function w(e,t,r,n){var i=e.mask,o=e.maskChar,a=e.prefix,s=r.split(""),u=b(e,t);return!o&&n>t.length&&(t+=i.slice(t.length,n)),s.every(function(r){for(var s,l,c,d;d=r,g(e,c=n)&&d!==i[c];){if(n>=t.length&&(t+=i[n]),s=r,l=n,o&&g(e,l)&&s===o)return!0;if(++n>=i.length)return!1}return!_(e,n,r)&&r!==o||(n<t.length?t=o||u||n<a.length?t.slice(0,n)+r+t.slice(n+1):x(e,t=t.slice(0,n)+r+t.slice(n)):o||(t+=r),++n<i.length)}),t}function k(e,t,r,n){var i=e.mask,o=e.maskChar,a=r.split(""),s=n;return a.every(function(t){for(var r,a;a=t,g(e,r=n)&&a!==i[r];)if(++n>=i.length)return!1;return(_(e,n,t)||t===o)&&n++,n<i.length}),n-s}function E(e,t){for(var r=t;0<=r;--r)if(!g(e,r))return r;return null}function C(e,t){for(var r=e.mask,n=t;n<r.length;++n)if(!g(e,n))return n;return null}function T(e){return e||0===e?e+"":""}function j(e,t,r,n,i){var o=e.mask,a=e.prefix,s=e.lastEditablePosition,u=t,l="",c=0,d=0,p=Math.min(i.start,r.start);return r.end>i.start?d=(c=k(e,n,l=u.slice(i.start,r.end),p))?i.length:0:u.length<n.length&&(d=n.length-u.length),u=n,d&&(1!==d||i.length||(p=i.start===r.start?C(e,r.start):E(e,r.start)),u=S(e,u,p,d)),u=w(e,u,l,p),(p+=c)>=o.length?p=o.length:p<a.length&&!c?p=a.length:p>=a.length&&p<s&&c&&(p=C(e,p)),l||(l=null),{value:u=x(e,u),enteredString:l,selection:{start:p,end:p}}}function A(){var e=/windows/i,t=/phone/i,r=navigator.userAgent;return e.test(r)&&t.test(r)}function R(e){return"function"==typeof e}function O(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function P(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function L(e){return(P()?O():function(){return setTimeout(e,1e3/60)})(e)}function I(e){(P()||clearTimeout)(e)}var N=function(e){function t(t){var r=e.call(this,t)||this;r.focused=!1,r.mounted=!1,r.previousSelection=null,r.selectionDeferId=null,r.saveSelectionLoopDeferId=null,r.saveSelectionLoop=function(){r.previousSelection=r.getSelection(),r.saveSelectionLoopDeferId=L(r.saveSelectionLoop)},r.runSaveSelectionLoop=function(){null===r.saveSelectionLoopDeferId&&r.saveSelectionLoop()},r.stopSaveSelectionLoop=function(){null!==r.saveSelectionLoopDeferId&&(I(r.saveSelectionLoopDeferId),r.saveSelectionLoopDeferId=null,r.previousSelection=null)},r.getInputDOMNode=function(){if(!r.mounted)return null;var e=i.findDOMNode(l(l(r))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw Error("react-input-mask: inputComponent doesn't contain input node");return e},r.getInputValue=function(){var e=r.getInputDOMNode();return e?e.value:null},r.setInputValue=function(e){var t=r.getInputDOMNode();t&&(r.value=e,t.value=e)},r.setCursorToEnd=function(){var e=y(r.maskOptions,r.value),t=C(r.maskOptions,e);null!==t&&r.setCursorPosition(t)},r.setSelection=function(e,t,n){void 0===n&&(n={});var i=r.getInputDOMNode(),o=r.isFocused();i&&o&&(n.deferred||d(i,e,t),null!==r.selectionDeferId&&I(r.selectionDeferId),r.selectionDeferId=L(function(){r.selectionDeferId=null,d(i,e,t)}),r.previousSelection={start:e,end:t,length:Math.abs(t-e)})},r.getSelection=function(){return p(r.getInputDOMNode())},r.getCursorPosition=function(){return r.getSelection().start},r.setCursorPosition=function(e){r.setSelection(e,e)},r.isFocused=function(){return r.focused},r.getBeforeMaskedValueChangeConfig=function(){var e=r.maskOptions,t=e.mask,n=e.maskChar,i=e.permanents,o=e.formatChars;return{mask:t,maskChar:n,permanents:i,alwaysShowMask:!!r.props.alwaysShowMask,formatChars:o}},r.isInputAutofilled=function(e,t,n,i){var o=r.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(e){}return!r.focused||i.end<n.length&&t.end===e.length},r.onChange=function(e){var t=l(l(r)).beforePasteState,n=l(l(r)).previousSelection,i=r.props.beforeMaskedValueChange,o=r.getInputValue(),a=r.value,s=r.getSelection();r.isInputAutofilled(o,s,a,n)&&(a=x(r.maskOptions,""),n={start:0,end:0,length:0}),t&&(n=t.selection,a=t.value,s={start:n.start+o.length,end:n.start+o.length,length:0},o=a.slice(0,n.start)+o+a.slice(n.end),r.beforePasteState=null);var u=j(r.maskOptions,o,s,a,n),c=u.enteredString,d=u.selection,p=u.value;if(R(i)){var f=i({value:p,selection:d},{value:a,selection:n},c,r.getBeforeMaskedValueChangeConfig());p=f.value,d=f.selection}r.setInputValue(p),R(r.props.onChange)&&r.props.onChange(e),r.isWindowsPhoneBrowser?r.setSelection(d.start,d.end,{deferred:!0}):r.setSelection(d.start,d.end)},r.onFocus=function(e){var t=r.props.beforeMaskedValueChange,n=r.maskOptions,i=n.mask,o=n.prefix;if(r.focused=!0,r.mounted=!0,i){if(r.value)y(r.maskOptions,r.value)<r.maskOptions.mask.length&&r.setCursorToEnd();else{var a=x(r.maskOptions,o),s=x(r.maskOptions,a),u=y(r.maskOptions,s),l=C(r.maskOptions,u),c={start:l,end:l};if(R(t)){var d=t({value:s,selection:c},{value:r.value,selection:null},null,r.getBeforeMaskedValueChangeConfig());s=d.value,c=d.selection}var p=s!==r.getInputValue();p&&r.setInputValue(s),p&&R(r.props.onChange)&&r.props.onChange(e),r.setSelection(c.start,c.end)}r.runSaveSelectionLoop()}R(r.props.onFocus)&&r.props.onFocus(e)},r.onBlur=function(e){var t=r.props.beforeMaskedValueChange,n=r.maskOptions.mask;if(r.stopSaveSelectionLoop(),r.focused=!1,n&&!r.props.alwaysShowMask&&v(r.maskOptions,r.value)){var i="";R(t)&&(i=t({value:i,selection:null},{value:r.value,selection:r.previousSelection},null,r.getBeforeMaskedValueChangeConfig()).value);var o=i!==r.getInputValue();o&&r.setInputValue(i),o&&R(r.props.onChange)&&r.props.onChange(e)}R(r.props.onBlur)&&r.props.onBlur(e)},r.onMouseDown=function(e){if(!r.focused&&document.addEventListener){r.mouseDownX=e.clientX,r.mouseDownY=e.clientY,r.mouseDownTime=(new Date).getTime();var t=function e(t){if(document.removeEventListener("mouseup",e),r.focused){var n=Math.max(Math.abs(t.clientX-r.mouseDownX),Math.abs(t.clientY-r.mouseDownY)),i=(new Date).getTime()-r.mouseDownTime;(n<=10&&i<=200||n<=5&&i<=300)&&r.setCursorToEnd()}};document.addEventListener("mouseup",t)}R(r.props.onMouseDown)&&r.props.onMouseDown(e)},r.onPaste=function(e){R(r.props.onPaste)&&r.props.onPaste(e),e.defaultPrevented||(r.beforePasteState={value:r.getInputValue(),selection:r.getSelection()},r.setInputValue(""))},r.handleRef=function(e){null==r.props.children&&R(r.props.inputRef)&&r.props.inputRef(e)};var n=t.mask,o=t.maskChar,a=t.formatChars,s=t.alwaysShowMask,u=t.beforeMaskedValueChange,c=t.defaultValue,f=t.value;r.maskOptions=m(n,o,a),null==c&&(c=""),null==f&&(f=c);var h=T(f);if(r.maskOptions.mask&&(s||h)&&(h=x(r.maskOptions,h),R(u))){var g=t.value;null==t.value&&(g=c),h=u({value:h,selection:null},{value:g=T(g),selection:null},null,r.getBeforeMaskedValueChangeConfig()).value}return r.value=h,r}s(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=A(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},r.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,r=t.beforeMaskedValueChange,n=t.alwaysShowMask,i=t.mask,o=t.maskChar,a=t.formatChars,s=this.maskOptions,u=n||this.isFocused(),l=null!=this.props.value,c=l?T(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=m(i,o,a),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||l||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||u))&&(c=x(this.maskOptions,c)),p){var f=y(this.maskOptions,c);(null===d||f<d)&&(d=b(this.maskOptions,c)?f:C(this.maskOptions,f))}!this.maskOptions.mask||!v(this.maskOptions,c)||u||l&&this.props.value||(c="");var h={start:d,end:d};if(R(r)){var g=r({value:c,selection:h},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=g.value,h=g.selection}this.value=c;var _=this.getInputValue()!==this.value;_?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var S=!1;null!=h.start&&null!=h.end&&(S=!e||e.start!==h.start||e.end!==h.end),(S||_)&&this.setSelection(h.start,h.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},r.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&I(this.selectionDeferId),this.stopSaveSelectionLoop()},r.render=function(){var e,t=this.props,r=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),i=u(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(r){R(r)||c(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=a({},i);o.forEach(function(e){return delete s[e]}),e=r(s),o.filter(function(t){return null!=e.props[t]&&e.props[t]!==i[t]}).length&&c(!1)}else e=n.createElement("input",a({ref:this.handleRef},i));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(i.disabled||i.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=i.value&&(l.value=this.value)),e=n.cloneElement(e,l)},t}(n.Component);e.exports=N},62369:function(e,t){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case a:case p:case f:return e;default:switch(e=e&&e.$$typeof){case c:case l:case d:case m:case h:case u:return e;default:return t}}case i:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=u,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.SuspenseList=f,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isSuspenseList=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===a||e===p||e===f||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=_},87101:function(e,t,r){"use strict";e.exports=r(62369)},88854:function(e,t,r){"use strict";let n=0,i=1,o=2,a=3,s=4,u=5,l=6;function c(e){return p.hasOwnProperty(e)?p[e]:null}function d(e,t,r,n,i,u,l){this.acceptsBooleans=t===o||t===a||t===s,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=l}let p={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{p[e]=new d(e,n,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{p[e]=new d(e,i,!1,t,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{p[e]=new d(e,o,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{p[e]=new d(e,o,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{p[e]=new d(e,a,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{p[e]=new d(e,a,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{p[e]=new d(e,s,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{p[e]=new d(e,l,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{p[e]=new d(e,u,!1,e.toLowerCase(),null,!1,!1)});let f=/[\-\:]([a-z])/g,h=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{let t=e.replace(f,h);p[t]=new d(t,i,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{let t=e.replace(f,h);p[t]=new d(t,i,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{let t=e.replace(f,h);p[t]=new d(t,i,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{p[e]=new d(e,i,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new d("xlinkHref",i,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{p[e]=new d(e,i,!1,e.toLowerCase(),null,!0,!0)});let{CAMELCASE:m,SAME:g,possibleStandardNames:_}=r(75666),v=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",y=RegExp.prototype.test.bind(RegExp("^(data|aria)-["+v+"]*$")),b=Object.keys(_).reduce((e,t)=>{let r=_[t];return r===g?e[t]=t:r===m?e[t.toLowerCase()]=t:e[t]=r,e},{});t.BOOLEAN=a,t.BOOLEANISH_STRING=o,t.NUMERIC=u,t.OVERLOADED_BOOLEAN=s,t.POSITIVE_NUMERIC=l,t.RESERVED=n,t.STRING=i,t.getPropertyInfo=c,t.isCustomAttribute=y,t.possibleStandardNames=b},75666:function(e,t){var r=0;t.SAME=r;var n=1;t.CAMELCASE=n,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},91270:function(e,t,r){"use strict";r.r(t),r.d(t,{Provider:function(){return ee},ReactReduxContext:function(){return p},batch:function(){return o.unstable_batchedUpdates},connect:function(){return Y},createDispatchHook:function(){return en},createSelectorHook:function(){return y},createStoreHook:function(){return et},shallowEqual:function(){return W},useDispatch:function(){return ei},useSelector:function(){return b},useStore:function(){return er}});var n=r(38645),i=r(81136),o=r(56321);let a=function(e){e()},s=e=>a=e,u=()=>a;var l=r(44194);let c=Symbol.for("react-redux-context"),d="undefined"!=typeof globalThis?globalThis:{},p=function(){var e;if(!l.createContext)return{};let t=null!=(e=d[c])?e:d[c]=new Map,r=t.get(l.createContext);return r||(r=l.createContext(null),t.set(l.createContext,r)),r}();function f(e=p){return function(){return(0,l.useContext)(e)}}let h=f(),m=()=>{throw Error("uSES not initialized!")},g=m,_=e=>{g=e},v=(e,t)=>e===t;function y(e=p){let t=e===p?h:f(e);return function(e,r={}){let{equalityFn:n=v,stabilityCheck:i,noopCheck:o}="function"==typeof r?{equalityFn:r}:r,{store:a,subscription:s,getServerState:u,stabilityCheck:c,noopCheck:d}=t();(0,l.useRef)(!0);let p=(0,l.useCallback)({[e.name]:t=>e(t)}[e.name],[e,c,i]),f=g(s.addNestedSub,a.getState,u||a.getState,p,n);return(0,l.useDebugValue)(f),f}}let b=y();var x=r(95051),S=r(48900),w=r(10063),k=r.n(w),E=r(87101);let C=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function T(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s,u,l,c,d,p=!1;function f(i,o){return l=e(s=i,u=o),c=t(n,u),d=r(l,c,u),p=!0,d}function h(){return l=e(s,u),t.dependsOnOwnProps&&(c=t(n,u)),d=r(l,c,u)}function m(){return e.dependsOnOwnProps&&(l=e(s,u)),t.dependsOnOwnProps&&(c=t(n,u)),d=r(l,c,u)}function g(){let t=e(s,u),n=!a(t,l);return l=t,n&&(d=r(l,c,u)),d}function _(e,t){let r=!o(t,u),n=!i(e,s,t,u);return(s=e,u=t,r&&n)?h():r?m():n?g():d}return function(e,t){return p?_(e,t):f(e,t)}}function j(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=t,o=(0,S.Z)(t,C),a=r(e,o);return T(a,n(e,o),i(e,o),e,o)}function A(e,t){let r={};for(let n in e){let i=e[n];"function"==typeof i&&(r[n]=(...e)=>t(i(...e)))}return r}function R(e){return function(t){let r=e(t);function n(){return r}return n.dependsOnOwnProps=!1,n}}function O(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function P(e,t){return function(t,{displayName:r}){let n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e,void 0)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=O(e);let i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=O(i),i=n(t,r)),i},n}}function L(e,t){return(r,n)=>{throw Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function I(e){return e&&"object"==typeof e?R(t=>A(e,t)):e?"function"==typeof e?P(e,"mapDispatchToProps"):L(e,"mapDispatchToProps"):R(e=>({dispatch:e}))}function N(e){return e?"function"==typeof e?P(e,"mapStateToProps"):L(e,"mapStateToProps"):R(()=>({}))}function F(e,t,r){return(0,x.Z)({},r,e,t)}function D(e){return function(t,{displayName:r,areMergedPropsEqual:n}){let i,o=!1;return function(t,r,a){let s=e(t,r,a);return o?n(s,i)||(i=s):(o=!0,i=s),i}}}function M(e){return e?"function"==typeof e?D(e):L(e,"mergeProps"):()=>F}function U(){let e=u(),t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}let q={notify(){},get:()=>[]};function B(e,t){let r;let n=q,i=0,o=!1;function a(){l.onStateChange&&l.onStateChange()}function s(){i++,r||(r=t?t.addNestedSub(a):e.subscribe(a),n=U())}function u(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=q)}let l={addNestedSub:function(e){s();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),u())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>n};return l}let z="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;function G(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function W(e,t){if(G(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!G(e[r[n]],t[r[n]]))return!1;return!0}let $=["reactReduxForwardedRef"],H=m,V=e=>{H=e},Z=[null,null];function K(e,t,r){z(()=>e(...t),r)}function J(e,t,r,n,i,o){e.current=n,r.current=!1,i.current&&(i.current=null,o())}function Q(e,t,r,n,i,o,a,s,u,l,c){if(!e)return()=>{};let d=!1,p=null,f=()=>{let e,r;if(d||!s.current)return;let f=t.getState();try{e=n(f,i.current)}catch(e){r=e,p=e}r||(p=null),e===o.current?a.current||l():(o.current=e,u.current=e,a.current=!0,c())};return r.onStateChange=f,r.trySubscribe(),f(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function X(e,t){return e===t}var Y=function(e,t,r,{pure:n,areStatesEqual:i=X,areOwnPropsEqual:o=W,areStatePropsEqual:a=W,areMergedPropsEqual:s=W,forwardRef:u=!1,context:c=p}={}){let d=c,f=N(e),h=I(t),m=M(r),g=!!e;return e=>{let t=e.displayName||e.name||"Component",r=`Connect(${t})`,n={shouldHandleStateChanges:g,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function c(t){let r;let[i,o,a]=l.useMemo(()=>{let{reactReduxForwardedRef:e}=t,r=(0,S.Z)(t,$);return[t.context,e,r]},[t]),s=l.useMemo(()=>i&&i.Consumer&&(0,E.isContextConsumer)(l.createElement(i.Consumer,null))?i:d,[i,d]),u=l.useContext(s),c=!!t.store&&!!t.store.getState&&!!t.store.dispatch,p=!!u&&!!u.store,f=c?t.store:u.store,h=p?u.getServerState:f.getState,m=l.useMemo(()=>j(f.dispatch,n),[f]),[_,v]=l.useMemo(()=>{if(!g)return Z;let e=B(f,c?void 0:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[f,c,u]),y=l.useMemo(()=>c?u:(0,x.Z)({},u,{subscription:_}),[c,u,_]),b=l.useRef(),w=l.useRef(a),k=l.useRef(),C=l.useRef(!1);l.useRef(!1);let T=l.useRef(!1),A=l.useRef();z(()=>(T.current=!0,()=>{T.current=!1}),[]);let R=l.useMemo(()=>()=>k.current&&a===w.current?k.current:m(f.getState(),a),[f,a]),O=l.useMemo(()=>e=>_?Q(g,f,_,m,w,b,C,T,k,v,e):()=>{},[_]);K(J,[w,b,C,a,k,v]);try{r=H(O,R,h?()=>m(h(),a):R)}catch(e){throw A.current&&(e.message+=`
The error may be correlated with this previous error:
${A.current.stack}

`),e}z(()=>{A.current=void 0,k.current=void 0,b.current=r});let P=l.useMemo(()=>l.createElement(e,(0,x.Z)({},r,{ref:o})),[o,e,r]);return l.useMemo(()=>g?l.createElement(s.Provider,{value:y},P):P,[s,P,y])}let p=l.memo(c);if(p.WrappedComponent=e,p.displayName=c.displayName=r,u){let t=l.forwardRef(function(e,t){return l.createElement(p,(0,x.Z)({},e,{reactReduxForwardedRef:t}))});return t.displayName=r,t.WrappedComponent=e,k()(t,e)}return k()(p,e)}},ee=function({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){let a=l.useMemo(()=>{let t=B(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[e,n,i,o]),s=l.useMemo(()=>e.getState(),[e]);z(()=>{let{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),s!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[a,s]);let u=t||p;return l.createElement(u.Provider,{value:a},r)};function et(e=p){let t=e===p?h:f(e);return function(){let{store:e}=t();return e}}let er=et();function en(e=p){let t=e===p?er:et(e);return function(){return t().dispatch}}let ei=en();_(i.useSyncExternalStoreWithSelector),V(n.useSyncExternalStore),s(o.unstable_batchedUpdates)},3995:function(e,t,r){"use strict";r.d(t,{Z:function(){return eo}});var n,i=r(92336),o=r(44194),a="right-scroll-bar-position",s="width-before-scroll-bar",u="with-scroll-bars-hidden",l="--removed-body-scroll-bar-size",c=r(6279);function d(e){return e}function p(e,t){void 0===t&&(t=d);var r=[],n=!1;return{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),r={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),r}}}}}var f=function(e){void 0===e&&(e={});var t=p(null);return t.options=(0,i.pi)({async:!0,ssr:!1},e),t}(),h=function(){},m=o.forwardRef(function(e,t){var r=o.useRef(null),n=o.useState({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:h}),a=n[0],s=n[1],u=e.forwardProps,l=e.children,d=e.className,p=e.removeScrollBar,m=e.enabled,g=e.shards,_=e.sideCar,v=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,S=void 0===x?"div":x,w=e.gapMode,k=(0,i._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=_,C=(0,c.q)([r,t]),T=(0,i.pi)((0,i.pi)({},k),a);return o.createElement(o.Fragment,null,m&&o.createElement(E,{sideCar:f,removeScrollBar:p,shards:g,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:w}),u?o.cloneElement(o.Children.only(l),(0,i.pi)((0,i.pi)({},T),{ref:C})):o.createElement(S,(0,i.pi)({},T,{className:d,ref:C}),l))});m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},m.classNames={fullWidth:s,zeroRight:a};var g=function(e){var t=e.sideCar,r=(0,i._T)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return o.createElement(n,(0,i.pi)({},r))};function _(e,t){return e.useMedium(t),g}g.isSideCarExport=!0;var v=function(){return n||r.nc};function y(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v();return t&&e.setAttribute("nonce",t),e}function b(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function x(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}var S=function(){var e=0,t=null;return{add:function(r){0==e&&(t=y())&&(b(t,r),x(t)),e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w=function(){var e=S();return function(t,r){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},k=function(){var e=w();return function(t){return e(t.styles,t.dynamic),null}},E={left:0,top:0,right:0,gap:0},C=function(e){return parseInt(e||"",10)||0},T=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[C(r),C(n),C(i)]},j=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return E;var t=T(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},A=k(),R="data-scroll-locked",O=function(e,t,r,n){var i=e.left,o=e.top,c=e.right,d=e.gap;return void 0===r&&(r="margin"),"\n  .".concat(u," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(d,"px ").concat(n,";\n  }\n  body[").concat(R,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(c,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(d,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(a," {\n    right: ").concat(d,"px ").concat(n,";\n  }\n  \n  .").concat(s," {\n    margin-right: ").concat(d,"px ").concat(n,";\n  }\n  \n  .").concat(a," .").concat(a," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(s," .").concat(s," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(R,"] {\n    ").concat(l,": ").concat(d,"px;\n  }\n")},P=function(){var e=parseInt(document.body.getAttribute(R)||"0",10);return isFinite(e)?e:0},L=function(){o.useEffect(function(){return document.body.setAttribute(R,(P()+1).toString()),function(){var e=P()-1;e<=0?document.body.removeAttribute(R):document.body.setAttribute(R,e.toString())}},[])},I=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;L();var a=o.useMemo(function(){return j(i)},[i]);return o.createElement(A,{styles:O(a,!t,i,r?"":"!important")})},N=!1;if("undefined"!=typeof window)try{var F=Object.defineProperty({},"passive",{get:function(){return N=!0,!0}});window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch(e){N=!1}var D=!!N&&{passive:!1},M=function(e){return"TEXTAREA"===e.tagName},U=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!M(e)&&"visible"===r[t])},q=function(e){return U(e,"overflowY")},B=function(e){return U(e,"overflowX")},z=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),$(e,n)){var i=H(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},G=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},W=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},$=function(e,t){return"v"===e?q(t):B(t)},H=function(e,t){return"v"===e?G(t):W(t)},V=function(e,t){return"h"===e&&"rtl"===t?-1:1},Z=function(e,t,r,n,i){var o=V(e,window.getComputedStyle(t).direction),a=o*n,s=r.target,u=t.contains(s),l=!1,c=a>0,d=0,p=0;do{var f=H(e,s),h=f[0],m=f[1]-f[2]-o*h;(h||m)&&$(e,s)&&(d+=m,p+=h),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return c&&(i&&1>Math.abs(d)||!i&&a>d)?l=!0:!c&&(i&&1>Math.abs(p)||!i&&-a>p)&&(l=!0),l},K=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},J=function(e){return[e.deltaX,e.deltaY]},Q=function(e){return e&&"current"in e?e.current:e},X=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Y=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ee=0,et=[];function er(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var en=_(f,function(e){var t=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),a=o.useState(ee++)[0],s=o.useState(k)[0],u=o.useRef(e);o.useEffect(function(){u.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(0,i.ev)([e.lockRef.current],(e.shards||[]).map(Q),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!u.current.allowPinchZoom;var i,o=K(e),a=r.current,s="deltaX"in e?e.deltaX:a[0]-o[0],l="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(s)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var p=z(d,c);if(!p)return!0;if(p?i=d:(i="v"===d?"h":"v",p=z(d,c)),!p)return!1;if(!n.current&&"changedTouches"in e&&(s||l)&&(n.current=i),!i)return!0;var f=n.current||i;return Z(f,t,e,"h"===f?s:l,!0)},[]),c=o.useCallback(function(e){var r=e;if(et.length&&et[et.length-1]===s){var n="deltaY"in r?J(r):K(r),i=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&X(e.delta,n)})[0];if(i&&i.should){r.cancelable&&r.preventDefault();return}if(!i){var o=(u.current.shards||[]).map(Q).filter(Boolean).filter(function(e){return e.contains(r.target)});(o.length>0?l(r,o[0]):!u.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),d=o.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:er(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),p=o.useCallback(function(e){r.current=K(e),n.current=void 0},[]),f=o.useCallback(function(t){d(t.type,J(t),t.target,l(t,e.lockRef.current))},[]),h=o.useCallback(function(t){d(t.type,K(t),t.target,l(t,e.lockRef.current))},[]);o.useEffect(function(){return et.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,D),document.addEventListener("touchmove",c,D),document.addEventListener("touchstart",p,D),function(){et=et.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,D),document.removeEventListener("touchmove",c,D),document.removeEventListener("touchstart",p,D)}},[]);var m=e.removeScrollBar,g=e.inert;return o.createElement(o.Fragment,null,g?o.createElement(s,{styles:Y(a)}):null,m?o.createElement(I,{gapMode:e.gapMode}):null)}),ei=o.forwardRef(function(e,t){return o.createElement(m,(0,i.pi)({},e,{ref:t,sideCar:en}))});ei.classNames=m.classNames;var eo=ei},41432:function(e,t,r){"use strict";r.d(t,{Z:function(){return T}});var n=r(95051),i=r(48900);function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function s(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function u(e,t){e.classList?e.classList.add(t):s(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function l(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function c(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=l(e.className,t):e.setAttribute("class",l(e.className&&e.className.baseVal||"",t))}var d=r(44194),p=r(56321),f={disabled:!1},h=d.createContext(null),m=function(e){return e.scrollTop},g="unmounted",_="exited",v="entering",y="entered",b="exiting",x=function(e){function t(t,r){n=e.call(this,t,r)||this;var n,i,o=r,a=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i=_,n.appearStatus=v):i=y:i=t.unmountOnExit||t.mountOnEnter?g:_,n.state={status:i},n.nextCallback=null,n}a(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===g?{status:_}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==v&&r!==y&&(t=v):(r===v||r===y)&&(t=b)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this);r&&m(r)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===_&&this.setState({status:g})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[p.findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),u=n?s.appear:s.enter;if(!e&&!r||f.disabled){this.safeSetState({status:y},function(){t.props.onEntered(o)});return}this.props.onEnter(o,a),this.safeSetState({status:v},function(){t.props.onEntering(o,a),t.onTransitionEnd(u,function(){t.safeSetState({status:y},function(){t.props.onEntered(o,a)})})})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:p.findDOMNode(this);if(!t||f.disabled){this.safeSetState({status:_},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:b},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:_},function(){e.props.onExited(n)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===g)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return d.createElement(h.Provider,{value:null},"function"==typeof r?r(e,n):d.cloneElement(d.Children.only(r),n))},t}(d.Component);function S(){}x.contextType=h,x.propTypes={},x.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S,onEntering:S,onEntered:S,onExit:S,onExiting:S,onExited:S},x.UNMOUNTED=g,x.EXITED=_,x.ENTERING=v,x.ENTERED=y,x.EXITING=b;var w=x,k=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return u(e,t)})},E=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return c(e,t)})},C=function(e){function t(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,i=n&&r?r+"-":"",o=n?""+i+e:r[e],a=n?o+"-active":r[e+"Active"],s=n?o+"-done":r[e+"Done"];return{baseClassName:o,activeClassName:a,doneClassName:s}},t}a(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(n+=" "+i),"active"===r&&e&&m(e),n&&(this.appliedClasses[t][r]=n,k(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,i=r.active,o=r.done;this.appliedClasses[t]={},n&&E(e,n),i&&E(e,i),o&&E(e,o)},r.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return d.createElement(w,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(d.Component);C.defaultProps={classNames:""},C.propTypes={};var T=C},72624:function(e,t,r){"use strict";r.d(t,{Kf:function(){return l},md:function(){return v},DE:function(){return g},UY:function(){return h},qC:function(){return _},MT:function(){return d},jB:function(){return p}});var n=r(25059);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(a(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(a(1));return r(d)(e,t)}if("function"!=typeof e)throw Error(a(2));var n,i=e,o=t,u=[],p=u,f=!1;function h(){p===u&&(p=u.slice())}function m(){if(f)throw Error(a(3));return o}function g(e){if("function"!=typeof e)throw Error(a(4));if(f)throw Error(a(5));var t=!0;return h(),p.push(e),function(){if(t){if(f)throw Error(a(6));t=!1,h();var r=p.indexOf(e);p.splice(r,1),u=null}}}function _(e){if(!c(e))throw Error(a(7));if(void 0===e.type)throw Error(a(8));if(f)throw Error(a(9));try{f=!0,o=i(o,e)}finally{f=!1}for(var t=u=p,r=0;r<t.length;r++)(0,t[r])();return e}function v(e){if("function"!=typeof e)throw Error(a(10));i=e,_({type:l.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(a(11));function r(){e.next&&e.next(m())}return r(),{unsubscribe:t(r)}}})[s]=function(){return this},e}return _({type:l.INIT}),(n={dispatch:_,subscribe:g,getState:m,replaceReducer:v})[s]=y,n}var p=d;function f(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:l.INIT}))throw Error(a(12));if(void 0===r(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw Error(a(13))})}function h(e){for(var t,r=Object.keys(e),n={},i=0;i<r.length;i++){var o=r[i];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n);try{f(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var i=!1,o={},u=0;u<s.length;u++){var l=s[u],c=n[l],d=e[l],p=c(d,r);if(void 0===p)throw r&&r.type,Error(a(14));o[l]=p,i=i||p!==d}return(i=i||s.length!==Object.keys(e).length)?o:e}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"==typeof e)return m(e,t);if("object"!=typeof e||null===e)throw Error(a(16));var r={};for(var n in e){var i=e[n];"function"==typeof i&&(r[n]=m(i,t))}return r}function _(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function v(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw Error(a(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=t.map(function(e){return e(i)});return n=_.apply(void 0,s)(r.dispatch),o(o({},r),{},{dispatch:n})}}}},59494:function(e,t,r){"use strict";r.d(t,{PW:function(){return u}});var n="NOT_FOUND";function i(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:n},put:function(e,r){t={key:e,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function o(e,t){var r=[];function i(e){var i=r.findIndex(function(r){return t(e,r.key)});if(i>-1){var o=r[i];return i>0&&(r.splice(i,1),r.unshift(o)),o.value}return n}function o(t,o){i(t)===n&&(r.unshift({key:t,value:o}),r.length>e&&r.pop())}return{get:i,put:o,getEntries:function(){return r},clear:function(){r=[]}}}var a=function(e,t){return e===t};function s(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}function u(e,t){var r="object"==typeof t?t:{equalityCheck:t},u=r.equalityCheck,l=void 0===u?a:u,c=r.maxSize,d=void 0===c?1:c,p=r.resultEqualityCheck,f=s(l),h=1===d?i(f):o(d,f);function m(){var t=h.get(arguments);if(t===n){if(t=e.apply(null,arguments),p){var r=h.getEntries().find(function(e){return p(e.value,t)});r&&(t=r.value)}h.put(arguments,t)}return t}return m.clearCache=function(){return h.clear()},m}},90432:function(e,t,r){"use strict";function n(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ")+"]");return t}r.d(t,{P1:function(){return i}});var i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=0,u={memoizeOptions:void 0},l=o.pop();if("object"==typeof l&&(u=l,l=o.pop()),"function"!=typeof l)throw Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=u.memoizeOptions,d=void 0===c?r:c,p=Array.isArray(d)?d:[d],f=n(o),h=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(p)),m=e(function(){for(var e=[],r=f.length,n=0;n<r;n++)e.push(f[n].apply(null,arguments));return t=h.apply(null,e)});return Object.assign(m,{resultFunc:l,memoizedResultFunc:h,dependencies:f,lastResult:function(){return t},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),m}}(r(59494).PW)},36897:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},30309:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},38853:function(e,t,r){"use strict";var n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(53637)),i=r(11357);function o(e,t){var r={};return e&&"string"==typeof e&&(0,n.default)(e,function(e,n){e&&n&&(r[(0,i.camelCase)(e,t)]=n)}),r}o.default=o,e.exports=o},11357:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e){return!e||i.test(e)||r.test(e)},u=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")},c=function(e,t){return(void 0===t&&(t={}),s(e))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(n,u))};t.camelCase=c},53637:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(r(74847));function o(e,t){var r=null;if(!e||"string"!=typeof e)return r;var n=(0,i.default)(e),o="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,i=e.value;o?t(n,i,e):i&&((r=r||{})[n]=i)}}),r}},3468:function(e){function t(e,t){var r=e.length,o=Array(r),a={},s=r,u=n(t),l=i(e);for(t.forEach(function(e){if(!l.has(e[0])||!l.has(e[1]))throw Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(e[s],s,new Set);return o;function c(e,t,n){if(n.has(e)){var i;try{i=", node was:"+JSON.stringify(e)}catch(e){i=""}throw Error("Cyclic dependency"+i)}if(!l.has(e))throw Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!a[t]){a[t]=!0;var s=u.get(e)||new Set;if(s=Array.from(s),t=s.length){n.add(e);do{var d=s[--t];c(d,l.get(d),n)}while(t);n.delete(e)}o[--r]=e}}}function r(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var i=e[r];t.add(i[0]),t.add(i[1])}return Array.from(t)}function n(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var i=e[r];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function i(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}e.exports=function(e){return t(r(e),e)},e.exports.array=t},6279:function(e,t,r){"use strict";r.d(t,{q:function(){return u}});var n=r(44194);function i(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}function o(e,t){var r=(0,n.useState)(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(value){var n=r.value;n!==value&&(r.value=value,r.callback(value,n))}}}})[0];return r.callback=t,r.facade}var a="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,s=new WeakMap;function u(e,t){var r=o(t||null,function(t){return e.forEach(function(e){return i(e,t)})});return a(function(){var t=s.get(r);if(t){var n=new Set(t),o=new Set(e),a=r.current;n.forEach(function(e){o.has(e)||i(e,null)}),o.forEach(function(e){n.has(e)||i(e,a)})}s.set(r,e)},[e]),r}},46277:function(e,t,r){var n=r(44194);e.exports=function(e,t,r){let i=n.useRef("loading"),o=n.useRef(),[a,s]=n.useState(0),u=n.useRef(),l=n.useRef(),c=n.useRef();return(u.current!==e||l.current!==t||c.current!==r)&&(i.current="loading",o.current=void 0,u.current=e,l.current=t,c.current=r),n.useLayoutEffect(function(){if(e){var n=document.createElement("img");return n.addEventListener("load",a),n.addEventListener("error",u),t&&(n.crossOrigin=t),r&&(n.referrerpolicy=r),n.src=e,function(){n.removeEventListener("load",a),n.removeEventListener("error",u)}}function a(){i.current="loaded",o.current=n,s(Math.random())}function u(){i.current="failed",o.current=void 0,s(Math.random())}},[e,t,r]),[o.current,i.current]}},14527:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(44194);function i(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var o="function"==typeof Object.is?Object.is:i,a=n.useState,s=n.useEffect,u=n.useLayoutEffect,l=n.useDebugValue;function c(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return u(function(){i.value=r,i.getSnapshot=t,d(i)&&o({inst:i})},[e,r,t]),s(function(){return d(i)&&o({inst:i}),e(function(){d(i)&&o({inst:i})})},[e]),l(r),r}function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}function p(e,t){return t()}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?p:c;t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:f},72744:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(44194),i=r(38645);function o(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var a="function"==typeof Object.is?Object.is:o,s=i.useSyncExternalStore,u=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=u(null);if(null===o.current){var p={hasValue:!1,value:null};o.current=p}else p=o.current;var f=s(e,(o=c(function(){function e(e){if(!u){if(u=!0,o=e,e=n(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,s=r)}var o,s,u=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,i]))[0],o[1]);return l(function(){p.hasValue=!0,p.value=f},[f]),d(f),f}},38645:function(e,t,r){"use strict";e.exports=r(14527)},81136:function(e,t,r){"use strict";e.exports=r(72744)},64009:function(e,t,r){"use strict";r.d(t,{kt:function(){return i},Nr:function(){return o},qR:function(){return a},h4:function(){return s},$0:function(){return u},OR:function(){return l},S1:function(){return c},O_:function(){return d},YZ:function(){return p},LI:function(){return f},iP:function(){return h}});var n=r(44194),i=function(e){let[t,r]=(0,n.useState)(!!e),i=(0,n.useCallback)(()=>r(!0),[]),o=(0,n.useCallback)(()=>r(!1),[]),a=(0,n.useCallback)(()=>r(e=>!e),[]);return{value:t,setValue:r,setTrue:i,setFalse:o,toggle:a}},o=function(e,t){let[r,i]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let r=setTimeout(()=>i(e),t||500);return()=>{clearTimeout(r)}},[e,t]),r},a=function(e){(0,n.useEffect)(e,[])},s=function(){let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)({width:0,height:0}),o=(0,n.useCallback)(()=>{i({width:(null==e?void 0:e.offsetWidth)||0,height:(null==e?void 0:e.offsetHeight)||0})},[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]);return l("resize",o),f(()=>{o()},[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]),[t,r]};function u(e){let t=(0,n.useRef)(()=>{throw Error("Cannot call an event handler while rendering.")});return f(()=>{t.current=e},[e]),(0,n.useCallback)((...e)=>t.current(...e),[t])}var l=function(e,t,r,i){let o=(0,n.useRef)(t);f(()=>{o.current=t},[t]),(0,n.useEffect)(()=>{var t;let n=null!==(t=null==r?void 0:r.current)&&void 0!==t?t:window;if(!(n&&n.addEventListener))return;let a=e=>o.current(e);return n.addEventListener(e,a,i),()=>{n.removeEventListener(e,a,i)}},[e,r,i])},c=function(e,{threshold:t=0,root:r=null,rootMargin:i="0%",freezeOnceVisible:o=!1}){let[a,s]=(0,n.useState)(),u=(null==a?void 0:a.isIntersecting)&&o,l=([e])=>{s(e)};return(0,n.useEffect)(()=>{let n=null==e?void 0:e.current;if(!window.IntersectionObserver||u||!n)return;let o=new IntersectionObserver(l,{threshold:t,root:r,rootMargin:i});return o.observe(n),()=>o.disconnect()},[null==e?void 0:e.current,JSON.stringify(t),r,i,u]),a},d=function(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),e},p=function(){let e=(0,n.useRef)(!0);return e.current?(e.current=!1,!0):e.current},f="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,h=function(){let[e,t]=(0,n.useState)({width:0,height:0}),r=()=>{t({width:window.innerWidth,height:window.innerHeight})};return l("resize",r),f(()=>{r()},[]),e}},11139:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n,i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var s=[],u=0;u<256;++u)s.push((u+256).toString(16).slice(1));function l(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var c=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return l(n)}},63229:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},7956:function(e,t,r){"use strict";r.d(t,{Z_:function(){return ee}});try{b=Map}catch(e){}try{x=Set}catch(e){}function n(e,t,r){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(i);if(b&&e instanceof b)return new Map(Array.from(e.entries()));if(x&&e instanceof x)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var o=Object.create(e);for(var a in r.push(o),e){var s=t.findIndex(function(t){return t===e[a]});o[a]=s>-1?r[s]:n(e[a],t,r)}return o}return e}function i(e){return n(e,[],[])}let o=Object.prototype.toString,a=Error.prototype.toString,s=RegExp.prototype.toString,u="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",l=/^Symbol\((.*)\)(.*)$/;function c(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function d(e,t=!1){if(null==e||!0===e||!1===e)return""+e;let r=typeof e;if("number"===r)return c(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return u.call(e).replace(l,"Symbol($1)");let n=o.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+a.call(e)+"]":"RegExp"===n?s.call(e):null}function p(e,t){let r=d(e,t);return null!==r?r:JSON.stringify(e,function(e,r){let n=d(this[e],t);return null!==n?n:r},2)}let f={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let i=null!=n&&n!==r,o=`${e} must be a \`${t}\` type, but the final value was: \`${p(r,!0)}\``+(i?` (cast from the value \`${p(n,!0)}\`).`:".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},h={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},m={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},g={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_={isValue:"${path} field must be ${value}"},v={noUnknown:"${path} field has unspecified keys: ${unknown}"},y={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must be have ${length} items"};Object.assign(Object.create(null),{mixed:f,string:h,number:m,date:g,object:v,array:y,boolean:_});var b,x,S=r(45346),w=r.n(S),k=e=>e&&e.__isYupSchema__;class E{constructor(e,t){if(this.refs=e,this.refs=e,"function"==typeof t){this.fn=t;return}if(!w()(t,"is"))throw TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:n,otherwise:i}=t,o="function"==typeof r?r:(...e)=>e.every(e=>e===r);this.fn=function(...e){let t=e.pop(),r=e.pop(),a=o(...e)?n:i;if(a)return"function"==typeof a?a(r):r.concat(a.resolve(t))}}resolve(e,t){let r=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),n=this.fn.apply(e,r.concat(e,t));if(void 0===n||n===e)return e;if(!k(n))throw TypeError("conditions must return a schema object");return n.resolve(t)}}var C=E;function T(e){return null==e?[]:[].concat(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let A=/\$\{\s*(\w+)\s*\}/g;class R extends Error{static formatError(e,t){let r=t.label||t.path||"this";return(r!==t.path&&(t=j({},t,{path:r})),"string"==typeof e)?e.replace(A,(e,r)=>p(t[r])):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,n){super(),this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],T(e).forEach(e=>{R.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,R)}}let O=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function P(e,t){let{endEarly:r,tests:n,args:i,value:o,errors:a,sort:s,path:u}=e,l=O(t),c=n.length,d=[];if(a=a||[],!c)return a.length?l(new R(a,o,u)):l(null,o);for(let e=0;e<n.length;e++)(0,n[e])(i,function(e){if(e){if(!R.isError(e))return l(e,o);if(r)return e.value=o,l(e,o);d.push(e)}if(--c<=0){if(d.length&&(s&&d.sort(s),a.length&&d.push(...a),a=d),a.length){l(new R(a,o,u),o);return}l(null,o)}})}var L=r(61230),I=r.n(L),N=r(84891);let F={context:"$",value:"."};class D{constructor(e,t={}){if("string"!=typeof e)throw TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw TypeError("ref must be a non-empty string");this.isContext=this.key[0]===F.context,this.isValue=this.key[0]===F.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?F.context:this.isValue?F.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,N.getter)(this.path,!0),this.map=t.map}getValue(e,t,r){let n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function q(e){function t(t,r){let n,{value:i,path:o="",label:a,options:s,originalValue:u,sync:l}=t,c=U(t,["value","path","label","options","originalValue","sync"]),{name:d,test:p,params:f,message:h}=e,{parent:m,context:g}=s;function _(e){return D.isRef(e)?e.getValue(i,m,g):e}function v(e={}){let t=I()(M({value:i,originalValue:u,label:a,path:e.path||o},f,e.params),_),r=new R(R.formatError(e.message||h,t),i,t.path,e.type||d);return r.params=t,r}let y=M({path:o,parent:m,type:d,createError:v,resolve:_,options:s,originalValue:u},c);if(!l){try{Promise.resolve(p.call(y,i,y)).then(e=>{R.isError(e)?r(e):e?r(null,e):r(v())})}catch(e){r(e)}return}try{var b;if(n=p.call(y,i,y),"function"==typeof(null==(b=n)?void 0:b.then))throw Error(`Validation test of type: "${y.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){r(e);return}R.isError(n)?r(n):n?r(null,n):r(v())}return t.OPTIONS=e,t}D.prototype.__isYupRef=!0;let B=e=>e.substr(0,e.length-1).substr(1);function z(e,t,r,n=r){let i,o,a;return t?((0,N.forEach)(t,(s,u,l)=>{let c=u?B(s):s;if((e=e.resolve({context:n,parent:i,value:r})).innerType){let n=l?parseInt(c,10):0;if(r&&n>=r.length)throw Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=r,r=r&&r[n],e=e.innerType}if(!l){if(!e.fields||!e.fields[c])throw Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);i=r,r=r&&r[c],e=e.fields[c]}o=c,a=u?"["+s+"]":"."+s}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class G{constructor(){this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){let e=[];for(let t of this.list)e.push(t);for(let[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}add(e){D.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){D.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}has(e,t){if(this.list.has(e))return!0;let r,n=this.refs.values();for(;!(r=n.next()).done;)if(t(r.value)===e)return!0;return!1}clone(){let e=new G;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){let r=this.clone();return e.list.forEach(e=>r.add(e)),e.refs.forEach(e=>r.add(e)),t.list.forEach(e=>r.delete(e)),t.refs.forEach(e=>r.delete(e)),r}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}class ${constructor(e){this.deps=[],this.conditions=[],this._whitelist=new G,this._blacklist=new G,this.exclusiveTests=Object.create(null),this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(f.notType)}),this.type=(null==e?void 0:e.type)||"mixed",this.spec=W({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;let t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=W({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=i(W({},this.spec,e)),t}label(e){var t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone(),n=W({},t.spec,r.spec);return r.spec=n,r._typeError||(r._typeError=t._typeError),r._whitelistError||(r._whitelistError=t._whitelistError),r._blacklistError||(r._blacklistError=t._blacklistError),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),r}isType(e){return!!this.spec.nullable&&null===e||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;(t=t.clone()).conditions=[],t=(t=r.reduce((t,r)=>r.resolve(t,e),t)).resolve(e)}return t}cast(e,t={}){let r=this.resolve(W({value:e},t)),n=r._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==r.isType(n)){let i=p(e),o=p(n);throw TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${i} 
`+(o!==i?`result of cast: ${o}`:""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce((t,r)=>r.call(this,t,e,this),e);return void 0===r&&(r=this.getDefault()),r}_validate(e,t={},r){let{sync:n,path:i,from:o=[],originalValue:a=e,strict:s=this.spec.strict,abortEarly:u=this.spec.abortEarly}=t,l=e;s||(l=this._cast(l,W({assert:!1},t)));let c={value:l,path:i,options:t,originalValue:a,schema:this,label:this.spec.label,sync:n,from:o},d=[];this._typeError&&d.push(this._typeError),this._whitelistError&&d.push(this._whitelistError),this._blacklistError&&d.push(this._blacklistError),P({args:c,value:l,path:i,sync:n,tests:d,endEarly:u},e=>{if(e)return void r(e,l);P({tests:this.tests,args:c,path:i,sync:n,value:l,endEarly:u},r)})}validate(e,t,r){let n=this.resolve(W({},t,{value:e}));return"function"==typeof r?n._validate(e,t,r):new Promise((r,i)=>n._validate(e,t,(e,t)=>{e?i(e):r(t)}))}validateSync(e,t){let r;return this.resolve(W({},t,{value:e}))._validate(e,W({},t,{sync:!0}),(e,t)=>{if(e)throw e;r=t}),r}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(R.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(R.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):i(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return 0==arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){var t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=f.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=f.required){return this.clone({presence:"required"}).withMutation(t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}}))}notRequired(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){var t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(void 0===(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]}).message&&(t.message=f.default),"function"!=typeof t.test)throw TypeError("`test` is a required parameters");let r=this.clone(),n=q(t),i=t.exclusive||t.name&&!0===r.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(e=>e.OPTIONS.name!==t.name||!i&&e.OPTIONS.test!==n.OPTIONS.test),r.tests.push(n),r}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let r=this.clone(),n=T(e).map(e=>new D(e));return n.forEach(e=>{e.isSibling&&r.deps.push(e.key)}),r.conditions.push(new C(n,t)),r}typeError(e){var t=this.clone();return t._typeError=q({message:e,name:"typeError",test(e){return!!(void 0===e||this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=f.oneOf){var r=this.clone();return e.forEach(e=>{r._whitelist.add(e),r._blacklist.delete(e)}),r._whitelistError=q({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist;return!!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),r}notOneOf(e,t=f.notOneOf){var r=this.clone();return e.forEach(e=>{r._blacklist.add(e),r._whitelist.delete(e)}),r._blacklistError=q({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist;return!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){let e=this.clone(),{label:t,meta:r}=e.spec;return{meta:r,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(e=>({name:e.OPTIONS.name,params:e.OPTIONS.params})).filter((e,t,r)=>r.findIndex(t=>t.name===e.name)===t)}}}for(let e of($.prototype.__isYupSchema__=!0,["validate","validateSync"]))$.prototype[`${e}At`]=function(t,r,n={}){let{parent:i,parentPath:o,schema:a}=z(this,t,r,n.context);return a[e](i&&i[o],W({},n,{parent:i,path:t}))};for(let e of["equals","is"])$.prototype[e]=$.prototype.oneOf;for(let e of["not","nope"])$.prototype[e]=$.prototype.notOneOf;$.prototype.optional=$.prototype.notRequired,$.prototype;var H=e=>null==e;function V(){return new Z}class Z extends ${constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}_typeCheck(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}isTrue(e=_.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>H(e)||!0===e})}isFalse(e=_.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>H(e)||!1===e})}}V.prototype=Z.prototype;let K=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,J=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,X=e=>H(e)||e===e.trim(),Y=({}).toString();function ee(){return new et}class et extends ${constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(e){if(this.isType(e)||Array.isArray(e))return e;let t=null!=e&&e.toString?e.toString():e;return t===Y?e:t})})}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,t=h.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return H(t)||t.length===this.resolve(e)}})}min(e,t=h.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return H(t)||t.length>=this.resolve(e)}})}max(e,t=h.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test(t){return H(t)||t.length<=this.resolve(e)}})}matches(e,t){let r,n,i=!1;return t&&("object"==typeof t?{excludeEmptyString:i=!1,message:r,name:n}=t:r=t),this.test({name:n||"matches",message:r||h.matches,params:{regex:e},test:t=>H(t)||""===t&&i||-1!==t.search(e)})}email(e=h.email){return this.matches(K,{name:"email",message:e,excludeEmptyString:!0})}url(e=h.url){return this.matches(J,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=h.uuid){return this.matches(Q,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(e=h.trim){return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:X})}lowercase(e=h.lowercase){return this.transform(e=>H(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,test:e=>H(e)||e===e.toLowerCase()})}uppercase(e=h.uppercase){return this.transform(e=>H(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,test:e=>H(e)||e===e.toUpperCase()})}}ee.prototype=et.prototype;let er=e=>e!=+e;function en(){return new ei}class ei extends ${constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(e){let t=e;if("string"==typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)})})}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!er(e)}min(e,t=m.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return H(t)||t>=this.resolve(e)}})}max(e,t=m.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return H(t)||t<=this.resolve(e)}})}lessThan(e,t=m.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test(t){return H(t)||t<this.resolve(e)}})}moreThan(e,t=m.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test(t){return H(t)||t>this.resolve(e)}})}positive(e=m.positive){return this.moreThan(0,e)}negative(e=m.negative){return this.lessThan(0,e)}integer(e=m.integer){return this.test({name:"integer",message:e,test:e=>H(e)||Number.isInteger(e)})}truncate(){return this.transform(e=>H(e)?e:0|e)}round(e){var t,r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(t=>H(t)?t:Math[e](t))}}en.prototype=ei.prototype;var eo=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function ea(e){var t,r,n=[1,4,5,6,7,10,11],i=0;if(r=eo.exec(e)){for(var o,a=0;o=n[a];++a)r[o]=+r[o]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,(void 0===r[8]||""===r[8])&&(void 0===r[9]||""===r[9])?t=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7]):("Z"!==r[8]&&void 0!==r[9]&&(i=60*r[10]+r[11],"+"===r[9]&&(i=0-i)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+i,r[6],r[7]))}else t=Date.parse?Date.parse(e):NaN;return t}let es=new Date(""),eu=e=>"[object Date]"===Object.prototype.toString.call(e);function el(){return new ec}class ec extends ${constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(e){return this.isType(e)?e:isNaN(e=ea(e))?es:new Date(e)})})}_typeCheck(e){return eu(e)&&!isNaN(e.getTime())}prepareParam(e,t){let r;if(D.isRef(e))r=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(e,t=g.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return H(e)||e>=this.resolve(r)}})}max(e,t=g.max){var r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return H(e)||e<=this.resolve(r)}})}}ec.INVALID_DATE=es,el.prototype=ec.prototype,el.INVALID_DATE=es;var ed=r(97687),ep=r.n(ed),ef=r(89309),eh=r.n(ef),em=r(52930),eg=r.n(em),e_=r(3468),ev=r.n(e_);function ey(e,t=[]){let r=[],n=[];function i(e,i){var o=(0,N.split)(e)[0];~n.indexOf(o)||n.push(o),~t.indexOf(`${i}-${o}`)||r.push([i,o])}for(let t in e)if(w()(e,t)){let r=e[t];~n.indexOf(t)||n.push(t),D.isRef(r)&&r.isSibling?i(r.path,t):k(r)&&"deps"in r&&r.deps.forEach(e=>i(e,t))}return ev().array(n,r).reverse()}function eb(e,t){let r=1/0;return e.some((e,n)=>{var i;if((null==(i=t.path)?void 0:i.indexOf(e))!==-1)return r=n,!0}),r}function ex(e){return(t,r)=>eb(e,t)-eb(e,r)}function eS(){return(eS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let ew=e=>"[object Object]"===Object.prototype.toString.call(e);function ek(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===r.indexOf(e))}let eE=ex([]);class eC extends ${constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=eE,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}),e&&this.shape(e)})}_typeCheck(e){return ew(e)||"function"==typeof e}_cast(e,t={}){var r;let n=super._cast(e,t);if(void 0===n)return this.getDefault();if(!this._typeCheck(n))return n;let i=this.fields,o=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(n).filter(e=>-1===this._nodes.indexOf(e))),s={},u=eS({},t,{parent:s,__validating:t.__validating||!1}),l=!1;for(let e of a){let r=i[e],a=w()(n,e);if(r){let i;let o=n[e];u.path=(t.path?`${t.path}.`:"")+e;let a="spec"in(r=r.resolve({value:o,context:t.context,parent:s}))?r.spec:void 0,c=null==a?void 0:a.strict;if(null==a?void 0:a.strip){l=l||e in n;continue}void 0!==(i=t.__validating&&c?n[e]:r.cast(n[e],u))&&(s[e]=i)}else a&&!o&&(s[e]=n[e]);s[e]!==n[e]&&(l=!0)}return l?s:n}_validate(e,t={},r){let n=[],{sync:i,from:o=[],originalValue:a=e,abortEarly:s=this.spec.abortEarly,recursive:u=this.spec.recursive}=t;o=[{schema:this,value:a},...o],t.__validating=!0,t.originalValue=a,t.from=o,super._validate(e,t,(e,l)=>{if(e){if(!R.isError(e)||s)return void r(e,l);n.push(e)}if(!u||!ew(l)){r(n[0]||null,l);return}a=a||l,P({sync:i,tests:this._nodes.map(e=>(r,n)=>{let i=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,s=this.fields[e];if(s&&"validate"in s){s.validate(l[e],eS({},t,{path:i,from:o,strict:!0,parent:l,originalValue:a[e]}),n);return}n(null)}),value:l,errors:n,endEarly:s,sort:this._sortErrors,path:t.path},r)})}clone(e){let t=super.clone(e);return t.fields=eS({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[e,t]of Object.entries(this.fields)){let n=r[e];void 0===n?r[e]=t:n instanceof $&&t instanceof $&&(r[e]=t.concat(n))}return t.withMutation(()=>t.shape(r))}getDefaultFromShape(){let e={};return this._nodes.forEach(t=>{let r=this.fields[t];e[t]="default"in r?r.getDefault():void 0}),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let r=this.clone(),n=Object.assign(r.fields,e);if(r.fields=n,r._sortErrors=ex(Object.keys(n)),t.length){Array.isArray(t[0])||(t=[t]);let e=t.map(([e,t])=>`${e}-${t}`);r._excludedEdges=r._excludedEdges.concat(e)}return r._nodes=ey(n,r._excludedEdges),r}pick(e){let t={};for(let r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.clone().withMutation(e=>(e.fields={},e.shape(t)))}omit(e){let t=this.clone(),r=t.fields;for(let n of(t.fields={},e))delete r[n];return t.withMutation(()=>t.shape(r))}from(e,t,r){let n=(0,N.getter)(e,!0);return this.transform(i=>{if(null==i)return i;let o=i;return w()(i,e)&&(o=eS({},i),r||delete o[e],o[t]=n(i)),o})}noUnknown(e=!0,t=v.noUnknown){"string"==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;let r=ek(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=v.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>t&&eg()(t,(t,r)=>e(r)))}camelCase(){return this.transformKeys(eh())}snakeCase(){return this.transformKeys(ep())}constantCase(){return this.transformKeys(e=>ep()(e).toUpperCase())}describe(){let e=super.describe();return e.fields=I()(this.fields,e=>e.describe()),e}}function eT(){return(eT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ej(e){return new eA(e)}eC.prototype;class eA extends ${constructor(e){super({type:"array"}),this.innerType=e,this.withMutation(()=>{this.transform(function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})})}_typeCheck(e){return Array.isArray(e)}get _subType(){return this.innerType}_cast(e,t){let r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let n=!1,i=r.map((e,r)=>{let i=this.innerType.cast(e,eT({},t,{path:`${t.path||""}[${r}]`}));return i!==e&&(n=!0),i});return n?i:r}_validate(e,t={},r){var n,i;let o=[],a=t.sync,s=t.path,u=this.innerType,l=null!=(n=t.abortEarly)?n:this.spec.abortEarly,c=null!=(i=t.recursive)?i:this.spec.recursive,d=null!=t.originalValue?t.originalValue:e;super._validate(e,t,(e,n)=>{if(e){if(!R.isError(e)||l)return void r(e,n);o.push(e)}if(!c||!u||!this._typeCheck(n)){r(o[0]||null,n);return}d=d||n;let i=Array(n.length);for(let e=0;e<n.length;e++){let r=n[e],o=`${t.path||""}[${e}]`,a=eT({},t,{path:o,strict:!0,parent:n,index:e,originalValue:d[e]});i[e]=(e,t)=>u.validate(r,a,t)}P({sync:a,path:s,value:n,errors:o,endEarly:l,tests:i},r)})}clone(e){let t=super.clone(e);return t.innerType=this.innerType,t}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!k(e))throw TypeError("`array.of()` sub-schema must be a valid yup schema not: "+p(e));return t.innerType=e,t}length(e,t=y.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return H(t)||t.length===this.resolve(e)}})}min(e,t){return t=t||y.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return H(t)||t.length>=this.resolve(e)}})}max(e,t){return t=t||y.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return H(t)||t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,r,n)=>!e(t,r,n):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(){let e=super.describe();return this.innerType&&(e.innerType=this.innerType.describe()),e}nullable(e=!0){return super.nullable(e)}defined(){return super.defined()}required(e){return super.required(e)}}ej.prototype=eA.prototype},77345:function(e,t,r){"use strict";e.exports=r.p+"static/media/dz.180b7a03.svg"},92952:function(e,t,r){"use strict";e.exports=r.p+"static/media/tg.797d2292.svg"},75652:function(e,t,r){"use strict";e.exports=r.p+"static/media/vk.f5f9bacc.svg"},51865:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},5991:function(e,t,r){"use strict";let n=r(89705);e.exports=s;let i=C().console||{},o={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:y,res:y,err:_,errWithCause:_};function a(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}function s(e){(e=e||{}).browser=e.browser||{};let t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");let r=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let n=e.serializers||{},o=a(e.browser.serialize,n),s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let l=Object.keys(e.customLevels||{}),d=["error","fatal","warn","info","debug","trace"].concat(l);"function"==typeof r&&d.forEach(function(e){r[e]=r}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let p=e.level||"info",m=Object.create(r);m.log||(m.log=x),Object.defineProperty(m,"levelVal",{get:y}),Object.defineProperty(m,"level",{get:b,set:S});let _={transmit:t,serialize:o,asObject:e.browser.asObject,levels:d,timestamp:v(e)};function y(){return"silent"===this.level?1/0:this.levels.values[this.level]}function b(){return this._level}function S(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,c(_,m,"error","log"),c(_,m,"fatal","error"),c(_,m,"warn","error"),c(_,m,"info","log"),c(_,m,"debug","log"),c(_,m,"trace","log"),l.forEach(function(e){c(_,m,e,"log")})}function w(r,i){if(!r)throw Error("missing bindings for child Pino");i=i||{},o&&r.serializers&&(i.serializers=r.serializers);let a=i.serializers;if(o&&a){var s=Object.assign({},n,a),u=!0===e.browser.serialize?Object.keys(s):o;delete r.serializers,f([r],u,s,this._stdErrSerialize)}function l(e){this._childLevel=(0|e._childLevel)+1,this.error=h(e,r,"error"),this.fatal=h(e,r,"fatal"),this.warn=h(e,r,"warn"),this.info=h(e,r,"info"),this.debug=h(e,r,"debug"),this.trace=h(e,r,"trace"),s&&(this.serializers=s,this._serialize=u),t&&(this._logEvent=g([].concat(e._logEvent.bindings,r)))}return l.prototype=this,new l(this)}return m.levels=u(e),m.level=p,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=x,m.serializers=n,m._serialize=o,m._stdErrSerialize=s,m.child=w,t&&(m._logEvent=g()),m}function u(e){let t=e.customLevels||{};return{values:Object.assign({},s.levels.values,t),labels:Object.assign({},s.levels.labels,l(t))}}function l(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}function c(e,t,r,n){let o=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?x:o[r]?o[r]:i[r]||i[n]||x,d(e,t,r)}function d(e,t,r){(e.transmit||t[r]!==x)&&(t[r]=function(n){return function(){let o=e.timestamp(),a=Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var u=0;u<a.length;u++)a[u]=arguments[u];if(e.serialize&&!e.asObject&&f(a,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(s,p(this,r,a,o)):n.apply(s,a),e.transmit){let n=e.transmit.level||t.level,i=t.levels.values[n],s=t.levels.values[r];if(s<i)return;m(this,{ts:o,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:t.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},a)}}}(t[r]))}function p(e,t,r,i){e._serialize&&f(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),a=o[0],s={};i&&(s.time=i),s.level=e.levels.values[t];let u=(0|e._childLevel)+1;if(u<1&&(u=1),null!==a&&"object"==typeof a){for(;u--&&"object"==typeof o[0];)Object.assign(s,o.shift());a=o.length?n(o.shift(),o):void 0}else"string"==typeof a&&(a=n(o.shift(),o));return void 0!==a&&(s.msg=a),s}function f(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=s.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function h(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function m(e,t,r){let n=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,s=t.val,u=e._logEvent.bindings;f(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===u.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,n(o,e._logEvent,s),e._logEvent=g(u)}function g(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function _(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function v(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?S:w}function y(){return{}}function b(e){return e}function x(){}function S(){return!1}function w(){return Date.now()}function k(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function C(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=o,s.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:w,unixTime:k,isoTime:E})},25059:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(20686);function i(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function o(e){var t=i(e,"string");return"symbol"==(0,n.Z)(t)?t:t+""}function a(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},95051:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:function(){return n}})},48900:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{Z:function(){return n}})},20686:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})},35806:function(e,t,r){"use strict";r.d(t,{U:function(){return l},h:function(){return c}});var n=r(45525),i=r(42e3);let o="7";function a(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function s(e){return`${a(e)}${e.projectId}/envelope/`}function u(e,t){return(0,n._j)({sentry_key:e.publicKey,sentry_version:o,...t&&{sentry_client:`${t.name}/${t.version}`}})}function l(e,t,r){return t||`${s(e)}?${u(e,r)}`}function c(e,t){let r=(0,i.vK)(e);if(!r)return"";let n=`${a(r)}embed/error-page/`,o=`dsn=${(0,i.RA)(r)}`;for(let e in t)if("dsn"!==e&&"onClose"!==e){if("user"===e){let e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}return`${n}?${o}`}},85053:function(e,t,r){"use strict";r.d(t,{G:function(){return h},$:function(){return f}});var n=r(30934),i=r(53986),o=r(84338),a=r(94637);class s{constructor(e,t){let r,n;r=e||new a.s,n=t||new a.s,this._stack=[{scope:r}],this._isolationScope=n}withScope(e){let t;let r=this._pushScope();try{t=e(r)}catch(e){throw this._popScope(),e}return(0,i.J8)(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}_popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}}function u(){let e=(0,n.c)(),t=(0,n.q)(e);return t.stack=t.stack||new s((0,o.X)(),(0,o.T)())}function l(e){return u().withScope(e)}function c(e,t){let r=u();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function d(e){return u().withScope(()=>e(u().getIsolationScope()))}function p(){return{withIsolationScope:d,withScope:l,withSetScope:c,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>u().getScope(),getIsolationScope:()=>u().getIsolationScope()}}function f(e){let t=(0,n.c)();(0,n.q)(t).acs=e}function h(e){let t=(0,n.q)(e);return t.acs?t.acs:p()}},42961:function(e,t,r){"use strict";r.d(t,{W:function(){return x}});var n=r(42e3),i=r(56142),o=r(81079),a=r(53986),s=r(49879),u=r(99983),l=r(45525),c=r(48320),d=r(35806),p=r(38274),f=r(19348),h=r(74643),m=r(6036),g=r(64445),_=r(3770),v=r(61687),y=r(26802);let b="Not capturing exception because it's already been captured.";class x{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,n.vK)(e.dsn):f.X&&i.kg.warn("No DSN provided, client will not send events."),this._dsn){let t=(0,d.U)(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){let n=(0,o.DM)();if((0,o.YO)(e))return f.X&&i.kg.log(b),n;let a={event_id:n,...t};return this._process(this.eventFromException(e,a).then(e=>this._captureEvent(e,a,r))),a.event_id}captureMessage(e,t,r,n){let i={event_id:(0,o.DM)(),...r},s=(0,a.Le)(e)?e:String(e),u=(0,a.pt)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(u.then(e=>this._captureEvent(e,i,n))),i.event_id}captureEvent(e,t,r){let n=(0,o.DM)();if(t&&t.originalException&&(0,o.YO)(t.originalException))return f.X&&i.kg.log(b),n;let a={event_id:n,...t},s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,a,s||r)),a.event_id}captureSession(e){"string"!=typeof e.release?f.X&&i.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,g.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(e=>r&&e))):(0,s.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];(0,m.m7)(this,e,this._integrations),t||(0,m.uf)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=(0,h.Mq)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])r=(0,u.BO)(r,(0,u.zQ)(e));let n=this.sendEnvelope(r);n&&n.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=(0,h.Q3)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){let r=`${e}:${t}`;f.X&&i.kg.log(`Adding outcome: "${r}"`),this._outcomes[r]=(this._outcomes[r]||0)+1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){let r=this._hooks[e];r&&r.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(f.X&&i.kg.error("Error while sending event:",e),e)):(f.X&&i.kg.error("Transport disabled"),(0,s.WD)({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=(0,m.q4)(this,e),(0,m.uf)(this,e)}_updateSessionFromEvent(e,t){let r=!1,n=!1,i=t.exception&&t.exception.values;if(i)for(let e of(n=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}let o="ok"===e.status;(o&&0===e.errors||o&&r)&&((0,g.CT)(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.cW(t=>{let r=0,n=1,i=setInterval(()=>{0==this._numProcessing?(clearInterval(i),t(!0)):(r+=n,e&&r>=e&&(clearInterval(i),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r,n=(0,p.aF)()){let i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||n.setLastEventId(e.event_id||t.event_id),(0,y.R)(i,e,t,r,this,n).then(e=>{if(null===e)return e;let t={...n.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:r,spanId:n,parentSpanId:i,dsc:o}=t;e.contexts={trace:(0,l.Jr)({trace_id:r,span_id:n,parent_span_id:i}),...e.contexts};let a=o||(0,_._l)(r,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then(e=>e.event_id,e=>{if(f.X){let t=e;"log"===t.logLevel?i.kg.log(t.message):i.kg.warn(t)}})}_processEvent(e,t,r){let n=this.getOptions(),{sampleRate:i}=n,o=E(e),a=k(e),u=e.type||"error",l=`before send for type \`${u}\``,d=void 0===i?void 0:(0,v.o)(i);if(a&&"number"==typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),(0,s.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let p="replay_event"===u?"replay":u,f=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,f).then(r=>{if(null===r)throw this.recordDroppedEvent("event_processor",p,e),new c.b("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?r:S(w(n,r,t),l)}).then(n=>{if(null===n)throw this.recordDroppedEvent("before_send",p,e),new c.b(`${l} returned \`null\`, will not send event.`,"log");let i=r&&r.getSession();!o&&i&&this._updateSessionFromEvent(i,n);let a=n.transaction_info;if(o&&a&&n.transaction!==e.transaction){let e="custom";n.transaction_info={...a,source:e}}return this.sendEvent(n,t),n}).then(null,e=>{if(e instanceof c.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[r,n]=e.split(":");return{reason:r,category:n,quantity:t}})}}function S(e,t){let r=`${t} must return \`null\` or a valid event.`;if((0,a.J8)(e))return e.then(e=>{if(!(0,a.PO)(e)&&null!==e)throw new c.b(r);return e},e=>{throw new c.b(`${t} rejected with ${e}`)});if(!(0,a.PO)(e)&&null!==e)throw new c.b(r);return e}function w(e,t,r){let{beforeSend:n,beforeSendTransaction:i,beforeSendSpan:o}=e;if(k(t)&&n)return n(t,r);if(E(t)){if(t.spans&&o){let e=[];for(let r of t.spans){let t=o(r);t&&e.push(t)}t.spans=e}if(i)return i(t,r)}return t}function k(e){return void 0===e.type}function E(e){return"transaction"===e.type}},19406:function(e,t,r){"use strict";r.d(t,{n:function(){return s}});var n=r(27629),i=r(56142),o=r(38274);let a=100;function s(e,t){let r=(0,o.s3)(),s=(0,o.aF)();if(!r)return;let{beforeBreadcrumb:u=null,maxBreadcrumbs:l=a}=r.getOptions();if(l<=0)return;let c={timestamp:(0,n.yW)(),...e},d=u?(0,i.Cf)(()=>u(c,t)):c;null!==d&&(r.emit&&r.emit("beforeAddBreadcrumb",d,t),s.addBreadcrumb(d,l))}},30934:function(e,t,r){"use strict";r.d(t,{c:function(){return o},q:function(){return a}});var n=r(36739),i=r(20266);function o(){return a(n.GLOBAL_OBJ),n.GLOBAL_OBJ}function a(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||i.J,t[i.J]=t[i.J]||{}}},79384:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});let n="production"},38274:function(e,t,r){"use strict";r.d(t,{$e:function(){return c},aF:function(){return u},lW:function(){return l},nZ:function(){return s},s3:function(){return p},wi:function(){return d}});var n=r(36739),i=r(85053),o=r(30934),a=r(94637);function s(){let e=(0,o.c)();return(0,i.G)(e).getCurrentScope()}function u(){let e=(0,o.c)();return(0,i.G)(e).getIsolationScope()}function l(){return(0,n.Y)("globalScope",()=>new a.s)}function c(...e){let t=(0,o.c)(),r=(0,i.G)(t);if(2===e.length){let[t,n]=e;return t?r.withSetScope(t,n):r.withScope(n)}return r.withScope(e[0])}function d(...e){let t=(0,o.c)(),r=(0,i.G)(t);if(2===e.length){let[t,n]=e;return t?r.withSetIsolationScope(t,n):r.withIsolationScope(n)}return r.withIsolationScope(e[0])}function p(){return s().getClient()}},19348:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},84338:function(e,t,r){"use strict";r.d(t,{T:function(){return a},X:function(){return o}});var n=r(36739),i=r(94637);function o(){return(0,n.Y)("defaultCurrentScope",()=>new i.s)}function a(){return(0,n.Y)("defaultIsolationScope",()=>new i.s)}},74643:function(e,t,r){"use strict";r.d(t,{Mq:function(){return l},Q3:function(){return u},uE:function(){return c}});var n=r(99983),i=r(42e3),o=r(3770),a=r(22522);function s(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function u(e,t,r,o){let a=(0,n.HY)(r),s={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&t&&{dsn:(0,i.RA)(t)}},u="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,n.Jd)(s,[u])}function l(e,t,r,i){let o=(0,n.HY)(r),a=e.type&&"replay_event"!==e.type?e.type:"event";s(e,r&&r.sdk);let u=(0,n.Cd)(e,o,i,t);delete e.sdkProcessingMetadata;let l=[{type:a},e];return(0,n.Jd)(u,[l])}function c(e,t){function r(e){return!!e.trace_id&&!!e.public_key}let s=(0,o.jC)(e[0]),u=t&&t.getDsn(),l=t&&t.getOptions().tunnel,c={sent_at:new Date().toISOString(),...r(s)&&{trace:s},...!!l&&u&&{dsn:(0,i.RA)(u)}},d=t&&t.getOptions().beforeSendSpan,p=d?e=>d((0,a.XU)(e)):e=>(0,a.XU)(e),f=[];for(let t of e){let e=p(t);e&&f.push((0,n.KQ)(e))}return(0,n.Jd)(c,f)}},83755:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(49879),i=r(56142),o=r(53986),a=r(19348);function s(e,t,r,u=0){return new n.cW((n,l)=>{let c=e[u];if(null===t||"function"!=typeof c)n(t);else{let d=c({...t},r);a.X&&c.id&&null===d&&i.kg.log(`Event processor "${c.id}" dropped event`),(0,o.J8)(d)?d.then(t=>s(e,t,r,u+1).then(n)).then(null,l):s(e,d,r,u+1).then(n).then(null,l)}})}},39242:function(e,t,r){"use strict";r.d(t,{Qy:function(){return A},TM:function(){return O},Tb:function(){return f},YA:function(){return b},_k:function(){return j},av:function(){return x},c:function(){return w},cg:function(){return L},dk:function(){return T},eN:function(){return m},eW:function(){return S},mG:function(){return y},rJ:function(){return _},sU:function(){return v},sV:function(){return k},uT:function(){return h},v:function(){return g},xv:function(){return C},yj:function(){return R},yl:function(){return E}});var n=r(56142),i=r(81079),o=r(27629),a=r(53986),s=r(36739),u=r(79384),l=r(38274),c=r(19348),d=r(64445),p=r(26802);function f(e,t){return(0,l.nZ)().captureException(e,(0,p.U0)(t))}function h(e,t){let r="string"==typeof t?t:void 0,n="string"!=typeof t?{captureContext:t}:void 0;return(0,l.nZ)().captureMessage(e,r,n)}function m(e,t){return(0,l.nZ)().captureEvent(e,t)}function g(e,t){(0,l.aF)().setContext(e,t)}function _(e){(0,l.aF)().setExtras(e)}function v(e,t){(0,l.aF)().setExtra(e,t)}function y(e){(0,l.aF)().setTags(e)}function b(e,t){(0,l.aF)().setTag(e,t)}function x(e){(0,l.aF)().setUser(e)}function S(){return(0,l.aF)().lastEventId()}function w(e,t){let r=(0,l.nZ)(),o=(0,l.s3)();if(o){if(o.captureCheckIn)return o.captureCheckIn(e,t,r);c.X&&n.kg.warn("Cannot capture check-in. Client does not support sending check-ins.")}else c.X&&n.kg.warn("Cannot capture check-in. No client defined.");return(0,i.DM)()}function k(e,t,r){let n=w({monitorSlug:e,status:"in_progress"},r),i=(0,o.ph)();function s(t){w({monitorSlug:e,status:t,checkInId:n,duration:(0,o.ph)()-i})}return(0,l.wi)(()=>{let e;try{e=t()}catch(e){throw s("error"),e}return(0,a.J8)(e)?Promise.resolve(e).then(()=>{s("ok")},()=>{s("error")}):s("ok"),e})}async function E(e){let t=(0,l.s3)();return t?t.flush(e):(c.X&&n.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function C(e){let t=(0,l.s3)();return t?t.close(e):(c.X&&n.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function T(){return!!(0,l.s3)()}function j(){let e=(0,l.s3)();return!!e&&!1!==e.getOptions().enabled&&!!e.getTransport()}function A(e){(0,l.aF)().addEventProcessor(e)}function R(e){let t=(0,l.s3)(),r=(0,l.aF)(),n=(0,l.nZ)(),{release:i,environment:o=u.J}=t&&t.getOptions()||{},{userAgent:a}=s.GLOBAL_OBJ.navigator||{},c=(0,d.Hv)({release:i,environment:o,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),p=r.getSession();return p&&"ok"===p.status&&(0,d.CT)(p,{status:"exited"}),O(),r.setSession(c),n.setSession(c),c}function O(){let e=(0,l.aF)(),t=(0,l.nZ)(),r=t.getSession()||e.getSession();r&&(0,d.RJ)(r),P(),e.setSession(),t.setSession()}function P(){let e=(0,l.aF)(),t=(0,l.nZ)(),r=(0,l.s3)(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function L(e=!1){if(e){O();return}P()}},981:function(e,t,r){"use strict";r.d(t,{U:function(){return g},m:function(){return m}});var n=r(9314),i=r(41103),o=r(15946),a=r(53986),s=r(38274),u=r(77545),l=r(51526),c=r(22522),d=r(13066),p=r(96738),f=r(3420),h=r(3770);function m(e,t,r,i,o="auto.http.browser"){if(!e.fetchData)return;let a=(0,l.z)()&&t(e.fetchData.url);if(e.endTimestamp&&a){let t=e.fetchData.__span;if(!t)return;let r=i[t];r&&(v(r,e),delete i[t]);return}let p=(0,s.nZ)(),h=(0,s.s3)(),{method:m,url:y}=e.fetchData,b=_(y),x=b?(0,n.en)(b).host:void 0,S=!!(0,c.HN)(),w=a&&S?(0,f.qp)({name:`${m} ${y}`,attributes:{url:y,type:"fetch","http.method":m,"http.url":b,"server.address":x,[u.S3]:o,[u.$J]:"http.client"}}):new d.b;if(e.fetchData.__span=w.spanContext().spanId,i[w.spanContext().spanId]=w,r(e.fetchData.url)&&h){let t=e.args[0];e.args[1]=e.args[1]||{};let r=e.args[1];r.headers=g(t,h,p,r,(0,l.z)()&&S?w:void 0)}return w}function g(e,t,r,n,u){let{traceId:l,spanId:d,sampled:p,dsc:f}={...(0,s.aF)().getPropagationContext(),...r.getPropagationContext()},m=u?(0,c.Hb)(u):(0,i.$p)(l,d,p),g=(0,o.IQ)(f||(u?(0,h.jC)(u):(0,h._l)(l,t))),_=n.headers||("undefined"!=typeof Request&&(0,a.V9)(e,Request)?e.headers:void 0);if(!_)return{"sentry-trace":m,baggage:g};if("undefined"!=typeof Headers&&(0,a.V9)(_,Headers)){let e=new Headers(_);return e.append("sentry-trace",m),g&&e.append(o.bU,g),e}if(Array.isArray(_)){let e=[..._,["sentry-trace",m]];return g&&e.push([o.bU,g]),e}{let e="baggage"in _?_.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),g&&t.push(g),{..._,"sentry-trace":m,baggage:t.length>0?t.join(","):void 0}}}function _(e){try{return new URL(e).href}catch(e){return}}function v(e,t){if(t.response){(0,p.Q0)(e,t.response.status);let r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){let t=parseInt(r);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:p.jt,message:"internal_error"});e.end()}},6036:function(e,t,r){"use strict";r.d(t,{M5:function(){return f},_I:function(){return h},m7:function(){return p},m8:function(){return l},q4:function(){return c},uf:function(){return d}});var n=r(81079),i=r(56142),o=r(38274),a=r(19348);let s=[];function u(e){let t={};return e.forEach(e=>{let{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)}),Object.values(t)}function l(e){let t;let r=e.defaultIntegrations||[],i=e.integrations;r.forEach(e=>{e.isDefaultInstance=!0});let o=u(t=Array.isArray(i)?[...r,...i]:"function"==typeof i?(0,n.lE)(i(r)):r),a=o.findIndex(e=>"Debug"===e.name);if(a>-1){let[e]=o.splice(a,1);o.push(e)}return o}function c(e,t){let r={};return t.forEach(t=>{t&&p(e,t,r)}),r}function d(e,t){for(let r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function p(e,t,r){if(r[t.name]){a.X&&i.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,-1===s.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),s.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,n)=>r(t,n,e))}if("function"==typeof t.processEvent){let r=t.processEvent.bind(t),n=Object.assign((t,n)=>r(t,n,e),{id:t.name});e.addEventProcessor(n)}a.X&&i.kg.log(`Integration installed: ${t.name}`)}function f(e){let t=(0,o.s3)();if(!t){a.X&&i.kg.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function h(e){return e}},30451:function(e,t,r){"use strict";r.d(t,{R:function(){return l}});var n=r(56142),i=r(25223),o=r(6036),a=r(19348);let s="Dedupe",u=()=>{let e;return{name:s,processEvent(t){if(t.type)return t;try{if(c(t,e))return a.X&&n.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},l=(0,o._I)(u);function c(e,t){return!!t&&!!(d(e,t)||p(e,t))}function d(e,t){let r=e.message,n=t.message;return!!((r||n)&&(!r||n)&&(r||!n)&&r===n&&h(e,t)&&f(e,t))}function p(e,t){let r=m(t),n=m(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&h(e,t)&&f(e,t))}function f(e,t){let r=(0,i.Fr)(e),n=(0,i.Fr)(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function h(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function m(e){return e.exception&&e.exception.values&&e.exception.values[0]}},13836:function(e,t,r){"use strict";let n;r.d(t,{C:function(){return c}});var i=r(45525),o=r(38274),a=r(6036);let s="FunctionToString",u=new WeakMap,l=()=>({name:s,setupOnce(){n=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,i.HK)(this),r=u.has((0,o.s3)())&&void 0!==t?t:this;return n.apply(r,e)}}catch(e){}},setup(e){u.set(e,!0)}}),c=(0,a._I)(l)},37827:function(e,t,r){"use strict";r.d(t,{S:function(){return d}});var n=r(56142),i=r(81079),o=r(38794),a=r(19348),s=r(6036);let u=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],l="InboundFilters",c=(e={})=>({name:l,processEvent:(t,r,n)=>f(t,p(e,n.getOptions()))?null:t}),d=(0,s._I)(c);function p(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:u],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function f(e,t){return t.ignoreInternal&&y(e)?(a.X&&n.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,i.jH)(e)}`),!0):h(e,t.ignoreErrors)?(a.X&&n.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,i.jH)(e)}`),!0):S(e)?(a.X&&n.kg.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,i.jH)(e)}`),!0):m(e,t.ignoreTransactions)?(a.X&&n.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,i.jH)(e)}`),!0):g(e,t.denyUrls)?(a.X&&n.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,i.jH)(e)}.
Url: ${x(e)}`),!0):!_(e,t.allowUrls)&&(a.X&&n.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,i.jH)(e)}.
Url: ${x(e)}`),!0)}function h(e,t){return!e.type&&!!t&&!!t.length&&v(e).some(e=>(0,o.U0)(e,t))}function m(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let r=e.transaction;return!!r&&(0,o.U0)(r,t)}function g(e,t){if(!t||!t.length)return!1;let r=x(e);return!!r&&(0,o.U0)(r,t)}function _(e,t){if(!t||!t.length)return!0;let r=x(e);return!r||(0,o.U0)(r,t)}function v(e){let t;let r=[];e.message&&r.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(r.push(t.value),t.type&&r.push(`${t.type}: ${t.value}`)),r}function y(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}function b(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}function x(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?b(t):null}catch(t){return a.X&&n.kg.error(`Cannot extract url for event ${(0,i.jH)(e)}`),null}}function S(e){return!e.type&&!!e.exception&&!!e.exception.values&&0!==e.exception.values.length&&!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}},97378:function(e,t,r){"use strict";r.d(t,{v:function(){return f}});var n=r(36739);function i(e,t){let r=0;for(let t=e.length-1;t>=0;t--){let n=e[t];"."===n?e.splice(t,1):".."===n?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}let o=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function a(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=o.exec(t);return r?r.slice(1):[]}function s(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:"/";i&&(t=`${i}/${t}`,r="/"===i.charAt(0))}return t=i(t.split("/").filter(e=>!!e),!r).join("/"),(r?"/":"")+t||"."}function u(e){let t=0;for(;t<e.length&&""===e[t];t++);let r=e.length-1;for(;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}function l(e,t){e=s(e).slice(1),t=s(t).slice(1);let r=u(e.split("/")),n=u(t.split("/")),i=Math.min(r.length,n.length),o=i;for(let e=0;e<i;e++)if(r[e]!==n[e]){o=e;break}let a=[];for(let e=o;e<r.length;e++)a.push("..");return(a=a.concat(n.slice(o))).join("/")}function c(e,t){let r=a(e)[2]||"";return t&&r.slice(-1*t.length)===t&&(r=r.slice(0,r.length-t.length)),r}var d=r(6036);let p="RewriteFrames",f=(0,d._I)((e={})=>{let t=e.root,r=e.prefix||"app:///",i="window"in n.GLOBAL_OBJ&&void 0!==n.GLOBAL_OBJ.window,o=e.iteratee||h({isBrowser:i,root:t,prefix:r});function a(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>({...e,...e.stacktrace&&{stacktrace:s(e.stacktrace)}}))}}}catch(t){return e}}function s(e){return{...e,frames:e&&e.frames&&e.frames.map(e=>o(e))}}return{name:p,processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=a(t)),t}}});function h({isBrowser:e,root:t,prefix:r}){return n=>{if(!n.filename)return n;let i=/^[a-zA-Z]:\\/.test(n.filename)||n.filename.includes("\\")&&!n.filename.includes("/"),o=/^\//.test(n.filename);if(e){if(t){let e=n.filename;0===e.indexOf(t)&&(n.filename=e.replace(t,r))}}else if(i||o){let e=i?n.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):n.filename,o=t?l(t,e):c(e);n.filename=`${r}${o}`}return n}}},95825:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});var n=r(99983),i=r(25223),o=r(6036),a=r(25099);let s=(0,o._I)(e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{(0,n.gv)(e,(e,t)=>{if("event"===t){let t=Array.isArray(e)?e[1]:void 0;t&&((0,a.CC)(t),e[1]=t)}})})},processEvent(t,r,n){let i=n.getOptions().stackParser;(0,a.GY)(i,t);let o=u(t);if(o&&o["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"](t=>!t.some(t=>e.filterKeys.includes(t)))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0}}return t}}));function u(e){let t=(0,i.Fr)(e);if(t)return t.filter(e=>!!e.filename).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(l)).map(e=>e.slice(l.length)):[])}let l="_sentryBundlerPluginAppKey:"},25099:function(e,t,r){"use strict";r.d(t,{CC:function(){return l},GY:function(){return u}});var n=r(36739);let i=new Map,o=new Set;function a(e){if(n.GLOBAL_OBJ._sentryModuleMetadata)for(let t of Object.keys(n.GLOBAL_OBJ._sentryModuleMetadata)){let r=n.GLOBAL_OBJ._sentryModuleMetadata[t];if(!o.has(t)){for(let n of(o.add(t),e(t).reverse()))if(n.filename){i.set(n.filename,r);break}}}}function s(e,t){return a(e),i.get(t)}function u(e,t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(let r of t.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let t=s(e,r.filename);t&&(r.module_metadata=t)}})}catch(e){}}function l(e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(let t of e.stacktrace.frames||[])delete t.module_metadata})}catch(e){}}},12995:function(e,t,r){"use strict";r.d(t,{V:function(){return a},y:function(){return o}});var n=r(45525);let i="_sentryMetrics";function o(e){let t=e[i];if(!t)return;let r={};for(let[,[e,i]]of t)(r[e]||(r[e]=[])).push((0,n.Jr)(i));return r}function a(e,t,r,n,o,a,s){let u=e[i]||(e[i]=new Map),l=`${t}:${r}@${o}`,c=u.get(s);if(c){let[,e]=c;u.set(s,[l,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else u.set(s,[l,{min:n,max:n,count:1,sum:n,tags:a}])}},94637:function(e,t,r){"use strict";r.d(t,{s:function(){return p}});var n=r(24494),i=r(53986),o=r(27629),a=r(81079),s=r(56142),u=r(64445),l=r(57301);let c=100;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,n.Q)()}clone(){let e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,l.D)(e,(0,l.Y)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,u.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,[r,n]=t instanceof p?[t.getScopeData(),t.getRequestSession()]:(0,i.PO)(t)?[e,e.requestSession]:[],{tags:o,extra:a,user:s,contexts:u,level:l,fingerprint:c=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),n&&(this._requestSession=n),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,l.D)(this,void 0),this._attachments=[],this._propagationContext=(0,n.Q)(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let r="number"==typeof t?t:c;if(r<=0)return this;let n={timestamp:(0,o.yW)(),...e},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,l.Y)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t&&t.event_id?t.event_id:(0,a.DM)();if(!this._client)return s.kg.warn("No client configured on scope - will not capture exception!"),r;let n=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){let n=r&&r.event_id?r.event_id:(0,a.DM)();if(!this._client)return s.kg.warn("No client configured on scope - will not capture message!"),n;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){let r=t&&t.event_id?t.event_id:(0,a.DM)();return this._client?this._client.captureEvent(e,{...t,event_id:r},this):s.kg.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}let p=d},82771:function(e,t,r){"use strict";r.d(t,{K:function(){return s},M:function(){return a}});var n=r(56142),i=r(38274),o=r(19348);function a(e,t){!0===t.debug&&(o.X?n.kg.enable():(0,n.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,i.nZ)().update(t.initialScope);let r=new e(t);s(r),r.init()}function s(e){(0,i.nZ)().setClient(e)}},77545:function(e,t,r){"use strict";r.d(t,{$J:function(){return o},E1:function(){return u},JQ:function(){return d},N0:function(){return f},S3:function(){return a},TE:function(){return i},WJ:function(){return h},Wb:function(){return l},Zj:function(){return n},hJ:function(){return p},ju:function(){return s},p6:function(){return c}});let n="sentry.source",i="sentry.sample_rate",o="sentry.op",a="sentry.origin",s="sentry.idle_span_finish_reason",u="sentry.measurement_unit",l="sentry.measurement_value",c="sentry.profile_id",d="sentry.exclusive_time",p="cache.hit",f="cache.key",h="cache.item_size"},64445:function(e,t,r){"use strict";r.d(t,{CT:function(){return s},Hv:function(){return a},RJ:function(){return u}});var n=r(27629),i=r(81079),o=r(45525);function a(e){let t=(0,n.ph)(),r={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>l(r)};return e&&s(r,e),r}function s(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,n.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),s(e,r)}function l(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}},3770:function(e,t,r){"use strict";r.d(t,{Lh:function(){return c},_l:function(){return d},jC:function(){return p},uc:function(){return f}});var n=r(45525),i=r(15946),o=r(79384),a=r(38274),s=r(77545),u=r(22522);let l="_frozenDsc";function c(e,t){let r=e;(0,n.xp)(r,l,t)}function d(e,t){let r=t.getOptions(),{publicKey:i}=t.getDsn()||{},a=(0,n.Jr)({environment:r.environment||o.J,release:r.release,public_key:i,trace_id:e});return t.emit("createDsc",a),a}function p(e){let t=(0,a.s3)();if(!t)return{};let r=d((0,u.XU)(e).trace_id||"",t),n=(0,u.Gx)(e),o=n[l];if(o)return o;let c=n.spanContext().traceState,p=c&&c.get("sentry.dsc"),f=p&&(0,i.EN)(p);if(f)return f;let h=(0,u.XU)(n),m=h.data||{},g=m[s.TE];null!=g&&(r.sample_rate=`${g}`);let _=m[s.Zj],v=h.description;return"url"!==_&&v&&(r.transaction=v),r.sampled=String((0,u.Tt)(n)),t.emit("createDsc",r,n),r}function f(e){let t=p(e);return(0,i.IQ)(t)}},66586:function(e,t,r){"use strict";r.d(t,{a:function(){return c}});var n=r(38398),i=r(41825),o=r(56142),a=r(19348),s=r(22522),u=r(96738);let l=!1;function c(){l||(l=!0,(0,n.V)(d),(0,i.h)(d))}function d(){let e=(0,s.HN)(),t=e&&(0,s.Gx)(e);if(t){let e="internal_error";a.X&&o.kg.log(`[Tracing] Root span: ${e} -> Global error occured`),t.setStatus({code:u.jt,message:e})}}d.tag="sentry_tracingErrorCallback"},12913:function(e,t,r){"use strict";r.d(t,{A:function(){return h},R:function(){return y}});var n=r(27629),i=r(56142),o=r(38274),a=r(19348),s=r(77545),u=r(51526),l=r(57301),c=r(22522),d=r(13066),p=r(96738),f=r(3420);let h={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},m="heartbeatFailed",g="idleTimeout",_="finalTimeout",v="externalFinish";function y(e,t={}){let r;let f=new Map,y=!1,x=v,S=!t.disableAutoFinish,{idleTimeout:w=h.idleTimeout,finalTimeout:k=h.finalTimeout,childSpanTimeout:E=h.childSpanTimeout,beforeSpanEnd:C}=t,T=(0,o.s3)();if(!T||!(0,u.z)())return new d.b;let j=(0,o.nZ)(),A=(0,c.HN)(),R=b(e);function O(){r&&(clearTimeout(r),r=void 0)}function P(e){O(),r=setTimeout(()=>{!y&&0===f.size&&S&&(x=g,R.end(e))},w)}function L(e){r=setTimeout(()=>{!y&&S&&(x=m,R.end(e))},E)}function I(e){O(),f.set(e,!0),L((0,n.ph)()+E/1e3)}function N(e){f.has(e)&&f.delete(e),0===f.size&&P((0,n.ph)()+w/1e3)}function F(e){y=!0,f.clear(),(0,l.D)(j,A);let t=(0,c.XU)(R),{start_timestamp:r}=t;if(!r)return;(t.data||{})[s.ju]||R.setAttribute(s.ju,x),i.kg.log(`[Tracing] Idle span "${t.op}" finished`);let n=(0,c.Dp)(R).filter(e=>e!==R),o=0;n.forEach(t=>{t.isRecording()&&(t.setStatus({code:p.jt,message:"cancelled"}),t.end(e),a.X&&i.kg.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));let{timestamp:r=0,start_timestamp:n=0}=(0,c.XU)(t),s=n<=e,u=r-n<=(k+w)/1e3;if(a.X){let e=JSON.stringify(t,void 0,2);s?u||i.kg.log("[Tracing] Discarding span since it finished after idle span final timeout",e):i.kg.log("[Tracing] Discarding span since it happened after idle span was finished",e)}(!u||!s)&&((0,c.ed)(R,t),o++)}),o>0&&R.setAttribute("sentry.idle_span_discarded_spans",o)}return R.end=new Proxy(R.end,{apply(e,t,r){C&&C(R);let[i,...o]=r,a=i||(0,n.ph)(),s=(0,c.$k)(a),u=(0,c.Dp)(R).filter(e=>e!==R);if(!u.length)return F(s),Reflect.apply(e,t,[s,...o]);let l=u.map(e=>(0,c.XU)(e).timestamp).filter(e=>!!e),d=l.length?Math.max(...l):void 0,p=(0,c.XU)(R).start_timestamp,f=Math.min(p?p+k/1e3:1/0,Math.max(p||-1/0,Math.min(s,d||1/0)));return F(f),Reflect.apply(e,t,[f,...o])}}),T.on("spanStart",e=>{!y&&e!==R&&!(0,c.XU)(e).timestamp&&(0,c.Dp)(R).includes(e)&&I(e.spanContext().spanId)}),T.on("spanEnd",e=>{y||N(e.spanContext().spanId)}),T.on("idleSpanEnableAutoFinish",e=>{e===R&&(S=!0,P(),f.size&&L())}),t.disableAutoFinish||P(),setTimeout(()=>{y||(R.setStatus({code:p.jt,message:"deadline_exceeded"}),x=_,R.end())},k),R}function b(e){let t=(0,f.qp)(e);return(0,l.D)((0,o.nZ)(),t),a.X&&i.kg.log("[Tracing] Started span is an idle span"),t}},58451:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},w:function(){return s}});var n=r(56142),i=r(19348),o=r(22522);function a(e){if(!i.X)return;let{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:a}=(0,o.XU)(e),{spanId:s}=e.spanContext(),u=(0,o.Tt)(e),l=(0,o.Gx)(e),c=l===e,d=`[Tracing] Starting ${u?"sampled":"unsampled"} ${c?"root ":""}span`,p=[`op: ${r}`,`name: ${t}`,`ID: ${s}`];if(a&&p.push(`parent ID: ${a}`),!c){let{op:e,description:t}=(0,o.XU)(l);p.push(`root ID: ${l.spanContext().spanId}`),e&&p.push(`root op: ${e}`),t&&p.push(`root description: ${t}`)}n.kg.log(`${d}
  ${p.join("\n  ")}`)}function s(e){if(!i.X)return;let{description:t="< unknown name >",op:r="< unknown op >"}=(0,o.XU)(e),{spanId:a}=e.spanContext(),s=(0,o.Gx)(e)===e,u=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${t}" with ID ${a}`;n.kg.log(u)}},94328:function(e,t,r){"use strict";r.d(t,{l:function(){return a},o:function(){return o}});var n=r(77545),i=r(22522);function o(e,t,r){let o=(0,i.HN)(),a=o&&(0,i.Gx)(o);a&&a.addEvent(e,{[n.Wb]:t,[n.E1]:r})}function a(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let r=e.attributes||{},i=r[n.E1],o=r[n.Wb];"string"==typeof i&&"number"==typeof o&&(t[e.name]={value:o,unit:i})}),t}},67115:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(56142),i=r(19348),o=r(51526),a=r(61687);function s(e,t){let r;if(!(0,o.z)(e))return[!1];r="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;let s=(0,a.o)(r);return void 0===s?(i.X&&n.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(i.X&&n.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[!1,s]):(i.X&&n.kg.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}},13066:function(e,t,r){"use strict";r.d(t,{b:function(){return o}});var n=r(81079),i=r(22522);class o{constructor(e={}){this._traceId=e.traceId||(0,n.DM)(),this._spanId=e.spanId||(0,n.DM)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:i.ve}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,r){return this}}},24293:function(e,t,r){"use strict";r.d(t,{s:function(){return v}});var n=r(81079),i=r(27629),o=r(45525),a=r(56142),s=r(38274),u=r(19348),l=r(74643),c=r(12995),d=r(77545),p=r(22522),f=r(3770),h=r(58451),m=r(94328),g=r(98254);let _=1e3;class v{constructor(e={}){this._traceId=e.traceId||(0,n.DM)(),this._spanId=e.spanId||(0,n.DM)().substring(16),this._startTime=e.startTimestamp||(0,i.ph)(),this._attributes={},this.setAttributes({[d.S3]:"manual",[d.$J]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){let{_spanId:e,_traceId:t,_sampled:r}=this;return{spanId:e,traceId:t,traceFlags:r?p.i0:p.ve}}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}updateStartTime(e){this._startTime=(0,p.$k)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){this._endTime||(this._endTime=(0,p.$k)(e),(0,h.w)(this),this._onSpanEnded())}getSpanJSON(){return(0,o.Jr)({data:this._attributes,description:this._name,op:this._attributes[d.$J],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,p._4)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[d.S3],_metrics_summary:(0,c.y)(this),profile_id:this._attributes[d.p6],exclusive_time:this._attributes[d.JQ],measurements:(0,m.l)(this._events),is_segment:this._isStandaloneSpan&&(0,p.Gx)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,p.Gx)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,r){u.X&&a.kg.log("[Tracing] Adding an event to span:",e);let n=y(t)?t:r||(0,i.ph)(),o=y(t)?{}:t||{},s={name:e,time:(0,p.$k)(n),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=(0,s.s3)();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,p.Gx)(this)))return;if(this._isStandaloneSpan){this._sampled?S((0,l.uE)([this],e)):(u.X&&a.kg.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&((0,g.I1)(this).scope||(0,s.nZ)()).captureEvent(t)}_convertSpanToTransaction(){if(!b((0,p.XU)(this)))return;this._name||(u.X&&a.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=(0,g.I1)(this),r=(e||(0,s.nZ)()).getClient()||(0,s.s3)();if(!0!==this._sampled){u.X&&a.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=(0,p.Dp)(this).filter(e=>e!==this&&!x(e)).map(e=>(0,p.XU)(e)).filter(b),i=this._attributes[d.Zj],l={contexts:{trace:(0,p.HR)(this)},spans:n.length>_?n.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,_):n,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...(0,o.Jr)({dynamicSamplingContext:(0,f.jC)(this)})},_metrics_summary:(0,c.y)(this),...i&&{transaction_info:{source:i}}},h=(0,m.l)(this._events);return h&&Object.keys(h).length&&(u.X&&a.kg.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),l.measurements=h),l}}function y(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function b(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function x(e){return e instanceof v&&e.isStandaloneSpan()}function S(e){let t=(0,s.s3)();if(!t)return;let r=e[1];if(!r||0===r.length){t.recordDroppedEvent("before_send","span");return}let n=t.getTransport();n&&n.send(e).then(null,e=>{u.X&&a.kg.error("Error while sending span:",e)})}},96738:function(e,t,r){"use strict";r.d(t,{OP:function(){return i},Q0:function(){return s},ix:function(){return a},jt:function(){return o},pq:function(){return n}});let n=0,i=1,o=2;function a(e){if(e<400&&e>=100)return{code:i};if(e>=400&&e<500)switch(e){case 401:return{code:o,message:"unauthenticated"};case 403:return{code:o,message:"permission_denied"};case 404:return{code:o,message:"not_found"};case 409:return{code:o,message:"already_exists"};case 413:return{code:o,message:"failed_precondition"};case 429:return{code:o,message:"resource_exhausted"};case 499:return{code:o,message:"cancelled"};default:return{code:o,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:o,message:"unimplemented"};case 503:return{code:o,message:"unavailable"};case 504:return{code:o,message:"deadline_exceeded"};default:return{code:o,message:"internal_error"}}return{code:o,message:"unknown_error"}}function s(e,t){e.setAttribute("http.response.status_code",t);let r=a(t);"unknown_error"!==r.message&&e.setStatus(r)}},3420:function(e,t,r){"use strict";r.d(t,{GK:function(){return w},Iw:function(){return A},V0:function(){return k},_d:function(){return T},hE:function(){return j},qp:function(){return E},yn:function(){return C}});var n=r(41103),i=r(24494),o=r(56142),a=r(30934),s=r(38274),u=r(85053),l=r(19348),c=r(77545),d=r(78719),p=r(51526),f=r(57301),h=r(22522),m=r(3770),g=r(58451),_=r(67115),v=r(13066),y=r(24293),b=r(96738),x=r(98254);let S="__SENTRY_SUPPRESS_TRACING__";function w(e,t){let r=P();if(r.startSpan)return r.startSpan(e,t);let n=O(e),{forceTransaction:i,parentSpan:o}=e;return(0,s.$e)(e.scope,()=>F(o)(()=>{let r=(0,s.nZ)(),o=N(r),a=e.onlyIfParent&&!o?new v.b:R({parentSpan:o,spanArguments:n,forceTransaction:i,scope:r});return(0,f.D)(r,a),(0,d.i)(()=>t(a),()=>{let{status:e}=(0,h.XU)(a);a.isRecording()&&(!e||"ok"===e)&&a.setStatus({code:b.jt,message:"internal_error"})},()=>a.end())}))}function k(e,t){let r=P();if(r.startSpanManual)return r.startSpanManual(e,t);let n=O(e),{forceTransaction:i,parentSpan:o}=e;return(0,s.$e)(e.scope,()=>F(o)(()=>{let r=(0,s.nZ)(),o=N(r),a=e.onlyIfParent&&!o?new v.b:R({parentSpan:o,spanArguments:n,forceTransaction:i,scope:r});function u(){a.end()}return(0,f.D)(r,a),(0,d.i)(()=>t(a,u),()=>{let{status:e}=(0,h.XU)(a);a.isRecording()&&(!e||"ok"===e)&&a.setStatus({code:b.jt,message:"internal_error"})})}))}function E(e){let t=P();if(t.startInactiveSpan)return t.startInactiveSpan(e);let r=O(e),{forceTransaction:n,parentSpan:i}=e;return(e.scope?t=>(0,s.$e)(e.scope,t):i?e=>T(i,e):e=>e())(()=>{let t=(0,s.nZ)(),i=N(t);return e.onlyIfParent&&!i?new v.b:R({parentSpan:i,spanArguments:r,forceTransaction:n,scope:t})})}let C=({sentryTrace:e,baggage:t},r)=>(0,s.$e)(i=>{let o=(0,n.pT)(e,t);return i.setPropagationContext(o),r()});function T(e,t){let r=P();return r.withActiveSpan?r.withActiveSpan(e,t):(0,s.$e)(r=>((0,f.D)(r,e||void 0),t(r)))}function j(e){let t=P();return t.suppressTracing?t.suppressTracing(e):(0,s.$e)(t=>(t.setSDKProcessingMetadata({[S]:!0}),e()))}function A(e){return(0,s.$e)(t=>(t.setPropagationContext((0,i.Q)()),l.X&&o.kg.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),T(null,e)))}function R({parentSpan:e,spanArguments:t,forceTransaction:r,scope:n}){let i;if(!(0,p.z)())return new v.b;let o=(0,s.aF)();if(e&&!r)i=I(e,n,t),(0,h.j5)(e,i);else if(e){let r=(0,m.jC)(e),{traceId:o,spanId:a}=e.spanContext(),s=(0,h.Tt)(e);i=L({traceId:o,parentSpanId:a,...t},n,s),(0,m.Lh)(i,r)}else{let{traceId:e,dsc:r,parentSpanId:a,sampled:s}={...o.getPropagationContext(),...n.getPropagationContext()};i=L({traceId:e,parentSpanId:a,...t},n,s),r&&(0,m.Lh)(i,r)}return(0,g.Z)(i),(0,x.YJ)(i,n,o),i}function O(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...t};return r.startTimestamp=(0,h.$k)(e.startTime),delete r.startTime,r}return t}function P(){let e=(0,a.c)();return(0,u.G)(e)}function L(e,t,r){let n=(0,s.s3)(),i=n&&n.getOptions()||{},{name:o="",attributes:a}=e,[u,l]=t.getScopeData().sdkProcessingMetadata[S]?[!1]:(0,_.R)(i,{name:o,parentSampled:r,attributes:a,transactionContext:{name:o,parentSampled:r}}),d=new y.s({...e,attributes:{[c.Zj]:"custom",...e.attributes},sampled:u});return void 0!==l&&d.setAttribute(c.TE,l),n&&n.emit("spanStart",d),d}function I(e,t,r){let{spanId:n,traceId:i}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[S]&&(0,h.Tt)(e),a=o?new y.s({...r,parentSpanId:n,traceId:i,sampled:o}):new v.b({traceId:i});(0,h.j5)(e,a);let u=(0,s.s3)();return u&&(u.emit("spanStart",a),r.endTimestamp&&u.emit("spanEnd",a)),a}function N(e){let t=(0,f.Y)(e);if(!t)return;let r=(0,s.s3)();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,h.Gx)(t):t}function F(e){return e?t=>T(e,t):e=>e()}},98254:function(e,t,r){"use strict";r.d(t,{I1:function(){return s},YJ:function(){return a}});var n=r(45525);let i="_sentryScope",o="_sentryIsolationScope";function a(e,t,r){e&&((0,n.xp)(e,o,r),(0,n.xp)(e,i,t))}function s(e){return{scope:e[i],isolationScope:e[o]}}},90648:function(e,t,r){"use strict";r.d(t,{q:function(){return d}});var n=r(48320),i=r(49879);function o(e){let t=[];function r(){return void 0===e||t.length<e}function o(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}function a(e){if(!r())return(0,i.$2)(new n.b("Not adding Promise because buffer limit was reached."));let a=e();return -1===t.indexOf(a)&&t.push(a),a.then(()=>o(a)).then(null,()=>o(a).then(null,()=>{})),a}function s(e){return new i.cW((r,n)=>{let o=t.length;if(!o)return r(!0);let a=setTimeout(()=>{e&&e>0&&r(!1)},e);t.forEach(e=>{(0,i.WD)(e).then(()=>{--o||(clearTimeout(a),r(!0))},n)})})}return{$:t,add:a,drain:s}}var a=r(99983),s=r(1421),u=r(56142),l=r(19348);let c=64;function d(e,t,r=o(e.bufferSize||c)){let d={};return{send:function(o){let c=[];if((0,a.gv)(o,(t,r)=>{let n=(0,a.mL)(r);if((0,s.Q)(d,n)){let i=p(t,r);e.recordDroppedEvent("ratelimit_backoff",n,i)}else c.push(t)}),0===c.length)return(0,i.WD)({});let f=(0,a.Jd)(o[0],c),h=t=>{(0,a.gv)(f,(r,n)=>{let i=p(r,n);e.recordDroppedEvent(t,(0,a.mL)(n),i)})},m=()=>t({body:(0,a.V$)(f)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&l.X&&u.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),d=(0,s.WG)(d,e),e),e=>{throw h("network_error"),e});return r.add(m).then(e=>e,e=>{if(e instanceof n.b)return l.X&&u.kg.error("Skipped sending event because buffer is full."),h("queue_overflow"),(0,i.WD)({});throw e})},flush:e=>r.drain(e)}}function p(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},81201:function(e,t,r){"use strict";r.d(t,{gi:function(){return s},yo:function(){return u}});var n=r(45525),i=r(81079),o=r(3770),a=r(22522);function s(e,t){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o}=t;c(e,t),n&&f(e,n),h(e,r),d(e,i),p(e,o)}function u(e,t){let{extra:r,tags:n,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:u,fingerprint:c,eventProcessors:d,attachments:p,propagationContext:f,transactionName:h,span:m}=t;l(e,"extra",r),l(e,"tags",n),l(e,"user",i),l(e,"contexts",o),l(e,"sdkProcessingMetadata",s),a&&(e.level=a),h&&(e.transactionName=h),m&&(e.span=m),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...f}}function l(e,t,r){if(r&&Object.keys(r).length)for(let n in e[t]={...e[t]},r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}function c(e,t){let{extra:r,tags:i,user:o,contexts:a,level:s,transactionName:u}=t,l=(0,n.Jr)(r);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});let c=(0,n.Jr)(i);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});let d=(0,n.Jr)(o);d&&Object.keys(d).length&&(e.user={...d,...e.user});let p=(0,n.Jr)(a);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts}),s&&(e.level=s),u&&"transaction"!==e.type&&(e.transaction=u)}function d(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function p(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function f(e,t){e.contexts={trace:(0,a.wy)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,o.jC)(t),...e.sdkProcessingMetadata};let r=(0,a.Gx)(t),n=(0,a.XU)(r).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}function h(e,t){e.fingerprint=e.fingerprint?(0,i.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}},78719:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(53986);function i(e,t,r=()=>{}){let n;try{n=e()}catch(e){throw t(e),r(),e}return o(n,t,r)}function o(e,t,r){return(0,n.J8)(e)?e.then(e=>(r(),e),e=>{throw t(e),r(),e}):(r(),e)}},51526:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(38274);function i(e){let t=e||o();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function o(){let e=(0,n.s3)();return e&&e.getOptions()}},61687:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(56142),i=r(19348);function o(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if("number"!=typeof t||isNaN(t)||t<0||t>1){i.X&&n.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}},26802:function(e,t,r){"use strict";r.d(t,{R:function(){return f},U0:function(){return x}});var n=r(81079),i=r(27629),o=r(38794),a=r(36739),s=r(67186),u=r(79384),l=r(38274),c=r(83755),d=r(94637),p=r(81201);function f(e,t,r,o,a,s){let{normalizeDepth:u=3,normalizeMaxBreadth:d=1e3}=e,f={...t,event_id:t.event_id||r.event_id||(0,n.DM)(),timestamp:t.timestamp||(0,i.yW)()},m=r.integrations||e.integrations.map(e=>e.name);h(f,e),v(f,m),void 0===t.type&&g(f,e.stackParser);let x=b(o,r.captureContext);r.mechanism&&(0,n.EG)(f,r.mechanism);let S=a?a.getEventProcessors():[],w=(0,l.lW)().getScopeData();if(s){let e=s.getScopeData();(0,p.yo)(w,e)}if(x){let e=x.getScopeData();(0,p.yo)(w,e)}let k=[...r.attachments||[],...w.attachments];k.length&&(r.attachments=k),(0,p.gi)(f,w);let E=[...S,...w.eventProcessors];return(0,c.R)(E,f,r).then(e=>(e&&_(e),"number"==typeof u&&u>0)?y(e,u,d):e)}function h(e,t){let{environment:r,release:n,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?r:u.J),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,o.$G)(e.message,a));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,o.$G)(s.value,a));let l=e.request;l&&l.url&&(l.url=(0,o.$G)(l.url,a))}let m=new WeakMap;function g(e,t){let r;let n=a.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let i=m.get(t);i?r=i:(r=new Map,m.set(t,r));let o=Object.entries(n).reduce((e,[n,i])=>{let o;let a=r.get(n);a?o=a:(o=t(n),r.set(n,o));for(let t=o.length-1;t>=0;t--){let r=o[t];if(r.filename){e[r.filename]=i;break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=o[e.filename])})})}catch(e){}}function _(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{r.push({type:"sourcemap",code_file:e,debug_id:t})})}function v(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function y(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,s.Fv)(e.data,t,r)}}))},...e.user&&{user:(0,s.Fv)(e.user,t,r)},...e.contexts&&{contexts:(0,s.Fv)(e.contexts,t,r)},...e.extra&&{extra:(0,s.Fv)(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=(0,s.Fv)(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(e=>({...e,...e.data&&{data:(0,s.Fv)(e.data,t,r)}}))),n}function b(e,t){if(!t)return e;let r=e?e.clone():new d.s;return r.update(t),r}function x(e){return e?S(e)||k(e)?{captureContext:e}:e:void 0}function S(e){return e instanceof d.s||"function"==typeof e}let w=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function k(e){return Object.keys(e).some(e=>w.includes(e))}},1053:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var n=r(20266);function i(e,t,r=[t],i="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(e=>({name:`${i}:@sentry/${e}`,version:n.J})),version:n.J}),e._metadata=o}},57301:function(e,t,r){"use strict";r.d(t,{D:function(){return o},Y:function(){return a}});var n=r(45525);let i="_sentrySpan";function o(e,t){t?(0,n.xp)(e,i,t):delete e[i]}function a(e){return e[i]}},22522:function(e,t,r){"use strict";r.d(t,{$k:function(){return v},Dp:function(){return A},Gx:function(){return R},HN:function(){return O},HR:function(){return m},Hb:function(){return _},Tt:function(){return w},XU:function(){return b},_4:function(){return k},ed:function(){return j},i0:function(){return h},j5:function(){return T},ve:function(){return f},wy:function(){return g},yc:function(){return P}});var n=r(45525),i=r(41103),o=r(27629),a=r(85053),s=r(30934),u=r(38274),l=r(12995),c=r(77545),d=r(96738),p=r(57301);let f=0,h=1;function m(e){let{spanId:t,traceId:r}=e.spanContext(),{data:i,op:o,parent_span_id:a,status:s,origin:u}=b(e);return(0,n.Jr)({parent_span_id:a,span_id:t,trace_id:r,data:i,op:o,status:s,origin:u})}function g(e){let{spanId:t,traceId:r}=e.spanContext(),{parent_span_id:i}=b(e);return(0,n.Jr)({parent_span_id:i,span_id:t,trace_id:r})}function _(e){let{traceId:t,spanId:r}=e.spanContext(),n=w(e);return(0,i.$p)(t,r,n)}function v(e){return"number"==typeof e?y(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?y(e.getTime()):(0,o.ph)()}function y(e){return e>9999999999?e/1e3:e}function b(e){if(S(e))return e.getSpanJSON();try{let{spanId:t,traceId:r}=e.spanContext();if(x(e)){let{attributes:i,startTime:o,name:a,endTime:s,parentSpanId:u,status:d}=e;return(0,n.Jr)({span_id:t,trace_id:r,data:i,description:a,parent_span_id:u,start_timestamp:v(o),timestamp:v(s)||void 0,status:k(d),op:i[c.$J],origin:i[c.S3],_metrics_summary:(0,l.y)(e)})}return{span_id:t,trace_id:r}}catch(e){return{}}}function x(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function S(e){return"function"==typeof e.getSpanJSON}function w(e){let{traceFlags:t}=e.spanContext();return t===h}function k(e){return e&&e.code!==d.pq?e.code===d.OP?"ok":e.message||"unknown_error":void 0}let E="_sentryChildSpans",C="_sentryRootSpan";function T(e,t){let r=e[C]||e;(0,n.xp)(t,C,r),e[E]?e[E].add(t):(0,n.xp)(e,E,new Set([t]))}function j(e,t){e[E]&&e[E].delete(t)}function A(e){let t=new Set;function r(e){if(!t.has(e)&&w(e))for(let n of(t.add(e),e[E]?Array.from(e[E]):[]))r(n)}return r(e),Array.from(t)}function R(e){return e[C]||e}function O(){let e=(0,s.c)(),t=(0,a.G)(e);return t.getActiveSpan?t.getActiveSpan():(0,p.Y)((0,u.nZ)())}function P(e,t,r,n,i,o){let a=O();a&&(0,l.V)(a,e,t,r,n,i,o)}},57341:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},20077:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(53986),i=r(38794);function o(e,t,r=250,i,o,s,u){if(!s.exception||!s.exception.values||!u||!(0,n.V9)(u.originalException,Error))return;let c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=l(a(e,t,o,u.originalException,i,s.exception.values,c,0),r))}function a(e,t,r,i,o,l,c,d){if(l.length>=r+1)return l;let p=[...l];if((0,n.V9)(i[o],Error)){s(c,d);let n=e(t,i[o]),l=p.length;u(n,o,l,d),p=a(e,t,r,i[o],o,[n,...p],n,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,l)=>{if((0,n.V9)(i,Error)){s(c,d);let n=e(t,i),f=p.length;u(n,`errors[${l}]`,f,d),p=a(e,t,r,i,o,[n,...p],n,f)}}),p}function s(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function u(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function l(e,t){return e.map(e=>(e.value&&(e.value=(0,i.$G)(e.value,t)),e))}},15946:function(e,t,r){"use strict";r.d(t,{EN:function(){return c},IQ:function(){return d},bU:function(){return a}});var n=r(49601),i=r(53986),o=r(56142);let a="baggage",s="sentry-",u=/^sentry-/,l=8192;function c(e){let t=p(e);if(!t)return;let r=Object.entries(t).reduce((e,[t,r])=>(t.match(u)&&(e[t.slice(s.length)]=r),e),{});return Object.keys(r).length>0?r:void 0}function d(e){if(e)return h(Object.entries(e).reduce((e,[t,r])=>(r&&(e[`${s}${t}`]=r),e),{}))}function p(e){return e&&((0,i.HD)(e)||Array.isArray(e))?Array.isArray(e)?e.reduce((e,t)=>(Object.entries(f(t)).forEach(([t,r])=>{e[t]=r}),e),{}):f(e):void 0}function f(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}function h(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,r],i)=>{let a=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,s=0===i?a:`${e},${a}`;return s.length>l?(n.X&&o.kg.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):s},"")}},15048:function(e,t,r){"use strict";r.d(t,{Rt:function(){return a},iY:function(){return c},l4:function(){return u},qT:function(){return l}});var n=r(53986);let i=r(36739).GLOBAL_OBJ,o=80;function a(e,t={}){if(!e)return"<unknown>";try{let r,n=e,i=5,a=[],u=0,l=0,c=" > ",d=c.length,p=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&u++<i&&(r=s(n,p),"html"!==r&&(!(u>1)||!(l+a.length*d+r.length>=f)));)a.push(r),l+=r.length,n=n.parentNode;return a.reverse().join(c)}catch(e){return"<unknown>"}}function s(e,t){let r=e,o=[];if(!r||!r.tagName)return"";if(i.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}o.push(r.tagName.toLowerCase());let a=t&&t.length?t.filter(e=>r.getAttribute(e)).map(e=>[e,r.getAttribute(e)]):null;if(a&&a.length)a.forEach(e=>{o.push(`[${e[0]}="${e[1]}"]`)});else{r.id&&o.push(`#${r.id}`);let e=r.className;if(e&&(0,n.HD)(e))for(let t of e.split(/\s+/))o.push(`.${t}`)}for(let e of["aria-label","type","name","title","alt"]){let t=r.getAttribute(e);t&&o.push(`[${e}="${t}"]`)}return o.join("")}function u(){try{return i.document.location.href}catch(e){return""}}function l(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function c(e){if(!i.HTMLElement)return null;let t=e,r=5;for(let e=0;e<r&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},13404:function(e,t,r){"use strict";function n(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],o=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=o(r)):("call"===i||"optionalCall"===i)&&(r=o((...e)=>r.call(t,...e)),t=void 0)}return r}r.d(t,{x:function(){return n}})},49601:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},42e3:function(e,t,r){"use strict";r.d(t,{RA:function(){return s},U4:function(){return u},vK:function(){return d}});var n=r(49601),i=r(56142);let o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function a(e){return"http"===e||"https"===e}function s(e,t=!1){let{host:r,path:n,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=e;return`${s}://${u}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${a}`}function u(e){let t=o.exec(e);if(!t){(0,i.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,a="",s="",u="",c=""]=t.slice(1),d="",p=c,f=p.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),p=f.pop()),p){let e=p.match(/^\d+/);e&&(p=e[0])}return l({host:s,pass:a,path:d,projectId:p,port:u,protocol:r,publicKey:n})}function l(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function c(e){if(!n.X)return!0;let{port:t,projectId:r,protocol:o}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(i.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(r.match(/^\d+$/)?a(o)?!(t&&isNaN(parseInt(t,10)))||(i.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(i.kg.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(i.kg.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}function d(e){let t="string"==typeof e?u(e):l(e);if(t&&c(t))return t}},99983:function(e,t,r){"use strict";r.d(t,{BO:function(){return u},Cd:function(){return y},HY:function(){return v},Jd:function(){return s},KQ:function(){return h},R:function(){return c},V$:function(){return p},gv:function(){return l},mL:function(){return _},zQ:function(){return m}});var n=r(42e3),i=r(67186),o=r(45525),a=r(36739);function s(e,t=[]){return[e,t]}function u(e,t){let[r,n]=e;return[r,[...n,t]]}function l(e,t){for(let r of e[1]){let e=r[0].type;if(t(r,e))return!0}return!1}function c(e,t){return l(e,(e,r)=>t.includes(r))}function d(e){return a.GLOBAL_OBJ.__SENTRY__&&a.GLOBAL_OBJ.__SENTRY__.encodePolyfill?a.GLOBAL_OBJ.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function p(e){let[t,r]=e,n=JSON.stringify(t);function o(e){"string"==typeof n?n="string"==typeof e?n+e:[d(n),e]:n.push("string"==typeof e?d(e):e)}for(let e of r){let[t,r]=e;if(o(`
${JSON.stringify(t)}
`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify((0,i.Fv)(r))}o(e)}}return"string"==typeof n?n:f(n)}function f(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function h(e){return[{type:"span"},e]}function m(e){let t="string"==typeof e.data?d(e.data):e.data;return[(0,o.Jr)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}let g={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function _(e){return g[e]}function v(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function y(e,t,r,i){let a=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&i&&{dsn:(0,n.RA)(i)},...a&&{trace:(0,o.Jr)({...a})}}}},48320:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});class n extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},80370:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(56142),i=r(45525),o=r(36739),a=r(29806);function s(e){let t="console";(0,a.Hj)(t,e),(0,a.D2)(t,u)}function u(){"console"in o.GLOBAL_OBJ&&n.RU.forEach(function(e){e in o.GLOBAL_OBJ.console&&(0,i.hl)(o.GLOBAL_OBJ.console,e,function(t){return n.LD[e]=t,function(...t){let r={args:t,level:e};(0,a.rK)("console",r);let i=n.LD[e];i&&i.apply(o.GLOBAL_OBJ.console,t)}})})}},38398:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var n=r(36739),i=r(29806);let o=null;function a(e){let t="error";(0,i.Hj)(t,e),(0,i.D2)(t,s)}function s(){o=n.GLOBAL_OBJ.onerror,n.GLOBAL_OBJ.onerror=function(e,t,r,n,a){let s={column:n,error:a,line:r,msg:e,url:t};return(0,i.rK)("error",s),!!o&&!o.__SENTRY_LOADER__&&o.apply(this,arguments)},n.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}},41825:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(36739),i=r(29806);let o=null;function a(e){let t="unhandledrejection";(0,i.Hj)(t,e),(0,i.D2)(t,s)}function s(){o=n.GLOBAL_OBJ.onunhandledrejection,n.GLOBAL_OBJ.onunhandledrejection=function(e){let t=e;return(0,i.rK)("unhandledrejection",t),!o||!!o.__SENTRY_LOADER__||o.apply(this,arguments)},n.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},29806:function(e,t,r){"use strict";r.d(t,{D2:function(){return l},Hj:function(){return u},rK:function(){return c}});var n=r(49601),i=r(56142),o=r(25223);let a={},s={};function u(e,t){a[e]=a[e]||[],a[e].push(t)}function l(e,t){s[e]||(t(),s[e]=!0)}function c(e,t){let r=e&&a[e];if(r)for(let a of r)try{a(t)}catch(t){n.X&&i.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,o.$P)(a)}
Error:`,t)}}},53986:function(e,t,r){"use strict";r.d(t,{Cy:function(){return _},HD:function(){return l},J8:function(){return g},Kj:function(){return m},Le:function(){return c},PO:function(){return p},TX:function(){return s},V9:function(){return v},VW:function(){return a},VZ:function(){return i},cO:function(){return f},fm:function(){return u},kK:function(){return h},pt:function(){return d},y1:function(){return y}});let n=Object.prototype.toString;function i(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function o(e,t){return n.call(e)===`[object ${t}]`}function a(e){return o(e,"ErrorEvent")}function s(e){return o(e,"DOMError")}function u(e){return o(e,"DOMException")}function l(e){return o(e,"String")}function c(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||c(e)||"object"!=typeof e&&"function"!=typeof e}function p(e){return o(e,"Object")}function f(e){return"undefined"!=typeof Event&&v(e,Event)}function h(e){return"undefined"!=typeof Element&&v(e,Element)}function m(e){return o(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function _(e){return p(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}function y(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},56142:function(e,t,r){"use strict";r.d(t,{Cf:function(){return u},LD:function(){return s},RU:function(){return a},kg:function(){return l}});var n=r(49601),i=r(36739);let o="Sentry Logger ",a=["debug","info","warn","error","log","assert","trace"],s={};function u(e){if(!("console"in i.GLOBAL_OBJ))return e();let t=i.GLOBAL_OBJ.console,r={},n=Object.keys(s);n.forEach(e=>{let n=s[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(e=>{t[e]=r[e]})}}let l=function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return n.X?a.forEach(r=>{t[r]=(...t)=>{e&&u(()=>{i.GLOBAL_OBJ.console[r](`${o}[${r}]:`,...t)})}}):a.forEach(e=>{t[e]=()=>void 0}),t}()},81079:function(e,t,r){"use strict";r.d(t,{DM:function(){return o},Db:function(){return u},EG:function(){return l},YO:function(){return c},jH:function(){return s},lE:function(){return d}});var n=r(45525),i=r(36739);function o(){let e=i.GLOBAL_OBJ,t=e.crypto||e.msCrypto,r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&r())>>e/4).toString(16))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){let{message:t,event_id:r}=e;if(t)return t;let n=a(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function u(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function l(e,t){let r=a(e);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...t},t&&"data"in t){let e={...i&&i.data,...t.data};r.mechanism.data=e}}function c(e){if(e&&e.__sentry_captured__)return!0;try{(0,n.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},67186:function(e,t,r){"use strict";r.d(t,{Fv:function(){return s},Qy:function(){return u}});var n=r(53986);function i(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}var o=r(45525),a=r(25223);function s(e,t=100,r=Infinity){try{return l("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function u(e,t=3,r=102400){let n=s(e,t);return f(n)>r?u(e,t-1,r):n}function l(e,t,r=Infinity,n=Infinity,a=i()){let[s,u]=a;if(null==t||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;let d=c(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;let p="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===p)return d.replace("object ","");if(s(t))return"[Circular ~]";let f=t;if(f&&"function"==typeof f.toJSON)try{let e=f.toJSON();return l("",e,p-1,n,a)}catch(e){}let h=Array.isArray(t)?[]:{},m=0,g=(0,o.Sh)(t);for(let e in g){if(!Object.prototype.hasOwnProperty.call(g,e))continue;if(m>=n){h[e]="[MaxProperties ~]";break}let t=g[e];h[e]=l(e,t,p-1,n,a),m++}return u(t),h}function c(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,n.y1)(t))return"[VueViewModel]";if((0,n.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,a.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let r=d(t);if(/^HTML(\w*)Element$/.test(r))return`[HTMLElement: ${r}]`;return`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}}function d(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function p(e){return~-encodeURI(e).split(/%..|./).length}function f(e){return p(JSON.stringify(e))}},45525:function(e,t,r){"use strict";r.d(t,{$Q:function(){return c},HK:function(){return d},Jr:function(){return _},Sh:function(){return f},_j:function(){return p},hl:function(){return u},xp:function(){return l},zf:function(){return g}});var n=r(15048),i=r(49601),o=r(53986),a=r(56142),s=r(38794);function u(e,t,r){if(!(t in e))return;let n=e[t],i=r(n);"function"==typeof i&&c(i,n),e[t]=i}function l(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){i.X&&a.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,l(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function p(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function f(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if(!(0,o.cO)(e))return e;{let t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function h(e){try{return(0,o.kK)(e)?(0,n.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}function g(e,t=40){let r=Object.keys(f(e));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return(0,s.$G)(n,t);for(let e=r.length;e>0;e--){let n=r.slice(0,e).join(", ");if(!(n.length>t)){if(e===r.length)return n;return(0,s.$G)(n,t)}}return""}function _(e){return v(e,new Map)}function v(e,t){if(y(e)){let r=t.get(e);if(void 0!==r)return r;let n={};for(let r of(t.set(e,n),Object.keys(e)))void 0!==e[r]&&(n[r]=v(e[r],t));return n}if(Array.isArray(e)){let r=t.get(e);if(void 0!==r)return r;let n=[];return t.set(e,n),e.forEach(e=>{n.push(v(e,t))}),n}return e}function y(e){if(!(0,o.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}},24494:function(e,t,r){"use strict";r.d(t,{Q:function(){return i}});var n=r(81079);function i(){return{traceId:(0,n.DM)(),spanId:(0,n.DM)().substring(16)}}},1421:function(e,t,r){"use strict";r.d(t,{JY:function(){return i},Q:function(){return a},WG:function(){return s}});let n=6e4;function i(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;let i=Date.parse(`${e}`);return isNaN(i)?n:i-t}function o(e,t){return e[t]||e.all||0}function a(e,t,r=Date.now()){return o(e,t)>r}function s(e,{statusCode:t,headers:r},n=Date.now()){let o={...e},a=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(a)for(let e of a.trim().split(",")){let[t,r,,,i]=e.split(":",5),a=parseInt(t,10),s=(isNaN(a)?60:a)*1e3;if(r)for(let e of r.split(";"))"metric_bucket"===e?(!i||i.split(";").includes("custom"))&&(o[e]=n+s):o[e]=n+s;else o.all=n+s}else s?o.all=n+i(s,n):429===t&&(o.all=n+6e4);return o}},21778:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});let n=["fatal","error","warning","log","info","debug"];function i(e){return"warn"===e?"warning":n.includes(e)?e:"log"}},25223:function(e,t,r){"use strict";r.d(t,{$P:function(){return p},Fi:function(){return i},Fr:function(){return f},Sq:function(){return u},pE:function(){return s}});let n=50,i="?",o=/\(error: (.*)\)/,a=/captureMessage|captureException/;function s(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,r=0,i=0)=>{let a=[],s=e.split("\n");for(let e=r;e<s.length;e++){let r=s[e];if(r.length>1024)continue;let u=o.test(r)?r.replace(o,"$1"):r;if(!u.match(/\S*Error: /)){for(let e of t){let t=e(u);if(t){a.push(t);break}}if(a.length>=n+i)break}}return l(a.slice(i))}}function u(e){return Array.isArray(e)?s(...e):e}function l(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(c(t).function||"")&&t.pop(),t.reverse(),a.test(c(t).function||"")&&(t.pop(),a.test(c(t).function||"")&&t.pop()),t.slice(0,n).map(e=>({...e,filename:e.filename||c(t).filename,function:e.function||i}))}function c(e){return e[e.length-1]||{}}let d="<anonymous>";function p(e){try{if(!e||"function"!=typeof e)return d;return e.name||d}catch(e){return d}}function f(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}},38794:function(e,t,r){"use strict";r.d(t,{$G:function(){return i},U0:function(){return s},nK:function(){return o}});var n=r(53986);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";let r=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,n.y1)(i)?r.push("[VueViewModel]"):r.push(String(i))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function a(e,t,r=!1){return!!(0,n.HD)(e)&&((0,n.Kj)(t)?t.test(e):!!(0,n.HD)(t)&&(r?e===t:e.includes(t)))}function s(e,t=[],r=!1){return t.some(t=>a(e,t,r))}},49879:function(e,t,r){"use strict";r.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return s}});var n,i=r(53986);function o(e){return new s(t=>{t(e)})}function a(e){return new s((t,r)=>{r(e)})}!function(e){let t=0;e[e.PENDING=t]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"}(n||(n={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=n.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new s((t,r)=>{let n,i;return this.then(t=>{i=!1,n=t,e&&e()},t=>{i=!0,n=t,e&&e()}).then(()=>{if(i){r(n);return}t(n)})})}__init(){this._resolve=e=>{this._setResult(n.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(n.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===n.PENDING){if((0,i.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===n.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===n.RESOLVED&&e[1](this._value),this._state===n.REJECTED&&e[2](this._value),e[0]=!0)})}}}},27629:function(e,t,r){"use strict";let n;r.d(t,{Z1:function(){return u},ph:function(){return s},yW:function(){return a}});var i=r(36739);let o=1e3;function a(){return Date.now()/o}let s=function(){let{performance:e}=i.GLOBAL_OBJ;if(!e||!e.now)return a;let t=Date.now()-e.now(),r=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/o}(),u=(()=>{let{performance:e}=i.GLOBAL_OBJ;if(!e||!e.now){n="none";return}let t=36e5,r=e.now(),o=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+r-o):t,s=a<t,u=e.timing&&e.timing.navigationStart,l="number"==typeof u?Math.abs(u+r-o):t,c=l<t;return s||c?a<=l?(n="timeOrigin",e.timeOrigin):(n="navigationStart",u):(n="dateNow",o)})()},41103:function(e,t,r){"use strict";r.d(t,{$p:function(){return u},pT:function(){return s}});var n=r(15946),i=r(81079);let o=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function a(e){let t;if(!e)return;let r=e.match(o);if(r)return"1"===r[3]?t=!0:"0"===r[3]&&(t=!1),{traceId:r[1],parentSampled:t,parentSpanId:r[2]}}function s(e,t){let r=a(e),o=(0,n.EN)(t),{traceId:s,parentSpanId:u,parentSampled:l}=r||{};return r?{traceId:s||(0,i.DM)(),parentSpanId:u||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:l,dsc:o||{}}:{traceId:s||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}function u(e=(0,i.DM)(),t=(0,i.DM)().substring(16),r){let n="";return void 0!==r&&(n=r?"-1":"-0"),`${e}-${t}${n}`}},9314:function(e,t,r){"use strict";function n(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function i(e){return e.split(/[?#]/,1)[0]}r.d(t,{en:function(){return n},rt:function(){return i}})},20266:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});let n="8.11.0"},36739:function(e,t,r){"use strict";r.d(t,{GLOBAL_OBJ:function(){return i},Y:function(){return o}});var n=r(20266);let i=globalThis;function o(e,t,r){let o=r||i,a=o.__SENTRY__=o.__SENTRY__||{},s=a[n.J]=a[n.J]||{};return s[e]||(s[e]=t())}},8555:function(e,t,r){"use strict";let n,i,o;r.d(t,{default:function(){return tT}});var a={};function s(e,t){return function(){return e.apply(t,arguments)}}r.r(a),r.d(a,{hasBrowserEnv:function(){return eP},hasStandardBrowserEnv:function(){return eL},hasStandardBrowserWebWorkerEnv:function(){return eI}});let{toString:u}=Object.prototype,{getPrototypeOf:l}=Object,c=(n=Object.create(null),e=>{let t=u.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),d=e=>(e=e.toLowerCase(),t=>c(t)===e),p=e=>t=>typeof t===e,{isArray:f}=Array,h=p("undefined");function m(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let g=d("ArrayBuffer");function _(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&g(e.buffer)}let v=p("string"),y=p("function"),b=p("number"),x=e=>null!==e&&"object"==typeof e,S=e=>!0===e||!1===e,w=e=>{if("object"!==c(e))return!1;let t=l(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k=d("Date"),E=d("File"),C=d("Blob"),T=d("FileList"),j=e=>x(e)&&y(e.pipe),A=e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},R=d("URLSearchParams"),O=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function P(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e){if("object"!=typeof e&&(e=[e]),f(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;for(n=0;n<a;n++)i=o[n],t.call(null,e[i],i,e)}}}function L(e,t){let r;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,N=e=>!h(e)&&e!==I;function F(){let{caseless:e}=N(this)&&this||{},t={},r=(r,n)=>{let i=e&&L(t,n)||n;w(t[i])&&w(r)?t[i]=F(t[i],r):w(r)?t[i]=F({},r):f(r)?t[i]=r.slice():t[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&P(arguments[e],r);return t}let D=(e,t,r,{allOwnKeys:n}={})=>(P(t,(t,n)=>{r&&y(t)?e[n]=s(t,r):e[n]=t},{allOwnKeys:n}),e),M=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),U=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},q=(e,t,r,n)=>{let i,o,a;let s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=!1!==r&&l(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},B=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},z=e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!b(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},G=(i="undefined"!=typeof Uint8Array&&l(Uint8Array),e=>i&&e instanceof i),W=(e,t)=>{let r;let n=(e&&e[Symbol.iterator]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},$=(e,t)=>{let r;let n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},H=d("HTMLFormElement"),V=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),Z=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),K=d("RegExp"),J=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};P(r,(r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)}),Object.defineProperties(e,n)},Q=e=>{J(e,(t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(y(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},X=(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(f(e)?e:String(e).split(t)),r},Y=()=>{},ee=(e,t)=>Number.isFinite(e=+e)?e:t,et="abcdefghijklmnopqrstuvwxyz",er="0123456789",en={DIGIT:er,ALPHA:et,ALPHA_DIGIT:et+et.toUpperCase()+er},ei=(e=16,t=en.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function eo(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}let ea=e=>{let t=Array(10),r=(e,n)=>{if(x(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=f(e)?[]:{};return P(e,(e,t)=>{let o=r(e,n+1);h(o)||(i[t]=o)}),t[n]=void 0,i}}return e};return r(e,0)},es=d("AsyncFunction"),eu=e=>e&&(x(e)||y(e))&&y(e.then)&&y(e.catch);var el={isArray:f,isArrayBuffer:g,isBuffer:m,isFormData:A,isArrayBufferView:_,isString:v,isNumber:b,isBoolean:S,isObject:x,isPlainObject:w,isUndefined:h,isDate:k,isFile:E,isBlob:C,isRegExp:K,isFunction:y,isStream:j,isURLSearchParams:R,isTypedArray:G,isFileList:T,forEach:P,merge:F,extend:D,trim:O,stripBOM:M,inherits:U,toFlatObject:q,kindOf:c,kindOfTest:d,endsWith:B,toArray:z,forEachEntry:W,matchAll:$,isHTMLForm:H,hasOwnProperty:Z,hasOwnProp:Z,reduceDescriptors:J,freezeMethods:Q,toObjectSet:X,toCamelCase:V,noop:Y,toFiniteNumber:ee,findKey:L,global:I,isContextDefined:N,ALPHABET:en,generateString:ei,isSpecCompliantForm:eo,toJSONObject:ea,isAsyncFn:es,isThenable:eu};function ec(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}el.inherits(ec,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:el.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let ed=ec.prototype,ep={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ep[e]={value:e}}),Object.defineProperties(ec,ep),Object.defineProperty(ed,"isAxiosError",{value:!0}),ec.from=(e,t,r,n,i,o)=>{let a=Object.create(ed);return el.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ec.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var ef=ec,eh=null,em=r(15313).Buffer;function eg(e){return el.isPlainObject(e)||el.isArray(e)}function e_(e){return el.endsWith(e,"[]")?e.slice(0,-2):e}function ev(e,t,r){return e?e.concat(t).map(function(e,t){return e=e_(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}function ey(e){return el.isArray(e)&&!e.some(eg)}let eb=el.toFlatObject(el,{},null,function(e){return/^is[A-Z]/.test(e)});var ex=function(e,t,r){if(!el.isObject(e))throw TypeError("target must be an object");t=t||new(eh||FormData);let n=(r=el.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!el.isUndefined(t[e])})).metaTokens,i=r.visitor||l,o=r.dots,a=r.indexes,s=(r.Blob||"undefined"!=typeof Blob&&Blob)&&el.isSpecCompliantForm(t);if(!el.isFunction(i))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(el.isDate(e))return e.toISOString();if(!s&&el.isBlob(e))throw new ef("Blob is not supported. Use a Buffer instead.");return el.isArrayBuffer(e)||el.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):em.from(e):e}function l(e,r,i){let s=e;if(e&&!i&&"object"==typeof e){if(el.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(el.isArray(e)&&ey(e)||(el.isFileList(e)||el.endsWith(r,"[]"))&&(s=el.toArray(e)))return r=e_(r),s.forEach(function(e,n){el.isUndefined(e)||null===e||t.append(!0===a?ev([r],n,o):null===a?r:r+"[]",u(e))}),!1}return!!eg(e)||(t.append(ev(i,r,o),u(e)),!1)}let c=[],d=Object.assign(eb,{defaultVisitor:l,convertValue:u,isVisitable:eg});function p(e,r){if(!el.isUndefined(e)){if(-1!==c.indexOf(e))throw Error("Circular reference detected in "+r.join("."));c.push(e),el.forEach(e,function(e,n){!0===(!(el.isUndefined(e)||null===e)&&i.call(t,e,el.isString(n)?n.trim():n,r,d))&&p(e,r?r.concat(n):[n])}),c.pop()}}if(!el.isObject(e))throw TypeError("data must be an object");return p(e),t};function eS(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ew(e,t){this._pairs=[],e&&ex(e,this,t)}let ek=ew.prototype;ek.append=function(e,t){this._pairs.push([e,t])},ek.toString=function(e){let t=e?function(t){return e.call(this,t,eS)}:eS;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var eE=ew;function eC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eT(e,t,r){let n;if(!t)return e;let i=r&&r.encode||eC,o=r&&r.serialize;if(n=o?o(t,r):el.isURLSearchParams(t)?t.toString():new eE(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}class ej{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){el.forEach(this.handlers,function(t){null!==t&&e(t)})}}var eA=ej,eR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eO={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:eE,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};let eP="undefined"!=typeof window&&"undefined"!=typeof document,eL=(o="undefined"!=typeof navigator&&navigator.product,eP&&0>["ReactNative","NativeScript","NS"].indexOf(o)),eI="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var eN={...a,...eO};function eF(e,t){return ex(e,new eN.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return eN.isNode&&el.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function eD(e){return el.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}function eM(e){let t,r;let n={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)n[r=i[t]]=e[r];return n}var eU=function(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;let a=Number.isFinite(+o),s=i>=e.length;return(o=!o&&el.isArray(n)?n.length:o,s)?el.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r:(n[o]&&el.isObject(n[o])||(n[o]=[]),t(e,r,n[o],i)&&el.isArray(n[o])&&(n[o]=eM(n[o]))),!a}if(el.isFormData(e)&&el.isFunction(e.entries)){let r={};return el.forEachEntry(e,(e,n)=>{t(eD(e),n,r,0)}),r}return null};function eq(e,t,r){if(el.isString(e))try{return(t||JSON.parse)(e),el.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}let eB={transitional:eR,adapter:["xhr","http"],transformRequest:[function(e,t){let r;let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=el.isObject(e);if(o&&el.isHTMLForm(e)&&(e=new FormData(e)),el.isFormData(e))return i?JSON.stringify(eU(e)):e;if(el.isArrayBuffer(e)||el.isBuffer(e)||el.isStream(e)||el.isFile(e)||el.isBlob(e))return e;if(el.isArrayBufferView(e))return e.buffer;if(el.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eF(e,this.formSerializer).toString();if((r=el.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return ex(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),eq(e)):e}],transformResponse:[function(e){let t=this.transitional||eB.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&el.isString(e)&&(r&&!this.responseType||n)){let r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw ef.from(e,ef.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eN.classes.FormData,Blob:eN.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};el.forEach(["delete","get","head","post","put","patch"],e=>{eB.headers[e]={}});var ez=eB;let eG=el.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var eW=e=>{let t,r,n;let i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&eG[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i};let e$=Symbol("internals");function eH(e){return e&&String(e).trim().toLowerCase()}function eV(e){return!1===e||null==e?e:el.isArray(e)?e.map(eV):String(e)}function eZ(e){let t;let r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}let eK=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eJ(e,t,r,n,i){if(el.isFunction(n))return n.call(this,t,r);if(i&&(t=r),el.isString(t)){if(el.isString(n))return -1!==t.indexOf(n);if(el.isRegExp(n))return n.test(t)}}function eQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function eX(e,t){let r=el.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}class eY{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=eH(t);if(!i)throw Error("header name must be a non-empty string");let o=el.findKey(n,i);o&&void 0!==n[o]&&!0!==r&&(void 0!==r||!1===n[o])||(n[o||t]=eV(e))}let o=(e,t)=>el.forEach(e,(e,r)=>i(e,r,t));return el.isPlainObject(e)||e instanceof this.constructor?o(e,t):el.isString(e)&&(e=e.trim())&&!eK(e)?o(eW(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=eH(e)){let r=el.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return eZ(e);if(el.isFunction(t))return t.call(this,e,r);if(el.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eH(e)){let r=el.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||eJ(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=eH(e)){let i=el.findKey(r,e);i&&(!t||eJ(r,r[i],i,t))&&(delete r[i],n=!0)}}return el.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||eJ(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return el.forEach(this,(n,i)=>{let o=el.findKey(r,i);if(o){t[o]=eV(n),delete t[i];return}let a=e?eQ(i):String(i).trim();a!==i&&delete t[i],t[a]=eV(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return el.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&el.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[e$]=this[e$]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=eH(e);t[n]||(eX(r,e),t[n]=!0)}return el.isArray(e)?e.forEach(n):n(e),this}}eY.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),el.reduceDescriptors(eY.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),el.freezeMethods(eY);var e0=eY;function e1(e,t){let r=this||ez,n=t||r,i=e0.from(n.headers),o=n.data;return el.forEach(e,function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function e2(e){return!!(e&&e.__CANCEL__)}function e5(e,t,r){ef.call(this,null==e?"canceled":e,ef.ERR_CANCELED,t,r),this.name="CanceledError"}el.inherits(e5,ef,{__CANCEL__:!0});var e4=e5;function e3(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ef("Request failed with status code "+r.status,[ef.ERR_BAD_REQUEST,ef.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var e8=eN.hasStandardBrowserEnv?{write(e,t,r,n,i,o){let a=[e+"="+encodeURIComponent(t)];el.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),el.isString(n)&&a.push("path="+n),el.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function e6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function e9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e7(e,t){return e&&!e6(t)?e9(e,t):t}var te=eN.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){let n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){let r=el.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}();function tt(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}var tr=function(e,t){let r;let n=Array(e=e||10),i=Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){let u=Date.now(),l=i[a];r||(r=u),n[o]=s,i[o]=u;let c=a,d=0;for(;c!==o;)d+=n[c++],c%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),u-r<t)return;let p=l&&u-l;return p?Math.round(1e3*d/p):void 0}};function tn(e,t){let r=0,n=tr(50,250);return i=>{let o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,u=n(s),l=o<=a;r=o;let c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}let ti={http:eh,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n,i,o=e.data,a=e0.from(e.headers).normalize(),{responseType:s,withXSRFToken:u}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(el.isFormData(o)){if(eN.hasStandardBrowserEnv||eN.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(i=a.getContentType())){let[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}let c=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+r))}let d=e7(e.baseURL,e.url);function p(){if(!c)return;let n=e0.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());e3(function(e){t(e),l()},function(e){r(e),l()},{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),eT(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(r(new ef("Request aborted",ef.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new ef("Network Error",ef.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||eR;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new ef(t,n.clarifyTimeoutError?ef.ETIMEDOUT:ef.ECONNABORTED,e,c)),c=null},eN.hasStandardBrowserEnv&&(u&&el.isFunction(u)&&(u=u(e)),u||!1!==u&&te(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&e8.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===o&&a.setContentType(null),"setRequestHeader"in c&&el.forEach(a.toJSON(),function(e,t){c.setRequestHeader(t,e)}),el.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",tn(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",tn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{c&&(r(!t||t.type?new e4(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let f=tt(d);if(f&&-1===eN.protocols.indexOf(f)){r(new ef("Unsupported protocol "+f+":",ef.ERR_BAD_REQUEST,e));return}c.send(o||null)})}};el.forEach(ti,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let to=e=>`- ${e}`,ta=e=>el.isFunction(e)||null===e||!1===e;var ts=e=>{let t,r;let{length:n}=e=el.isArray(e)?e:[e],i={};for(let o=0;o<n;o++){let n;if(r=t=e[o],!ta(t)&&void 0===(r=ti[(n=String(t)).toLowerCase()]))throw new ef(`Unknown adapter '${n}'`);if(r)break;i[n||"#"+o]=r}if(!r){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ef("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(to).join("\n"):" "+to(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function tu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new e4(null,e)}function tl(e){return tu(e),e.headers=e0.from(e.headers),e.data=e1.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ts(e.adapter||ez.adapter)(e).then(function(t){return tu(e),t.data=e1.call(e,e.transformResponse,t),t.headers=e0.from(t.headers),t},function(t){return!e2(t)&&(tu(e),t&&t.response&&(t.response.data=e1.call(e,e.transformResponse,t.response),t.response.headers=e0.from(t.response.headers))),Promise.reject(t)})}let tc=e=>e instanceof e0?{...e}:e;function td(e,t){t=t||{};let r={};function n(e,t,r){return el.isPlainObject(e)&&el.isPlainObject(t)?el.merge.call({caseless:r},e,t):el.isPlainObject(t)?el.merge({},t):el.isArray(t)?t.slice():t}function i(e,t,r){return el.isUndefined(t)?el.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!el.isUndefined(t))return n(void 0,t)}function a(e,t){return el.isUndefined(t)?el.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}let u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(tc(e),tc(t),!0)};return el.forEach(Object.keys(Object.assign({},e,t)),function(n){let o=u[n]||i,a=o(e[n],t[n],n);el.isUndefined(a)&&o!==s||(r[n]=a)}),r}let tp="1.6.8",tf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let th={};tf.transitional=function(e,t,r){function n(e,t){return"[Axios v"+tp+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new ef(n(i," has been removed"+(t?" in "+t:"")),ef.ERR_DEPRECATED);return t&&!th[i]&&(th[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var tm={assertOptions:function(e,t,r){if("object"!=typeof e)throw new ef("options must be an object",ef.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let o=n[i],a=t[o];if(a){let t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new ef("option "+o+" must be "+r,ef.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new ef("Unknown option "+o,ef.ERR_BAD_OPTION)}},validators:tf};let tg=tm.validators;class t_{constructor(e){this.defaults=e,this.interceptors={request:new eA,response:new eA}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:o,headers:a}=t=td(this.defaults,t);void 0!==i&&tm.assertOptions(i,{silentJSONParsing:tg.transitional(tg.boolean),forcedJSONParsing:tg.transitional(tg.boolean),clarifyTimeoutError:tg.transitional(tg.boolean)},!1),null!=o&&(el.isFunction(o)?t.paramsSerializer={serialize:o}:tm.assertOptions(o,{encode:tg.function,serialize:tg.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&el.merge(a.common,a[t.method]);a&&el.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=e0.concat(s,a);let u=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let d=0;if(!l){let e=[tl.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,c),n=e.length,r=Promise.resolve(t);d<n;)r=r.then(e[d++],e[d++]);return r}n=u.length;let p=t;for(d=0;d<n;){let e=u[d++],t=u[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{r=tl.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,n=c.length;d<n;)r=r.then(c[d++],c[d++]);return r}getUri(e){return eT(e7((e=td(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}el.forEach(["delete","get","head","options"],function(e){t_.prototype[e]=function(t,r){return this.request(td(r||{},{method:e,url:t,data:(r||{}).data}))}}),el.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(td(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}t_.prototype[e]=t(),t_.prototype[e+"Form"]=t(!0)});var tv=t_;class ty{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new e4(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ty(function(t){e=t}),cancel:e}}}var tb=ty;function tx(e){return function(t){return e.apply(null,t)}}function tS(e){return el.isObject(e)&&!0===e.isAxiosError}let tw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tw).forEach(([e,t])=>{tw[t]=e});var tk=tw;function tE(e){let t=new tv(e),r=s(tv.prototype.request,t);return el.extend(r,tv.prototype,t,{allOwnKeys:!0}),el.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return tE(td(e,t))},r}let tC=tE(ez);tC.Axios=tv,tC.CanceledError=e4,tC.CancelToken=tb,tC.isCancel=e2,tC.VERSION=tp,tC.toFormData=ex,tC.AxiosError=ef,tC.Cancel=tC.CanceledError,tC.all=function(e){return Promise.all(e)},tC.spread=tx,tC.isAxiosError=tS,tC.mergeConfig=td,tC.AxiosHeaders=e0,tC.formToJSON=e=>eU(el.isHTMLForm(e)?new FormData(e):e),tC.getAdapter=ts,tC.HttpStatusCode=tk,tC.default=tC;var tT=tC},30134:function(e,t,r){"use strict";var n=r(70532);t.ZP=n.default||n},28839:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[K]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===J}(e)||Array.isArray(e)||!!e[Z]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Z])||f(e)||h(e))}function a(e){return i(e)||n(23,e),e[K].t}function s(e,t,r){void 0===r&&(r=!1),0===u(e)?(r?Object.keys:Q)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function u(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function l(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===u(e)?e.get(t):e[t]}function d(e,t,r){var n=u(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return W&&e instanceof Map}function h(e){return $&&e instanceof Set}function m(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[K];for(var r=Q(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!o(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,function(e,t){return _(t,!0)},!0)),e}function v(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=Y[e];return t||n(18,e),t}function x(e,t){Y[e]||(Y[e]=t)}function S(){return z}function w(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){E(e),e.p.forEach(T),e.p=null}function E(e){e===z&&(z=e.l)}function C(e){return z={p:[],l:z,h:e,m:!0,_:0}}function T(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function j(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||b("ES5").S(t,e,i),i?(r[K].P&&(k(t),n(4)),o(e)&&(e=A(t,e),t.l||O(t,e)),t.u&&b("Patches").M(r[K].t,e,t.u,t.s)):e=A(t,r,[]),k(t),t.u&&t.v(t.u,t.s),e!==V?e:void 0}function A(e,t,r){if(y(t))return t;var n=t[K];if(!n)return s(t,function(i,o){return R(e,n,t,i,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return O(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=g(n.k):n.o,o=i,a=!1;3===n.i&&(o=new Set(i),i.clear(),a=!0),s(o,function(t,o){return R(e,n,i,t,o,r,a)}),O(e,i,!1),r&&e.u&&b("Patches").N(n,r,e.u,e.s)}return n.o}function R(e,t,r,n,a,s,u){if(i(a)){var c=A(e,a,s&&t&&3!==t.i&&!l(t.R,n)?s.concat(n):void 0);if(d(r,n,c),!i(c))return;e.m=!1}else u&&r.add(a);if(o(a)&&!y(a)){if(!e.h.D&&e._<1)return;A(e,a),t&&t.A.l||O(e,a)}}function O(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&_(t,r)}function P(e,t){var r=e[K];return(r?m(r):e)[t]}function L(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function N(e){e.o||(e.o=g(e.t))}function F(e,t,r){var n=f(t)?b("MapSet").F(t,r):h(t)?b("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:S(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=n,o=ee;r&&(i=[n],o=et);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return n.k=u,n.j=s,u}(t,r):b("ES5").J(t,r);return(r?r.A:S()).p.push(n),n}function D(e){return i(e)||n(22,e),function e(t){if(!o(t))return t;var r,n=t[K],i=u(t);if(n){if(!n.P&&(n.i<4||!b("ES5").K(n)))return n.t;n.I=!0,r=M(t,i),n.I=!1}else r=M(t,i);return s(r,function(t,i){n&&c(n.t,t)===i||d(r,t,e(i))}),3===i?new Set(r):r}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}function U(){function e(e,t){var r=o[e];return r?r.enumerable=t:o[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[K];return ee.get(t,e)},set:function(t){var r=this[K];ee.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][K];if(!i.P)switch(i.i){case 5:n(i)&&I(i);break;case 4:r(i)&&I(i)}}}function r(e){for(var t=e.t,r=e.k,n=Q(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==K){var a=t[o];if(void 0===a&&!l(t,o))return!0;var s=r[o],u=s&&s[K];if(u?u.t!==a:!p(s,a))return!0}}var c=!!t[K];return n.length!==Q(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var o={};x("ES5",{J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var o=X(r);delete o[K];for(var a=Q(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,t),o={i:n?5:4,A:r?r.A:S(),P:!1,I:!1,R:{},l:r,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,K,{value:o,writable:!0}),i},S:function(e,r,o){o?i(r)&&r[K].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[K];if(r){var i=r.t,o=r.k,a=r.R,u=r.i;if(4===u)s(o,function(t){t!==K&&(void 0!==i[t]||l(i,t)?a[t]||e(o[t]):(a[t]=!0,I(r)))}),s(i,function(e){void 0!==o[e]||l(o,e)||(a[e]=!1,I(r))});else if(5===u){if(n(r)&&(I(r),a.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)a[c]=!1;else for(var d=i.length;d<o.length;d++)a[d]=!0;for(var p=Math.min(o.length,i.length),f=0;f<p;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}function q(){function e(t){if(!o(t))return t;if(Array.isArray(t))return t.map(e);if(f(t))return new Map(Array.from(t.entries()).map(function(t){return[t[0],e(t[1])]}));if(h(t))return new Set(Array.from(t).map(e));var r=Object.create(Object.getPrototypeOf(t));for(var n in t)r[n]=e(t[n]);return l(t,Z)&&(r[Z]=t[Z]),r}function t(t){return i(t)?e(t):t}var r="add";x("Patches",{$:function(t,i){return i.forEach(function(i){for(var o=i.path,a=i.op,s=t,l=0;l<o.length-1;l++){var d=u(s),p=o[l];"string"!=typeof p&&"number"!=typeof p&&(p=""+p),0!==d&&1!==d||"__proto__"!==p&&"constructor"!==p||n(24),"function"==typeof s&&"prototype"===p&&n(24),"object"!=typeof(s=c(s,p))&&n(15,o.join("/"))}var f=u(s),h=e(i.value),m=o[o.length-1];switch(a){case"replace":switch(f){case 2:return s.set(m,h);case 3:n(16);default:return s[m]=h}case r:switch(f){case 1:return"-"===m?s.push(h):s.splice(m,0,h);case 2:return s.set(m,h);case 3:return s.add(h);default:return s[m]=h}case"remove":switch(f){case 1:return s.splice(m,1);case 2:return s.delete(m);case 3:return s.delete(i.value);default:return delete s[m]}default:n(17,a)}}),t},N:function(e,n,i,o){switch(e.i){case 0:case 4:case 2:return function(e,n,i,o){var a=e.t,u=e.o;s(e.R,function(e,s){var d=c(a,e),p=c(u,e),f=s?l(a,e)?"replace":r:"remove";if(d!==p||"replace"!==f){var h=n.concat(e);i.push("remove"===f?{op:f,path:h}:{op:f,path:h,value:p}),o.push(f===r?{op:"remove",path:h}:"remove"===f?{op:r,path:h,value:t(d)}:{op:"replace",path:h,value:t(d)})}})}(e,n,i,o);case 5:case 1:return function(e,n,i,o){var a=e.t,s=e.R,u=e.o;if(u.length<a.length){var l=[u,a];a=l[0],u=l[1];var c=[o,i];i=c[0],o=c[1]}for(var d=0;d<a.length;d++)if(s[d]&&u[d]!==a[d]){var p=n.concat([d]);i.push({op:"replace",path:p,value:t(u[d])}),o.push({op:"replace",path:p,value:t(a[d])})}for(var f=a.length;f<u.length;f++){var h=n.concat([f]);i.push({op:r,path:h,value:t(u[f])})}a.length<u.length&&o.push({op:"replace",path:n.concat(["length"]),value:a.length})}(e,n,i,o);case 3:return function(e,t,n,i){var o=e.t,a=e.o,s=0;o.forEach(function(e){if(!a.has(e)){var o=t.concat([s]);n.push({op:"remove",path:o,value:e}),i.unshift({op:r,path:o,value:e})}s++}),s=0,a.forEach(function(e){if(!o.has(e)){var a=t.concat([s]);n.push({op:r,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++})}(e,n,i,o)}},M:function(e,t,r,n){r.push({op:"replace",path:[],value:t===V?void 0:t}),n.push({op:"replace",path:[],value:e})}})}r.d(t,{Js:function(){return a},QE:function(){return eo},Vk:function(){return D},aS:function(){return ei},mv:function(){return i},o$:function(){return o},pV:function(){return U},vI:function(){return q},vV:function(){return _}});var B,z,G="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,$="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,V=G?Symbol.for("immer-nothing"):((B={})["immer-nothing"]=!0,B),Z=G?Symbol.for("immer-draftable"):"__$immer_draftable",K=G?Symbol.for("immer-state"):"__$immer_state",J=""+Object.prototype.constructor,Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return Q(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Y={},ee={get:function(e,t){if(t===K)return e;var r=m(e);if(!l(r,t))return function(e,t,r){var n,i=L(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!o(n)?n:n===P(e.t,t)?(N(e),e.o[t]=F(e.A.h,n,e)):n},has:function(e,t){return t in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,t,r){var n=L(m(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=P(m(e),t),o=null==i?void 0:i[K];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(p(r,i)&&(void 0!==r||l(e.t,t)))return!0;N(e),I(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.R[t]=!1,N(e),I(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=m(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},et={};s(ee,function(e,t){et[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),et.deleteProperty=function(e,t){return et.set.call(this,e,t,void 0)},et.set=function(e,t,r){return ee.set.call(this,e[0],t,r,e[0])};var er=new(function(){function e(e){var t=this;this.O=H,this.D=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var a,s=r;r=e;var u=t;return function(e){var t=this;void 0===e&&(e=s);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return u.produce(e,function(e){var n;return(n=r).call.apply(n,[t,e].concat(i))})}}if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(e)){var l=C(t),c=F(t,e,void 0),d=!0;try{a=r(c),d=!1}finally{d?k(l):E(l)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return w(l,i),j(e,l)},function(e){throw k(l),e}):(w(l,i),j(a,l))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===V&&(a=void 0),t.D&&_(a,!0),i){var p=[],f=[];b("Patches").M(e,a,p,f),i(p,f)}return a}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(i))})};var n,i,o=t.produce(e,r,function(e,t){n=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,n,i]}):[o,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),i(e)&&(e=D(e));var t=C(this),r=F(this,e,void 0);return r[K].C=!0,E(t),r},t.finishDraft=function(e,t){var r=(e&&e[K]).A;return w(r,t),j(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!H&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),en=er.produce,ei=er.produceWithPatches.bind(er),eo=(er.setAutoFreeze.bind(er),er.setUseProxies.bind(er),er.applyPatches.bind(er));er.createDraft.bind(er),er.finishDraft.bind(er),t.ZP=en},49384:function(e,t,r){"use strict";function n(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}r.d(t,{Q:function(){return n}})},76996:function(e,t,r){"use strict";r.d(t,{Gc:function(){return w},Qr:function(){return U},RV:function(){return k},bc:function(){return M},cI:function(){return ej},qo:function(){return I}});var n=r(44194),i=e=>"checkbox"===e.type,o=e=>e instanceof Date,a=e=>null==e;let s=e=>"object"==typeof e;var u=e=>!a(e)&&!Array.isArray(e)&&s(e)&&!o(e),l=e=>u(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,c=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,d=(e,t)=>e.has(c(t)),p=e=>{let t=e.constructor&&e.constructor.prototype;return u(t)&&t.hasOwnProperty("isPrototypeOf")},f="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function h(e){let t;let r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(f&&(e instanceof Blob||e instanceof FileList))&&(r||u(e))))return e;else if(t=r?[]:{},r||p(e))for(let r in e)e.hasOwnProperty(r)&&(t[r]=h(e[r]));else t=e;return t}var m=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>void 0===e,_=(e,t,r)=>{if(!t||!u(e))return r;let n=m(t.split(/[,[\].]+?/)).reduce((e,t)=>a(e)?e:e[t],e);return g(n)||n===e?g(e[t])?r:e[t]:n},v=e=>"boolean"==typeof e;let y={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},b={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},x={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S=n.createContext(null),w=()=>n.useContext(S),k=e=>{let{children:t,...r}=e;return n.createElement(S.Provider,{value:r},t)};var E=(e,t,r,n=!0)=>{let i={defaultValues:t._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>{let i=o;return t._proxyFormState[i]!==b.all&&(t._proxyFormState[i]=!n||b.all),r&&(r[i]=!0),e[i]}});return i},C=e=>u(e)&&!Object.keys(e).length,T=(e,t,r,n)=>{r(e);let{name:i,...o}=e;return C(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!n||b.all))},j=e=>Array.isArray(e)?e:[e],A=(e,t,r)=>!e||!t||e===t||j(e).some(e=>e&&(r?e===t:e.startsWith(t)||t.startsWith(e)));function R(e){let t=n.useRef(e);t.current=e,n.useEffect(()=>{let r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function O(e){let t=w(),{control:r=t.control,disabled:i,name:o,exact:a}=e||{},[s,u]=n.useState(r._formState),l=n.useRef(!0),c=n.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=n.useRef(o);return d.current=o,R({disabled:i,next:e=>l.current&&A(d.current,e.name,a)&&T(e,c.current,r._updateFormState)&&u({...r._formState,...e}),subject:r._subjects.state}),n.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),E(s,r,c.current,!1)}var P=e=>"string"==typeof e,L=(e,t,r,n,i)=>P(e)?(n&&t.watch.add(e),_(r,e,i)):Array.isArray(e)?e.map(e=>(n&&t.watch.add(e),_(r,e))):(n&&(t.watchAll=!0),r);function I(e){let t=w(),{control:r=t.control,name:i,defaultValue:o,disabled:a,exact:s}=e||{},u=n.useRef(i);u.current=i,R({disabled:a,subject:r._subjects.values,next:e=>{A(u.current,e.name,s)&&c(h(L(u.current,r._names,e.values||r._formValues,!1,o)))}});let[l,c]=n.useState(r._getWatch(i,o));return n.useEffect(()=>r._removeUnmounted()),l}var N=e=>/^\w*$/.test(e),F=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,t,r)=>{let n=-1,i=N(t)?[t]:F(t),o=i.length,a=o-1;for(;++n<o;){let t=i[n],o=r;if(n!==a){let r=e[t];o=u(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}e[t]=o,e=e[t]}return e};function M(e){let t=w(),{name:r,disabled:i,control:o=t.control,shouldUnregister:a}=e,s=d(o._names.array,r),u=I({control:o,name:r,defaultValue:_(o._formValues,r,_(o._defaultValues,r,e.defaultValue)),exact:!0}),c=O({control:o,name:r}),p=n.useRef(o.register(r,{...e.rules,value:u,...v(e.disabled)?{disabled:e.disabled}:{}}));return n.useEffect(()=>{let e=o._options.shouldUnregister||a,t=(e,t)=>{let r=_(o._fields,e);r&&(r._f.mount=t)};if(t(r,!0),e){let e=h(_(o._options.defaultValues,r));D(o._defaultValues,r,e),g(_(o._formValues,r))&&D(o._formValues,r,e)}return()=>{(s?e&&!o._state.action:e)?o.unregister(r):t(r,!1)}},[r,o,s,a]),n.useEffect(()=>{_(o._fields,r)&&o._updateDisabledField({disabled:i,fields:o._fields,name:r,value:_(o._fields,r)._f.value})},[i,r,o]),{field:{name:r,value:u,...v(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:n.useCallback(e=>p.current.onChange({target:{value:l(e),name:r},type:y.CHANGE}),[r]),onBlur:n.useCallback(()=>p.current.onBlur({target:{value:_(o._formValues,r),name:r},type:y.BLUR}),[r,o]),ref:e=>{let t=_(o._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!_(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_(c.validatingFields,r)},error:{enumerable:!0,get:()=>_(c.errors,r)}})}}let U=e=>e.render(M(e));var q=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},B=e=>({isOnSubmit:!e||e===b.onSubmit,isOnBlur:e===b.onBlur,isOnChange:e===b.onChange,isOnAll:e===b.all,isOnTouch:e===b.onTouched}),z=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let G=(e,t,r,n)=>{for(let i of r||Object.keys(e)){let r=_(e,i);if(r){let{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n||e.ref&&t(e.ref,e.name)&&!n)break;G(o,t)}else u(o)&&G(o,t)}}};var W=(e,t,r)=>{let n=m(_(e,r));return D(n,"root",t[r]),D(e,r,n),e},$=e=>"file"===e.type,H=e=>"function"==typeof e,V=e=>{if(!f)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Z=e=>P(e),K=e=>"radio"===e.type,J=e=>e instanceof RegExp;let Q={value:!1,isValid:!1},X={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?X:{value:e[0].value,isValid:!0}:X:Q}return Q};let ee={isValid:!1,value:null};var et=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ee):ee;function er(e,t,r="validate"){if(Z(e)||Array.isArray(e)&&e.every(Z)||v(e)&&!e)return{type:r,message:Z(e)?e:"",ref:t}}var en=e=>u(e)&&!J(e)?e:{value:e,message:""},ei=async(e,t,r,n,o)=>{let{ref:s,refs:l,required:c,maxLength:d,minLength:p,min:f,max:h,pattern:m,validate:y,name:b,valueAsNumber:S,mount:w,disabled:k}=e._f,E=_(t,b);if(!w||k)return{};let T=l?l[0]:s,j=e=>{n&&T.reportValidity&&(T.setCustomValidity(v(e)?"":e||""),T.reportValidity())},A={},R=K(s),O=i(s),L=R||O,I=(S||$(s))&&g(s.value)&&g(E)||V(s)&&""===s.value||""===E||Array.isArray(E)&&!E.length,N=q.bind(null,b,r,A),F=(e,t,r,n=x.maxLength,i=x.minLength)=>{let o=e?t:r;A[b]={type:e?n:i,message:o,ref:s,...N(e?n:i,o)}};if(o?!Array.isArray(E)||!E.length:c&&(!L&&(I||a(E))||v(E)&&!E||O&&!Y(l).isValid||R&&!et(l).isValid)){let{value:e,message:t}=Z(c)?{value:!!c,message:c}:en(c);if(e&&(A[b]={type:x.required,message:t,ref:T,...N(x.required,t)},!r))return j(t),A}if(!I&&(!a(f)||!a(h))){let e,t;let n=en(h),i=en(f);if(a(E)||isNaN(E)){let r=s.valueAsDate||new Date(E),o=e=>new Date(new Date().toDateString()+" "+e),a="time"==s.type,u="week"==s.type;P(n.value)&&E&&(e=a?o(E)>o(n.value):u?E>n.value:r>new Date(n.value)),P(i.value)&&E&&(t=a?o(E)<o(i.value):u?E<i.value:r<new Date(i.value))}else{let r=s.valueAsNumber||(E?+E:E);a(n.value)||(e=r>n.value),a(i.value)||(t=r<i.value)}if((e||t)&&(F(!!e,n.message,i.message,x.max,x.min),!r))return j(A[b].message),A}if((d||p)&&!I&&(P(E)||o&&Array.isArray(E))){let e=en(d),t=en(p),n=!a(e.value)&&E.length>+e.value,i=!a(t.value)&&E.length<+t.value;if((n||i)&&(F(n,e.message,t.message),!r))return j(A[b].message),A}if(m&&!I&&P(E)){let{value:e,message:t}=en(m);if(J(e)&&!E.match(e)&&(A[b]={type:x.pattern,message:t,ref:s,...N(x.pattern,t)},!r))return j(t),A}if(y){if(H(y)){let e=er(await y(E,t),T);if(e&&(A[b]={...e,...N(x.validate,e.message)},!r))return j(e.message),A}else if(u(y)){let e={};for(let n in y){if(!C(e)&&!r)break;let i=er(await y[n](E,t),T,n);i&&(e={...i,...N(n,i.message)},j(i.message),r&&(A[b]=e))}if(!C(e)&&(A[b]={ref:T,...e},!r))return A}}return j(!0),A};function eo(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=g(e)?n++:e[t[n++]];return e}function ea(e){for(let t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}function es(e,t){let r=Array.isArray(t)?t:N(t)?[t]:F(t),n=1===r.length?e:eo(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(u(n)&&C(n)||Array.isArray(n)&&ea(n))&&es(e,r.slice(0,-1)),e}var eu=()=>{let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},el=e=>a(e)||!s(e);function ec(e,t){if(el(e)||el(t))return e===t;if(o(e)&&o(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let r=e[i];if(!n.includes(i))return!1;if("ref"!==i){let e=t[i];if(o(r)&&o(e)||u(r)&&u(e)||Array.isArray(r)&&Array.isArray(e)?!ec(r,e):r!==e)return!1}}return!0}var ed=e=>"select-multiple"===e.type,ep=e=>K(e)||i(e),ef=e=>V(e)&&e.isConnected,eh=e=>{for(let t in e)if(H(e[t]))return!0;return!1};function em(e,t={}){let r=Array.isArray(e);if(u(e)||r)for(let r in e)Array.isArray(e[r])||u(e[r])&&!eh(e[r])?(t[r]=Array.isArray(e[r])?[]:{},em(e[r],t[r])):a(e[r])||(t[r]=!0);return t}function eg(e,t,r){let n=Array.isArray(e);if(u(e)||n)for(let n in e)Array.isArray(e[n])||u(e[n])&&!eh(e[n])?g(t)||el(r[n])?r[n]=Array.isArray(e[n])?em(e[n],[]):{...em(e[n])}:eg(e[n],a(t)?{}:t[n],r[n]):r[n]=!ec(e[n],t[n]);return r}var e_=(e,t)=>eg(e,t,em(t)),ev=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>g(e)?e:t?""===e?NaN:e?+e:e:r&&P(e)?new Date(e):n?n(e):e;function ey(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:$(t)?t.files:K(t)?et(e.refs).value:ed(t)?[...t.selectedOptions].map(({value:e})=>e):i(t)?Y(e.refs).value:ev(g(t.value)?e.ref.value:t.value,e)}var eb=(e,t,r,n)=>{let i={};for(let r of e){let e=_(t,r);e&&D(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},ex=e=>g(e)?e:J(e)?e.source:u(e)?J(e.value)?e.value.source:e.value:e,eS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ew(e,t,r){let n=_(e,r);if(n||N(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),o=_(t,n),a=_(e,n);if(o&&!Array.isArray(o)&&r!==n)break;if(a&&a.type)return{name:n,error:a};i.pop()}return{name:r}}var ek=(e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?!n.isOnChange:!i.isOnChange)||e),eE=(e,t)=>!m(_(e,t)).length&&es(e,t);let eC={mode:b.onSubmit,reValidateMode:b.onChange,shouldFocusError:!0};function eT(e={}){let t,r={...eC,...e},n={submitCount:0,isDirty:!1,isLoading:H(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},c=(u(r.defaultValues)||u(r.values))&&h(r.defaultValues||r.values)||{},p=r.shouldUnregister?{}:h(c),x={action:!1,mount:!1,watch:!1},S={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w=0,k={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},E={values:eu(),array:eu(),state:eu()},T=B(r.mode),A=B(r.reValidateMode),R=r.criteriaMode===b.all,O=e=>t=>{clearTimeout(w),w=setTimeout(e,t)},I=async e=>{if(k.isValid||e){let e=r.resolver?C((await J()).errors):await X(s,!0);e!==n.isValid&&E.state.next({isValid:e})}},N=(e,t)=>{(k.isValidating||k.validatingFields)&&((e||Array.from(S.mount)).forEach(e=>e&&D(n.validatingFields,e,!!t)),n.isValidating=Object.values(n.validatingFields).some(e=>e),E.state.next({validatingFields:n.validatingFields,isValidating:n.isValidating}))},F=(e,t=[],r,i,o=!0,a=!0)=>{if(i&&r){if(x.action=!0,a&&Array.isArray(_(s,e))){let t=r(_(s,e),i.argA,i.argB);o&&D(s,e,t)}if(a&&Array.isArray(_(n.errors,e))){let t=r(_(n.errors,e),i.argA,i.argB);o&&D(n.errors,e,t),eE(n.errors,e)}if(k.touchedFields&&a&&Array.isArray(_(n.touchedFields,e))){let t=r(_(n.touchedFields,e),i.argA,i.argB);o&&D(n.touchedFields,e,t)}k.dirtyFields&&(n.dirtyFields=e_(c,p)),E.state.next({name:e,isDirty:ee(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else D(p,e,t)},M=(e,t)=>{D(n.errors,e,t),E.state.next({errors:n.errors})},U=e=>{n.errors=e,E.state.next({errors:n.errors,isValid:!1})},q=(e,t,r,n)=>{let i=_(s,e);if(i){let o=_(p,e,g(r)?_(c,e):r);g(o)||n&&n.defaultChecked||t?D(p,e,t?o:ey(i._f)):er(e,o),x.mount&&I()}},Z=(e,t,r,i,o)=>{let a=!1,u=!1,l={name:e},d=!!(_(s,e)&&_(s,e)._f.disabled);if(!r||i){k.isDirty&&(u=n.isDirty,n.isDirty=l.isDirty=ee(),a=u!==l.isDirty);let r=d||ec(_(c,e),t);u=!!(!d&&_(n.dirtyFields,e)),r||d?es(n.dirtyFields,e):D(n.dirtyFields,e,!0),l.dirtyFields=n.dirtyFields,a=a||k.dirtyFields&&!r!==u}if(r){let t=_(n.touchedFields,e);t||(D(n.touchedFields,e,r),l.touchedFields=n.touchedFields,a=a||k.touchedFields&&t!==r)}return a&&o&&E.state.next(l),a?l:{}},K=(r,i,o,a)=>{let s=_(n.errors,r),u=k.isValid&&v(i)&&n.isValid!==i;if(e.delayError&&o?(t=O(()=>M(r,o)))(e.delayError):(clearTimeout(w),t=null,o?D(n.errors,r,o):es(n.errors,r)),(o?!ec(s,o):s)||!C(a)||u){let e={...a,...u&&v(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},E.state.next(e)}},J=async e=>{N(e,!0);let t=await r.resolver(p,r.context,eb(e||S.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return N(e),t},Q=async e=>{let{errors:t}=await J(e);if(e)for(let r of e){let e=_(t,r);e?D(n.errors,r,e):es(n.errors,r)}else n.errors=t;return t},X=async(e,t,i={valid:!0})=>{for(let o in e){let a=e[o];if(a){let{_f:e,...s}=a;if(e){let s=S.array.has(e.name);N([o],!0);let u=await ei(a,p,R,r.shouldUseNativeValidation&&!t,s);if(N([o]),u[e.name]&&(i.valid=!1,t))break;t||(_(u,e.name)?s?W(n.errors,u,e.name):D(n.errors,e.name,u[e.name]):es(n.errors,e.name))}s&&await X(s,t,i)}}return i.valid},Y=()=>{for(let e of S.unMount){let t=_(s,e);t&&(t._f.refs?t._f.refs.every(e=>!ef(e)):!ef(t._f.ref))&&eO(e)}S.unMount=new Set},ee=(e,t)=>(e&&t&&D(p,e,t),!ec(eg(),c)),et=(e,t,r)=>L(e,S,{...x.mount?p:g(t)?c:P(e)?{[e]:t}:t},r,t),er=(e,t,r={})=>{let n=_(s,e),o=t;if(n){let r=n._f;r&&(r.disabled||D(p,e,ev(t,r)),o=V(r.ref)&&a(t)?"":t,ed(r.ref)?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?i(r.ref)?r.refs.length>1?r.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find(t=>t===e.value):o===e.value)):r.refs[0]&&(r.refs[0].checked=!!o):r.refs.forEach(e=>e.checked=e.value===o):$(r.ref)?r.ref.value="":(r.ref.value=o,r.ref.type||E.values.next({name:e,values:{...p}})))}(r.shouldDirty||r.shouldTouch)&&Z(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&em(e)},en=(e,t,r)=>{for(let n in t){let i=t[n],a=`${e}.${n}`,u=_(s,a);!S.array.has(e)&&el(i)&&(!u||u._f)||o(i)?er(a,i,r):en(a,i,r)}},eo=(e,t,r={})=>{let i=_(s,e),o=S.array.has(e),u=h(t);D(p,e,u),o?(E.array.next({name:e,values:{...p}}),(k.isDirty||k.dirtyFields)&&r.shouldDirty&&E.state.next({name:e,dirtyFields:e_(c,p),isDirty:ee(e,u)})):!i||i._f||a(u)?er(e,u,r):en(e,u,r),z(e,S)&&E.state.next({...n}),E.values.next({name:x.mount?e:void 0,values:{...p}})},ea=async e=>{let i=e.target,o=i.name,a=!0,u=_(s,o),c=()=>i.type?ey(u._f):l(e),d=e=>{a=Number.isNaN(e)||e===_(p,o,e)};if(u){let i,l;let f=c(),h=e.type===y.BLUR||e.type===y.FOCUS_OUT,m=!eS(u._f)&&!r.resolver&&!_(n.errors,o)&&!u._f.deps||ek(h,_(n.touchedFields,o),n.isSubmitted,A,T),g=z(o,S,h);D(p,o,f),h?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);let v=Z(o,f,h,!1),b=!C(v)||g;if(h||E.values.next({name:o,type:e.type,values:{...p}}),m)return k.isValid&&I(),b&&E.state.next({name:o,...g?{}:v});if(!h&&g&&E.state.next({...n}),r.resolver){let{errors:e}=await J([o]);if(d(f),a){let t=ew(n.errors,s,o),r=ew(e,s,t.name||o);i=r.error,o=r.name,l=C(e)}}else N([o],!0),i=(await ei(u,p,R,r.shouldUseNativeValidation))[o],N([o]),d(f),a&&(i?l=!1:k.isValid&&(l=await X(s,!0)));a&&(u._f.deps&&em(u._f.deps),K(o,l,i,v))}},eh=(e,t)=>{if(_(n.errors,t)&&e.focus)return e.focus(),1},em=async(e,t={})=>{let i,o;let a=j(e);if(r.resolver){let t=await Q(g(e)?e:a);i=C(t),o=e?!a.some(e=>_(t,e)):i}else e?((o=(await Promise.all(a.map(async e=>{let t=_(s,e);return await X(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&I():o=i=await X(s);return E.state.next({...!P(e)||k.isValid&&i!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:i}:{},errors:n.errors}),t.shouldFocus&&!o&&G(s,eh,e?a:S.mount),o},eg=e=>{let t={...c,...x.mount?p:{}};return g(e)?t:P(e)?_(t,e):e.map(e=>_(t,e))},eT=(e,t)=>({invalid:!!_((t||n).errors,e),isDirty:!!_((t||n).dirtyFields,e),isTouched:!!_((t||n).touchedFields,e),isValidating:!!_((t||n).validatingFields,e),error:_((t||n).errors,e)}),ej=e=>{e&&j(e).forEach(e=>es(n.errors,e)),E.state.next({errors:e?n.errors:{}})},eA=(e,t,r)=>{let i=(_(s,e,{_f:{}})._f||{}).ref;D(n.errors,e,{...t,ref:i}),E.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},eR=(e,t)=>H(e)?E.values.subscribe({next:r=>e(et(void 0,t),r)}):et(e,t,!0),eO=(e,t={})=>{for(let i of e?j(e):S.mount)S.mount.delete(i),S.array.delete(i),t.keepValue||(es(s,i),es(p,i)),t.keepError||es(n.errors,i),t.keepDirty||es(n.dirtyFields,i),t.keepTouched||es(n.touchedFields,i),t.keepIsValidating||es(n.validatingFields,i),r.shouldUnregister||t.keepDefaultValue||es(c,i);E.values.next({values:{...p}}),E.state.next({...n,...t.keepDirty?{isDirty:ee()}:{}}),t.keepIsValid||I()},eP=({disabled:e,name:t,field:r,fields:n,value:i})=>{if(v(e)){let o=e?void 0:g(i)?ey(r?r._f:_(n,t)._f):i;D(p,t,o),Z(t,o,!1,!1,!0)}},eL=(e,t={})=>{let n=_(s,e),i=v(t.disabled);return D(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),S.mount.add(e),n?eP({field:n,disabled:t.disabled,name:e,value:t.value}):q(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:ex(t.min),max:ex(t.max),minLength:ex(t.minLength),maxLength:ex(t.maxLength),pattern:ex(t.pattern)}:{},name:e,onChange:ea,onBlur:ea,ref:i=>{if(i){eL(e,t),n=_(s,e);let r=g(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=ep(r),a=n._f.refs||[];(o?a.find(e=>e===r):r===n._f.ref)||(D(s,e,{_f:{...n._f,...o?{refs:[...a.filter(ef),r,...Array.isArray(_(c,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),q(e,!1,void 0,r))}else(n=_(s,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(d(S.array,e)&&x.action)&&S.unMount.add(e)}}},eI=()=>r.shouldFocusError&&G(s,eh,S.mount),eN=(e,t)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let a=h(p);if(E.state.next({isSubmitting:!0}),r.resolver){let{errors:e,values:t}=await J();n.errors=e,a=t}else await X(s);if(es(n.errors,"root"),C(n.errors)){E.state.next({errors:{}});try{await e(a,i)}catch(e){o=e}}else t&&await t({...n.errors},i),eI(),setTimeout(eI);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:C(n.errors)&&!o,submitCount:n.submitCount+1,errors:n.errors}),o)throw o},eF=(e,t={})=>{_(s,e)&&(g(t.defaultValue)?eo(e,h(_(c,e))):(eo(e,t.defaultValue),D(c,e,h(t.defaultValue))),t.keepTouched||es(n.touchedFields,e),t.keepDirty||(es(n.dirtyFields,e),n.isDirty=t.defaultValue?ee(e,h(_(c,e))):ee()),!t.keepError&&(es(n.errors,e),k.isValid&&I()),E.state.next({...n}))},eD=(t,r={})=>{let i=t?h(t):c,o=h(i),a=C(t),u=a?c:o;if(r.keepDefaultValues||(c=i),!r.keepValues){if(r.keepDirtyValues)for(let e of S.mount)_(n.dirtyFields,e)?D(u,e,_(p,e)):eo(e,_(u,e));else{if(f&&g(t))for(let e of S.mount){let t=_(s,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(V(e)){let t=e.closest("form");if(t){t.reset();break}}}}s={}}p=e.shouldUnregister?r.keepDefaultValues?h(c):{}:h(u),E.array.next({values:{...u}}),E.values.next({values:{...u}})}S={mount:r.keepDirtyValues?S.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},x.mount=!k.isValid||!!r.keepIsValid||!!r.keepDirtyValues,x.watch=!!e.shouldUnregister,E.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!a&&(r.keepDirty?n.isDirty:!!(r.keepDefaultValues&&!ec(t,c))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:a?[]:r.keepDirtyValues?r.keepDefaultValues&&p?e_(c,p):n.dirtyFields:r.keepDefaultValues&&t?e_(c,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},eM=(e,t)=>eD(H(e)?e(p):e,t),eU=(e,t={})=>{let r=_(s,e),n=r&&r._f;if(n){let e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}};return{control:{register:eL,unregister:eO,getFieldState:eT,handleSubmit:eN,setError:eA,_executeSchema:J,_getWatch:et,_getDirty:ee,_updateValid:I,_removeUnmounted:Y,_updateFieldArray:F,_updateDisabledField:eP,_getFieldArray:t=>m(_(x.mount?p:c,t,e.shouldUnregister?_(c,t,[]):[])),_reset:eD,_resetDefaultValues:()=>H(r.defaultValues)&&r.defaultValues().then(e=>{eM(e,r.resetOptions),E.state.next({isLoading:!1})}),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{v(e)&&(E.state.next({disabled:e}),G(s,(t,r)=>{let n=e,i=_(s,r);i&&v(i._f.disabled)&&(n||(n=i._f.disabled)),t.disabled=n},0,!1))},_subjects:E,_proxyFormState:k,_setErrors:U,get _fields(){return s},get _formValues(){return p},get _state(){return x},set _state(value){x=value},get _defaultValues(){return c},get _names(){return S},set _names(value){S=value},get _formState(){return n},set _formState(value){n=value},get _options(){return r},set _options(value){r={...r,...value}}},trigger:em,register:eL,handleSubmit:eN,watch:eR,setValue:eo,getValues:eg,reset:eM,resetField:eF,clearErrors:ej,unregister:eO,setError:eA,setFocus:eU,getFieldState:eT}}function ej(e={}){let t=n.useRef(),r=n.useRef(),[i,o]=n.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...eT(e),formState:i});let a=t.current.control;return a._options=e,R({subject:a._subjects.state,next:e=>{T(e,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),n.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),n.useEffect(()=>{if(a._proxyFormState.isDirty){let e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}},[a,i.isDirty]),n.useEffect(()=>{e.values&&!ec(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,o(e=>({...e}))):a._resetDefaultValues()},[e.values,a]),n.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),n.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),n.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=E(i,a),t.current}},92336:function(e,t,r){"use strict";r.d(t,{_T:function(){return i},ev:function(){return a},gn:function(){return o},pi:function(){return n}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function a(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(224),t(6913),t(10583)}),_N_E=e.O()}]);
//# sourceMappingURL=_app-a8763b48d55ecde6.js.map