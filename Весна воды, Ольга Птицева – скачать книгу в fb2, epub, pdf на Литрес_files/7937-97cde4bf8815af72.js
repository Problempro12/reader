!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e2400094-bea8-4860-92c0-167b8a4498d1",e._sentryDebugIdIdentifier="sentry-dbid-e2400094-bea8-4860-92c0-167b8a4498d1")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7937],{28894:function(e,t,o){"use strict";o.d(t,{M:function(){return G},Z:function(){return Q}});var a=o(31549),r=o(44194),n=o(26249),s=o(48592),i=o(4438),l=o(36486),_=o(59838),d=o(92202),c=o.n(d);let u=[["image_0","data:image/svg+xml,%3Csvg%20%20%20width%3D%2238%22%20%20%20height%3D%2224%22%20%20%20viewBox%3D%220%200%2038%2024%22%20%20%20fill%3D%22none%22%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%3E%3Cpath%20%20%20%20%20fill-rule%3D%22evenodd%22%20%20%20%20%20clip-rule%3D%22evenodd%22%20%20%20%20%20d%3D%22M33.4126%208.3437C34.1863%206.69782%2033.8032%204.75665%2032.1283%202.60229L35.4332%200C37.6089%202.79855%2038.936%206.46897%2037.2058%2010.1496C35.9893%2012.7376%2033.0893%2013.7645%2030.5286%2014.1286C30.4884%2014.1344%2030.448%2014.1399%2030.4076%2014.1454C30.929%2015.9983%2031.0427%2017.9734%2030.3688%2019.8399C29.3455%2022.6736%2026.421%2023.6172%2023.9032%2023.8919C21.2299%2024.1835%2018.0115%2023.8553%2014.9061%2023.2658C11.7711%2022.6706%208.6087%2021.781%205.99213%2020.8607C3.46892%2019.9732%201.18206%2018.965%200%2018.0506L2.55733%2014.7023C3.1477%2015.159%204.84614%2015.9841%207.37657%2016.8741C9.81364%2017.7313%2012.7732%2018.5633%2015.684%2019.1159C18.6243%2019.6741%2021.3754%2019.9198%2023.451%2019.6934C25.6819%2019.45%2026.2854%2018.7837%2026.4248%2018.3975C26.7963%2017.3688%2026.7011%2015.9592%2026.0148%2014.2622C24.5917%2014.1682%2023.1544%2013.9596%2021.7826%2013.659C18.9425%2013.0368%2016.1179%2011.9628%2014.1989%2010.4554C13.2362%209.6992%2012.3399%208.70704%2011.9191%207.44712C11.4658%206.09004%2011.6519%204.68052%2012.4227%203.39966C13.1208%202.23957%2014.1701%201.50874%2015.3998%201.2358C16.5575%200.978822%2017.7394%201.15391%2018.7967%201.49705C20.8999%202.17965%2023.092%203.71485%2024.962%205.54198C26.3116%206.86067%2027.5781%208.4137%2028.5866%2010.0735C29.0567%2010.0503%2029.5103%2010.0084%2029.9415%209.94711C32.2076%209.62489%2033.1569%208.88776%2033.4126%208.3437ZM23.0239%209.60636C22.7071%209.24886%2022.3776%208.90285%2022.0389%208.57193C20.4305%207.0004%2018.7787%205.92845%2017.5087%205.51628C16.8794%205.31204%2016.4925%205.31783%2016.3036%205.35975C16.1866%205.38571%2016.1115%205.42199%2016.0121%205.58731C15.8293%205.89095%2015.8674%206.0141%2015.8966%206.10158C15.9583%206.28621%2016.175%206.6505%2016.7808%207.12635C17.9989%208.08315%2020.1335%208.97578%2022.6752%209.53261C22.7911%209.55802%2022.9074%209.5826%2023.0239%209.60636Z%22%20%20%20%20%20fill%3D%22%23D2F175%22%20%20%20%2F%3E%3C%2Fsvg%3E"],["image_1","data:image/svg+xml,%3Csvg%20%20%20width%3D%2238%22%20%20%20height%3D%2224%22%20%20%20viewBox%3D%220%200%2038%2024%22%20%20%20fill%3D%22none%22%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%3E%3Cpath%20%20%20%20%20fill-rule%3D%22evenodd%22%20%20%20%20%20clip-rule%3D%22evenodd%22%20%20%20%20%20d%3D%22M33.4126%208.3437C34.1863%206.69782%2033.8032%204.75665%2032.1283%202.60229L35.4332%200C37.6089%202.79855%2038.936%206.46897%2037.2058%2010.1496C35.9893%2012.7376%2033.0893%2013.7645%2030.5286%2014.1286C30.4884%2014.1344%2030.448%2014.1399%2030.4076%2014.1454C30.929%2015.9983%2031.0427%2017.9734%2030.3688%2019.8399C29.3455%2022.6736%2026.421%2023.6172%2023.9032%2023.8919C21.2299%2024.1835%2018.0115%2023.8553%2014.9061%2023.2658C11.7711%2022.6706%208.6087%2021.781%205.99213%2020.8607C3.46892%2019.9732%201.18206%2018.965%200%2018.0506L2.55733%2014.7023C3.1477%2015.159%204.84614%2015.9841%207.37657%2016.8741C9.81364%2017.7313%2012.7732%2018.5633%2015.684%2019.1159C18.6243%2019.6741%2021.3754%2019.9198%2023.451%2019.6934C25.6819%2019.45%2026.2854%2018.7837%2026.4248%2018.3975C26.7963%2017.3688%2026.7011%2015.9592%2026.0148%2014.2622C24.5917%2014.1682%2023.1544%2013.9596%2021.7826%2013.659C18.9425%2013.0368%2016.1179%2011.9628%2014.1989%2010.4554C13.2362%209.6992%2012.3399%208.70704%2011.9191%207.44712C11.4658%206.09004%2011.6519%204.68052%2012.4227%203.39966C13.1208%202.23957%2014.1701%201.50874%2015.3998%201.2358C16.5575%200.978822%2017.7394%201.15391%2018.7967%201.49705C20.8999%202.17965%2023.092%203.71485%2024.962%205.54198C26.3116%206.86067%2027.5781%208.4137%2028.5866%2010.0735C29.0567%2010.0503%2029.5103%2010.0084%2029.9415%209.94711C32.2076%209.62489%2033.1569%208.88776%2033.4126%208.3437ZM23.0239%209.60636C22.7071%209.24886%2022.3776%208.90285%2022.0389%208.57193C20.4305%207.0004%2018.7787%205.92845%2017.5087%205.51628C16.8794%205.31204%2016.4925%205.31783%2016.3036%205.35975C16.1866%205.38571%2016.1115%205.42199%2016.0121%205.58731C15.8293%205.89095%2015.8674%206.0141%2015.8966%206.10158C15.9583%206.28621%2016.175%206.6505%2016.7808%207.12635C17.9989%208.08315%2020.1335%208.97578%2022.6752%209.53261C22.7911%209.55802%2022.9074%209.5826%2023.0239%209.60636Z%22%20%20%20%20%20fill%3D%22%236262FF%22%20%20%20%2F%3E%3C%2Fsvg%3E"],["image_2","data:image/svg+xml,%3Csvg%20%20%20width%3D%2238%22%20%20%20height%3D%2224%22%20%20%20viewBox%3D%220%200%2038%2024%22%20%20%20fill%3D%22none%22%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%3E%3Cpath%20%20%20%20%20fill-rule%3D%22evenodd%22%20%20%20%20%20clip-rule%3D%22evenodd%22%20%20%20%20%20d%3D%22M33.4126%208.3437C34.1863%206.69782%2033.8032%204.75665%2032.1283%202.60229L35.4332%200C37.6089%202.79855%2038.936%206.46897%2037.2058%2010.1496C35.9893%2012.7376%2033.0893%2013.7645%2030.5286%2014.1286C30.4884%2014.1344%2030.448%2014.1399%2030.4076%2014.1454C30.929%2015.9983%2031.0427%2017.9734%2030.3688%2019.8399C29.3455%2022.6736%2026.421%2023.6172%2023.9032%2023.8919C21.2299%2024.1835%2018.0115%2023.8553%2014.9061%2023.2658C11.7711%2022.6706%208.6087%2021.781%205.99213%2020.8607C3.46892%2019.9732%201.18206%2018.965%200%2018.0506L2.55733%2014.7023C3.1477%2015.159%204.84614%2015.9841%207.37657%2016.8741C9.81364%2017.7313%2012.7732%2018.5633%2015.684%2019.1159C18.6243%2019.6741%2021.3754%2019.9198%2023.451%2019.6934C25.6819%2019.45%2026.2854%2018.7837%2026.4248%2018.3975C26.7963%2017.3688%2026.7011%2015.9592%2026.0148%2014.2622C24.5917%2014.1682%2023.1544%2013.9596%2021.7826%2013.659C18.9425%2013.0368%2016.1179%2011.9628%2014.1989%2010.4554C13.2362%209.6992%2012.3399%208.70704%2011.9191%207.44712C11.4658%206.09004%2011.6519%204.68052%2012.4227%203.39966C13.1208%202.23957%2014.1701%201.50874%2015.3998%201.2358C16.5575%200.978822%2017.7394%201.15391%2018.7967%201.49705C20.8999%202.17965%2023.092%203.71485%2024.962%205.54198C26.3116%206.86067%2027.5781%208.4137%2028.5866%2010.0735C29.0567%2010.0503%2029.5103%2010.0084%2029.9415%209.94711C32.2076%209.62489%2033.1569%208.88776%2033.4126%208.3437ZM23.0239%209.60636C22.7071%209.24886%2022.3776%208.90285%2022.0389%208.57193C20.4305%207.0004%2018.7787%205.92845%2017.5087%205.51628C16.8794%205.31204%2016.4925%205.31783%2016.3036%205.35975C16.1866%205.38571%2016.1115%205.42199%2016.0121%205.58731C15.8293%205.89095%2015.8674%206.0141%2015.8966%206.10158C15.9583%206.28621%2016.175%206.6505%2016.7808%207.12635C17.9989%208.08315%2020.1335%208.97578%2022.6752%209.53261C22.7911%209.55802%2022.9074%209.5826%2023.0239%209.60636Z%22%20%20%20%20%20fill%3D%22%23FF5500%22%20%20%20%2F%3E%3C%2Fsvg%3E"],["image_3","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAzOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMy40MTI2IDguMzQzN0MzNC4xODYzIDYuNjk3ODIgMzMuODAzMiA0Ljc1NjY1IDMyLjEyODMgMi42MDIyOUwzNS40MzMyIDBDMzcuNjA4OSAyLjc5ODU1IDM4LjkzNiA2LjQ2ODk3IDM3LjIwNTggMTAuMTQ5NkMzNS45ODkzIDEyLjczNzYgMzMuMDg5MyAxMy43NjQ1IDMwLjUyODYgMTQuMTI4NkMzMC40ODg0IDE0LjEzNDQgMzAuNDQ4IDE0LjEzOTkgMzAuNDA3NiAxNC4xNDU0QzMwLjkyOSAxNS45OTgzIDMxLjA0MjcgMTcuOTczNCAzMC4zNjg4IDE5LjgzOTlDMjkuMzQ1NSAyMi42NzM2IDI2LjQyMSAyMy42MTcyIDIzLjkwMzIgMjMuODkxOUMyMS4yMjk5IDI0LjE4MzUgMTguMDExNSAyMy44NTUzIDE0LjkwNjEgMjMuMjY1OEMxMS43NzExIDIyLjY3MDYgOC42MDg3IDIxLjc4MSA1Ljk5MjEzIDIwLjg2MDdDMy40Njg5MiAxOS45NzMyIDEuMTgyMDYgMTguOTY1IDAgMTguMDUwNkwyLjU1NzMzIDE0LjcwMjNDMy4xNDc3IDE1LjE1OSA0Ljg0NjE0IDE1Ljk4NDEgNy4zNzY1NyAxNi44NzQxQzkuODEzNjQgMTcuNzMxMyAxMi43NzMyIDE4LjU2MzMgMTUuNjg0IDE5LjExNTlDMTguNjI0MyAxOS42NzQxIDIxLjM3NTQgMTkuOTE5OCAyMy40NTEgMTkuNjkzNEMyNS42ODE5IDE5LjQ1IDI2LjI4NTQgMTguNzgzNyAyNi40MjQ4IDE4LjM5NzVDMjYuNzk2MyAxNy4zNjg4IDI2LjcwMTEgMTUuOTU5MiAyNi4wMTQ4IDE0LjI2MjJDMjQuNTkxNyAxNC4xNjgyIDIzLjE1NDQgMTMuOTU5NiAyMS43ODI2IDEzLjY1OUMxOC45NDI1IDEzLjAzNjggMTYuMTE3OSAxMS45NjI4IDE0LjE5ODkgMTAuNDU1NEMxMy4yMzYyIDkuNjk5MiAxMi4zMzk5IDguNzA3MDQgMTEuOTE5MSA3LjQ0NzEyQzExLjQ2NTggNi4wOTAwNCAxMS42NTE5IDQuNjgwNTIgMTIuNDIyNyAzLjM5OTY2QzEzLjEyMDggMi4yMzk1NyAxNC4xNzAxIDEuNTA4NzQgMTUuMzk5OCAxLjIzNThDMTYuNTU3NSAwLjk3ODgyMiAxNy43Mzk0IDEuMTUzOTEgMTguNzk2NyAxLjQ5NzA1QzIwLjg5OTkgMi4xNzk2NSAyMy4wOTIgMy43MTQ4NSAyNC45NjIgNS41NDE5OEMyNi4zMTE2IDYuODYwNjcgMjcuNTc4MSA4LjQxMzcgMjguNTg2NiAxMC4wNzM1QzI5LjA1NjcgMTAuMDUwMyAyOS41MTAzIDEwLjAwODQgMjkuOTQxNSA5Ljk0NzExQzMyLjIwNzYgOS42MjQ4OSAzMy4xNTY5IDguODg3NzYgMzMuNDEyNiA4LjM0MzdaTTIzLjAyMzkgOS42MDYzNkMyMi43MDcxIDkuMjQ4ODYgMjIuMzc3NiA4LjkwMjg1IDIyLjAzODkgOC41NzE5M0MyMC40MzA1IDcuMDAwNCAxOC43Nzg3IDUuOTI4NDUgMTcuNTA4NyA1LjUxNjI4QzE2Ljg3OTQgNS4zMTIwNCAxNi40OTI1IDUuMzE3ODMgMTYuMzAzNiA1LjM1OTc1QzE2LjE4NjYgNS4zODU3MSAxNi4xMTE1IDUuNDIxOTkgMTYuMDEyMSA1LjU4NzMxQzE1LjgyOTMgNS44OTA5NSAxNS44Njc0IDYuMDE0MSAxNS44OTY2IDYuMTAxNThDMTUuOTU4MyA2LjI4NjIxIDE2LjE3NSA2LjY1MDUgMTYuNzgwOCA3LjEyNjM1QzE3Ljk5ODkgOC4wODMxNSAyMC4xMzM1IDguOTc1NzggMjIuNjc1MiA5LjUzMjYxQzIyLjc5MTEgOS41NTgwMiAyMi45MDc0IDkuNTgyNiAyMy4wMjM5IDkuNjA2MzZaIiBmaWxsPSIjRkY1NTAwIi8+Cjwvc3ZnPgo="],["image_4","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAzOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMy40MTI2IDguMzQzN0MzNC4xODYzIDYuNjk3ODIgMzMuODAzMiA0Ljc1NjY1IDMyLjEyODMgMi42MDIyOUwzNS40MzMyIDBDMzcuNjA4OSAyLjc5ODU1IDM4LjkzNiA2LjQ2ODk3IDM3LjIwNTggMTAuMTQ5NkMzNS45ODkzIDEyLjczNzYgMzMuMDg5MyAxMy43NjQ1IDMwLjUyODYgMTQuMTI4NkMzMC40ODg0IDE0LjEzNDQgMzAuNDQ4IDE0LjEzOTkgMzAuNDA3NiAxNC4xNDU0QzMwLjkyOSAxNS45OTgzIDMxLjA0MjcgMTcuOTczNCAzMC4zNjg4IDE5LjgzOTlDMjkuMzQ1NSAyMi42NzM2IDI2LjQyMSAyMy42MTcyIDIzLjkwMzIgMjMuODkxOUMyMS4yMjk5IDI0LjE4MzUgMTguMDExNSAyMy44NTUzIDE0LjkwNjEgMjMuMjY1OEMxMS43NzExIDIyLjY3MDYgOC42MDg3IDIxLjc4MSA1Ljk5MjEzIDIwLjg2MDdDMy40Njg5MiAxOS45NzMyIDEuMTgyMDYgMTguOTY1IDAgMTguMDUwNkwyLjU1NzMzIDE0LjcwMjNDMy4xNDc3IDE1LjE1OSA0Ljg0NjE0IDE1Ljk4NDEgNy4zNzY1NyAxNi44NzQxQzkuODEzNjQgMTcuNzMxMyAxMi43NzMyIDE4LjU2MzMgMTUuNjg0IDE5LjExNTlDMTguNjI0MyAxOS42NzQxIDIxLjM3NTQgMTkuOTE5OCAyMy40NTEgMTkuNjkzNEMyNS42ODE5IDE5LjQ1IDI2LjI4NTQgMTguNzgzNyAyNi40MjQ4IDE4LjM5NzVDMjYuNzk2MyAxNy4zNjg4IDI2LjcwMTEgMTUuOTU5MiAyNi4wMTQ4IDE0LjI2MjJDMjQuNTkxNyAxNC4xNjgyIDIzLjE1NDQgMTMuOTU5NiAyMS43ODI2IDEzLjY1OUMxOC45NDI1IDEzLjAzNjggMTYuMTE3OSAxMS45NjI4IDE0LjE5ODkgMTAuNDU1NEMxMy4yMzYyIDkuNjk5MiAxMi4zMzk5IDguNzA3MDQgMTEuOTE5MSA3LjQ0NzEyQzExLjQ2NTggNi4wOTAwNCAxMS42NTE5IDQuNjgwNTIgMTIuNDIyNyAzLjM5OTY2QzEzLjEyMDggMi4yMzk1NyAxNC4xNzAxIDEuNTA4NzQgMTUuMzk5OCAxLjIzNThDMTYuNTU3NSAwLjk3ODgyMiAxNy43Mzk0IDEuMTUzOTEgMTguNzk2NyAxLjQ5NzA1QzIwLjg5OTkgMi4xNzk2NSAyMy4wOTIgMy43MTQ4NSAyNC45NjIgNS41NDE5OEMyNi4zMTE2IDYuODYwNjcgMjcuNTc4MSA4LjQxMzcgMjguNTg2NiAxMC4wNzM1QzI5LjA1NjcgMTAuMDUwMyAyOS41MTAzIDEwLjAwODQgMjkuOTQxNSA5Ljk0NzExQzMyLjIwNzYgOS42MjQ4OSAzMy4xNTY5IDguODg3NzYgMzMuNDEyNiA4LjM0MzdaTTIzLjAyMzkgOS42MDYzNkMyMi43MDcxIDkuMjQ4ODYgMjIuMzc3NiA4LjkwMjg1IDIyLjAzODkgOC41NzE5M0MyMC40MzA1IDcuMDAwNCAxOC43Nzg3IDUuOTI4NDUgMTcuNTA4NyA1LjUxNjI4QzE2Ljg3OTQgNS4zMTIwNCAxNi40OTI1IDUuMzE3ODMgMTYuMzAzNiA1LjM1OTc1QzE2LjE4NjYgNS4zODU3MSAxNi4xMTE1IDUuNDIxOTkgMTYuMDEyMSA1LjU4NzMxQzE1LjgyOTMgNS44OTA5NSAxNS44Njc0IDYuMDE0MSAxNS44OTY2IDYuMTAxNThDMTUuOTU4MyA2LjI4NjIxIDE2LjE3NSA2LjY1MDUgMTYuNzgwOCA3LjEyNjM1QzE3Ljk5ODkgOC4wODMxNSAyMC4xMzM1IDguOTc1NzggMjIuNjc1MiA5LjUzMjYxQzIyLjc5MTEgOS41NTgwMiAyMi45MDc0IDkuNTgyNiAyMy4wMjM5IDkuNjA2MzZaIiBmaWxsPSIjRDJGMTc1Ii8+Cjwvc3ZnPgo="],["image_5","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAzOCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMy40MTI2IDguMzQzN0MzNC4xODYzIDYuNjk3ODIgMzMuODAzMiA0Ljc1NjY1IDMyLjEyODMgMi42MDIyOUwzNS40MzMyIDBDMzcuNjA4OSAyLjc5ODU1IDM4LjkzNiA2LjQ2ODk3IDM3LjIwNTggMTAuMTQ5NkMzNS45ODkzIDEyLjczNzYgMzMuMDg5MyAxMy43NjQ1IDMwLjUyODYgMTQuMTI4NkMzMC40ODg0IDE0LjEzNDQgMzAuNDQ4IDE0LjEzOTkgMzAuNDA3NiAxNC4xNDU0QzMwLjkyOSAxNS45OTgzIDMxLjA0MjcgMTcuOTczNCAzMC4zNjg4IDE5LjgzOTlDMjkuMzQ1NSAyMi42NzM2IDI2LjQyMSAyMy42MTcyIDIzLjkwMzIgMjMuODkxOUMyMS4yMjk5IDI0LjE4MzUgMTguMDExNSAyMy44NTUzIDE0LjkwNjEgMjMuMjY1OEMxMS43NzExIDIyLjY3MDYgOC42MDg3IDIxLjc4MSA1Ljk5MjEzIDIwLjg2MDdDMy40Njg5MiAxOS45NzMyIDEuMTgyMDYgMTguOTY1IDAgMTguMDUwNkwyLjU1NzMzIDE0LjcwMjNDMy4xNDc3IDE1LjE1OSA0Ljg0NjE0IDE1Ljk4NDEgNy4zNzY1NyAxNi44NzQxQzkuODEzNjQgMTcuNzMxMyAxMi43NzMyIDE4LjU2MzMgMTUuNjg0IDE5LjExNTlDMTguNjI0MyAxOS42NzQxIDIxLjM3NTQgMTkuOTE5OCAyMy40NTEgMTkuNjkzNEMyNS42ODE5IDE5LjQ1IDI2LjI4NTQgMTguNzgzNyAyNi40MjQ4IDE4LjM5NzVDMjYuNzk2MyAxNy4zNjg4IDI2LjcwMTEgMTUuOTU5MiAyNi4wMTQ4IDE0LjI2MjJDMjQuNTkxNyAxNC4xNjgyIDIzLjE1NDQgMTMuOTU5NiAyMS43ODI2IDEzLjY1OUMxOC45NDI1IDEzLjAzNjggMTYuMTE3OSAxMS45NjI4IDE0LjE5ODkgMTAuNDU1NEMxMy4yMzYyIDkuNjk5MiAxMi4zMzk5IDguNzA3MDQgMTEuOTE5MSA3LjQ0NzEyQzExLjQ2NTggNi4wOTAwNCAxMS42NTE5IDQuNjgwNTIgMTIuNDIyNyAzLjM5OTY2QzEzLjEyMDggMi4yMzk1NyAxNC4xNzAxIDEuNTA4NzQgMTUuMzk5OCAxLjIzNThDMTYuNTU3NSAwLjk3ODgyMiAxNy43Mzk0IDEuMTUzOTEgMTguNzk2NyAxLjQ5NzA1QzIwLjg5OTkgMi4xNzk2NSAyMy4wOTIgMy43MTQ4NSAyNC45NjIgNS41NDE5OEMyNi4zMTE2IDYuODYwNjcgMjcuNTc4MSA4LjQxMzcgMjguNTg2NiAxMC4wNzM1QzI5LjA1NjcgMTAuMDUwMyAyOS41MTAzIDEwLjAwODQgMjkuOTQxNSA5Ljk0NzExQzMyLjIwNzYgOS42MjQ4OSAzMy4xNTY5IDguODg3NzYgMzMuNDEyNiA4LjM0MzdaTTIzLjAyMzkgOS42MDYzNkMyMi43MDcxIDkuMjQ4ODYgMjIuMzc3NiA4LjkwMjg1IDIyLjAzODkgOC41NzE5M0MyMC40MzA1IDcuMDAwNCAxOC43Nzg3IDUuOTI4NDUgMTcuNTA4NyA1LjUxNjI4QzE2Ljg3OTQgNS4zMTIwNCAxNi40OTI1IDUuMzE3ODMgMTYuMzAzNiA1LjM1OTc1QzE2LjE4NjYgNS4zODU3MSAxNi4xMTE1IDUuNDIxOTkgMTYuMDEyMSA1LjU4NzMxQzE1LjgyOTMgNS44OTA5NSAxNS44Njc0IDYuMDE0MSAxNS44OTY2IDYuMTAxNThDMTUuOTU4MyA2LjI4NjIxIDE2LjE3NSA2LjY1MDUgMTYuNzgwOCA3LjEyNjM1QzE3Ljk5ODkgOC4wODMxNSAyMC4xMzM1IDguOTc1NzggMjIuNjc1MiA5LjUzMjYxQzIyLjc5MTEgOS41NTgwMiAyMi45MDc0IDkuNTgyNiAyMy4wMjM5IDkuNjA2MzZaIiBmaWxsPSIjNjI2MkZGIi8+Cjwvc3ZnPgo="]],m=e=>{let{isAnimated:t,sourceRef:o}=e,n=(0,r.useRef)([]);(0,r.useEffect)(()=>{u.forEach(e=>{let[t,o]=e;(0,l.po)(o).then(e=>n.current.push([t,e])).catch(e=>{console.log(e,t,o)})})},[]);let{createConfetti:s,canvasProps:i}=(0,l.$0)({shapeFunctions:{...l.CL,...Object.fromEntries(n.current.map(e=>{let[t,o]=e;return[t,(0,l.Y2)(o)]}))},shapeWeights:{square:1e3,...Object.fromEntries(n.current.map(e=>{let[t]=e;return[t,(0,_.Iy)(100,500)]}))},duration:3e3,speed:1.2,gravity:15.7,spawnLocation:"edges",spawnGap:6,wind:0,killDistance:1820,colors:["#D2F175","#6262FF","#FF5500"]});return(0,r.useEffect)(()=>{t&&s({sourceRef:o})},[t]),(0,a.jsx)("div",{className:c().confetti,children:(0,a.jsx)("canvas",{...i})})};var p=o(61794),v=o(18370),x=o(51865),g=o.n(x),h=o(70608);class j{notifyEvent(e){document.body.dispatchEvent(new CustomEvent(e))}}let N=new j;var k=o(9119),M=o.n(k);let b=e=>{var t;let{artId:o,setStep:n,isPreview:s,ratingText:l}=e,{data:_,isLoading:d}=p.qL.useGetArtDataQuery({artIdOrSlug:o}),[c,{isLoading:u}]=p.qL.useAddArtRatingMutation(),m=(0,p.CG)(e=>!!e.foundationUser.id),v=(null==_?void 0:null===(t=_.rating)||void 0===t?void 0:t.user_rating)||0,[x,h]=(0,r.useState)(!1),[j,k]=(0,r.useState)(v),b=e=>{s||u||!m||(c({artId:Number(o),rating:e}),n("review"),N.notifyEvent("user-voted"),N.notifyEvent("user-goto-review"))};return(0,a.jsxs)("div",{className:M().rating,children:[(0,a.jsx)("h4",{children:l}),d?(0,a.jsx)("div",{className:M().rating__stars,children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:M().rating__star,children:(0,a.jsx)(i.uQ,{name:"starFillednospace",size:16,className:M().star})},t))}):(0,a.jsx)("div",{className:M().rating__stars,onMouseEnter:s?void 0:()=>{s||u||!m||h(!0)},onMouseLeave:s?void 0:()=>{s||u||!m||(h(!1),k(v))},children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:g()(M().rating__star,{[M().rating__star_accent]:x?j>=t:v>=t+1}),onMouseOver:s?void 0:()=>{k(t)},onClick:s?void 0:()=>{b(t+1)},children:(0,a.jsx)(i.uQ,{name:"starFillednospace",size:16,className:M().star})},t))})]})};var f=o(48857),y=o(90281);let C=e=>{let{artId:t}=e,o=(0,p.CG)(e=>e.browser.pda),{data:r,isLoading:n}=p.kx.useGetDashboardQuery({dashboardSlug:"upsale/".concat(t)});return n?(0,a.jsx)(f.F,{isPDA:o}):(0,a.jsx)(a.Fragment,{children:r&&(0,a.jsx)(y.c,{...r,refererUrl:"upsale"})})};var T=o(76996),I=o(1653),D=o(39319),E=o(55714);let w=e=>{let{artId:t,setStep:o}=e,{t:n}=(0,s.$G)(),{control:i,handleSubmit:l,clearErrors:_}=(0,T.cI)({defaultValues:{review:""},mode:"onSubmit",reValidateMode:"onSubmit"}),[d,{isLoading:c,isSuccess:u,isError:m}]=p.dv.useAddArtReviewMutation(),v=(0,T.qo)({name:"review",control:i});return(0,r.useEffect)(()=>{_()},[v]),(0,a.jsxs)("form",{className:M().reviewForm,onSubmit:l(e=>{d({artId:t,text:e.review}).unwrap().then(()=>{N.notifyEvent("user-reviewed")})}),children:[m&&(0,a.jsx)("div",{className:M().reviewForm__error,children:n("Произошла ошибка, попробуйте снова")}),(0,a.jsx)("div",{className:M().reviewForm__rules,children:(0,a.jsx)(E.Fg,{href:"/pravila-napisaniya-otzyvov/",target:"_blank",children:n("Правила")})}),(0,a.jsx)(T.Qr,{name:"review",control:i,rules:{minLength:{value:120,message:n("Минимум 120 символов")},required:n("Поле не может быть пустым")},render:e=>{var t;let{field:o,formState:r}=e;return(0,a.jsx)(I.F5,{...o,controlMode:I.S1.multiline,symbolsCounter:!0,minLength:120,placeholder:n("Что думаете о книге?"),error:null===(t=r.errors.review)||void 0===t?void 0:t.message,disabled:r.isSubmitting||u})}}),u?(0,a.jsxs)("div",{className:M().reviewForm__success,children:[(0,a.jsxs)("div",{className:M().reviewForm__success__title,children:[n("Отзыв отправлен на модерацию"),(0,a.jsx)("br",{}),n("Спасибо за ваше время")]}),(0,a.jsx)("p",{className:M().reviewForm__success__text,children:n("Это сделает Литрес лучше и поможет другим пользователям с выбором")}),(0,a.jsx)(D.z,{type:"button",mode:"secondary",size:"medium",text:n("Закрыть"),onClick:()=>{o("dashboard")}})]}):(0,a.jsx)("div",{className:M().reviewForm__buttons,children:(0,a.jsx)(D.z,{type:"submit",mode:"primary",size:"medium",text:n("Опубликовать"),loading:c,className:M().button})})]})};var A=o(91270),z=o(9524),L=o(58931);let S=e=>{let{artId:t,sharingText:o}=e,{t:n}=(0,s.$G)(),{data:i,isLoading:l}=p.qL.useGetArtDataQuery({artIdOrSlug:t}),_=(0,A.useSelector)(e=>e.face.language),d=(0,A.useSelector)(e=>e.browser.headers["client-host"]),[c,u]=(0,r.useState)(!1);return l||!i?null:(0,a.jsxs)("div",{className:M().sharing,children:[(0,a.jsx)("h3",{className:M().sharing__title,children:o}),(0,a.jsx)(D.z,{mode:"secondary",size:"medium",text:n("Поделиться"),onClick:e=>{e.preventDefault(),u(!0)},className:M().sharing__button}),(0,a.jsx)(z.u_,{isOpen:c,onClose:()=>{u(!1)},title:n("Поделиться"),closeOnClickOutside:!0,children:(0,a.jsxs)("div",{className:M().share,children:[(0,a.jsxs)("div",{className:M().share__text,children:[n("Выберите способ")," "]}),(0,a.jsx)("div",{className:M().share__block,children:(0,a.jsx)(L.gj,{title:i.title||"",url:d+i.url||"",lang:_||"ru"})})]})})]})};var O=o(44731),B=o(31645),R=o(99824);let F=e=>{let{t}=(0,s.$G)(),{id:o,isDesktop:n}=e,[i,l]=(0,r.useState)(""),_=(0,B.N)(o);return(0,r.useEffect)(()=>{_&&(async()=>{l(await (0,B.E)(_,{width:148}))})()},[_]),(0,r.useEffect)(()=>{O.TM.sendEvent(["LITRES_TRACKER"],{eventType:"upsale_page_view",params:{book_id:o,book_type:e.artType,upsale_type:"webtoon"}}),O.TM.sendEvent(["LITRES_TRACKER"],{eventType:"download_app_block_view",params:{}})},[]),(0,a.jsxs)("div",{className:M().webtoonDeepLink,children:[(0,a.jsx)("div",{className:g()(M().title,{[M().title_pda]:!n}),children:t("Чтобы продолжить чтение этого вебтуна, перейдите в наше приложение")}),(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(R.U,{qr:i,size:148})}):(0,a.jsx)(D.z,{size:"large",fullWidth:!0,text:t("В приложение"),mode:"primary",className:M().button,onClick:()=>{O.TM.sendEvent(["LITRES_TRACKER"],{eventType:"download_app_button_click",params:{}}),window.parent.location.href=_}})})]})},G=e=>{let{artId:t,artType:o,hideCloseButton:l}=e,_=(0,r.useRef)(),d=(0,n.useRouter)(),{t:c}=(0,s.$G)(),u=(0,p.CG)(e=>e.browser.pda),x=!!o&&(0,h.Lx)({art_type:o}),j=!!o&&(0,h.F0)({art_type:o}),k=!!o&&(0,h.P7)({art_type:o}),f=c("Поздравляем! Вы дочитали книгу"),y=c("Хотите поделиться книгой?"),T=c("Вам понравилась книга?");x?(f=c("Вы дочитали бесплатную главу"),y=c("Хотите поделиться вебтуном?"),T=c("Вам понравился вебтун?")):k?(f=c("Поздравляем! Вы прослушали подкаст"),y=c("Хотите поделиться подкастом?"),T=c("Вам понравился подкаст?")):j&&(f=c("Поздравляем! Вы прослушали аудиокнигу"),y=c("Хотите поделиться аудиокнигой?"),T=c("Вам понравилась аудиокнига?"));let{data:I,isLoading:D}=p.kx.useGetDashboardQuery({dashboardSlug:"upsale/".concat(t)}),[E,A]=(0,r.useState)("dashboard"),[z,L]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{_.current&&!D&&L(!0)},[D]),(0,r.useEffect)(()=>{let e=e=>{if(window.self!==window.top)throw d.events.emit("routeChangeError"),window.parent.location.href=e,"Abort route change. Please ignore this error."};return d.events.on("routeChangeStart",e),()=>{d.events.off("routeChangeStart",e)}},[]),(0,a.jsxs)("div",{className:M().upsaleInOr,children:[(0,a.jsxs)("div",{className:M().upsaleInOr__header,children:[(0,a.jsx)(m,{isAnimated:z,sourceRef:_}),(0,a.jsxs)("div",{className:M().topPanel,children:[(0,a.jsx)("div",{className:M().back,children:"review"===E&&(0,a.jsx)("button",{onClick:()=>{N.notifyEvent("user-goto-dashboard"),A("dashboard")},className:M().topPanel__button,type:"button","aria-label":c("Назад"),children:(0,a.jsx)(i.uQ,{name:"chevronLeft",size:24})})}),(0,a.jsx)("h2",{className:M().topPanel__title,ref:_,children:f}),(0,a.jsx)("button",{onClick:()=>{N.notifyEvent("user-closed")},className:g()(M().topPanel__button,"close-btn",{[M().topPanel__button_hide]:l}),type:"button","aria-label":c("Закрыть"),children:(0,a.jsx)(i.uQ,{name:"close",size:24})})]})]}),(0,a.jsxs)("div",{className:M().upsaleInOr__content,children:[x?(0,a.jsx)(F,{id:t,isDesktop:!u,artType:o}):(0,a.jsx)(a.Fragment,{children:(null==I?void 0:I.content.find(e=>e.type===v.R7.artRating))&&(0,a.jsx)(b,{artId:t,setStep:A,isPreview:"review"===E,ratingText:T})}),"dashboard"===E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{artId:t}),(0,a.jsx)(S,{artId:t,sharingText:y})]}),"review"===E&&(0,a.jsx)(w,{artId:t,setStep:A})]})]})};var Q=G},78495:function(e,t,o){"use strict";o.d(t,{c:function(){return aO}});var a,r,n,s,i,l,_,d,c,u,m,p,v=o(31549),x=o(44194),g=o(51865),h=o.n(g),j=o(36128),N=o(62094),k=o(76791),M=o(61794),b=o(48592),f=o(59838),y=o(18370),C=o(26249),T=o(73758),I=o(24810),D=o(70608),E=o(14633),w=o.n(E);let A=(e,t,o)=>{let[a,r]=(0,x.useState)(!1),[n,s]=(0,x.useState)(!1),i=(0,x.useCallback)(()=>{if(t.current&&o.current){let a=t.current.getBoundingClientRect(),n=o.current.getBoundingClientRect(),i=a.height,l=n.height,_=(0,D.F0)(e)?90:0,d=window.innerHeight-170-_;r(i<d),s(l<d)}},[e,t,o]),l=(0,x.useCallback)(w()(i,250),[i]);return z(t.current,l),z(o.current,l),(0,x.useEffect)(()=>{i()},[]),[a,n]};function z(e,t){(0,x.useEffect)(()=>{t()},[t]),(0,x.useEffect)(()=>{if(!e)return;let o=new ResizeObserver(()=>{t()});return o.observe(e),()=>{o.disconnect()}},[t,e])}var L=o(97439),S=o(15381);let O=e=>{let t=f.Ym&&window.location.hash,{t:o}=(0,b.$G)(),a=(0,S.t)(),r=(0,M.TL)();(0,x.useEffect)(()=>{let t=()=>{if(a)return;let t=f.Ym?window.location.hash.split("#")[1]:void 0;(null==t?void 0:t.includes(L.pi.read_unreg))&&r(M.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0,errorText:o("Для чтения книги \xab{bookName}\xbb зарегистрируйтесь или войдите",{bookName:e.title})}))};return t(),window.addEventListener("hashchange",t),()=>{window.removeEventListener("hashchange",t)}},[a,t])},B=e=>{let[t,,o]=(0,N._)("clickhouseMetricSuccess");(0,x.useEffect)(()=>{if(t){let r=Number(t.id)===e.id&&e.my_art_status>0,n="abonement"===t.monetization_type;if(r||n){if(T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"checkout_success",params:t}),n){var a;T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"abonement_purchase_success",params:{source_internal:null!==(a=(0,f.bu)())&&void 0!==a?a:""}})}o()}}},[])};var R=o(25868),F=o(44731),G=o(19997),Q=o(89542),U=o(35087);let q=e=>{W(e),(0,U.bZ)()},W=e=>{let{search:t}=(0,N.TH)(),{query:o}=(0,C.useRouter)();(0,x.useEffect)(()=>{try{let a=(0,f.fp)("promo_data");if(null===a)return;if(Object.keys(o).includes("just_bought")&&a){var t;let o=(0,G.Ae)({advertisingDataFromUrl:a,mmType:F.a4.ppd,price:(null===(t=e.prices)||void 0===t?void 0:t.final_price)||0});if(!o)return;(0,G.xG)(o)}}catch(e){(0,R.HA)(e)?e.emit():(0,Q.Q)("FrontendLogicError","Error sending advertising data for old frame purchase",{originalError:e})}(0,f.bZ)("promo_data")},[e,o,t])};var P=o(17051),Y=o(91270),Z=o(28637),H=o(12649),K=o(39319),V=o(9524),X=o(43263),J=o.n(X),$=o(58117),ee=o.p+"static/media/litres-referral.fe5198f0.svg";let et={NAME:"user_refferal",ACCEPTED:"1"};var eo=o(44357),ea=o(84233),er=o(47318),en=o(44642),es=o(58655),ei=o(32843),el=o.n(ei);function e_(e){let{art:t}=e;return(0,v.jsxs)("div",{className:el().cover,children:[(0,v.jsx)(es.uq,{artId:t.id,alt:t.title,coverSizes:{byHeight:!0,desktopNormal:70,desktopHighDensity:140,mobileNormal:70,mobileHighDensity:140},height:88,width:88*(t.cover_ratio&&t.cover_ratio<=1?t.cover_ratio:1)}),!!(t.min_age&&t.min_age>0)&&(0,v.jsx)("div",{className:el().ageLimit,children:(0,v.jsxs)("div",{className:el().ageLimitInner,children:[t.min_age,"+"]})})]})}let ed=()=>{var e,t,o,a,r;let{art:n}=(0,I.G)(),s=(0,C.useRouter)(),i=(0,M.TL)(),{t:l,i18n:_}=(0,b.$G)(),[d]=M.Df.useAddUserReferralMutation(),[c,u]=(0,x.useState)(!1),m=n.is_referrable,p=(0,S.t)();(0,x.useEffect)(()=>{m&&$.Tx.REFERRAL_UNREG.every(e=>e in s.query)&&!p&&(T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_view",params:(0,D.Eb)({art:n})}),u(!0))},[s,p,m]),(0,x.useEffect)(()=>{p&&(0,f.ej)(et.NAME)===et.ACCEPTED&&d({referral_id:Number(s.query.lfrom),referral_pin:String(s.query.ref_key),art_id:Number(n.id)}).then(()=>{(0,f.kT)(et.NAME)})},[p,d,s]);let g=()=>{u(!1)},h=Math.round(((null!==(r=null===(e=n.prices)||void 0===e?void 0:e.full_price)&&void 0!==r?r:0)-(0,D.kC)(n))*100)/100,j=null===(t=n.prices)||void 0===t?void 0:t.full_price,N=(0,x.useMemo)(()=>{var e;return null===(e=n.persons)||void 0===e?void 0:e.filter(e=>"author"===e.role).slice(0,2).map(e=>{let{full_name:t}=e;return t}).join(", ")},[n]),k=(0,Y.useSelector)(e=>e.face.language),y=(0,x.useMemo)(()=>new eo.p(n),[n]),E=(0,x.useMemo)(()=>new en.w(n.rating),[n]);return(0,v.jsx)(V.u_,{isOpen:c,closeOnClickOutside:!0,noGutters:!0,onClose:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_close",params:(0,D.Eb)({art:n})}),g()},ariaLabel:l("Ваш знакомый подарил вам скидку 10% на книгу!"),children:(0,v.jsxs)("div",{className:el().referralBookCard,children:[(0,v.jsx)("h3",{className:el().title,children:l("Ваш знакомый подарил вам скидку 10% на книгу!")}),(0,v.jsxs)("div",{className:el().card,children:[(0,v.jsx)(e_,{art:n}),(0,v.jsxs)("div",{className:el().info,children:[(0,v.jsxs)("div",{className:el().heading,children:[(0,v.jsx)(H.k,{isKeepWords:!0,maxHeight:72,separator:"...",isCheckDocumentHeight:!0,mode:"www",children:(0,v.jsx)("div",{className:el().heading__title,children:n.title})}),(0,v.jsx)(H.k,{isKeepWords:!0,maxHeight:48,separator:"...",isCheckDocumentHeight:!0,mode:"www",children:(0,v.jsx)("div",{className:el().heading__authors,children:N})})]}),(0,v.jsxs)("div",{className:el().formats,children:[(0,v.jsx)(ea.E,{type:"midi",format:y}),(0,v.jsx)(er.w,{rating:E})]}),(0,v.jsxs)("div",{className:el().prices,children:[(0,v.jsx)("span",{className:el().prices__final,children:(0,f.aS)(h,null===(o=n.prices)||void 0===o?void 0:o.currency,_.language)}),(0,v.jsx)("span",{className:el().prices__old,children:(0,f.aS)(j,null===(a=n.prices)||void 0===a?void 0:a.currency,_.language)}),(0,v.jsx)(Z.y,{size:"s",type:"percent",hasBorder:!0,text:"-10%"})]})]})]}),(0,v.jsx)("div",{className:el().buttonContainer,children:(0,v.jsx)(K.z,{className:el().button,size:"medium",mode:"primary",text:l("Войти и получить скидку"),onClick:()=>{(0,f.d8)(et.NAME,et.ACCEPTED),i(M.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0,errorText:l("Чтобы получить скидку, зарегистрируйтесь или войдите")})),T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_accept",params:(0,D.Eb)({art:n})}),g()}})}),"ru"===k&&(0,v.jsxs)("div",{className:el().footer,children:[(0,v.jsx)(J(),{className:el().footer__logo,src:ee,width:80,height:14,alt:"litres-logo"}),l("Сервис электронных книг №1 в России")]})]})})};var ec=o(14549),eu=o(4438),em=o(21138),ep=o.n(em),ev=o(64009),ex=o(65032),eg=o(15711),eh=o.n(eg);let ej=()=>{var e;let{t}=(0,b.$G)(),{art:o,isDesktop:a}=(0,I.G)(),r={"--book-card-cover-height-desktop":"".concat(304/(o.cover_ratio||1),"px"),"--book-card-cover-height-tablet":"".concat(250/(o.cover_ratio||1),"px"),"--book-card-cover-height-mobile":"".concat(170/(o.cover_ratio||1),"px")},n=a?(0,f.wd)({artId:o.id,size:415}):(0,f.wd)({artId:o.id,size:330}),{value:s,setTrue:i,setFalse:l}=(0,ev.kt)(!1),_=(0,N.Gc)("breakpoint-700"),[d,c]=(0,x.useState)(!1),u=!d&&!(0,D.F0)(o)&&!_&&!!o.cover_url,m=o.cover_url?"".concat("https://cdn.litres.ru").concat(o.cover_url):"",{currentWidth:p}=(0,N.O6)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ep(),{children:(0,v.jsx)("link",{rel:"preload",as:"image",fetchpriority:"high",href:"".concat(n,".webp")})}),(0,v.jsxs)("div",{className:eh().cover,style:{...r,cursor:u?"zoom-in":"default"},"data-testid":"book-cover__wrapper",onClick:e=>{e.preventDefault(),(0,D.Lx)(o)&&T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_cover_click",params:(0,D.Eb)({art:o})}),u&&i()},children:[(0,v.jsx)(es.uq,{artId:o.id,alt:o.title,coverSizes:{desktopNormal:415,desktopHighDensity:415,mobileNormal:330,mobileHighDensity:330},fallbackImageSrc:"https://cdn.litres.ru/pub/c/cover_415/".concat(o.id,".webp"),wrapperClassName:eh().wrapper,imgTagClassName:eh().img,getErrorStatus:c,fetchpriority:"high",itemProp:"image"}),!o.is_draft_full_free&&(null===(e=o.prices)||void 0===e?void 0:e.discount_percent)&&o.prices.discount_percent>0&&(0,v.jsx)("div",{className:eh().discount,children:(0,v.jsx)(Z.y,{text:"-".concat(o.prices.discount_percent,"%"),size:"xs",hasBorder:!1})})]}),(0,v.jsx)(V.u_,{isOpen:s,closeOnClickOutside:!0,onClose:l,customClass:h()(eh().customModal,{[eh().tablet]:p<=1024,[eh().desktop]:p<=1536&&p>1024,[eh().desktopLarge]:p<=1920&&p>1536}),isFadeBackground:!0,ariaLabel:t("Обложка книги"),children:(0,v.jsx)("img",{src:m,className:eh().modalContent,alt:o.title||""})})]})},eN=()=>{let{art:e}=(0,I.G)(),{currentWidth:t}=(0,N.O6)();return(0,D.F0)(e)&&!(0,D.Yg)(e)&&t<700?(0,v.jsx)(ex.J,{children:t=>{let{togglePlay:o,isPlaying:a}=t;return(0,v.jsx)("div",{onClick:t=>{t.preventDefault(),t.stopPropagation(),a||T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"listen_fragment_click",params:(0,D.Eb)({art:e})}),o()},children:(0,v.jsx)(ej,{})})}}):(0,v.jsx)(ej,{})};var ek=o(45002),eM=o(61647),eb=o(27736),ef=o.n(eb),ey=o(20239);let eC=e=>{var t;let{art:o}=(0,I.G)(),{i18n:a,t:r}=(0,b.$G)(),{version:n}=e,s=(n.prices&&0===Number(n.prices.final_price)||n.is_free||(null==n?void 0:n.is_draft_full_free))&&!n.my_art_status,i=!!n.my_art_status,l=(e,t)=>e.length>t?"".concat(e.slice(0,t),"... "):"".concat(e," "),_=(0,D.N$)(n),d=(0,D.eU)(n,_),c=(0,x.useMemo)(()=>new eo.p(o),[o]);return(0,v.jsxs)("div",{className:ef().version,children:[(0,v.jsx)(ey.I,{href:null!==(t=n.url)&&void 0!==t?t:void 0,className:ef().cover,children:(0,v.jsx)(es.uq,{artId:n.id,alt:n.title,wrapperClassName:ef().img,coverSizes:{desktopNormal:37,desktopHighDensity:89,mobileNormal:37,mobileHighDensity:89},loading:"lazy",decoding:"async"})}),(0,v.jsxs)("div",{className:ef().version__information,children:[(0,v.jsx)(ey.I,{className:ef().version__title,"data-testid":"book__otherVersions--name",href:n.url,suppressHydrationWarning:!0,children:s||i||d?l(n.title,80):r("{bookName} за {summ}",{bookName:l(n.title,80),summ:(e=>{var t;let o=(null==e?void 0:e.final_price)||(null==e?void 0:e.full_price)||0;return null===(t=(0,f.aS)(o,null==e?void 0:e.currency,a.language))||void 0===t?void 0:t.replace("\xa0",4===o.toString().length?"":"\xa0")})(n.prices)})}),(0,v.jsx)(ea.E,{type:"midi",format:c})]})]})},eT=e=>(0,v.jsx)("div",{className:ef().wrapper,children:e.versions.slice(0,2).map(e=>(0,v.jsx)(eC,{version:e},e.id))});var eI=o(78496),eD=o(55714),eE=o(23927),ew=o.n(eE);let eA=()=>{var e;let{art:t}=(0,I.G)(),{t:o}=(0,b.$G)(),a=null===(e=t.persons)||void 0===e?void 0:e.filter(e=>"reader"===e.role),[r,n]=(0,x.useState)(7);return a&&0!==a.length?(0,v.jsxs)("div",{className:ew().readers,"data-testid":"audiobook__readers--wrapper",children:[o("Чтец:").concat(" "),a.slice(0,r).map((e,t,o)=>e.url?(0,v.jsxs)(eD.Fg,{href:String(e.url),children:[e.full_name,t<o.length-1?", ":""]},e.id):(0,v.jsxs)("div",{children:[e.full_name,t<o.length-1?", ":""]},e.id)),a.length>7&&-1!==r&&(0,v.jsxs)(eD.Fg,{className:ew().readers__more,onClick:()=>{n(-1)},children:[" ",o("и еще {number}",{number:a.length-7})]})]}):(0,v.jsx)(v.Fragment,{})};var ez=o(78774),eL=o(80411),eS=o(34257),eO=o(66450),eB=o(95219),eR=o.n(eB);let eF=e=>{let t=(0,M.CG)(e=>e.browser.pda),{content:o,children:a=(0,v.jsx)("button",{type:"button",className:eR().info__trigger,children:(0,v.jsx)(eu.uQ,{name:"question",size:24})}),onOpen:r,onClose:n}=e,[s,i]=x.useState(!1);if(t){let e=x.cloneElement(a,{onClick:()=>{i(!0),null==r||r()},style:{top:0}});return(0,v.jsxs)(v.Fragment,{children:[e,(0,v.jsx)(eO.R,{open:s,onClose:()=>{i(!1),null==n||n()},children:o})]})}return(0,v.jsx)(eS.J,{content:o,contentClassName:eR().info__tooltip,trigger:["click"],onVisibleChange:e=>{e?null==r||r():null==n||n()},customCloseTriggers:["esc","focusLost"],placement:"top-start",offset:[5,0],timer:2e4,children:a})};var eG=o(8704),eQ=o.n(eG);let eU=[15815569,17618839,31967594,32684404,19582330,26207658,13214368,2833335,32436228,31888836,27970302,18665364,21753416,13074221,31978080,45782,32690353,23106690,4265931,32693083,2229525,17903244,44701,18852251,27679125,24749098,27573320,27037867,14313969,32613427,25703960,18550512,21282798,21512335,3375730,23558970,31643513,7364618,10249020,10372285,44430,65628,27577970,24327747,3556748,13326792,30780891,29960911,17332898,5231011,31571922,3380241,18558546,45786,204222,10841660,32757958,3074825,31981937,32423076,18547684,13469417,18539832,24277991,31962845,16451456,14312385,222395,31886920,3183954,3380232,11192364,32078339,31578450,2218075,31967540,17637718,31965531,15845443,32044985,21103680,22431436,22362294,19078322,12888257,25603466,31592978,17252194,18427391,5241321,3073468,32466891,16097153,11563518,32374456,31973478,32209667,31976883,27149106,30814581,12430358,3791153,21292358,4844378,49380,32010413,22495293,45394,32102507,32589028,17620237,31981820,20930198,66642,32389548,5249746,15320382,31620268,26893011,32094411,17113504,22321166,32670337,17531856,16035635,21151920,10689791,22185748,32142762,16279419,31017750,3620871,31965239,27085917,32204810,31971546,31990176,5243731,31985777,44356,31960548,32742652,32299675,32599423,32168622,32572720,32675620,32867734,32721919,27537777,30106431,32924641,32767909,32864866,32807647,32879104,32676049,24295652,5561836,31840251,26809918,45110,30119382,17008642,24131200,31962868,46618,3774618,31615586,48202,21789083,31979975,3678704,46057,50125,32166755,45097,24196330,54818,3161687,32084469,32500837,31327088,23613586,31989642,24114096,13941752,32065208,32562793,6160050,16101321,32283151,22364624,16103353,31978811,3379786,5238331,5241551,18555844,13466742,32192570,19033316,32478108,13391078,31931213,17937348,32620387,18553754,32389623,22903263,31974987,32419578,17116491,15730401,5248146,21657442,32542360,22438837,12894025,30611726,15510570,32606500,32553262,32721922,28725287,3205321,31579141,30136287,32808088,32283267,27076545,32721949,32864530,23934912,32864527,31959312,22452497,15613492,6192735,6163532,18799612,32185772,18665158,32411997,27045780,31285432,17627582,32043506,32544454,269105,32133672,32006669,4345362,31980452,62853,12979389,21161488,32685346,18558342,3773369,13022622,31072405,18034996,32040375,16452261,21266472,44871,15469918,4334182,18167700,32696779,32505316,30567237,31439086,26804822,13388934,31992182,32078337,31982081,32046474,44946,31001477,10569145,10687464,18531766,49891,5242916,31983507,21552269,15320377,4445517,32318222,31969520,4490042,3175764,19727123,18465504,28433976,44618,32043609,21105215,3211810,31980758,5237426,12534384,31980692,22311600,31965581,31949432,10618725,13461536,30188672,27900261,23515698,46767,27569982,27713818,31971936,17130874,31929993,21828358,32590639,3077759,32355301,32050068,32671063,27622287,31988390,32006687,18715554,32684962,12074973,27075585,44608,32034374,26636831,19078317,32098181,31975508,24191378,31974714,16101675,2210705,32184960,14240422,31970487,31965236,17978213,26906715,32353594,31212668,16244849,22467404,17802859,32682349,19764391,18493451,31974776,32682343,44358,32633518,32662759,10687456,24617984,31974642,32323315,21947836,31955549,31055445,17008728,32036048,12501841,32599636,26986690,16170057,9135723,31230586,32097224,18167692,27751841,21116902,31058269,18850790,32106551,48913,31980147,18265207,27803212,26798181,21616086,24223507,18482596,27024732,16082e3,15988840,24615214,31995690,31962870,24316898,8258011,22410074,8650013,2835165,32721418,22197011,32648608,32746102,65632,32484597,32714824,31122667,31221096,18973782,32264835,14241353,31002130,32090081,30743307,32675797,32478036,32149808,22834951,18549676,32947789,22416493,32823436,32693107,27589185,32909182,32868412,30690297,32875102,32767855,32842156,31844220,31165037,31344520,31975424,21958724,29708005,25392197,32834509,24754387,18594178,16746149,30764007,32392146,32834842,32561263,3213763,23111542,15625626,31954538,32888782,3375727,32384160,32953324,32238884,16873523,32558521,45189,32876272,32815186,32897563,4404897,32051883,32592052,32782018,32618563,19293109,12390725],eq=e=>{let{size:t,text:o,className:a,fullWidth:r,analyticsId:n,mode:s="secondary",onClick:i}=e;return(0,v.jsx)(K.z,{size:t,mode:s,text:o,analyticsId:n,className:a,fullWidth:r,onClick:i})},eW=()=>{var e;let t=(0,M.CG)(e=>e.browser.clientHost),{art:o}=(0,I.G)(),a=(null===(e=o.persons)||void 0===e?void 0:e.filter(e=>"author"===e.role))||[];return!a.length||a.length>1||(0,f.vo)(t)||!t.includes(".ru")||!eU.includes(a[0].id)?null:(0,v.jsx)(eq,{text:"Поддержать автора",analyticsId:"donate-author-button",size:"small",fullWidth:!0})};var eP=o(91979);let eY=()=>{var e,t;let{art:o}=(0,I.G)(),a=(0,M.CG)(e=>e.foundationUser),r=(0,M.CG)(e=>e.browser.pda),n=(0,S.t)(),{t:s}=(0,b.$G)(),i=(0,N.Gc)("breakpoint-700"),l=(0,D.P7)(o),_=(0,D.c4)(o),{hasFreeChapter:d,isWebtoonArt:c}=(0,eP.a)(o),u=(0,D.k2)({art:o,user:a}),m=!c&&(0,D.N9)({art:o,user:a}),p=(0,D.R4)(o),g=d&&c,j=()=>{let e=(0,D.g9)(o,!1,s,!0),t=o.additional_info.expected_pages_or_seconds||0;if(_||!e)return null;let a=e;return(0,D.F0)(o)?i||(a="".concat(p&&t?s("Длительность {duration}",{duration:e}):l?s("Длительность выпуска {duration}",{duration:e}):s("Длительность книги {duration}",{duration:e}))):a=i?"".concat(s("Объем {count} страница",{count:Number(e)})):s("Объем {count} страница",{count:Number(e)}),a},k=!!j(),f="number"==typeof(null==o?void 0:o.min_age),y=(0,x.useMemo)(()=>new eo.p(o),[o]),C=()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"add_book_to_list_click",params:(0,D.Eb)({art:o,extra:{source_internal:"book_card"}})})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eN,{}),(0,v.jsxs)("div",{className:eQ().book__preview__label,children:[(null===(e=o.alternative_version)||void 0===e?void 0:e.link_type)?(0,v.jsx)(v.Fragment,{children:y.status&&(0,v.jsx)("span",{className:eQ().formatStatus,children:s(y.status)})}):(0,v.jsx)(ea.E,{type:"full",format:y}),c&&(0,v.jsx)(eF,{onOpen:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"hint_click",params:(0,D.Eb)({art:o,extra:{source_internal:"book_card"}})})},content:(0,v.jsx)("p",{"data-testid":"webtoon__formatInfo",children:s("Вебтун — это корейские комиксы, которые выпускаются в цифровом формате")})})]}),(0,v.jsxs)("div",{"data-testid":"book-volume__wrapper",className:h()(eQ().book__preview__data,{[eQ().book__preview__data_without_margin]:!k&&!g}),children:[k&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{children:j()}),o.date_written_at&&(0,v.jsxs)("p",{children:[new Date(o.date_written_at).getFullYear()," ",s("год")]})]}),f&&(0,v.jsx)("p",{className:h()(eQ().book__preview__data__age_rating,{[eQ().book__preview__data__item_dot]:k}),children:"".concat(o.min_age,"+")})]}),(0,v.jsxs)("div",{className:eQ().book__preview__button,children:[u&&(0,v.jsx)(ek.x,{text:p?s("Бесплатные главы"):s("Слушать фрагмент")}),(m||g)&&(0,v.jsx)(eM.X,{size:"small",mode:"secondary",icon:p||g?(0,v.jsx)(eu.uQ,{name:"textFragment",size:16}):null,text:p||g?s("Бесплатные главы"):s("Читать фрагмент"),fullWidth:!0,isFragment:!0}),!r&&(0,v.jsx)(eW,{})]}),i&&(null===(t=o.persons)||void 0===t?void 0:t.some(e=>"reader"===e.role))&&(0,v.jsx)(eA,{}),(0,v.jsxs)("div",{className:h()(eQ().book__userActionBlock,{[eQ().book__userActionBlock_gap]:!i}),"data-testid":"book-user-action__wrapper",children:[!i&&!_&&(0,v.jsx)(eL.i,{className:eQ().book__userActionItem}),n&&!r&&(0,v.jsx)(ez.G,{art:o,analyticsParams:(0,D.Eb)({art:o,extra:{source_internal:"book_card"}}),children:e=>{let{handleClick:t}=e;return(0,v.jsx)("div",{children:(0,v.jsx)(ec.Zo,{icon:{name:"addToList",size:16},text:s("Добавить в список"),onClick:()=>{C(),t()},className:eQ().book__userActionItem})})}})]}),o.linked_arts&&o.linked_arts.length>0&&(0,v.jsx)(v.Fragment,{children:i&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(eT,{versions:o.linked_arts}),(0,v.jsx)("div",{className:eQ().book__preview__otherVersions,children:(0,v.jsx)(eI.X,{})})]})})]})};var eZ=o(82264),eH=o(52135),eK=o(37775),eV=o.n(eK);let eX=e=>{let{className:t}=e,{art:o}=(0,I.G)(),a=(0,D.kk)(o);return(0,v.jsxs)("div",{className:h()(eV().wrapper,t),children:[!a&&!o.my_art_status&&(0,v.jsx)(eZ.s,{}),(0,v.jsx)(eH.Z,{})]})};var eJ=o(15160),e$=o(23050),e0=o.n(e$);let e2=e=>{var t,o;let{className:a}=e,{art:r}=(0,I.G)(),{t:n}=(0,b.$G)(),s=(null===(t=r.series)||void 0===t?void 0:t[0])?r.series[0]:void 0;if(!s)return(0,v.jsx)(v.Fragment,{});let i=String(s.url)+String((0,eJ.bp)(r));return(0,v.jsxs)("div",{className:h()(a,e0().seriesCaption),"data-testid":"art__inSeries--title",children:[!!s.art_order&&!!s.arts_count&&s.art_order<=s.arts_count&&(0,v.jsx)("div",{children:(0,v.jsx)(b.cC,{t:n,i18nKey:"{art_order} книга из {arts_count} в серии <a>\xab{name}\xbb</a>",values:{art_order:s.art_order,arts_count:s.arts_count,name:s.name},components:{a:(0,v.jsx)(eD.Fg,{onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"series_click",params:(0,D.Eb)({art:r,extra:{source_internal:"book_card",item_type:"series",id:null==s?void 0:s.id}})})},href:i})}})}),(!s.art_order&&!!s.name||s.art_order&&s.art_order>(null!==(o=s.arts_count)&&void 0!==o?o:0))&&(0,v.jsx)("div",{children:(0,v.jsx)(b.cC,{t:n,i18nKey:"Входит в серию <a>\xab{name}\xbb</a>",defaults:"Входит в серию <a>\xab{name}\xbb</a>",values:{name:s.name},components:{a:(0,v.jsx)(eD.Fg,{href:i})}})})]})};var e1=o(33530),e3=o.n(e1),e4=()=>(0,v.jsx)("div",{className:e3().series,children:(0,v.jsx)(e2,{className:e3().text})}),e5=o(89798),e6=o(48376),e8=o(46767),e9=o(34639),e7=e=>{var t,o;let{art:a,role:r}=e,{t:n}=(0,b.$G)(),[s,i]=(0,x.useState)(!1),l=(0,x.useMemo)(()=>(0,D.SN)(a,[r]),[a,r]),_=(0,x.useMemo)(()=>{switch(r){case"author":return{title:l.length>1?n("авторы"):n("автор"),formTitle:n("Авторы"),moreItems:l.length>2&&(0,f.pd)(l.length-2,[n("и {authorsCounter} автор",{authorsCounter:l.length-2}),n("и {authorsCounter} автора",{authorsCounter:l.length-2}),n("и {authorsCounter} авторов",{authorsCounter:l.length-2})])};case"reader":return{title:l.length>1?n("чтецы"):n("чтец"),formTitle:n("Чтецы"),moreItems:l.length>2&&(0,f.pd)(l.length-2,[n("и {reader} чтец",{reader:l.length-2}),n("и {reader} чтеца",{reader:l.length-2}),n("и {reader} чтецов",{reader:l.length-2})])};case"painter":return{title:l.length>1?n("художники"):n("художник"),formTitle:n("Художники"),moreItems:l.length>2&&(0,f.pd)(l.length-2,[n("и {count} художник",{count:l.length-2}),n("и {count} художника",{count:l.length-2}),n("и {count} художников",{count:l.length-2})])};case"translator":return{title:l.length>1?n("переводчики"):n("переводчик"),formTitle:n("Переводчики"),moreItems:l.length>2&&(0,f.pd)(l.length-2,[n("и {count} переводчик",{count:l.length-2}),n("и {count} переводчика",{count:l.length-2}),n("и {count} переводчиков",{count:l.length-2})])};default:return{}}},[n,l,r]),d=l.length>2;return l.length?(0,v.jsxs)("div",{className:e3().persons,children:[(0,v.jsxs)("div",{className:e3().persons,"data-testid":"art__".concat(r,"--details"),children:[(0,v.jsx)("span",{className:h()(e3().text_gray,e3().text_capitalize),children:_.title}),(0,v.jsx)(e8.q,{className:e3().text,url:null!==(t=l[0].url)&&void 0!==t?t:void 0,name:"".concat(l[0].full_name).concat((null==l?void 0:l[1])?", ":"")}),(null==l?void 0:l[1])&&(0,v.jsx)(e8.q,{className:e3().text,url:null!==(o=l[1].url)&&void 0!==o?o:void 0,name:l[1].full_name}),d&&(0,v.jsx)(e5.L,{size:"medium",onClick:()=>{i(!0)},className:e3().persons__button,e2eId:"art__".concat(r,"--moreButton"),children:_.moreItems})]}),(0,v.jsx)(e6.R,{isOpen:s,onClose:()=>{i(!1)},isOnRightSide:!0,title:_.formTitle,testId:"".concat(r,"s-modal-view__wrapper"),children:l.map(e=>(0,v.jsx)(e9.g,{author:e},e.id))})]}):null},te=function(e){let{t}=(0,b.$G)(),{art:o,className:a,disabledRoles:r=[]}=e;return(0,D.Lx)(o)?(0,v.jsxs)("div",{className:h()(e3().bookDetails,a),children:[!r.includes("author")&&(0,v.jsx)(e7,{art:o,role:"author"}),(0,v.jsx)(e7,{art:o,role:"painter"}),(0,v.jsx)(e7,{art:o,role:"translator"}),(0,v.jsxs)("div",{children:[o.webtoon_chapters_count&&(0,v.jsx)("span",{className:h()(e3().text_gray),children:"".concat(o.webtoon_chapters_count," ").concat(t((0,f.pd)(o.webtoon_chapters_count,["глава","главы","глав"])))}),!o.is_webtoon_complete&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:e3().text_separator}),(0,v.jsx)("span",{className:h()(e3().text_green),children:t("Выпуск продолжается")})]})]})]}):(0,v.jsxs)("div",{className:e3().bookDetails,children:[!r.includes("author")&&(0,v.jsx)(e7,{art:o,role:"author"}),(0,v.jsx)(e7,{art:o,role:"reader"}),(0,v.jsx)(e4,{})]})},tt=o(44496),to=o(38112);(a=_||(_={})).AUTO_SPEECH="авточтец",a.PREORDER="предзаказ",a.DRAFT="черновик",(r=d||(d={})).AUDIO="Аудио",r.TEXT="Текст",r.PDF="PDF",r.PODCAST="Подкаст",r.WEBTOON="Вебтун",(n=c||(c={})).AUDIO="iconAudio",n.TEXT="iconText",n.PODCAST="podcastOutline",(s=u||(u={})).TEXT="text",s.AUDIO="audio";var ta=o(83960),tr=o.n(ta);let tn=e=>{let{url:t,iconName:o,textTab:a,isActiveTab:r=!1,isSingleFormat:n=!1,onTabClick:s,iconClassName:i}=e;return(0,v.jsxs)(eD.rU,{href:t,onClick:()=>{!r&&s&&s()},className:h()(tr().tabFormat,{[tr().tabFormat_active]:r,[tr().tabFormat_singleFormat]:n}),children:[o&&(0,v.jsx)("div",{className:h()(tr().tabFormat__iconWrapper,i),children:(0,v.jsx)(eu.uQ,{name:o,size:24,className:h()(tr().icon,{[tr().icon_small]:"iconAudio"===o||"iconText"===o})})}),(0,v.jsx)("span",{children:a})]})};var ts=o(51980),ti=o.n(ts);let tl=e=>{let{tabsFormat:t,activeTab:o,isSingleFormat:a,isSeo:r=!1,additionalTextInfo:n,handleTabClick:s}=e,{art:i}=(0,I.G)(),{t:l}=(0,b.$G)(),_=(0,D.Lx)(i);return(0,v.jsxs)("div",{className:h()(ti().bookTabsFormat,{[ti().bookTabsFormat_seo]:r}),children:[t.map(e=>{var t;return(0,v.jsx)(tn,{url:null!==(t=e.url)&&void 0!==t?t:"",iconName:e.iconName,iconClassName:ti().tabIcon,onTabClick:()=>{s(e.analyticsTabType,e.id)},isActiveTab:e.id===o&&!a,isSingleFormat:a,textTab:e.textFormat},e.id)}),1===n.length&&(0,v.jsx)("span",{className:ti().additionalInfo,"data-testid":"book-tabs-format__info-state",children:n[0]}),_&&(0,v.jsx)(eF,{onOpen:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"hint_click",params:(0,D.Eb)({art:i,extra:{source_internal:"book_card"}})})},content:(0,v.jsx)("p",{"data-testid":"webtoon__formatInfo",children:l("Вебтун — это корейские комиксы, которые выпускаются в цифровом формате")})})]})},t_=e=>t=>{let o=(0,D.F0)(t),a=(0,D.Gs)(t),r=(0,D.kk)(t),n=(0,D.Lx)(t),s=(0,D.cn)(t),i=null,l="",_="";switch(!0){case n:l=e(d.WEBTOON);break;case o&&!r:i=c.AUDIO,l=e(d.AUDIO),_=u.AUDIO;break;case a:case s:i=c.TEXT,l=s?e(d.PDF):e(d.TEXT),_=u.TEXT;break;case r:i=c.PODCAST,l=e(d.PODCAST);break;default:i=c.TEXT}return{id:t.id,art_type:t.art_type,iconName:i,textFormat:l,analyticsTabType:_}},td="book_pair",tc=e=>{let{art:t}=(0,I.G)(),o=(0,N.uH)(),a=(0,C.useRouter)(),r=(0,x.useMemo)(()=>{if(e)return null;if(o){var a;let e=sessionStorage.getItem(td);if(e){let o=e.split("_").map(Number);if(o.some(e=>e===t.id))return o.find(e=>e!==t.id)}sessionStorage.setItem(td,"".concat(t.id,"_").concat(null===(a=t.alternative_version)||void 0===a?void 0:a.id))}return null},[o,t,e]);return(0,x.useEffect)(()=>{var o;if(e)return;let n=r||(null===(o=t.alternative_version)||void 0===o?void 0:o.id),s=e=>{if(e.match(/^(\/book\/|\/audiobook\/)/g)){let o=e.match(/(\d{6,10})/g);if(o){let e=Number(o[0]);if(e===t.id)return;e!==n&&sessionStorage.removeItem(td)}}else sessionStorage.removeItem(td)};return a.events.on("routeChangeStart",s),()=>{a.events.off("routeChangeStart",s)}},[a,t,e,r]),r},tu=(0,x.memo)(()=>{var e,t;let{art:o}=(0,I.G)(),{t:a}=(0,b.$G)(),[r,n]=(0,x.useState)(o.id),[s,i]=(0,x.useState)(!0),l=(0,x.useMemo)(()=>new eo.p(o),[o]),d=(0,x.useMemo)(()=>{let e=o.is_auto_speech,t=(0,D.tL)(o),r=o.is_draft,n=[];return e&&n.push(a(_.AUTO_SPEECH)),t&&n.push(a(_.PREORDER)),r&&n.push(a(_.DRAFT)),n},[o]),c=(o.linked_arts||[]).length<=1,u=tc(c)||(null===(e=o.alternative_version)||void 0===e?void 0:e.id),m=(0,x.useMemo)(()=>{var e;return null===(e=o.linked_arts)||void 0===e?void 0:e.find(e=>e.id===u)},[u,o.linked_arts]),p=!m,g=(null===(t=o.alternative_version)||void 0===t?void 0:t.link_type)==="SYNCED",j=(0,x.useMemo)(()=>{var e,t,r;let n=[{...t_(a)(o),url:null!==(t=o.url)&&void 0!==t?t:"",isActive:!!(null===(e=o.alternative_version)||void 0===e?void 0:e.id)}];return m?[...n,{...t_(a)(m),url:null!==(r=null==m?void 0:m.url)&&void 0!==r?r:"",isActive:!1}].sort((e,t)=>e.art_type-t.art_type):n},[o,m]),N=(e,t)=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"type_switcher_click",params:(0,D.Eb)({art:o,extra:{type:e}})}),n(t)};return((0,x.useEffect)(()=>{n(o.id)},[o.id]),(0,x.useEffect)(()=>{c||setTimeout(()=>{i(!1)},300)},[c]),j.length)?s&&!c?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(tl,{handleTabClick:N,activeTab:r,isSingleFormat:p,tabsFormat:j,additionalTextInfo:d,isSeo:!0}),(0,v.jsxs)(to.nN,{className:ti().skeletonBookTabs,children:[(0,v.jsx)(to.qM,{width:130,height:52}),(0,v.jsx)(to.qM,{width:130,height:52})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(tl,{handleTabClick:N,activeTab:r,isSingleFormat:p,tabsFormat:j,additionalTextInfo:d}),d.length>1&&(0,v.jsx)("div",{className:h()(ti().additionalInfo,ti().additionalInfo__list),"data-testid":"book-tabs-format__info-state",children:d.map((e,t)=>(0,v.jsx)("div",{children:e},t))}),m&&g&&(0,v.jsxs)("div",{className:ti().syncedArtLabel,children:[(0,v.jsx)(tt._,{type:o.art_type,linkType:"SYNCED"}),(0,v.jsx)("span",{children:l.isForListen?a("синхронизировано с текстом"):a("синхронизировано с аудио")})]})]}):null});var tm=o(12245),tp=o(32121),tv=o.n(tp);let tx=()=>{let{t:e,i18n:t}=(0,b.$G)(),{art:o}=(0,I.G)(),a=(0,tm.a)(o.is_auto_speech,o.is_drm,t.language);return(0,v.jsxs)("div",{className:tv().wrapper,"data-testid":"book-draft-banner__wrapper",children:[(0,v.jsx)("div",{className:tv().radar}),a.descriptions.map(t=>(0,v.jsx)("p",{children:t.map(t=>(0,v.jsxs)("span",{children:[(0,v.jsx)(b.cC,{t:e,i18nKey:t,values:a.textParams,components:{a:(0,v.jsx)(eD.Fg,{})}})," "]},t))},t.join(" ")))]})};var tg=o(62452),th=o(88428),tj=o(64376),tN=o(58518),tk=o.n(tN);let tM=e=>{let{languageCode:t}=e,{art:o}=(0,I.G)(),{t:a}=(0,b.$G)(),r="/popular/?languages=".concat(t);return(0,v.jsxs)(eD.Fg,{onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_language_click",params:(0,D.Eb)({art:o})})},href:r,className:tk().language,children:[(0,v.jsx)("div",{className:tk().language__flag,children:(0,v.jsx)(th.W,{language:t,width:27})}),(0,v.jsx)("div",{className:tk().language__description,children:a("Книга").concat(" ".concat(a((0,f.el)(t,tj.a).inTitleWithIn)))})]})};var tb=o(70145),tf=o(14923),ty=o(30134),tC=o(14391);let tT=(0,x.memo)(e=>{let t=e.text.replace(/\[spoiler[^\]]*]/g,"<spoiler>").replace(/\[\/spoiler]/g,"</spoiler>");return(0,v.jsx)("div",{children:(0,v.jsx)(v.Fragment,{children:(0,ty.ZP)(t,{transform:(e,t,o)=>"tag"===t.type&&"spoiler"===t.tagName?(0,v.jsx)(tC.o_,{children:(0,v.jsx)(v.Fragment,{children:e})},o):(0,v.jsx)(v.Fragment,{children:e})})})})}),tI=(0,x.memo)(e=>{let{id:t,text:o="",isNeedCollapse:a}=e,{t:r}=(0,b.$G)(),n=(0,M.CG)(e=>e.browser.pda),s=(0,x.useCallback)(e=>{window.scrollTo({top:e}),T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_click_expand_about",params:{}})},[]),i=(0,x.useCallback)(()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_click_collapse_about",params:{}})},[]);return(0,v.jsx)(H.k,{mode:n?"pda":"www",maxHeight:92,isKeepWords:!0,separator:"...",readMoreText:r("Далее"),isCheckDocumentHeight:!0,onDestroyTruncate:s,isNeedCollapse:a,onClickSendAnalytics:i,children:(0,v.jsx)(tT,{id:t,text:o})})});var tD=o(34955),tE=o(40007),tw=o(78447),tA=o.n(tw);let tz=()=>{let{art:e}=(0,I.G)(),{linked_arts:t,cover_ratio:o}=e,[a,r]=(0,x.useState)(!1),{t:n,i18n:s}=(0,b.$G)(),i=(0,x.useMemo)(()=>{var e,o,a,r;if(!t||0===t.length)return"";let n=t.filter(e=>{var t;return!(null==e?void 0:e.is_draft_full_free)&&(null===(t=e.prices)||void 0===t?void 0:t.final_price)!==null});if(0===n.length)return"";let i=n.sort((e,t)=>e.prices.cost_with_bonus-t.prices.cost_with_bonus);return(0,f.aS)(null===(o=i[0])||void 0===o?void 0:null===(e=o.prices)||void 0===e?void 0:e.cost_with_bonus,null===(r=i[0])||void 0===r?void 0:null===(a=r.prices)||void 0===a?void 0:a.currency,s.language)||""},[t,s.language]),l=()=>{r(!0)},_=()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"show_other_versions_click",params:(0,D.Eb)({art:e,extra:{source_internal:"book_card",item_type:"art"}})})},d=()=>{l(),_()};if(!t||0===t.length)return null;let c=(0,f.pd)(t.length,["книга","книги","книг"]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{tabIndex:0,role:"button","aria-labelledby":"otherBookVersionsTitle",onClick:d,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&d()},className:tA().button,"data-testid":"book__otherVersions--wrapper",children:[(0,v.jsx)("div",{className:tA().button__cover__wrapper,children:(0,v.jsx)("div",{className:tA().button__cover,children:(0,v.jsx)(es.uq,{artId:e.id,alt:e.title,coverSizes:{desktopNormal:330,desktopHighDensity:415,mobileNormal:330,mobileHighDensity:415},width:68*(o||1),height:68,unloaderSize:20,wrapperClassName:tA().button__cover__img})})}),(0,v.jsxs)("div",{className:tA().button__side,children:[(0,v.jsx)("h4",{id:"otherBookVersionsTitle",className:tA().button__title,"data-testid":"book__otherVersions--title",children:n("Другие версии")}),(0,v.jsx)("div",{className:tA().button__subtitle,"data-testid":"book__otherVersions--count",children:i?"".concat(n("{countBook} ".concat(c," от"),{countBook:t.length})," ").concat(i):"".concat(t.length," ").concat(n(c))})]})]}),(0,v.jsx)(tE.Z,{isOpen:a,onClose:()=>{r(!1)}})]})};var tL=o(49009),tS=o.n(tL);let tO=e=>{let{leftTitle:t,rightText:o}=e;return(0,v.jsxs)("div",{className:tS().additionalInfo__item,children:[(0,v.jsxs)("div",{className:h()(tS().column,{[tS().column_underline]:!0}),children:[(0,v.jsxs)("div",{className:tS().text,children:[t,":"]}),(0,v.jsx)("div",{className:tS().underline})]}),(0,v.jsx)("div",{className:tS().column,children:o})]})},tB=x.memo(e=>{let{podcastEpisodesCount:t,lastUpdate:o}=e,{t:a}=(0,b.$G)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:tS().additionalInfo,"data-testid":"book-additional-info__wrapper",children:["number"==typeof t&&(0,v.jsx)(tO,{leftTitle:a("Доступно"),rightText:"".concat(t," ").concat((0,f.pd)(t,[a("выпуск"),a("выпуска"),a("выпусков")]))}),o&&(0,v.jsx)(tO,{leftTitle:a("Последнее обновление"),rightText:(0,D.GD)(o,a)})]}),(0,v.jsx)(eD.Fg,{href:"/podkasty/",className:tS().additionalInfoExtra,e2eId:"book-additional-info__about",children:a("Что такое подкаст?")})]})});var tR=o(52523),tF=o(31530),tG=o.n(tF);let tQ=()=>{let{t:e}=(0,b.$G)(),{art:t}=(0,I.G)(),o=t=>{let o=t.art_refresh_in_days;switch(!0){case 0===o:return null;case o%30==0:return r(o/30);case o%7==0:return a(o/7);case o%10==1&&11!==o:if(1===o)return e("примерно раз в день");return e("примерно раз в {periodicity} день",{periodicity:o});case(o<10||o>20)&&o%10>=2&&o%10<=4:return e("примерно раз в {periodicity} дня",{periodicity:o});case 7===o:return e("примерно раз в неделю");default:return e("примерно раз в {periodicity} дней",{periodicity:o})}},a=t=>{switch(!0){case 0===t||1===t:return e("примерно раз в неделю");case t%10==1&&11!==t:return e("примерно раз в {weeks} неделю",{weeks:t});case(t<10||t>20)&&t%10>=2&&t%10<=4:return e("примерно раз в {weeks} недели",{weeks:t});default:return e("примерно раз в {weeks} недель",{weeks:t})}},r=t=>{switch(!0){case 0===t||1===t:return e("примерно раз в месяц");case t%10==1&&11!==t:return e("примерно раз в {months} месяц",{months:t});case t%10>=2&&t%10<=4:return e("примерно раз в {months} месяца",{months:t});default:return e("примерно раз в {months} месяцев",{months:t})}};return(0,v.jsxs)("div",{className:h()(tG().wrapper),children:[(0,D.g9)(t)&&(0,v.jsx)(tR.s,{title:"".concat((0,D.F0)(t)?e("Уже записано"):e("Написано страниц")),value:(0,D.g9)(t)}),t.last_updated_at&&(0,v.jsx)(tR.s,{title:e("Последнее обновление"),value:new Date(t.last_updated_at).toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"}).replace(/\sг\./,"").replace((0,D.jT)(t.last_updated_at),e((0,D.jT)(t.last_updated_at)))}),o(t)&&(0,v.jsx)(tR.s,{title:e("Периодичность новых глав"),value:o(t)}),t.first_time_sale_at&&(0,v.jsx)(tR.s,{title:e("Дата начала написания"),value:new Date(t.first_time_sale_at).toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"}).replace(/\sг\./,"").replace((0,D.jT)(t.first_time_sale_at),e((0,D.jT)(t.first_time_sale_at)))}),(0,v.jsx)(eD.Fg,{className:h()(tG().characteristic,tG().characteristic__link),href:"https://www.litres.ru/cms/chernoviki/",children:e("Подробнее о ЛитРес: Черновиках")})]})};var tU=o(76934),tq=o(24807),tW=o(52805),tP=o(15202),tY=o.n(tP);let tZ=e=>{let{id:t,title:o,isAnon:a,hasSubscription:r}=e,{t:n}=(0,b.$G)(),s=(0,M.TL)(),i=(0,N.uH)(),[l,{isFetching:_}]=M.qL.useLazyGetArtFilesQuery(),d=e=>(0,D.TT)(e)===t,c=()=>{s(M.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0,errorText:n("Для прослушивания подкаста \xab{title}\xbb, зарегистрируйтесь или войдите",{title:o})}))},u=async e=>{let{togglePlay:o,updatePlayerUrl:n,playingUrl:s}=e;if(a){c();return}let _=(await l({artId:t},!0).unwrap()).filter(D.NO).sort(D.Yx).map(e=>({fileId:e.id,title:e.filename,url:(0,tW.qm)(t,e.id,e.filename,i,r),duration:e.seconds||0}))[0].url;d(s)?o():n(_)};return(0,v.jsx)(ex.J,{children:e=>{let{togglePlay:t,url:o,updatePlayerUrl:a,smallIcon:r}=e;return(0,v.jsx)(K.z,{mode:"secondary",size:"small",type:"button",className:tY().button,onClick:()=>u({updatePlayerUrl:a,togglePlay:t,playingUrl:o}),loading:_,icon:d(o)?r:(0,v.jsx)(eu.uQ,{name:"play",size:16}),text:""})}})};var tH=o(31064),tK=o.n(tH);let tV=x.memo(e=>{var t,o,a;let{episode:r}=e,n=(0,M.CG)(e=>e.foundationUser),s=(0,D.Yg)(r);return(0,v.jsxs)("div",{className:tK().podcast,"data-testid":"podcast__wrapper",children:[(0,v.jsx)("div",{className:tK().podcast__number,children:r.podcast_serial_number}),(0,v.jsxs)("div",{className:tK().podcast__content,children:[(0,v.jsxs)("div",{className:tK().podcast__title,children:[(0,v.jsx)(ey.I,{href:r.url||"",className:tK().title__text,children:(0,v.jsx)("span",{className:tK().label,children:r.title})}),(0,v.jsxs)("div",{className:tK().title__button,children:[(0,v.jsx)("div",{className:tK().podcast__duration,children:(0,D.S2)(r.podcast_duration)}),s&&(0,v.jsx)(tZ,{id:r.id,title:r.title,hasSubscription:(0,D.dV)({art:r,user:n}),isAnon:!n.id})]})]}),(0,v.jsxs)("div",{className:tK().podcast__additionalInfo,children:[r.date_written_at&&(0,v.jsx)("div",{className:tK().podcast__publishDate,children:(0,tW.EX)(r.date_written_at)}),(0,v.jsxs)("div",{className:tK().podcast__reviewsCount,children:[(0,v.jsx)(eu.uQ,{name:"rating",size:16,className:h()(tK().episodeRating,{[tK().episodeRating_active]:(null===(t=r.rating)||void 0===t?void 0:t.rated_total_count)&&r.rating.rated_total_count>0})}),(null===(o=r.rating)||void 0===o?void 0:o.rated_avg)&&r.rating.rated_avg>0?(0,v.jsx)("span",{className:tK().podcast__commonRating,children:r.rating.rated_avg}):null,(0,v.jsxs)("span",{className:tK().podcast__amountReviews,children:["(","".concat(null===(a=r.rating)||void 0===a?void 0:a.rated_total_count),")"]})]})]}),r.html_annotation&&(0,v.jsx)(H.k,{maxHeight:44,mode:"www",separator:"...",readMoreText:"Далее",isKeepWords:!0,isCheckDocumentHeight:!0,shouldRemoveLineBreaksOnEnd:!0,children:(0,v.jsx)("div",{className:tK().podcast__annotation,dangerouslySetInnerHTML:{__html:r.html_annotation}})})]})]},r.id)}),tX=x.memo(()=>{let{t:e}=(0,b.$G)(),{art:t}=(0,I.G)(),[o,a]=(0,x.useState)(""),{data:r,isLoading:n}=M.qL.useGetPodcastEpisodesQuery({podcastId:t.id,url:o}),s=null==r?void 0:r.payload.data,i=null==r?void 0:r.payload.pagination,[l,_]=(0,x.useState)(null!=s?s:[]);(0,x.useEffect)(()=>{""!==o&&_(e=>[...e,...null!=s?s:[]])},[s]);let d=t.podcast_episodes_count?t.podcast_episodes_count-l.length:10;return(0,v.jsxs)("div",{className:tK().podcastEpisodes,children:[l.map(e=>(0,v.jsx)(tV,{episode:e},e.id)),(null==i?void 0:i.next_page)&&(0,v.jsx)(K.z,{className:tK().getMoreButton,e2eId:"podcast_moreEpisodes--button",mode:"tertiary",size:"medium",text:e("Ещё {count} выпуск",{count:d<10?d:10}),onClick:()=>{(null==i?void 0:i.next_page)&&a(i.next_page)},loading:n})]})});var tJ=o(54675),t$=o(16849),t0=o.n(t$);let t2=e=>{let{text:t,quoteUrl:o}=e,{art:a}=(0,I.G)(),{t:r}=(0,b.$G)();return(0,v.jsxs)("div",{className:t0().quote,"data-testid":"art__quotes",children:[(0,v.jsx)(eu.uQ,{name:"quote",size:24,className:t0().quote__icon}),(0,v.jsxs)("div",{className:t0().quote__maintenance,children:[(0,v.jsx)(H.k,{maxHeight:160,mode:"www",separator:"...",readMoreText:"Далее",isKeepWords:!0,isCheckDocumentHeight:!0,children:(0,v.jsx)("div",{className:t0().quote__text,dangerouslySetInnerHTML:{__html:t}})}),(0,v.jsx)("div",{className:t0().quote__footer,children:(0,v.jsx)("div",{className:t0().quote__footer__right,children:(0,v.jsxs)(e5.L,{className:t0().quote__link,onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_to_quote",params:(0,D.Eb)({art:a})})},href:o,mode:"default",e2eId:"view__quote--button",children:[r("К цитате"),(0,v.jsx)(eu.uQ,{size:16,name:"chevronRight"})]})})})]})]})},t1=e=>{var t,o,a,r;let{artId:n,quotesCount:s}=e,{art:i}=(0,I.G)(),[l,_]=(0,x.useState)([]),[d,c]=(0,x.useState)(),[u,m]=(0,x.useState)(5),p=(null===(t=i.url)||void 0===t?void 0:t.endsWith("/"))?null===(a=i.url)||void 0===a?void 0:a.slice(0,(null===(o=i.url)||void 0===o?void 0:o.length)-1):i.url,g=(0,D.cV)(d,i.id),{data:h,isFetching:j}=M.qL.useGetArtQuotesQuery({artId:n,url:g?d:"",limit:g?u:5}),N=null==h?void 0:h.payload.data,k=null==h?void 0:h.payload.pagination,f=null!==(r=null==h?void 0:h.payload.data)&&void 0!==r?r:[],{t:y}=(0,b.$G)();return(0,x.useEffect)(()=>{_(e=>[...g&&e?e:[],...null!=N?N:[]])},[N]),(0,v.jsxs)("div",{"data-testid":"book__quotes--wrapper",children:[(0,v.jsxs)("div",{className:t0().quoteHeader,children:[(0,v.jsx)("h3",{className:t0().quote__title,children:y("Цитаты")}),(0,v.jsx)("span",{className:t0().quote__count,children:s}),(0,v.jsx)(e5.L,{className:t0().quote__allQuotes,onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_quotes_view",params:(0,D.Eb)({art:i})})},mode:"default",size:"medium",href:"".concat(p,"/quotes/"),children:y("Смотреть все цитаты")})]}),(0,v.jsx)("div",{className:t0().quoteList,children:(l.length?l:f).map(e=>(0,v.jsx)(t2,{quoteUrl:"".concat(p).concat(e.selection_url,"/"),text:e.selection_html},e.uuid))}),(null==k?void 0:k.next_page)&&(0,v.jsx)(K.z,{className:t0().addMoreButton,text:y("Ещё 10 цитат"),size:"medium",mode:"tertiary",onClick:()=>{(null==k?void 0:k.next_page)&&(c(k.next_page),m(10))},loading:j,e2eId:"book__quotesMore--button"})]})};var t3=o(29785),t4=o(94123),t5=o(87080),t6=o.n(t5);let t8=e=>"https://www.youtube.com/watch?v=".concat(e),t9=e=>"https://www.youtube.com/embed/".concat(e),t7=e=>e.includes("youtube.com/watch")?new URL(e).searchParams.get("v")||"":e.includes("youtube.com/embed")?e.split("/").slice(-1)[0]:e,oe=e=>{let[t,o]=(0,x.useState)(!1),{art:a}=(0,I.G)(),r=t7(e.url),n=t8(r),s=t9(r),i="".concat(s).concat(t?"?autoplay=1":""),{t:l}=(0,b.$G)(),_=()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_booktrailer_click",params:(0,D.Eb)({art:a,extra:{source_internal:document.referrer}})})};return(0,v.jsxs)("div",{className:h()(t6().block,{[t6().block_mobile]:e.isMobile}),children:[(0,v.jsxs)("div",{className:t6().block__videoPlayer,children:[(0,v.jsx)("iframe",{width:e.isMobile?"240":"391",height:e.isMobile?"135":"219",src:i,title:l("art"===e.type?"Буктрейлер":"Интервью"),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;"}),!t&&(0,v.jsx)("div",{className:t6().overlay,onClick:()=>{_(),o(!0)}})]}),(0,v.jsxs)("div",{className:t6().block__description,children:[(0,v.jsxs)(eD.Fg,{href:n,onClick:_,target:"_blank",className:t6().link,rel:"noreferrer",children:[l("art"===e.type?"Буктрейлер":"Интервью"),(0,v.jsx)(eu.uQ,{name:"externalLink",className:t6().link__icon,width:13,height:12})]}),(0,v.jsx)("span",{className:t6().text,children:e.title})]})]})},ot=e=>{let{isMobile:t,artVideos:o}=e;return(0,v.jsx)("div",{className:t6().container,"data-testid":"book-booktrailers__wrapper",children:(0,v.jsx)(t4.i,{isPDA:t,hasArrows:"lightMode",verticalAlignArrow:"0%",children:o.map(e=>(0,v.jsx)(oe,{isMobile:t,url:e.url,type:e.type,title:""},e.url))})})};var oo=o(28279),oa=o.n(oo);let or=(0,x.forwardRef)((e,t)=>{let{title:o,children:a}=e;return(0,v.jsxs)("div",{className:oa().container,ref:t,"data-analytics-id":"book-annotation",children:[(0,v.jsx)("h4",{className:oa().title,children:o}),(0,v.jsx)("div",{className:oa().content,children:a})]})});or.displayName="MainInfoBlock";var on=o(25608),os=o.n(on);(i=m||(m={})).nominative="full_name",i.genitive="full_rodit";let oi=e=>{let{authorList:t=[],authorCase:o,translator:a}=e,r="";if(t&&(null==t?void 0:t.length)>0){let e=(t=t.filter(e=>null==e?void 0:e[o])||[]).length>2;r=t.slice(0,2).reduce((t,r,n,s)=>{let i=e&&n===(null==s?void 0:s.length)-1?" "+a("и др."):"",l=n<(null==s?void 0:s.length)-1?",":"";return t+((null==r?void 0:r[o])?"".concat(null==r?void 0:r[o]).concat(l).concat(i," "):"")},"")}return r},ol=e=>{var t;let{t:o}=(0,b.$G)(),a=(null===(t=e.persons)||void 0===t?void 0:t.filter(e=>"author"===e.role))||[],r=a.every(e=>null==e?void 0:e.full_rodit),n=oi({authorList:a,authorCase:m.genitive,translator:o}),s=oi({authorList:a,authorCase:m.genitive,translator:o}),i=e.title.startsWith("\xab")&&e.title.endsWith("\xbb")?e.title.slice(1,e.title.length-1):e.title;switch(e.art_type){case y.lG.text:if(e.is_drm)return r?o("Книга {authorGenitive}\xab{title}\xbb — читать онлайн на сайте. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorGenitive:n}):o("{authorNominative}\xab{title}\xbb — читать онлайн на сайте. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorNominative:s});if(e.is_free)return r?o("Книга {authorGenitive}\xab{title}\xbb — скачать бесплатно в fb2, txt, epub, pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorGenitive:n}):o("{authorNominative}\xab{title}\xbb — скачать книгу бесплатно в fb2, txt, epub, pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorNominative:s});return r?o("Книга {authorGenitive}\xab{title}\xbb — скачать в fb2, txt, epub, pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorGenitive:n}):o("{authorNominative}\xab{title}\xbb — скачать книгу в fb2, txt, epub, pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,authorNominative:s});case y.lG.audio:if(e.is_drm)return o("Аудиокнига {author}\xab{title}\xbb — слушать онлайн на сайте. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});if(e.is_free)return o("Аудиокнига {author}\xab{title}\xbb — скачать в MP3 или слушать онлайн бесплатно.",{title:i,author:r?n:s});return o("Аудиокнига {author}\xab{title}\xbb — скачать в MP3 или слушать онлайн.",{title:i,author:r?n:s});case y.lG.epub:if(e.is_drm)return o("Книга {author}\xab{title}\xbb — читать онлайн на сайте. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});if(e.is_free)return o("Книга {author}\xab{title}\xbb — скачать в epub или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});return o("Книга {author}\xab{title}\xbb — читать онлайн бесплатно фрагмент книги. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});case y.lG.pdf:if(e.is_drm)return o("Книга {author}\xab{title}\xbb — читать онлайн на сайте. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});if(e.is_free)return o("Книга {author}\xab{title}\xbb — скачать бесплатно в pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});return o("Книга {author}\xab{title}\xbb — скачать в pdf или читать онлайн. Оставляйте комментарии и отзывы, голосуйте за понравившиеся.",{title:i,author:r?n:s});default:return""}},o_=e=>{let{art:t}=e,o=ol(t);return o?(0,v.jsx)("div",{className:os().SEOText,"data-testid":"template__SEO--text",children:o}):null};var od=o(30863),oc=o(92721),ou=o.n(oc),om=o(20856);let op=e=>{let{isOpen:t,onClose:o}=e,{isDesktop:a}=(0,I.G)(),{t:r}=(0,b.$G)(),n=!a;return(0,v.jsx)(V.u_,{isMobile:n,isOpen:t,onClose:o,closeOnClickOutside:!0,ariaLabel:r("Спасибо"),children:(0,v.jsxs)("div",{className:ou().modalSuccess,"data-testid":"complainForm__window--succcess",children:[(0,v.jsx)("img",{src:om}),(0,v.jsx)("div",{className:ou().thanksText,children:r("Спасибо")}),(0,v.jsx)("div",{className:h()(ou().answerText,{[ou().answerText_isMobile]:n}),"data-testid":"complainForm__window--content",children:r("Модераторы скоро рассмотрят жалобу")})]})})};var ov=o(76996);(l=p||(p={})).REASONS="reasons",l.TEXT="text",l.EMAIL="email";let ox=()=>(0,v.jsxs)(to.nN,{className:ou().skeletonComplaint,children:[[,,,,,].fill(null).map((e,t)=>(0,v.jsx)(to.N2,{className:ou().skeletonComplaint__check,offsetLeft:144},t)),(0,v.jsx)(to.N2,{className:ou().skeletonComplaint__area,offsetLeft:144}),(0,v.jsx)(to.N2,{className:ou().skeletonComplaint__email,offsetLeft:144}),(0,v.jsx)(to.N2,{className:ou().skeletonComplaint__button,offsetLeft:144})]});var og=o(98071);let oh=e=>{var t,o;let{t:a}=(0,b.$G)(),{field:r}=(0,ov.bc)({control:e.control,name:e.name,rules:{required:!0}}),[n,s]=(0,x.useState)([]),i=null===(t=e.reasons)||void 0===t?void 0:t.find(e=>26===e.id),l=null===(o=e.reasons)||void 0===o?void 0:o.filter(e=>26!==e.id),_=i&&[...l||[],i];return(0,v.jsx)("div",{className:ou().checkboxes,children:null==_?void 0:_.map(e=>(0,v.jsx)(og.X,{text:a(e.reason),isCheckedDefault:!1,onChange:t=>{let o=[...n];t?o.push(e.id):o=n.filter(t=>e.id!==t),r.onChange(o),s(o)}},e.id))})};var oj=o(1653);let oN=e=>{let{t}=(0,b.$G)(),[o,a]=(0,x.useState)(!1),{field:r,fieldState:n}=(0,ov.bc)({...e,rules:{required:!0,validate:()=>o}}),s=n.error;return(0,v.jsx)("div",{className:ou().wrapperArea,children:(0,v.jsx)(oj.F5,{...r,placeholder:t("Опишите нарушение"),controlMode:oj.S1.multiline,className:h()(ou().textArea),onChange:e=>{r.onChange(e),a(!!e.target.value.trim())},symbolsCounter:!0,maxLength:1500,error:s?" ":null})})};var ok=o(17385);let oM=e=>{let{field:t,fieldState:{error:o}}=(0,ov.bc)({...e,rules:{required:ok.J,validate:e=>(0,ok.D)(e)||ok.J}}),a=o&&ou().error,r=(null==o?void 0:o.type)==="required"||(null==o?void 0:o.type)==="pattern"||(null==o?void 0:o.type)==="validate";return(0,v.jsx)("div",{className:ou().inputWrapper,children:(0,v.jsx)(oj.F5,{...t,placeholder:"Email",controlMode:oj.S1.text,className:h()(a,{[ou().inputDisabled]:t.disabled}),onChange:e=>{t.onChange(e)},error:r?ok.J:null,fullWidth:!0})})},ob=e=>{let{shouldShowError:t,isLoading:o}=e,{isDesktop:a}=(0,I.G)(),{t:r}=(0,b.$G)();return(0,v.jsxs)("div",{className:h()(ou().actions,{[ou().actions_isMobile]:!a}),children:[(0,v.jsx)(K.z,{className:ou().button,e2eId:"complainForm__submit--button",text:r("Пожаловаться"),size:"medium",mode:"primary",type:"submit",loading:o}),t&&(0,v.jsx)("div",{className:ou().error,"data-testid":"complainForm__error--content",children:r("Выберите хотя бы один вариант из списка и опишите нарушение в текстовом поле")})]})},of=e=>{let{onSubmit:t}=e,o=(0,M.CG)(e=>e.foundationUser.profile),{control:a,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=(0,ov.cI)({shouldFocusError:!1,shouldUnregister:!0,defaultValues:{email:(null==o?void 0:o.email)||""}}),i=!!(n.text||n.reasons),{data:l,isLoading:_}=M.qL.useGetReasonsComplaintQuery();return _?(0,v.jsx)(ox,{}):(0,v.jsx)("div",{className:ou().bookComplain__content,children:(0,v.jsxs)("form",{onSubmit:r(t),children:[(0,v.jsx)(oh,{control:a,name:p.REASONS,reasons:null==l?void 0:l.payload.data}),(0,v.jsx)(oN,{control:a,name:p.TEXT}),(0,v.jsx)(oM,{control:a,name:p.EMAIL,disabled:!!(null==o?void 0:o.email)}),(0,v.jsx)(ob,{isLoading:s,shouldShowError:i})]})})},oy=()=>{let{art:e,isDesktop:t}=(0,I.G)(),{t:o}=(0,b.$G)(),[a,r]=(0,x.useState)(!1),[n,s]=(0,x.useState)(!1),[i]=M.qL.useSendArtComplaintMutation(),l=o((0,D.kk)(e)?"Пожаловаться на подкаст":"Пожаловаться на книгу"),_=async t=>{let{text:o,email:a,reasons:n}=t;try{await i({artId:e.id,reason_ids:n,email:a,text:o.trim()}),r(!1),s(!0)}catch(e){throw r(!1),e}};return(0,v.jsxs)("div",{className:ou().bookComplain,"data-testid":"complainBook__button",children:[(0,v.jsxs)(e5.L,{size:"medium",className:ou().bookComplain__button,onClick:()=>{r(!0)},children:[(0,v.jsx)(eu.uQ,{name:"alert",size:16,className:ou().bookComplain__button__icon}),l]}),(0,v.jsx)(V.u_,{isMobile:!t,isOpen:a,onClose:()=>{r(!1)},closeOnClickOutside:!0,title:o("На что хотите пожаловаться?"),children:(0,v.jsx)(of,{onSubmit:_})}),(0,v.jsx)(op,{onClose:()=>{s(!1)},isOpen:n})]})};var oC=o(97265),oT=o(1114),oI=o(11515),oD=o.n(oI),oE=o.p+"static/media/discount.637997db.svg";let ow=()=>{let{art:e}=(0,I.G)(),t=(0,C.useRouter)(),{t:o}=(0,b.$G)(),{data:a,isLoading:r}=(0,oT.B)(),[n,s]=(0,x.useState)(!1),[i,l,_]=(0,N._)("skip_second_art_discount",!1),d=null==a?void 0:a.active_offers.some(e=>"SECOND_ART_DISCOUNT"===e.offer_type);return((0,x.useEffect)(()=>{if(d||!r){if(!d){i&&_();return}!i&&d&&(T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"any_second_discount_banner_view",params:(0,D.Eb)({art:e})}),s(!0))}},[d,r]),!d||i)?(0,v.jsx)(v.Fragment,{}):(0,v.jsx)("div",{className:oD().modalDiscount,children:(0,v.jsxs)(V.u_,{isOpen:n,onClose:()=>{l(!0),s(!1)},closeOnClickOutside:!0,ariaLabel:o("Спасибо за покупку!"),children:[(0,v.jsxs)("div",{className:oD().modalDiscount__content,children:[(0,v.jsx)("div",{className:oD().modalTitle,children:o("Спасибо за покупку!")}),(0,v.jsx)("div",{className:oD().modalDiscount__image,children:(0,v.jsx)("img",{src:oE,alt:""})}),(0,v.jsx)("div",{className:oD().modalDiscount__text,children:o("В течение 20 минут для вас действует скидка 20% на любые книги")})]}),(0,v.jsx)("div",{className:oD().discountButton,children:(0,v.jsx)(K.z,{size:"medium",mode:"primary",text:"Выбрать книги",onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"any_second_discount_banner_click",params:(0,D.Eb)({art:e})}),l(!0),t.push("/popular/")}})})]})})};var oA=o(11190),oz=o.n(oA);let oL=()=>{let{t:e}=(0,b.$G)(),t=(0,C.useRouter)(),{art:o}=(0,I.G)(),a=(0,M.TL)(),[r,n]=(0,x.useState)(!1),[s,i]=(0,x.useState)(!1),l=(0,S.t)(),[_]=M.Df.useAddUserReferralMutation();(0,x.useEffect)(()=>{o.is_referrable&&l&&$.Tx.ACCEPT_DISCOUNT_FROM_REFERRAL.every(e=>e in t.query)&&(a(M.hi.global.modals.setGlobalModalsShowStatus("blocked")),T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_view",params:(0,D.Eb)({art:o})}),n(!0))},[t.query,l,o.is_referrable]);let d=()=>{n(!1)},c=async()=>{try{await _({referral_id:Number(t.query.lfrom),referral_pin:String(t.query.ref_key),art_id:Number(o.id)});let e=new URL(window.location.href);$.Tx.ACCEPT_DISCOUNT_FROM_REFERRAL.forEach(t=>{e.searchParams.delete(t)}),t.replace(e),n(!1)}catch(e){throw i(!1),e}};return(0,v.jsx)(V.u_,{isOpen:r,closeOnClickOutside:!0,noGutters:!0,onClose:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_close",params:(0,D.Eb)({art:o})}),d()},e2eId:"referral__popup--discountSharing",ariaLabel:e("Сообщение"),children:(0,v.jsxs)("div",{className:oz().container,children:[(0,v.jsx)("h3",{className:oz().title,children:e("Сообщение")}),(0,v.jsx)("p",{className:oz().description,children:e("С вами поделились скидкой в 10%")}),(0,v.jsxs)("div",{className:oz().buttonContainer,children:[(0,v.jsx)(K.z,{className:oz().button,size:"medium",mode:"primary",text:e("Получить"),disabled:s,onClick:()=>{if(!l){d(),a(M.hi.global.interfaceRequests.setLoginPopupError({isOpen:!0,errorText:e("Чтобы получить скидку, зарегистрируйтесь или войдите")}));return}T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_accept",params:(0,D.Eb)({art:o})}),i(!0),c()}}),(0,v.jsx)(K.z,{className:oz().button,size:"medium",mode:"secondary",onClick:()=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_referral_refuse",params:(0,D.Eb)({art:o})}),d()},text:e("Отказаться")})]})]})})};var oS=o(36921),oO=o(56321);let oB=e=>{let t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t},oR=e=>{let{id:t,open:o,children:a}=e,[r,n]=(0,x.useState)();function s(){return e=>{"key"in e&&"Enter"!==e.key&&" "!==e.key||e.stopPropagation()}}return(0,x.useEffect)(()=>{if(o)return n(document.getElementById(t)||oB(t)),()=>{r&&document.body.removeChild(r)}},[]),o&&r?(0,v.jsx)("div",{onClick:s(),onKeyDown:s(),children:oO.createPortal(a,r)}):null};var oF=o(41432);let oG=e=>{let[t,o]=(0,x.useState)(!1);return(0,x.useEffect)(()=>{o(e)},[e]),t};var oQ=o(50757),oU=o.n(oQ);let oq=e=>{let{open:t,onClose:o}=e,a=(0,x.useRef)(null),r=oG(t),n=e=>{e.preventDefault()};return(0,x.useEffect)(()=>{let e=document.body.style.overflow,t=a.current;return document.body.style.overflow="hidden",t&&t.addEventListener("touchmove",n),()=>{document.body.style.overflow=e,t&&t.removeEventListener("touchmove",n)}},[]),(0,v.jsx)(oF.Z,{unmountOnExit:!0,mountOnEnter:!0,timeout:700,nodeRef:a,in:r,classNames:{enter:oU().overlay__enter,enterActive:oU().overlay__enter_active,exit:oU().overlay__exit,exitActive:oU().overlay__exit_active},children:(0,v.jsx)("div",{ref:a,className:oU().overlay,onClick:o,"data-testid":"overlay__wrapper"})})},oW=e=>{let[t,o]=(0,x.useState)(!1);return(0,x.useEffect)(()=>{let a;return e&&!t?o(!0):!e&&t&&(a=setTimeout(()=>{o(!1)},700)),()=>{a&&clearTimeout(a)}},[e]),t};var oP=o(64056),oY=o.n(oP),oZ=o(67504);let oH=e=>{let{open:t,title:o,isPDA:a,onClose:r,children:n,wrapperClassName:s,containerClassName:i,contentTestId:l="overlay__container"}=e,{t:_}=(0,oZ.b)(),d=(0,x.useRef)(null),c=oG(t);return(0,v.jsx)(oF.Z,{unmountOnExit:!0,mountOnEnter:!0,timeout:700,nodeRef:d,in:c,classNames:{enter:oY().container__enter,enterActive:oY().container__enter_active,exit:oY().container__exit,exitActive:oY().container__exit_active},children:(0,v.jsxs)("div",{ref:d,className:h()(oY().container,{[oY().container_isPDA]:a},i),"data-testid":l,children:[(0,v.jsxs)("div",{className:oY().header,"data-testid":"overlay__header",children:[!!o&&(0,v.jsx)("h4",{className:oY().header__title,children:o}),(0,v.jsx)("button",{type:"button","aria-label":_("Закрыть"),tabIndex:0,className:oY().header__closeButton,onClick:r,"data-testid":"overlay__closeButton",children:(0,v.jsx)(eu.uQ,{name:"close",size:24})})]}),(0,v.jsx)("div",{className:h()(oY().content,s),children:n})]})})},oK=e=>{let{open:t,onClose:o,children:a}=e,r=oW(t),n=f.Ym&&r;return((0,x.useEffect)(()=>{n?oS.Z.publish("helpdeskeddy-hide-widget"):oS.Z.publish("helpdeskeddy-show-widget")},[n]),n)?(0,v.jsxs)(oR,{open:r,id:"bottom-modal-portal",children:[(0,v.jsx)(oq,{open:t,onClose:o}),(0,v.jsx)(oH,{...e,children:a})]}):null};var oV=o(28894);let oX=e=>{let{artId:t,artType:o}=e,a=(0,M.TL)(),{isOpen:r}=(0,M.CG)(e=>e.global.interface.bookUpsalePopup),n=(0,M.CG)(e=>e.browser.pda);return(0,v.jsx)(oK,{open:r,onClose:()=>{a(M.hi.global.interfaceRequests.setBookUpsalePopup({isOpen:!1}))},isPDA:n,children:(0,v.jsx)(oV.Z,{artId:t,artType:o,hideCloseButton:!0})})};var oJ=o(85289),o$=o.n(oJ);let o0=e=>{let{authors:t}=e,{t:o}=(0,b.$G)(),[a,r]=(0,x.useState)(!1),n=(0,M.CG)(e=>e.browser.pda),s=t.length,i=o((0,f.pd)(s,["Все ".concat(s," автор"),"Все ".concat(s," автора"),"Все ".concat(s," авторов")]));return 0===s?null:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:o$().authors__wrapper,"data-testid":"book__author--wrapper",children:[(0,v.jsxs)("div",{className:o$().authors,"data-testid":"book__author--title",children:[(0,v.jsx)("h4",{children:o(s>1?"Авторы":"Автор")}),s>2&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:o$().button,children:(0,v.jsx)(e5.L,{size:"medium",onClick:()=>{r(!0)},children:i})}),(0,v.jsx)(e6.R,{isOpen:a,onClose:()=>{r(!1)},isOnRightSide:!0,title:o("Авторы"),testId:"authors-modal-view__wrapper",children:t.map(e=>(0,v.jsx)(e9.g,{author:e},e.id))})]})]}),t.slice(0,2).map(e=>(0,v.jsx)(e9.g,{author:e},e.id))]}),n&&(0,v.jsx)("div",{className:o$().donateButton,children:(0,v.jsx)(eW,{})})]})};var o2=o(12169),o1=o(47658),o3=o(93644),o4=o(9783),o5=o.p+"static/media/ios-store.2be522c0.svg",o6=o.p+"static/media/google-store.4f24c5bb.svg",o8=o(81033),o9=o.n(o8);let o7=e=>{let t=(0,x.useRef)(null),{t:o,i18n:a}=(0,b.$G)(),r=(0,M.CG)(e=>e.browser.pda),{art:n}=e,{id:s}=n,[i,l]=(0,x.useState)(),_="https://click.litres.ru/1566260005?af_xp=custom&pid=Web_to_app_card&af_dp=litresread://content/b/".concat(s,"&af_click_lookback=30d&c=Card_new&is_retargeting=true&af_reengagement_window=30d"),d=(0,ev.S1)(t,{freezeOnceVisible:!0}),c=null==d?void 0:d.isIntersecting;(0,x.useEffect)(()=>{c&&T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"download_app_block_view",params:(0,D.Eb)({art:n})})},[c,n]),(0,x.useEffect)(()=>{_&&o1.toDataURL(_,{errorCorrectionLevel:"M",margin:4,width:120}).then(e=>{l(e)}).catch(e=>{(0,o3.L)("FrontendLogicError","Error generating QR code for webtoon",e).emit()})},[_]);let u=e=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"download_app_button_click",params:(0,D.Eb)({art:n,extra:{os:e}})})};return(0,v.jsxs)("div",{className:o9().banner,ref:t,children:[(0,v.jsxs)("div",{className:o9().banner__content,children:[(0,v.jsx)("h3",{className:o9().banner__title,children:o("Вебтуны доступны в приложении")}),(0,v.jsx)("p",{className:o9().banner__subtitle,children:o("Наведите камеру телефона на QR-код для скачивания")})]}),(0,v.jsxs)("div",{className:o9().banner__install,children:[i?(0,v.jsx)("img",{src:i,className:o9().banner__qr,alt:"qr code",loading:"lazy"}):(0,v.jsx)(to.qM,{width:120,height:120}),(0,v.jsx)("div",{className:o9().banner__links,children:r?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ey.I,{className:o9().banner__link,href:o4.Ek,target:"_blank",rel:"noopener noreferrer",onClick:()=>{u("IOS")},e2eId:"webtoon__appStore--link",children:(0,v.jsx)("img",{src:o5,alt:"App store",width:110,height:28})}),(0,v.jsx)(ey.I,{className:o9().banner__link,href:"ru-RU"===a.language?o4.jC:o4.XZ,target:"_blank",rel:"noopener noreferrer",onClick:()=>{u("Android")},children:(0,v.jsx)("img",{src:o6,alt:"Google play",width:112,height:28})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:o9().banner__link,onClick:()=>{u("IOS")},children:(0,v.jsx)("img",{src:o5,alt:"App store",width:110,height:28})}),(0,v.jsx)("div",{className:o9().banner__link,onClick:()=>{u("Android")},children:(0,v.jsx)("img",{src:o6,alt:"Google play",width:112,height:28})})]})})]})]})};var ae=o(19331),at=o(59187),ao=o(59139),aa=o(24297),ar=o(68969),an=o(7053),as=o(36513),ai=o(20104);let al=(0,x.forwardRef)(function(e,t){let{paperOffer:o,alignNotificationRef:a,onRetryGoingToPayment:r,onGoingToPayment:n=f.ZT,cameFromSource:s,cameFromSourcePayload:i}=e,l=(0,Y.useDispatch)(),_=(0,C.useRouter)(),[d,c]=(0,x.useState)(null),u=(0,x.useCallback)(()=>{c(null)},[]),m=(0,x.useCallback)(e=>{if((0,R.HA)(e)){var t;(null===(t=e.extendedParams)||void 0===t?void 0:t.skipEmit)||e.emit({canNewPaymentFrameBeUsed:!0,cameFromSource:s,isPaymentViaAccount:!1,totalPrice:o.totalPrice.value,currency:o.currency})}else(0,Q.Q)("FrontendLogicError","Trying to open new payment frame",{originalError:e}).emit();c(e)},[s,o.currency,o.totalPrice.value]),p=(0,x.useCallback)(async()=>{try{let e=await a_({paperOffer:o,dispatch:l,cameFromSource:s,cameFromSourcePayload:i,routerQuery:_.query,shouldClearPurchaseFlowBeUsed:!0});_.push(e)}catch(e){throw m(e),e}},[s,i,l,m,o,_]),g=(0,as.M)(l,!!(0,f.ej)("redeemed_promocode_jwt")),h=(0,S.t)(),j=(0,x.useCallback)(async()=>{if(!h){let e={[ai.CF]:o.offerId.toString(),"block-phone-asking":"1"};(0,f.ej)("redeemed_promocode_jwt")&&(e[ai.Fg]="1");let{isAuthPopupOpened:t}=g(e);if(t)return{canPay:!1}}o.canBeFullyPaidByAccountMoney||n();try{await p()}catch(e){return{canPay:!1}}return u(),{canPay:!0}},[o.canBeFullyPaidByAccountMoney,o.offerId,h,u,g,l,n,p]);(0,x.useImperativeHandle)(t,()=>({goToPaymentOperation:()=>({isGoingToNewPaymentFrame:!0,canGoToPayment:j().then(e=>e.canPay)})}),[j]);let N=(0,x.useCallback)(()=>{u(),r?r():j()},[j,r,u]);return(0,ai.$V)(o,j,!0),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ae.l,{isShown:!!d,error:d,alignElementRef:a,isOneArtPurchase:!0,onClose:u,onRetry:N}),(0,v.jsx)(at.r,{artIds:o.offeredArtId})]})});async function a_(e){let{paperOffer:t,dispatch:o,cameFromSource:a,cameFromSourcePayload:r,routerQuery:n}=e,s=an.q.createPurchaseTraceId();try{ao.k.trackStart({cameFromSource:a,offerType:t.offerType,purchaseTraceId:s});let e=await new an.q(o).execute({cameFromSource:a,offer:t,purchaseTraceId:s}),i=new aa._({adaptedOrderBackendInfo:e});return ao.k.trackSuccess({cameFromSource:a,offerType:t.offerType,purchaseTraceId:s,orderId:i.id}),(0,ar.x)({orderInfo:i,cameFromSourcePayload:r,routerQuery:n})}catch(e){var i;if(!((0,R.HA)(e)&&(null===(i=e.extendedParams)||void 0===i?void 0:i.skipEmit))){let o="unknown";(0,R.HA)(e)&&(0,R.i3)(e.originalError)?o=e.originalError.data.error.type:(0,R.HA)(e)&&(0,R.p3)(e.originalError)?o=e.originalError.data:(0,R.HA)(e)&&(0,R.V3)(e.originalError)&&(o=e.originalError.name),ao.k.trackError({cameFromSource:a,offerType:t.offerType,purchaseTraceId:s,errorName:o})}throw e}}var ad=o(89668),ac=o(71956),au=o(92249),am=JSON.parse('{"paper_books":[{"id":5243,"referral_link":"https://www.chitai-gorod.ru/product/kgbt-2930339?partnerId=1004419&utm_source=affiliate&utm_medium=cpa&utm_campaign=1004419","title":"KGBT+","persons":[{"id":588265,"full_name":"Виктор Пелевин","role":"author"},{"id":588265,"full_name":"Витёк","role":"translator"}],"description":"5 причин для покупки:\\n1. Книга о выборе дороги в темные времена.\\n2. Автор утверждает: \xabГуманизм — это просто\xbb. Проверьте, подтвердят или опровергнут это его же персонажи.\\n3. Автор, наследующий традиции Гоголя, Салтыкова-Щедрина и Чехова, написал историю о любви и доброте — что бы там ни скрывалось за конспирологическими дебрями и футурологическими исследованиями.\\n4. Прочитайте роман и соберите коллекцию самых актуальных событий и мемов будущего года.\\n5. Более тридцати лет Виктор Пелевин остается одной из самых значимых величин в российской литературе и заметной фигурой в мировой культуре — доказано престижными отечественными и международными премиями.\\n\\nВиктор Пелевин снова вытащил из ноосферы предчувствия и вероятности, чтобы рассказать читателям о мире, в котором они живут. Он пересобрал реальность, ничего не изменяя, но объясняя каждое событие, запустившее падение костяшек домино, которое мы наблюдаем сейчас. Проза Пелевина — как ее ни назови: метаирония, научная фантастика, психоделика, новая итерация большого русского романа — это ежегодный скрупулезный анализ актуальной объективности. И именно объяснения происходящего читатели ждут. И они его получат.","price":1195,"prices":{"final_price":850,"inapp_price":null,"inapp_base_price":null,"full_price":1000,"discount_price":null,"litcoin_count":0,"inapp_name":null,"inapp_base_name":null,"currency":"RUB","discount_percent":15,"cost_with_bonus":null,"bonus_money":null,"account_money":null,"can_be_paid_by_account_money":false},"cover_image_url":"https://content.img-gorod.ru/pim/products/images/d2/bb/018f6067-ed0d-7234-b108-780b8b65d2bb.jpg?width=0&height=2400&fit=bounds","image_urls":["https://content.img-gorod.ru/pim/products/images/d2/bb/018f6067-ed0d-7234-b108-780b8b65d2bb.jpg?width=0&height=2400&fit=bounds","https://content.img-gorod.ru/pim/products/images/33/a5/018f6067-ed18-713d-b5a5-d86d67c333a5.jpg?width=0&height=2400&fit=bounds"],"publisher":"ЭКСМО","publishing_year":2023,"min_age_limit":18,"characteristics":{"weight":560,"height":130,"width":270,"length":2,"pages_count":560,"pages_format":"Книжный","print_run":10000,"binding":"Твёрдый переплёт"}}]}'),ap=o(67793),av=o.n(ap);let ax=e=>{let{persons:t,characteristics:o,publisher:a,publishing_year:r,min_age_limit:n}=e,s=null==t?void 0:t.filter(e=>"author"!==e.role);return(0,v.jsxs)("div",{className:av().details,children:[!!(null==s?void 0:s[0])&&ag((0,f.J2)(s[0].role||"author"),s[0].full_name),!!o.binding&&ag("Тип обложки",o.binding),!!a&&ag("Издательство",a),!!r&&ag("Размер и вес",function(e){let{length:t,width:o,height:a,weight:r}=e;return"".concat(t,"x").concat(a,"x").concat(o,", ").concat(r,"г")}(o)),!!o.pages_count&&ag("Количество страниц",o.pages_count),!!o.print_run&&ag("Тираж",o.print_run),!!r&&ag("Год издания",r),!!n&&ag("Возраст","".concat(n,"+"))]})};function ag(e,t){return(0,v.jsxs)("div",{className:av().details__item,children:[(0,v.jsx)("div",{className:av().details__item__key,children:e}),(0,v.jsx)("div",{className:av().details__item__value,children:t})]})}let ah=()=>(0,v.jsx)("span",{className:av().faultButton,children:(0,v.jsx)(K.z,{className:av().faultButton__wrapper,textContainerClassName:av().faultButton__wrapper__text,mode:"tertiary",size:"small",text:"Сообщить об ошибке",onClick:()=>{console.log("Будет реализовано позднее")},icon:(0,v.jsx)(eu.uQ,{name:"achtung",size:16}),iconPosition:"left"})});var aj=o(81014);let aN=()=>{let{prices:e}=am.paper_books[0],t=null==e?void 0:e.discount_percent;if(!(null==e?void 0:e.currency))return null;let o=e.full_price?new aj.W(e.full_price,e.currency):void 0,a=e.final_price?new aj.W(e.final_price,e.currency):void 0;return(0,v.jsx)("div",{className:av().price,children:(0,v.jsxs)("div",{className:av().price__inner,children:[a&&(0,v.jsx)("strong",{className:t&&t>0?av().price__final:av().price__default,children:a.toStringWithCurrency()}),!!t&&t>0&&(0,v.jsxs)("div",{className:av().price__discount,children:[o&&(0,v.jsx)("span",{className:av().price__full,children:o.toStringWithCurrency()}),(0,v.jsx)("div",{className:av().price__discount__label,children:(0,v.jsx)(Z.y,{text:"-".concat(t,"%"),size:"xs",hasBorder:!1})})]})]})})},ak=e=>{var t;let{onClose:o,onBuyButtonClick:a,buttonRef:r,isLoading:n}=e,s=am.paper_books[0],i=function(e){var t;if(e)return null===(t=e.find(e=>"author"===e.role))||void 0===t?void 0:t.full_name}(s.persons);return(0,v.jsxs)(V.u_,{isOpen:!0,onClose:o,isMobile:!0,children:[(0,v.jsxs)("div",{className:av().modalDetails__content,children:[(0,v.jsx)("h3",{children:"Об издании"}),(0,v.jsx)("div",{className:av().modalDetails__content__imagesWrapper,children:null===(t=s.image_urls)||void 0===t?void 0:t.map(e=>(0,v.jsx)("img",{className:av().modalDetails__content__imagesWrapper__item,src:e,alt:"Изображение бумажной книги"},e))}),!!i&&(0,v.jsx)("div",{className:av().modalDetails__content__author,children:i}),(0,v.jsx)("h2",{children:s.title}),(0,v.jsx)("h4",{children:"О книге"}),!!s.description&&(0,v.jsx)("div",{className:av().modalDetails__content__description,children:(0,v.jsx)(tI,{isNeedCollapse:!0,text:(0,D.Z_)(s.description,{isDisabledRemoveLinkText:!0}),id:s.id},s.id)}),(0,v.jsx)(ax,{...s}),(0,v.jsx)(ah,{})]}),(0,v.jsxs)("div",{className:av().modalDetails__saleBlock,children:[(0,v.jsx)(aN,{}),(0,v.jsx)(K.z,{mode:"primary",size:"small",text:"Купить",secondaryText:"Самовывоз бесплатно",fullWidth:!0,onClick:a,ref:r,loading:n})]})]})},aM=()=>{var e,t,o;let[a,r]=(0,x.useState)(!1),[n]=(0,x.useState)(0),{art:s}=(0,I.G)(),i=am.paper_books[0];return(0,v.jsxs)("div",{className:av().paperCover,style:{cursor:"zoom-in"},children:[(0,v.jsx)("div",{onClick:()=>{r(!0)},children:(0,v.jsx)(es.jG,{bookId:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0,alt:(null==i?void 0:i.title)||"",ratio:null!==(o=s.cover_ratio)&&void 0!==o?o:1,height:132,customSrc:i.cover_image_url||"/"})}),(0,v.jsx)(V.u_,{isOpen:a,onClose:()=>{r(!1)},customClass:av().paperCover__modal,children:(0,v.jsx)("div",{className:av().paperCover__modal__wrapper,children:(0,v.jsx)("img",{src:null===(e=i.image_urls)||void 0===e?void 0:e[n],className:av().paperCover__modal__wrapper__main,alt:i.title||""})})})]})},ab=e=>{let{onBuyButtonClick:t,buttonRef:o,isLoading:a}=e,r=(0,N.Gc)("breakpoint-1024");return(0,v.jsxs)("div",{className:av().saleBlock,children:[(0,v.jsx)(aN,{}),!r&&(0,v.jsx)(K.z,{mode:"primary",size:"small",text:"Купить",fullWidth:!0,ref:o,onClick:t,loading:a})]})};var af=o(59804),ay=o.n(af);let aC=(0,v.jsx)("div",{className:ay().title,children:"Есть бумажная книга"}),aT=(0,v.jsx)("div",{className:ay().text,children:"Доступна с доставкой в\xa0магазины Читай-город и\xa0Буквоед"});var aI=()=>{let e=(0,N.Gc)("breakpoint-1024"),[t,o]=(0,x.useState)(!1),a=(0,x.useRef)(null),r=(0,ac.h)(),{goToPayment:n,paymentEntryPointControlRef:s,isGoingToNewPaymentFrame:i}=(0,au.o)(),l=am.paper_books[0];console.log(l);let _=()=>{o(e=>!e)},d=()=>{n()};return(0,v.jsxs)("div",{className:ay().paperBookBlock,children:[e&&aC,(0,v.jsxs)("div",{className:ay().paperBookBlock__wrapper,children:[(0,v.jsx)(aM,{}),(0,v.jsxs)("div",{className:ay().paperBookBlock__wrapper__info,children:[!e&&(0,v.jsxs)(v.Fragment,{children:[aC,aT]}),e&&(0,v.jsx)(aN,{}),e?(0,v.jsx)(K.z,{mode:"primary",size:"small",text:"Подробнее",fullWidth:!0,onClick:_}):(0,v.jsx)(K.z,{className:ay().paperBookBlock__wrapper__info__more,mode:"tertiary",size:"small",text:"Об издании",onClick:_,icon:(0,v.jsx)(eu.uQ,{name:t?"chevronUp":"chevronDown",size:16}),iconPosition:"right"}),t&&!e&&(0,v.jsx)(ax,{...l})]}),!e&&(0,v.jsx)(ab,{onBuyButtonClick:d,buttonRef:a,isLoading:i})]}),t&&e&&(0,v.jsx)(ak,{onClose:()=>{o(!1)},onBuyButtonClick:d,buttonRef:a,isLoading:i}),(0,v.jsx)(al,{paperOffer:new ad.o(l),alignNotificationRef:a,cameFromSourcePayload:r.cameFromSourcePayload,cameFromSource:r.cameFromSource,ref:s})]})},aD=o(77926),aE=o(5515),aw=o.n(aE);let aA=()=>{let{art:e}=(0,I.G)(),t=(0,M.CG)(e=>e.browser.pda),o=(0,M.CG)(e=>e.face),a=(0,M.CG)(e=>e.browser.clientHost),{data:r}=M.qL.useGetArtJournalCollectionQuery({artIdOrSlug:e.id});if(!(0,f.Ok)(a)||!(null==r?void 0:r.length))return null;let n=e=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"editoral_section_view",params:{country:o.language||"ru",source_internal:"book_card",id_set:e}})};return(0,v.jsxs)("div",{className:aw().wrapper,"data-testid":"book__journalSlider--wrapper",children:[(0,v.jsx)("div",{className:aw().title,"data-testid":"book__journalSlider--title",children:"Подборки с этой книгой"}),(0,v.jsx)(t4.i,{isPDA:t,hasArrows:!t,sliderOptions:{align:"start",dragFree:!t,breakpoints:{"(max-width: 700px)":{align:"center",slidesToScroll:1}}},className:aw().slider,seeAllClass:aw().slider__seeAllBlock,verticalAlignArrow:"40%",seeAllAnchor:"/journal/",seeAllText:"Ещё",children:r.map(e=>(0,v.jsx)(aD.Y,{...e,slider:!0,onClick:()=>{n(e.id)}},e.name))})]})};var az=o(50980),aL=o.n(az);let aS=()=>{var e;let{art:t}=(0,I.G)(),{t:o}=(0,b.$G)(),a=tc((t.linked_arts||[]).length<=1)||(null===(e=t.alternative_version)||void 0===e?void 0:e.id),r=(0,x.useMemo)(()=>{var e;return null===(e=t.linked_arts)||void 0===e?void 0:e.find(e=>e.id===a)},[a,t.linked_arts]),n=(0,x.useMemo)(()=>{var e,a,n;let s=[{...t_(o)(t),url:null!==(a=t.url)&&void 0!==a?a:"",isActive:!!(null===(e=t.alternative_version)||void 0===e?void 0:e.id)}];return r?[...s,{...t_(o)(r),url:null!==(n=null==r?void 0:r.url)&&void 0!==n?n:"",isActive:!1}].sort((e,t)=>e.art_type-t.art_type):s},[t,r]),s=e=>{T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"type_switcher_click",params:(0,D.Eb)({art:t,extra:{type:e}})})},i=n.length>1?ey.I:"div";return(0,v.jsx)("div",{className:aL().bookTabsFormatPda,children:n.map(e=>{let{textFormat:t,url:o,isActive:a,analyticsTabType:r}=e;return(0,v.jsx)(i,{href:o,className:h()(aL().tabFormat,{[aL().text]:"text"===r,[aL().active]:a}),onClick:()=>{s(r)},children:t},r)})})},aO=()=>{var e,t,o,a;let{t:r}=(0,b.$G)(),n=(0,N.Gc)("breakpoint-700"),{currentWidth:s}=(0,N.O6)(),i=(0,M.CG)(e=>e.browser.pda),l=(0,M.CG)(e=>e.face.language),_=(0,C.useRouter)(),{art:d,authorIdOrSlug:c}=(0,I.G)(),u=(null===(e=d.persons)||void 0===e?void 0:e.filter(e=>"author"===e.role))||[],m=s<700,p=(0,D.c4)(d),g=(0,D.kk)(d),E=(0,D.Lx)(d),w=(0,D.F0)(d),z=r(g?"Описание подкаста":"Описание книги"),L=!!((null===(t=d.tags)||void 0===t?void 0:t.length)||(null===(o=d.genres)||void 0===o?void 0:o.length)),S=!!(d.language_code&&d.language_code!==l),R=(0,x.useRef)(null),F=(0,x.useRef)(null),G=(0,x.createRef)(),Q=(0,x.createRef)(),U=(0,x.createRef)(),[W,Y]=A(d,F,R),Z="paper"===_.query.test,H=Number((0,k.rb)("show_bundles"));O(d),(0,x.useEffect)(()=>{var e;T.TM.sendEvent(["LITRES_TRACKER"],{eventType:"book_card_view",params:(0,D.Eb)({art:d,extra:{source_internal:null!==(e=(0,f.bu)())&&void 0!==e?e:"",bundle_offer:H||""}})})},[]),B(d),q(d);let[K]=(0,P.q)(d),V=o2.Y.useExperimentGroupName({art:d,saleBlockParams:K});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ed,{}),(0,v.jsxs)("div",{itemScope:!0,itemType:d.art_type===y.lG.audio?"https://schema.org/AudioObject":"https://schema.org/Book",className:h()(eQ().book,{[eQ().book_wideActions]:"widgets-detailed-info"===V||"widgets-detailed-info-collapsible"===V}),children:[d.last_updated_at&&(0,v.jsx)("meta",{itemProp:"dateModified",content:d.last_updated_at}),(0,v.jsx)("div",{className:eQ().hidden,id:"pageTitle",children:r("Основной контент книги {title}",{title:d.title})}),(0,v.jsxs)("div",{className:h()(eQ().book__preview,{[eQ().book__preview_sticky]:W,[eQ().book__preview_hasBookTabs]:m}),ref:F,children:[(0,v.jsx)(eY,{}),m&&(0,v.jsx)("div",{className:eQ().book__bookTabsFormatPda,"data-testid":"book-tabs-format__wrapper",children:(0,v.jsx)(aS,{})})]}),(0,v.jsxs)("div",{className:eQ().book__content,children:[(0,v.jsxs)("div",{className:eQ().book__about,"data-testid":"book__name--wrapper",children:[(0,v.jsxs)("div",{className:eQ().book__tags,children:[(0,v.jsx)(j.c,{availability:d.availability||void 0,availableFrom:d.available_from||void 0,isExclusive:d.labels.is_litres_exclusive,isSaleHit:d.labels.is_sales_hit,isNew:d.labels.is_new,isAudioSeries:d.labels.is_audio_series,e2eId:"book__marketingLabel--wrapper"}),(0,v.jsx)(eX,{className:eQ().book__actionButtons_mobile})]}),(0,v.jsx)("h1",{itemProp:"name",className:h()(eQ().book__title,{[eQ().book__title_margin]:!n}),children:d.title}),d.subtitle&&(0,v.jsx)("div",{className:eQ().book__subtitle,children:d.subtitle}),!n&&(0,v.jsx)(te,{art:d})]}),(0,v.jsxs)("div",{className:eQ().book__info,children:[n&&(null===(a=d.series)||void 0===a?void 0:a[0])&&(0,v.jsx)("div",{className:h()(eQ().book__block,eQ().book__series),children:(0,v.jsx)(e2,{})}),s>=700&&(0,v.jsx)("div",{className:eQ().book__bookTabsFormat,"data-testid":"book-tabs-format__wrapper",children:(0,v.jsx)(tu,{})}),d.paper_book&&Z&&(0,v.jsx)("div",{className:eQ().book__paper,children:(0,v.jsx)(aI,{})}),(0,D.R4)(d)&&!(0,D.M4)(d)&&(0,v.jsx)(tx,{}),(0,v.jsx)("div",{className:eQ().book__block,children:(0,v.jsx)(tg.O,{quotesRef:Q,reviewsRef:U})}),S&&d.language_code&&(0,v.jsx)("div",{className:eQ().book__block,children:(0,v.jsx)(tM,{languageCode:d.language_code})}),(0,D.w0)(d)&&(0,v.jsx)("div",{className:h()(eQ().book__block,eQ().book__banner),children:(0,v.jsx)(tb.o,{art:d})}),(0,v.jsx)("div",{className:eQ().book__actionsBlock,children:(0,v.jsxs)("div",{className:Y?eQ().book__actionsBlock_sticky:void 0,"data-testid":"book-sale-block__wrapper",ref:R,children:[(0,v.jsx)(eX,{className:h()(eQ().book__actionButtons)}),(0,v.jsx)(tf.k,{})]})}),n&&u.length>0&&(0,v.jsxs)("div",{className:h()(eQ().book__block,eQ().book__authors),children:[(0,v.jsx)(o0,{authors:u}),(0,D.Lx)(d)&&(0,v.jsx)(te,{art:d,className:eQ().book__detailHeader,disabledRoles:["author"]})]}),(d.html_annotation_litres||d.html_annotation)&&(0,v.jsxs)("div",{className:eQ().book__block,"data-testid":"book__infoAboutBook--wrapper",children:[(0,v.jsx)("h4",{children:r(g?"О подкасте":"О книге")}),(0,v.jsxs)("div",{className:eQ().truncate,children:[(0,v.jsx)(tI,{isNeedCollapse:!0,text:(0,D.Z_)(d.html_annotation_litres||d.html_annotation||"",{isDisabledRemoveLinkText:!0}),id:d.id},d.id),!n&&(0,v.jsxs)("div",{className:eQ().tableContentAndVerions,children:[(0,v.jsx)("div",{className:eQ().tableContentAndVerions__bookTableContent,children:(0,v.jsx)(tD.T,{})}),(0,v.jsx)(tz,{})]})]})]}),g&&(0,v.jsx)("div",{className:eQ().book__additionalInfoBlock,children:(0,v.jsx)(tB,{podcastEpisodesCount:d.podcast_episodes_count||void 0,lastUpdate:d.last_updated_at||void 0})}),(0,D.R4)(d)&&(0,v.jsx)("div",{className:eQ().book__additionalInfoBlock,"data-testid":"book__characteristicsDraft--wrapper",children:(0,v.jsx)(tQ,{})}),L&&(0,v.jsx)("div",{className:eQ().book__block,children:(0,v.jsx)(tU.g,{dataTestId:"book-genres-and-tags__wrapper"})})]})]}),(0,v.jsx)("div",{className:h()(eQ().book__content,eQ().book__content_bottom),children:(0,v.jsxs)("div",{children:[!p&&(0,v.jsx)(tq.r,{}),p&&(0,v.jsx)(tX,{}),E&&(0,v.jsx)(o7,{art:d}),(0,v.jsx)("div",{ref:U,className:eQ().book__reviews,children:(0,v.jsx)(tJ._,{})}),(0,v.jsx)("div",{ref:Q,children:d.quotes_count&&d.quotes_count>0?(0,v.jsx)(t1,{artId:d.id,quotesCount:d.quotes_count}):null}),!g&&(0,v.jsx)(t3.o,{dataTestId:"book-watch-table-content__wrapper"}),!!d.youtube_videos.length&&(0,v.jsx)(ot,{isMobile:i||n,artVideos:d.youtube_videos}),d.html_annotation_litres&&d.html_annotation&&(0,v.jsx)(or,{title:z,ref:G,children:(0,v.jsx)("div",{itemProp:"description","data-testid":"book-description__wrapper",dangerouslySetInnerHTML:{__html:(0,D.Z_)(d.html_annotation)},className:eQ().book__annotation})}),(0,v.jsx)(o_,{art:d}),(0,v.jsx)(od.o,{}),n&&(0,v.jsx)("div",{className:eQ().book__otherVersions,children:(0,v.jsx)(eI.X,{})}),(0,v.jsx)(oy,{})]})})]}),(0,v.jsx)(oC.i,{art:d,authorIdOrSlug:c,analyticsData:{eventData:{source_internal:"book_card"}}}),(0,v.jsx)(aA,{}),(0,v.jsx)(ow,{}),(0,v.jsx)(oL,{}),w&&(0,v.jsx)(oX,{artId:d.id,artType:d.art_type})]})}},85289:function(e){e.exports={donateButton:"Authors-module__Utd9NG__donateButton",authors__wrapper:"Authors-module__Utd9NG__authors__wrapper",authors:"Authors-module__Utd9NG__authors",button:"Authors-module__Utd9NG__button"}},9119:function(e){e.exports={title_pda:"UpSaleInOr-module__hpZI-W__title_pda",topPanel:"UpSaleInOr-module__hpZI-W__topPanel",topPanel__button:"UpSaleInOr-module__hpZI-W__topPanel__button",rating__star:"UpSaleInOr-module__hpZI-W__rating__star",upsaleInOr__header:"UpSaleInOr-module__hpZI-W__upsaleInOr__header",rating__stars:"UpSaleInOr-module__hpZI-W__rating__stars",upsaleInOr__content:"UpSaleInOr-module__hpZI-W__upsaleInOr__content",rating__star_accent:"UpSaleInOr-module__hpZI-W__rating__star_accent",reviewForm__buttons:"UpSaleInOr-module__hpZI-W__reviewForm__buttons",sharing:"UpSaleInOr-module__hpZI-W__sharing",reviewForm__error:"UpSaleInOr-module__hpZI-W__reviewForm__error",topPanel__button_hide:"UpSaleInOr-module__hpZI-W__topPanel__button_hide",sharing__title:"UpSaleInOr-module__hpZI-W__sharing__title",share:"UpSaleInOr-module__hpZI-W__share",share__icon:"UpSaleInOr-module__hpZI-W__share__icon",reviewForm__success:"UpSaleInOr-module__hpZI-W__reviewForm__success",reviewForm__success__title:"UpSaleInOr-module__hpZI-W__reviewForm__success__title",reviewForm__success__text:"UpSaleInOr-module__hpZI-W__reviewForm__success__text",rating:"UpSaleInOr-module__hpZI-W__rating",sharing__button:"UpSaleInOr-module__hpZI-W__sharing__button",topPanel__title:"UpSaleInOr-module__hpZI-W__topPanel__title",star:"UpSaleInOr-module__hpZI-W__star",webtoonDeepLink:"UpSaleInOr-module__hpZI-W__webtoonDeepLink",back:"UpSaleInOr-module__hpZI-W__back",reviewForm:"UpSaleInOr-module__hpZI-W__reviewForm",reviewForm__rules:"UpSaleInOr-module__hpZI-W__reviewForm__rules",share__text:"UpSaleInOr-module__hpZI-W__share__text",title:"UpSaleInOr-module__hpZI-W__title"}},16849:function(e){e.exports={quoteList:"ArtQuotes-module__7UvEjG__quoteList",quote__footer__left:"ArtQuotes-module__7UvEjG__quote__footer__left",quote__maintenance:"ArtQuotes-module__7UvEjG__quote__maintenance",quote__footer__right:"ArtQuotes-module__7UvEjG__quote__footer__right",addMoreButton:"ArtQuotes-module__7UvEjG__addMoreButton",quote__rating:"ArtQuotes-module__7UvEjG__quote__rating",quote__text:"ArtQuotes-module__7UvEjG__quote__text",quote__icon:"ArtQuotes-module__7UvEjG__quote__icon",icon:"ArtQuotes-module__7UvEjG__icon",quote__allQuotes:"ArtQuotes-module__7UvEjG__quote__allQuotes",quoteHeader:"ArtQuotes-module__7UvEjG__quoteHeader",quote__count:"ArtQuotes-module__7UvEjG__quote__count",quote__title:"ArtQuotes-module__7UvEjG__quote__title",quote__footer:"ArtQuotes-module__7UvEjG__quote__footer",quote:"ArtQuotes-module__7UvEjG__quote"}},37775:function(e){e.exports={wrapper:"BookActionButtons-module__-hJK_W__wrapper"}},49009:function(e){e.exports={text:"BookAdditionalInfo-module__MRHLIW__text",additionalInfo__item:"BookAdditionalInfo-module__MRHLIW__additionalInfo__item",underline:"BookAdditionalInfo-module__MRHLIW__underline",additionalInfoExtra:"BookAdditionalInfo-module__MRHLIW__additionalInfoExtra",column_underline:"BookAdditionalInfo-module__MRHLIW__column_underline",column:"BookAdditionalInfo-module__MRHLIW__column",additionalInfo:"BookAdditionalInfo-module__MRHLIW__additionalInfo"}},32121:function(e){e.exports={wrapper:"BookDraftBanner-module__zfFLFW__wrapper",radar:"BookDraftBanner-module__zfFLFW__radar"}},92721:function(e){e.exports={actions:"BookComplain-module__CSNFmq__actions",bookComplain:"BookComplain-module__CSNFmq__bookComplain",bookComplain__button__icon:"BookComplain-module__CSNFmq__bookComplain__button__icon",bookComplain__content:"BookComplain-module__CSNFmq__bookComplain__content",error:"BookComplain-module__CSNFmq__error",checkboxes:"BookComplain-module__CSNFmq__checkboxes",modalSuccess:"BookComplain-module__CSNFmq__modalSuccess",button:"BookComplain-module__CSNFmq__button",thanksText:"BookComplain-module__CSNFmq__thanksText",answerText_isMobile:"BookComplain-module__CSNFmq__answerText_isMobile",inputDisabled:"BookComplain-module__CSNFmq__inputDisabled",bookComplain__button:"BookComplain-module__CSNFmq__bookComplain__button",skeletonComplaint__check:"BookComplain-module__CSNFmq__skeletonComplaint__check",skeletonComplaint__area:"BookComplain-module__CSNFmq__skeletonComplaint__area",title:"BookComplain-module__CSNFmq__title",wrapperArea:"BookComplain-module__CSNFmq__wrapperArea",skeletonComplaint__button:"BookComplain-module__CSNFmq__skeletonComplaint__button",textArea:"BookComplain-module__CSNFmq__textArea",actions_isMobile:"BookComplain-module__CSNFmq__actions_isMobile",skeletonComplaint__email:"BookComplain-module__CSNFmq__skeletonComplaint__email",answerText:"BookComplain-module__CSNFmq__answerText",inputWrapper:"BookComplain-module__CSNFmq__inputWrapper"}},15711:function(e){e.exports={img:"BookCover-module__puKP4G__img",wrapper:"BookCover-module__puKP4G__wrapper",desktop:"BookCover-module__puKP4G__desktop",customModal:"BookCover-module__puKP4G__customModal",cover:"BookCover-module__puKP4G__cover",desktopLarge:"BookCover-module__puKP4G__desktopLarge",tablet:"BookCover-module__puKP4G__tablet",modalContent:"BookCover-module__puKP4G__modalContent",discount:"BookCover-module__puKP4G__discount"}},33530:function(e){e.exports={text_green:"BookDetailsHeader-module__CvBt5W__text_green",authors_button:"BookDetailsHeader-module__CvBt5W__authors_button",text_capitalize:"BookDetailsHeader-module__CvBt5W__text_capitalize",text_separator:"BookDetailsHeader-module__CvBt5W__text_separator",authors:"BookDetailsHeader-module__CvBt5W__authors",text:"BookDetailsHeader-module__CvBt5W__text",bookDetails:"BookDetailsHeader-module__CvBt5W__bookDetails",persons:"BookDetailsHeader-module__CvBt5W__persons",persons__button:"BookDetailsHeader-module__CvBt5W__persons__button",text_gray:"BookDetailsHeader-module__CvBt5W__text_gray",series:"BookDetailsHeader-module__CvBt5W__series"}},11515:function(e){e.exports={modalDiscount__text:"BookDiscountModal-module__2b4nfG__modalDiscount__text",modalTitle:"BookDiscountModal-module__2b4nfG__modalTitle",modalDiscount__image:"BookDiscountModal-module__2b4nfG__modalDiscount__image",discountButton:"BookDiscountModal-module__2b4nfG__discountButton",modalDiscount:"BookDiscountModal-module__2b4nfG__modalDiscount",modalDiscount__content:"BookDiscountModal-module__2b4nfG__modalDiscount__content"}},5515:function(e){e.exports={slider__seeAllBlock:"BookJournalSlider-module__UWT81a__slider__seeAllBlock",wrapper:"BookJournalSlider-module__UWT81a__wrapper",title:"BookJournalSlider-module__UWT81a__title"}},58518:function(e){e.exports={language:"BookLanguage-module__0K5WtG__language",language__description:"BookLanguage-module__0K5WtG__language__description",language__flag:"BookLanguage-module__0K5WtG__language__flag"}},78447:function(e){e.exports={button:"BookOtherVersionsDesktop-module__43GzXG__button",button__side:"BookOtherVersionsDesktop-module__43GzXG__button__side",button__cover:"BookOtherVersionsDesktop-module__43GzXG__button__cover",button__cover__img:"BookOtherVersionsDesktop-module__43GzXG__button__cover__img",button__cover__wrapper:"BookOtherVersionsDesktop-module__43GzXG__button__cover__wrapper",button__subtitle:"BookOtherVersionsDesktop-module__43GzXG__button__subtitle",button__title:"BookOtherVersionsDesktop-module__43GzXG__button__title"}},23927:function(e){e.exports={readers:"BookReader-module__9EbKfW__readers",readers__more:"BookReader-module__9EbKfW__readers__more"}},51980:function(e){e.exports={bookTabsFormat:"BookTabsFormat-module__-Bv_vq__bookTabsFormat",additionalInfo__list:"BookTabsFormat-module__-Bv_vq__additionalInfo__list",tabIcon:"BookTabsFormat-module__-Bv_vq__tabIcon",additionalInfo:"BookTabsFormat-module__-Bv_vq__additionalInfo",syncedArtLabel__iconWrapper:"BookTabsFormat-module__-Bv_vq__syncedArtLabel__iconWrapper",tabFormat_singleFormat:"BookTabsFormat-module__-Bv_vq__tabFormat_singleFormat",tabFormat:"BookTabsFormat-module__-Bv_vq__tabFormat",syncedArtLabel:"BookTabsFormat-module__-Bv_vq__syncedArtLabel",skeletonBookTabs:"BookTabsFormat-module__-Bv_vq__skeletonBookTabs",tabFormat_active:"BookTabsFormat-module__-Bv_vq__tabFormat_active",bookTabsFormat_seo:"BookTabsFormat-module__-Bv_vq__bookTabsFormat_seo",tabFormat__iconWrapper:"BookTabsFormat-module__-Bv_vq__tabFormat__iconWrapper"}},50980:function(e){e.exports={tabFormat:"BookTabsFormatPda-module__yoPXEG__tabFormat",bookTabsFormatPda:"BookTabsFormatPda-module__yoPXEG__bookTabsFormatPda",text:"BookTabsFormatPda-module__yoPXEG__text",active:"BookTabsFormatPda-module__yoPXEG__active"}},95219:function(e){e.exports={info__tooltip:"BookTooltip-module__BSAoCq__info__tooltip",info__trigger:"BookTooltip-module__BSAoCq__info__trigger"}},87080:function(e){e.exports={link__icon:"BookTrailers-module__VlC3ZW__link__icon",overlay:"BookTrailers-module__VlC3ZW__overlay",container:"BookTrailers-module__VlC3ZW__container",block_mobile:"BookTrailers-module__VlC3ZW__block_mobile",block__videoPlayer:"BookTrailers-module__VlC3ZW__block__videoPlayer",block__description:"BookTrailers-module__VlC3ZW__block__description",block:"BookTrailers-module__VlC3ZW__block",link:"BookTrailers-module__VlC3ZW__link"}},27736:function(e){e.exports={subtitle:"BookVersions-module__ZA9sRa__subtitle",img:"BookVersions-module__ZA9sRa__img",version__title:"BookVersions-module__ZA9sRa__version__title",version:"BookVersions-module__ZA9sRa__version",version__information:"BookVersions-module__ZA9sRa__version__information",version__sync:"BookVersions-module__ZA9sRa__version__sync",cover:"BookVersions-module__ZA9sRa__cover",wrapper:"BookVersions-module__ZA9sRa__wrapper"}},28279:function(e){e.exports={title:"MainInfoBlock-module__gc15BW__title",content:"MainInfoBlock-module__gc15BW__content",container:"MainInfoBlock-module__gc15BW__container"}},59804:function(e){e.exports={paperBookBlock__wrapper:"PaperBookBlock-module__BQPx0W__paperBookBlock__wrapper",text:"PaperBookBlock-module__BQPx0W__text",paperBookBlock__wrapper__info__more:"PaperBookBlock-module__BQPx0W__paperBookBlock__wrapper__info__more",paperBookBlock:"PaperBookBlock-module__BQPx0W__paperBookBlock",title:"PaperBookBlock-module__BQPx0W__title",paperBookBlock__wrapper__info:"PaperBookBlock-module__BQPx0W__paperBookBlock__wrapper__info"}},67793:function(e){e.exports={price:"Components-module__d6y6vq__price",price__default:"Components-module__d6y6vq__price__default",modalDetails__content__details:"Components-module__d6y6vq__modalDetails__content__details",details__item__value:"Components-module__d6y6vq__details__item__value",details__item:"Components-module__d6y6vq__details__item",paperCover__modal__wrapper__main:"Components-module__d6y6vq__paperCover__modal__wrapper__main",paperCover__modal:"Components-module__d6y6vq__paperCover__modal",price__discount:"Components-module__d6y6vq__price__discount",price__inner:"Components-module__d6y6vq__price__inner",details__item__key:"Components-module__d6y6vq__details__item__key",price__discount__label:"Components-module__d6y6vq__price__discount__label",modalDetails__content__imagesWrapper__item:"Components-module__d6y6vq__modalDetails__content__imagesWrapper__item",modalDetails__content:"Components-module__d6y6vq__modalDetails__content",price__final:"Components-module__d6y6vq__price__final",counter__button__icon:"Components-module__d6y6vq__counter__button__icon",details:"Components-module__d6y6vq__details",modalDetails__saleBlock:"Components-module__d6y6vq__modalDetails__saleBlock",modalDetails__content__author:"Components-module__d6y6vq__modalDetails__content__author",counter__number:"Components-module__d6y6vq__counter__number",modalDetails__content__description:"Components-module__d6y6vq__modalDetails__content__description",faultButton__wrapper__text:"Components-module__d6y6vq__faultButton__wrapper__text",modalDetails__content__imagesWrapper:"Components-module__d6y6vq__modalDetails__content__imagesWrapper",counter__button__icon_disabled:"Components-module__d6y6vq__counter__button__icon_disabled",counter__button:"Components-module__d6y6vq__counter__button",paperCover__modal__wrapper:"Components-module__d6y6vq__paperCover__modal__wrapper",price__full:"Components-module__d6y6vq__price__full",paperCover:"Components-module__d6y6vq__paperCover",counter:"Components-module__d6y6vq__counter",faultButton:"Components-module__d6y6vq__faultButton",faultButton__wrapper:"Components-module__d6y6vq__faultButton__wrapper",saleBlock:"Components-module__d6y6vq__saleBlock"}},31064:function(e){e.exports={podcast__title:"PodcastEpisodes-module__0XgEJW__podcast__title",podcast:"PodcastEpisodes-module__0XgEJW__podcast",podcast__duration:"PodcastEpisodes-module__0XgEJW__podcast__duration",podcast__content:"PodcastEpisodes-module__0XgEJW__podcast__content",podcast__amountReviews:"PodcastEpisodes-module__0XgEJW__podcast__amountReviews",episodeRating_active:"PodcastEpisodes-module__0XgEJW__episodeRating_active",podcastEpisodes:"PodcastEpisodes-module__0XgEJW__podcastEpisodes",getMoreButton:"PodcastEpisodes-module__0XgEJW__getMoreButton",podcast__publishDate:"PodcastEpisodes-module__0XgEJW__podcast__publishDate",title__text:"PodcastEpisodes-module__0XgEJW__title__text",podcast__reviewsCount:"PodcastEpisodes-module__0XgEJW__podcast__reviewsCount",podcast__commonRating:"PodcastEpisodes-module__0XgEJW__podcast__commonRating",podcast__additionalInfo:"PodcastEpisodes-module__0XgEJW__podcast__additionalInfo",podcast__number:"PodcastEpisodes-module__0XgEJW__podcast__number",title__button:"PodcastEpisodes-module__0XgEJW__title__button"}},32843:function(e){e.exports={heading:"ReferralBookCard-module__QmuvvG__heading",referralBookCard:"ReferralBookCard-module__QmuvvG__referralBookCard",card:"ReferralBookCard-module__QmuvvG__card",formats:"ReferralBookCard-module__QmuvvG__formats",footer:"ReferralBookCard-module__QmuvvG__footer",cover:"ReferralBookCard-module__QmuvvG__cover",footer__logo:"ReferralBookCard-module__QmuvvG__footer__logo",heading__authors:"ReferralBookCard-module__QmuvvG__heading__authors",info:"ReferralBookCard-module__QmuvvG__info",title:"ReferralBookCard-module__QmuvvG__title",ageLimitInner:"ReferralBookCard-module__QmuvvG__ageLimitInner",heading__title:"ReferralBookCard-module__QmuvvG__heading__title",button:"ReferralBookCard-module__QmuvvG__button",prices__old:"ReferralBookCard-module__QmuvvG__prices__old",prices:"ReferralBookCard-module__QmuvvG__prices",prices__final:"ReferralBookCard-module__QmuvvG__prices__final",buttonContainer:"ReferralBookCard-module__QmuvvG__buttonContainer",ageLimit:"ReferralBookCard-module__QmuvvG__ageLimit"}},11190:function(e){e.exports={description:"ReferralPupup-module__-ZXn9W__description",buttonContainer:"ReferralPupup-module__-ZXn9W__buttonContainer",title:"ReferralPupup-module__-ZXn9W__title",container:"ReferralPupup-module__-ZXn9W__container",button:"ReferralPupup-module__-ZXn9W__button"}},25608:function(e){e.exports={SEOText:"SEOBlock-module__Z9lpAW__SEOText"}},81033:function(e){e.exports={banner__links:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__links",banner__link:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__link",banner:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner",banner__qr:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__qr",banner__title:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__title",banner__content:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__content",banner__install:"WebtoonDeepLinkToAppBanner-module__1ECVfq__banner__install"}},64056:function(e){e.exports={container:"BottomModalContent-module__tduL8a__container",container__enter_active:"BottomModalContent-module__tduL8a__container__enter_active",header__closeButton:"BottomModalContent-module__tduL8a__header__closeButton",header__title:"BottomModalContent-module__tduL8a__header__title",container__exit_active:"BottomModalContent-module__tduL8a__container__exit_active",container_isPDA:"BottomModalContent-module__tduL8a__container_isPDA",container__exit:"BottomModalContent-module__tduL8a__container__exit",content:"BottomModalContent-module__tduL8a__content",container__enter:"BottomModalContent-module__tduL8a__container__enter",header:"BottomModalContent-module__tduL8a__header"}},50757:function(e){e.exports={overlay__exit:"Overlay-module__yuHepW__overlay__exit",overlay__enter_active:"Overlay-module__yuHepW__overlay__enter_active",overlay:"Overlay-module__yuHepW__overlay",overlay__enter:"Overlay-module__yuHepW__overlay__enter",overlay__exit_active:"Overlay-module__yuHepW__overlay__exit_active"}},92202:function(e){e.exports={confetti:"Confetti-module__1D-DTW__confetti"}},83960:function(e){e.exports={tabFormat_active:"TabFormat-module__v-6aTW__tabFormat_active",icon:"TabFormat-module__v-6aTW__icon",tabFormat_singleFormat:"TabFormat-module__v-6aTW__tabFormat_singleFormat",tabFormat:"TabFormat-module__v-6aTW__tabFormat",icon_small:"TabFormat-module__v-6aTW__icon_small",tabFormat__iconWrapper:"TabFormat-module__v-6aTW__tabFormat__iconWrapper"}},20856:function(e,t,o){"use strict";e.exports=o.p+"static/media/checkOutline.f4bb3c1d.svg"}}]);
//# sourceMappingURL=7937-97cde4bf8815af72.js.map