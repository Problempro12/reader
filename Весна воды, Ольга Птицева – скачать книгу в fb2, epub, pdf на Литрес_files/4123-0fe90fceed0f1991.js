!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1aa6bdc9-19c0-49aa-9260-40210cc7e3ae",e._sentryDebugIdIdentifier="sentry-dbid-1aa6bdc9-19c0-49aa-9260-40210cc7e3ae")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4123],{94123:function(e,t,r){"use strict";r.d(t,{l:function(){return S},i:function(){return R}});var l=r(31549),n=r(44194),i=r(5958),o=r(82244),s=r(51865),a=r.n(s),d=r(62094),c=r(59838),u=r(4438),_=r(72732),f=r.n(_),v=r(67504);let h=e=>{let{onClick:t}=e,{t:r}=(0,v.b)();return(0,l.jsx)("button",{type:"button",onClick:t,className:a()(f().button,f().prev),"data-testid":"carouserl__prev--button","aria-label":r("Предыдущий слайд"),children:(0,l.jsx)(u.uQ,{name:"chevronLeft",size:24})})},m=e=>{let{onClick:t}=e,{t:r}=(0,v.b)();return(0,l.jsx)("button",{type:"button",onClick:t,className:a()(f().button,f().next),"data-testid":"carouserl__next--button","aria-label":r("Следующий слайд"),children:(0,l.jsx)(u.uQ,{name:"chevronRight",size:24})})};var b=r(84991),x=r.n(b);let y=e=>{let{selected:t,onClick:r}=e;return(0,l.jsx)("div",{className:x().dot.concat(t?" ".concat(x()["dot--selected"]):""),"data-selected":t?"selected":void 0,onClick:r})};var p=r(6911),w=r.n(p);let S=e=>{let{options:t,styleViewPort:r,isEnableButtons:s=!0,children:u,hasAutoplay:_=!0,dataTestId:f,containerClassName:b,dotClassName:x}=e,{t:p}=(0,v.b)(),[S,g]=(0,n.useState)(0),[{canScrollNext:C,canScrollPrev:k},j]=(0,n.useState)({canScrollNext:!0,canScrollPrev:!1}),L=(0,c.TS)(n.Children.count(u)),N=(0,n.useRef)(!1),E=(0,n.useRef)(null),W=(0,d.sx)(E,{root:null,rootMargin:"0px",threshold:1}),A=(0,n.useRef)((0,i.Z)({delay:5e3,stopOnInteraction:!1,stopOnMouseEnter:!0,playOnInit:!1})),[O,I]=(0,o.Z)({...t},[A.current]),Y=(0,n.useCallback)(()=>{I&&(I.scrollNext(),A.current.reset())},[I]),M=(0,n.useCallback)(()=>{I&&(I.scrollPrev(),A.current.reset())},[I]),R=(0,n.useCallback)(e=>{I&&(I.scrollTo(e),A.current.reset())},[I]),B=(0,n.useCallback)(()=>{if(!I)return;let e=I.selectedScrollSnap(),t=I.slideNodes();j({canScrollNext:I.canScrollNext(),canScrollPrev:I.canScrollPrev()});for(let r=0;r<t.length;r++){t[r].setAttribute("aria-hidden",r===e?"false":"true");let l=t[r].querySelector("a[tabindex]");l&&l.setAttribute("tabindex",r===e?"0":"-1")}g(e)},[I,S,g,N.current]),T=(0,n.useCallback)(()=>{I&&g(I.selectedScrollSnap())},[I,S]),z=()=>{var e;_&&(null===(e=A.current)||void 0===e||e.play())},Q=()=>{var e;null===(e=A.current)||void 0===e||e.stop()},q=(0,n.useCallback)(()=>{if(_){if(N.current=!0,I){let e=I.slideNodes()[I.selectedScrollSnap()].querySelector("a");if(e){e.setAttribute("aria-describedby","carousel-instructions");let t=document.createElement("p");t.setAttribute("id","carousel-instructions"),t.setAttribute("aria-hidden","true"),t.innerText=p("Используйте клавиши стрелок для переключения слайдов."),e.appendChild(t)}}Q()}},[I,N.current]),P=(0,n.useCallback)(()=>{if(N.current=!1,E.current){let e=E.current.querySelector("p[id=carousel-instructions]");e&&e.remove();let t=E.current.querySelector("a[aria-describedby]");t&&t.removeAttribute("aria-describedby")}z()},[I,N.current]),D=(0,n.useCallback)(e=>{switch(e.code){case"ArrowRight":Y();break;case"ArrowLeft":M()}},[I]);return(0,n.useEffect)(()=>{if(I&&E.current){let e=E.current;if(B(),I.on("select",B),I.on("reInit",T),I.on("init",T),e.addEventListener("focus",q),e.addEventListener("focusin",q),e.addEventListener("focusout",P),e.addEventListener("keydown",D),"complete"===document.readyState)z();else{let t=setTimeout(z,1e4);return window.addEventListener("load",z),()=>{clearTimeout(t),window.removeEventListener("load",z),I.off("select",B),I.off("reInit",T),I.on("init",T),e.removeEventListener("focus",q),e.removeEventListener("focusin",q),e.removeEventListener("focusout",P),e.removeEventListener("keydown",D)}}}(null==W?void 0:W.isIntersecting)&&!N.current?z():Q()},[I,E,B,W]),(0,l.jsxs)("div",{className:w().carousel,ref:E,role:"region","aria-label":p("Рекламный слайдер"),children:[(0,l.jsx)("div",{className:w().viewport,style:r,ref:O,"data-testid":f,children:(0,l.jsx)("div",{className:a()(w().container,b),children:u})}),s&&(0,l.jsxs)(l.Fragment,{children:[k&&(0,l.jsx)(h,{onClick:M}),C&&(0,l.jsx)(m,{onClick:Y}),(0,l.jsx)("div",{className:a()(w().dots,x),children:L.map((e,t)=>(0,l.jsx)(y,{onClick:()=>{R(t)},selected:t===S,label:"".concat(t)},t))})]})]})},g=e=>{let{ref:t,children:r}=e,[l,i]=(0,n.useState)(!1),[o,s]=(0,n.useState)(!1),a=e=>{if(e.current){let t=e.current.scrollWidth-e.current.clientWidth;i(e.current.scrollLeft>2),s(t-e.current.scrollLeft>20)}},d=()=>{a(t)};return(0,n.useEffect)(()=>{let e=t.current;if(e){let r=null;a(t);let l=()=>{null===r&&(r=requestAnimationFrame(()=>{a(t),r=null}))};return null==e||e.addEventListener("scroll",l),window.addEventListener("resize",d),()=>{null==e||e.removeEventListener("scroll",l),window.removeEventListener("resize",d),r&&cancelAnimationFrame(r)}}},[t.current,r]),{isNextButtonEnabled:o,isPrevButtonEnabled:l}};var C=r(37781),k=r(64009);let j=(e,t)=>{let r=e.offsetLeft,l=e.offsetLeft+e.clientWidth;return l>=t&&r+5<t||l<=t},L=(e,t)=>{let r=e.offsetLeft,l=e.offsetLeft+e.clientWidth;return r<=t&&l-5>t||r>=t},N=(e,t,r)=>{let l=e.offsetLeft+e.clientWidth-r;if(l<=0)return null==t?void 0:t[0];let n=null==t?void 0:t.findLastIndex(e=>{if(j(e,l))return!0});return(null==t?void 0:t[n+1])||(null==t?void 0:t[0])},E=(e,t,r)=>{let l=e.offsetLeft+e.clientWidth+r,n=t.findIndex(e=>{if(L(e,l))return!0});return(null==t?void 0:t[n-2])||(null==t?void 0:t[t.length-1])},W=e=>{let{ref:t,scrollToActive:r,slidesToScroll:l=1}=e,n=e=>{e&&(0,C.Z)(e,{scrollMode:"always",inline:"nearest",behavior:"smooth",boundary:t.current})};return(0,k.qR)(()=>{if(t.current&&r){let e=Array.from(t.current.querySelectorAll(":scope > div"))[r];e&&n(e)}}),{handleNextClick:()=>{if(t.current){let e=t.current,r=Array.from(e.querySelectorAll(":scope > div")),i=e.scrollLeft+e.clientWidth;for(let t=0;t<r.length;t++){let o=r[t],s=L(o,i);if("page"===l&&s){n(E(o,r,e.clientWidth));break}if(s){if("number"==typeof l&&l>1){let e=t+l<r.length-1?t+l-1:r.length-1;n((null==r?void 0:r[e])||o);break}n(o);break}}}},handlePrevClick:()=>{if(t.current){let e=t.current,r=Array.from(e.querySelectorAll(":scope > div")),i=e.scrollLeft;for(let t=r.length-1;t>=0;t--){let o=r[t],s=j(o,i);if("page"===l&&s){n(N(o,r,e.clientWidth));break}if(s){if("number"==typeof l&&l>1){let e=t-l>0?t-l:0;n((null==r?void 0:r[e])||o);break}n(o);break}}}},scrollToEL:n}};var A=r(55714),O=r(87154),I=r.n(O);let Y=e=>{let{children:t,seeAllText:r,...i}=e,{t:o}=(0,v.b)(),[s,d]=(0,n.useState)(!1),c=(0,n.useRef)(null),_=e=>{e.current&&d(e.current.scrollWidth>window.innerWidth)};return(0,n.useEffect)(()=>(_(c),window.addEventListener("resize",()=>{_(c)}),()=>{window.removeEventListener("resize",()=>{_(c)})}),[]),(0,l.jsxs)("div",{className:a()(I().pdaSlider,i.className,i.containerClassName),ref:c,"data-testid":"slider__wrapper",children:[n.Children.map(t,e=>(0,l.jsx)("div",{"data-testid":"slider__item",children:e})),s&&i.seeAllAnchor&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:a()(I().slideMore,i.seeAllClass),"data-testid":"slider__more--button",children:(0,l.jsx)(A.rU,{href:i.seeAllAnchor,onClick:i.handleSeeAllOnClick,children:(0,l.jsxs)("div",{className:I().slideMore__text,children:[r||o("Ещё")," ",(0,l.jsx)(u.uQ,{name:"chevronRight",size:16})]})})})})]})},M=e=>{let{children:t,...r}=e,{className:i,containerClassName:o,arrowClassName:s,arrowRightClassName:_,arrowLeftClassName:f,seeAllAnchor:h,seeAllText:m,seeAllClass:b,handleSeeAllOnClick:x=c.ZT,hasArrows:y,hasBlur:p,verticalAlignArrow:w,e2eId:S,scrollToActive:C,slidesToScroll:k=1}=r,{t:j}=(0,v.b)(),L=(0,n.useRef)(null),{isNextButtonEnabled:N,isPrevButtonEnabled:E}=g({ref:L,children:t}),{handleNextClick:O,handlePrevClick:Y,scrollToEL:M}=W({ref:L,scrollToActive:C,slidesToScroll:k}),R=N||E;return(0,d.OR)("keyup",e=>{if("key"in e&&"Tab"===e.key){let e=document.activeElement;e&&M(e.closest(".".concat(I().container__child)))}},L),(0,l.jsxs)("div",{className:a()(I().slider,i),"data-testid":S,children:[!!y&&(0,l.jsxs)(l.Fragment,{children:[E&&(0,l.jsx)("button",{type:"button",className:a()("string"==typeof y?I()["nav_".concat(y)]:I().nav,s,f),style:{top:w||"50%"},onClick:Y,"data-testid":"slider__scrollButton--left",tabIndex:-1,"aria-hidden":"true",children:(0,l.jsx)(u.uQ,{name:"chevronLeft",size:24})}),N&&(0,l.jsx)("button",{type:"button",className:a()("string"==typeof y?I()["nav_".concat(y)]:I().nav,I().navRight,s,_),style:{top:w||"45%"},onClick:O,"data-testid":"slider__scrollButton--right",tabIndex:-1,"aria-hidden":"true",children:(0,l.jsx)(u.uQ,{name:"chevronRight",size:24})})]}),(0,l.jsx)("div",{className:a()(I().viewPort,{[I().leftBlur]:E&&p,[I().rightBlur]:N&&p}),children:(0,l.jsxs)("div",{className:a()(I().container,I().container__withScroll,o),ref:L,tabIndex:-1,children:[n.Children.map(t,e=>(0,l.jsx)("div",{className:I().container__child,"data-testid":"slider__item",children:e})),R&&h&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:a()(I().slideMore,b),"data-testid":"slider__more--button",children:(0,l.jsx)(A.rU,{href:h,onClick:x,children:(0,l.jsxs)("div",{className:I().slideMore__text,children:[m||j("Ещё")," ",(0,l.jsx)(u.uQ,{name:"chevronRight",size:16})]})})})})]})})]})},R=e=>{let{children:t,...r}=e;return r.isPDA&&"string"!=typeof r.hasArrows?(0,l.jsx)(Y,{...r,e2eId:"artsGreed_slider--container",children:t}):(0,l.jsx)(M,{...r,e2eId:"artsGreed_slider--container",children:t})}},6911:function(e){e.exports={dots:"Carousel-module__oQuWJW__dots",carousel:"Carousel-module__oQuWJW__carousel",container:"Carousel-module__oQuWJW__container",viewport:"Carousel-module__oQuWJW__viewport"}},72732:function(e){e.exports={button:"CarouselButtons-module__oLWd9a__button",prev:"CarouselButtons-module__oLWd9a__prev",arrowIcon:"CarouselButtons-module__oLWd9a__arrowIcon",next:"CarouselButtons-module__oLWd9a__next"}},84991:function(e){e.exports={"dot--selected":"CarouselDotButton-module__ri146W__dot--selected",dot:"CarouselDotButton-module__ri146W__dot"}},87154:function(e){e.exports={container__child:"Slider-module__wOYiya__container__child",slider:"Slider-module__wOYiya__slider",nav:"Slider-module__wOYiya__nav",pdaSlider:"Slider-module__wOYiya__pdaSlider",container:"Slider-module__wOYiya__container",nav_grayMode:"Slider-module__wOYiya__nav_grayMode",sliderTriangle:"Slider-module__wOYiya__sliderTriangle",sliderTriangle__text:"Slider-module__wOYiya__sliderTriangle__text",nav_lightMode:"Slider-module__wOYiya__nav_lightMode",navRight:"Slider-module__wOYiya__navRight",viewPort:"Slider-module__wOYiya__viewPort",slideMore:"Slider-module__wOYiya__slideMore",slideMore__text:"Slider-module__wOYiya__slideMore__text",leftBlur:"Slider-module__wOYiya__leftBlur",rightBlur:"Slider-module__wOYiya__rightBlur",container__withScroll:"Slider-module__wOYiya__container__withScroll"}}}]);
//# sourceMappingURL=4123-0fe90fceed0f1991.js.map